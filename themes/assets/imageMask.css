/* Image Mask CSS for Homebrewery Converter */

/* Base styles for all imageMask elements */
.page [class*='imageMask'] {
    position: absolute;
    bottom: 50%;
    left: 50%;
    z-index: -1;
    width: 200%;
    height: 200%;
    background-image: var(--checkerboard);
    background-size: 20px;
    -webkit-mask-image: var(--wc), var(--revealer);
    mask-image: var(--wc);
    -webkit-mask-repeat: repeat-x;
    mask-repeat: repeat-x;
    -webkit-mask-position: 50% calc(50% - var(--offset));
    mask-position: 50% calc(50% - var(--offset));
    -webkit-mask-size: 50%;
    mask-size: 50%;
    transform: translateY(50%) translateX(-50%) rotate(calc(1deg * var(--rotation))) scaleX(var(--scaleX)) scaleY(var(--scaleY));
    --rotation: 0;
    --revealer: none;
    --checkerboard: none;
    --scaleX: 1;
    --scaleY: 1;
    --offset: 0;
}

.page [class*='imageMask'] > p:has(img) {
    position: absolute;
    bottom: 50%;
    left: 50%;
    width: 50%;
    height: 50%;
    transform: translateX(-50%) translateY(50%) scaleX(calc(1 / var(--scaleX))) scaleY(calc(1 / var(--scaleY))) rotate(calc(-1deg * var(--rotation)));
}

.page [class*='imageMask'] img {
    position: absolute;
    bottom: 0;
    display: block;
}

/* Direction modifiers */
.page [class*='imageMask'].bottom {
    --rotation: 0;
}

.page [class*='imageMask'].bottom img {
    bottom: 0;
}

.page [class*='imageMask'].top {
    --rotation: 180;
}

.page [class*='imageMask'].top img {
    top: 0;
}

.page [class*='imageMask'].left {
    --rotation: 90;
}

.page [class*='imageMask'].left img {
    left: 0;
}

.page [class*='imageMask'].right {
    --rotation: -90;
}

.page [class*='imageMask'].right img {
    right: 0;
}

.page [class*='imageMask'].revealImage {
    --revealer: linear-gradient(0deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.2));
    --checkerboard: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMC8yOS8xMiKqq3kAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAAMklEQVQYV2NkIABYoKy/////Z8RQjE0hC4rY378wxXhNZGFAAK8w/A9lEyyMYiLZwgA+/gn0pKprrQAAAABJRU5ErkJggg==');
}

/* Edge masks */
.page .imageMaskEdge1 { --wc: var(--mask-edge-1); }
.page .imageMaskEdge2 { --wc: var(--mask-edge-2); }
.page .imageMaskEdge3 { --wc: var(--mask-edge-3); }
.page .imageMaskEdge4 { --wc: var(--mask-edge-4); }
.page .imageMaskEdge5 { --wc: var(--mask-edge-5); }
.page .imageMaskEdge6 { --wc: var(--mask-edge-6); }
.page .imageMaskEdge7 { --wc: var(--mask-edge-7); }
.page .imageMaskEdge8 { --wc: var(--mask-edge-8); }

/* Center mask specific styles */
.page [class*='imageMaskCenter'] {
    bottom: calc(var(--offsetY));
    left: calc(var(--offsetX));
    width: 100%;
    height: 100%;
    -webkit-mask-image: var(--wc), var(--revealer);
    mask-image: var(--wc), var(--revealer);
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: 50% 50%;
    mask-position: 50% 50%;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    transform: rotate(calc(1deg * var(--rotation))) scaleX(var(--scaleX)) scaleY(var(--scaleY));
}

.page [class*='imageMaskCenter'] > p:has(img) {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform: unset;
    transform: scaleX(calc(1 / var(--scaleX))) scaleY(calc(1 / var(--scaleY))) rotate(calc(-1deg * var(--rotation))) translateX(calc(-1 * var(--offsetX))) translateY(calc(1 * var(--offsetY)));
}

/* Center masks */
.page .imageMaskCenter1 { --wc: var(--mask-center-1); }
.page .imageMaskCenter2 { --wc: var(--mask-center-2); }
.page .imageMaskCenter3 { --wc: var(--mask-center-3); }
.page .imageMaskCenter4 { --wc: var(--mask-center-4); }
.page .imageMaskCenter5 { --wc: var(--mask-center-5); }
.page .imageMaskCenter6 { --wc: var(--mask-center-6); }
.page .imageMaskCenter7 { --wc: var(--mask-center-7); }
.page .imageMaskCenter8 { --wc: var(--mask-center-8); }
.page .imageMaskCenter9 { --wc: var(--mask-center-9); }
.page .imageMaskCenter10 { --wc: var(--mask-center-10); }
.page .imageMaskCenter11 { --wc: var(--mask-center-11); }
.page .imageMaskCenter12 { --wc: var(--mask-center-12); }
.page .imageMaskCenter13 { --wc: var(--mask-center-13); }
.page .imageMaskCenter14 { --wc: var(--mask-center-14); }
.page .imageMaskCenter15 { --wc: var(--mask-center-15); }
.page .imageMaskCenter16 { --wc: var(--mask-center-16); }

/* Corner mask specific styles */
.page [class*='imageMaskCorner'] {
    bottom: calc(-50% + var(--offsetY));
    left: calc(-50% + var(--offsetX));
    width: 200%;
    height: 200%;
    -webkit-mask-image: var(--wc), var(--revealer);
    mask-image: var(--wc), var(--revealer);
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: 50% 50%;
    mask-position: 50% 50%;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    transform: rotate(calc(1deg * var(--rotation))) scaleX(var(--scaleX)) scaleY(var(--scaleY));
}

.page [class*='imageMaskCorner'] > p:has(img) {
    bottom: 25%;
    left: 25%;
    width: 50%;
    height: 50%;
    transform: scaleX(calc(1 / var(--scaleX))) scaleY(calc(1 / var(--scaleY))) rotate(calc(-1deg * var(--rotation))) translateX(calc(-1 * var(--offsetX))) translateY(calc(1 * var(--offsetY)));
}

/* Corner masks */
.page .imageMaskCorner1 { --wc: var(--mask-corner-1); }
.page .imageMaskCorner2 { --wc: var(--mask-corner-2); }
.page .imageMaskCorner3 { --wc: var(--mask-corner-3); }
.page .imageMaskCorner4 { --wc: var(--mask-corner-4); }
.page .imageMaskCorner5 { --wc: var(--mask-corner-5); }
.page .imageMaskCorner6 { --wc: var(--mask-corner-6); }
.page .imageMaskCorner7 { --wc: var(--mask-corner-7); }
.page .imageMaskCorner8 { --wc: var(--mask-corner-8); }
.page .imageMaskCorner9 { --wc: var(--mask-corner-9); }
.page .imageMaskCorner10 { --wc: var(--mask-corner-10); }
.page .imageMaskCorner11 { --wc: var(--mask-corner-11); }
.page .imageMaskCorner12 { --wc: var(--mask-corner-12); }
.page .imageMaskCorner13 { --wc: var(--mask-corner-13); }
.page .imageMaskCorner14 { --wc: var(--mask-corner-14); }
.page .imageMaskCorner15 { --wc: var(--mask-corner-15); }
.page .imageMaskCorner16 { --wc: var(--mask-corner-16); }
.page .imageMaskCorner17 { --wc: var(--mask-corner-17); }
.page .imageMaskCorner18 { --wc: var(--mask-corner-18); }
.page .imageMaskCorner19 { --wc: var(--mask-corner-19); }
.page .imageMaskCorner20 { --wc: var(--mask-corner-20); }
.page .imageMaskCorner21 { --wc: var(--mask-corner-21); }
.page .imageMaskCorner22 { --wc: var(--mask-corner-22); }
.page .imageMaskCorner23 { --wc: var(--mask-corner-23); }
.page .imageMaskCorner24 { --wc: var(--mask-corner-24); }
.page .imageMaskCorner25 { --wc: var(--mask-corner-25); }
.page .imageMaskCorner26 { --wc: var(--mask-corner-26); }
.page .imageMaskCorner27 { --wc: var(--mask-corner-27); }
.page .imageMaskCorner28 { --wc: var(--mask-corner-28); }
.page .imageMaskCorner29 { --wc: var(--mask-corner-29); }
.page .imageMaskCorner30 { --wc: var(--mask-corner-30); }
.page .imageMaskCorner31 { --wc: var(--mask-corner-31); }
.page .imageMaskCorner32 { --wc: var(--mask-corner-32); }
.page .imageMaskCorner33 { --wc: var(--mask-corner-33); }
.page .imageMaskCorner34 { --wc: var(--mask-corner-34); }
.page .imageMaskCorner35 { --wc: var(--mask-corner-35); }
.page .imageMaskCorner36 { --wc: var(--mask-corner-36); }
.page .imageMaskCorner37 { --wc: var(--mask-corner-37); }