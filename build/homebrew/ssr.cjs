(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.__entrypoint__ = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports=module.exports=[
"default",
"3024-day",
"3024-night",
"abbott",
"abcdef",
"ambiance-mobile",
"ambiance",
"ayu-dark",
"ayu-mirage",
"base16-dark",
"base16-light",
"bespin",
"blackboard",
"cobalt",
"colorforth",
"darcula",
"darkbrewery",
"darkvision",
"dracula",
"duotone-dark",
"duotone-light",
"eclipse",
"elegant",
"erlang-dark",
"gruvbox-dark",
"hopscotch",
"icecoder",
"idea",
"isotope",
"juejin",
"lesser-dark",
"liquibyte",
"lucario",
"material-darker",
"material-ocean",
"material-palenight",
"material",
"mbo",
"mdn-like",
"midnight",
"monokai",
"moxer",
"neat",
"neo",
"night",
"nord",
"oceanic-next",
"panda-syntax",
"paraiso-dark",
"paraiso-light",
"pastel-on-dark",
"railscasts",
"rubyblue",
"seti",
"shadowfox",
"solarized",
"ssms",
"the-matrix",
"tomorrow-night-bright",
"tomorrow-night-eighties",
"ttcn",
"twilight",
"vibrant-ink",
"xq-dark",
"xq-light",
"yeti",
"yonce",
"zenburn"
]
;
},{}],2:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AnchoredTrigger = exports.AnchoredBox = exports.Anchored = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
require("./Anchored.less");
var _excluded = ["toggleVisibility", "visible", "children", "className"],
  _excluded2 = ["visible", "children", "className", "anchorId"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
// Anchored is a wrapper component that must have as children an <AnchoredTrigger> and a <AnchoredBox> component.
// AnchoredTrigger must have a unique `id` prop, which is passed up to Anchored, saved in state on mount, and
// then passed down through props into AnchoredBox.  The `id` is used for the CSS Anchor Positioning properties.
// **The Anchor Positioning API is not available in Firefox yet**
// So in Firefox the positioning isn't perfect but is likely sufficient, and FF team seems to be working on the API quickly.

// When Anchor Positioning is added to Firefox, this can also be rewritten using the Popover API-- add the `popover` attribute
// to the container div, which will render the container in the *top level* and give it better interactions like
// click outside to dismiss.  **Do not** add without Anchor, though, because positioning is very limited with the `popover`
// attribute.

var Anchored = exports.Anchored = function Anchored(_ref) {
  var children = _ref.children;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    visible = _useState2[0],
    setVisible = _useState2[1];
  var _useState3 = (0, _react.useState)(null),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    anchorId = _useState4[0],
    setAnchorId = _useState4[1];
  var boxRef = (0, _react.useRef)(null);
  var triggerRef = (0, _react.useRef)(null);

  // promote trigger id to Anchored id (to pass it back down to the box as "anchorId")
  (0, _react.useEffect)(function () {
    if (triggerRef.current) {
      setAnchorId(triggerRef.current.id);
    }
  }, []);

  // close box on outside click or Escape key
  (0, _react.useEffect)(function () {
    var handleClickOutside = function handleClickOutside(evt) {
      if (boxRef.current && !boxRef.current.contains(evt.target) && triggerRef.current && !triggerRef.current.contains(evt.target)) {
        setVisible(false);
      }
    };
    var handleEscapeKey = function handleEscapeKey(evt) {
      if (evt.key === 'Escape') setVisible(false);
    };
    window.addEventListener('click', handleClickOutside);
    window.addEventListener('keydown', handleEscapeKey);
    return function () {
      window.removeEventListener('click', handleClickOutside);
      window.removeEventListener('keydown', handleEscapeKey);
    };
  }, []);
  var toggleVisibility = function toggleVisibility() {
    return setVisible(function (prev) {
      return !prev;
    });
  };

  // Map children to inject necessary props
  var mappedChildren = _react.Children.map(children, function (child) {
    if (child.type === AnchoredTrigger) {
      return /*#__PURE__*/(0, _react.cloneElement)(child, {
        ref: triggerRef,
        toggleVisibility: toggleVisibility,
        visible: visible
      });
    }
    if (child.type === AnchoredBox) {
      return /*#__PURE__*/(0, _react.cloneElement)(child, {
        ref: boxRef,
        visible: visible,
        anchorId: anchorId
      });
    }
    return child;
  });
  return /*#__PURE__*/_react["default"].createElement(_react["default"].Fragment, null, mappedChildren);
};

// forward ref for AnchoredTrigger
var AnchoredTrigger = exports.AnchoredTrigger = /*#__PURE__*/(0, _react.forwardRef)(function (_ref2, ref) {
  var toggleVisibility = _ref2.toggleVisibility,
    visible = _ref2.visible,
    children = _ref2.children,
    className = _ref2.className,
    props = (0, _objectWithoutProperties2["default"])(_ref2, _excluded);
  return /*#__PURE__*/_react["default"].createElement("button", (0, _extends2["default"])({
    ref: ref,
    className: "anchored-trigger".concat(visible ? ' active' : '', " ").concat(className),
    onClick: toggleVisibility,
    style: {
      anchorName: "--".concat(props.id)
    } // setting anchor properties here allows greater recyclability.
  }, props), children);
});

// forward ref for AnchoredBox
var AnchoredBox = exports.AnchoredBox = /*#__PURE__*/(0, _react.forwardRef)(function (_ref3, ref) {
  var visible = _ref3.visible,
    children = _ref3.children,
    className = _ref3.className,
    anchorId = _ref3.anchorId,
    props = (0, _objectWithoutProperties2["default"])(_ref3, _excluded2);
  return /*#__PURE__*/_react["default"].createElement("div", (0, _extends2["default"])({
    ref: ref,
    className: "anchored-box".concat(visible ? ' active' : '', " ").concat(className),
    style: {
      positionAnchor: "--".concat(anchorId)
    } // setting anchor properties here allows greater recyclability.
  }, props), children);
});
},{"./Anchored.less":3,"@babel/runtime/helpers/extends":83,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/objectWithoutProperties":94,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/typeof":113,"react":"react"}],3:[function(require,module,exports){
module.exports = '';
},{}],4:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
require('./combobox.less');
var Combobox = createClass({
  displayName: 'Combobox',
  getDefaultProps: function getDefaultProps() {
    return {
      className: '',
      trigger: 'hover',
      "default": '',
      placeholder: '',
      autoSuggest: {
        clearAutoSuggestOnClick: true,
        suggestMethod: 'includes',
        filterOn: [] // should allow as array to filter on multiple attributes, or even custom filter
      }
    };
  },
  getInitialState: function getInitialState() {
    return {
      showDropdown: false,
      value: '',
      options: (0, _toConsumableArray2["default"])(this.props.options),
      inputFocused: false
    };
  },
  componentDidMount: function componentDidMount() {
    if (this.props.trigger == 'click') document.addEventListener('click', this.handleClickOutside);
    this.setState({
      value: this.props["default"]
    });
  },
  componentWillUnmount: function componentWillUnmount() {
    if (this.props.trigger == 'click') document.removeEventListener('click', this.handleClickOutside);
  },
  handleClickOutside: function handleClickOutside(e) {
    // Close dropdown when clicked outside
    if (this.refs.dropdown && !this.refs.dropdown.contains(e.target)) {
      this.handleDropdown(false);
    }
  },
  handleDropdown: function handleDropdown(show) {
    this.setState({
      value: show ? '' : this.props["default"],
      showDropdown: show,
      inputFocused: this.props.autoSuggest.clearAutoSuggestOnClick ? show : false
    });
  },
  handleInput: function handleInput(e) {
    var _this = this;
    e.persist();
    this.setState({
      value: e.target.value,
      inputFocused: false
    }, function () {
      _this.props.onEntry(e);
    });
  },
  handleSelect: function handleSelect(value) {
    var _this2 = this;
    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : value;
    this.setState({
      value: value
    }, function () {
      _this2.props.onSelect(data);
    });
    ;
  },
  renderTextInput: function renderTextInput() {
    var _this3 = this;
    return /*#__PURE__*/React.createElement("div", {
      className: "dropdown-input item",
      onMouseEnter: this.props.trigger == 'hover' ? function () {
        _this3.handleDropdown(true);
      } : undefined,
      onClick: this.props.trigger == 'click' ? function () {
        _this3.handleDropdown(true);
      } : undefined
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      onChange: function onChange(e) {
        return _this3.handleInput(e);
      },
      value: this.state.value || '',
      placeholder: this.props.placeholder,
      onBlur: function onBlur(e) {
        if (!e.target.checkValidity()) {
          _this3.setState({
            value: _this3.props["default"]
          });
        }
      }
    }), /*#__PURE__*/React.createElement("i", {
      className: "fas fa-caret-down"
    }));
  },
  renderDropdown: function renderDropdown(dropdownChildren) {
    var _this4 = this;
    if (!this.state.showDropdown) return null;
    if (this.props.autoSuggest && !this.state.inputFocused) {
      var suggestMethod = this.props.autoSuggest.suggestMethod;
      var filterOn = _.isString(this.props.autoSuggest.filterOn) ? [this.props.autoSuggest.filterOn] : this.props.autoSuggest.filterOn;
      var filteredArrays = filterOn.map(function (attr) {
        var children = dropdownChildren.filter(function (item) {
          var _item$props$attr, _item$props$attr2;
          if (suggestMethod === 'includes') return (_item$props$attr = item.props[attr]) === null || _item$props$attr === void 0 ? void 0 : _item$props$attr.toLowerCase().includes(_this4.state.value.toLowerCase());
          if (suggestMethod === 'startsWith') return (_item$props$attr2 = item.props[attr]) === null || _item$props$attr2 === void 0 ? void 0 : _item$props$attr2.toLowerCase().startsWith(_this4.state.value.toLowerCase());
        });
        return children;
      });
      dropdownChildren = _.uniq(filteredArrays.flat(1));
    }
    return /*#__PURE__*/React.createElement("div", {
      className: "dropdown-options"
    }, dropdownChildren);
  },
  render: function render() {
    var _this5 = this;
    var dropdownChildren = this.state.options.map(function (child, i) {
      var clone = React.cloneElement(child, {
        onClick: function onClick() {
          return _this5.handleSelect(child.props.value, child.props.data);
        }
      });
      return clone;
    });
    return /*#__PURE__*/React.createElement("div", {
      className: "dropdown-container ".concat(this.props.className),
      ref: "dropdown",
      onMouseLeave: this.props.trigger == 'hover' ? function () {
        _this5.handleDropdown(false);
      } : undefined
    }, this.renderTextInput(), this.renderDropdown(dropdownChildren));
  }
});
module.exports = Combobox;
},{"./combobox.less":5,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/toConsumableArray":110,"create-react-class":"create-react-class","lodash":"lodash","react":"react"}],5:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],6:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _excluded = ["dismisskeys", "closeText", "blocking"]; // Dialog box, for popups and modal blocking messages
var useRef = _react["default"].useRef,
  useEffect = _react["default"].useEffect;
function Dialog(_ref) {
  var _ref$dismisskeys = _ref.dismisskeys,
    dismisskeys = _ref$dismisskeys === void 0 ? [] : _ref$dismisskeys,
    _ref$closeText = _ref.closeText,
    closeText = _ref$closeText === void 0 ? 'Close' : _ref$closeText,
    _ref$blocking = _ref.blocking,
    blocking = _ref$blocking === void 0 ? false : _ref$blocking,
    rest = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var dialogRef = useRef(null);
  useEffect(function () {
    var _dialogRef$current, _dialogRef$current2;
    blocking ? (_dialogRef$current = dialogRef.current) === null || _dialogRef$current === void 0 ? void 0 : _dialogRef$current.showModal() : (_dialogRef$current2 = dialogRef.current) === null || _dialogRef$current2 === void 0 ? void 0 : _dialogRef$current2.show();
  }, []);
  var dismiss = function dismiss() {
    var _dialogRef$current3;
    dismisskeys.forEach(function (key) {
      if (key) {
        localStorage.setItem(key, 'true');
      }
    });
    (_dialogRef$current3 = dialogRef.current) === null || _dialogRef$current3 === void 0 || _dialogRef$current3.close();
  };
  return /*#__PURE__*/_react["default"].createElement("dialog", (0, _extends2["default"])({
    ref: dialogRef,
    onCancel: dismiss
  }, rest), rest.children, /*#__PURE__*/_react["default"].createElement("button", {
    className: "dismiss",
    onClick: dismiss
  }, closeText));
}
;
var _default = exports["default"] = Dialog;
},{"@babel/runtime/helpers/extends":83,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/objectWithoutProperties":94,"react":"react"}],7:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
require('./splitPane.less');
var React = require('react');
var useState = React.useState,
  useEffect = React.useEffect;
var storageKey = 'naturalcrit-pane-split';
var SplitPane = function SplitPane(props) {
  var _props$onDragFinish = props.onDragFinish,
    onDragFinish = _props$onDragFinish === void 0 ? function () {} : _props$onDragFinish,
    _props$showDividerBut = props.showDividerButtons,
    showDividerButtons = _props$showDividerBut === void 0 ? true : _props$showDividerBut;
  var _useState = useState(false),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    isDragging = _useState2[0],
    setIsDragging = _useState2[1];
  var _useState3 = useState(null),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    dividerPos = _useState4[0],
    setDividerPos = _useState4[1];
  var _useState5 = useState(false),
    _useState6 = (0, _slicedToArray2["default"])(_useState5, 2),
    moveSource = _useState6[0],
    setMoveSource = _useState6[1];
  var _useState7 = useState(false),
    _useState8 = (0, _slicedToArray2["default"])(_useState7, 2),
    moveBrew = _useState8[0],
    setMoveBrew = _useState8[1];
  var _useState9 = useState(true),
    _useState0 = (0, _slicedToArray2["default"])(_useState9, 2),
    showMoveArrows = _useState0[0],
    setShowMoveArrows = _useState0[1];
  var _useState1 = useState(false),
    _useState10 = (0, _slicedToArray2["default"])(_useState1, 2),
    liveScroll = _useState10[0],
    setLiveScroll = _useState10[1];
  useEffect(function () {
    var savedPos = window.localStorage.getItem(storageKey);
    setDividerPos(savedPos ? limitPosition(savedPos, 0.1 * (window.innerWidth - 13), 0.9 * (window.innerWidth - 13)) : window.innerWidth / 2);
    setLiveScroll(window.localStorage.getItem('liveScroll') === 'true');
    window.addEventListener('resize', handleResize);
    return function () {
      return window.removeEventListener('resize', handleResize);
    };
  }, []);
  var limitPosition = function limitPosition(x) {
    var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
    var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window.innerWidth - 13;
    return Math.round(Math.min(max, Math.max(min, x)));
  };

  //when resizing, the divider should grow smaller if less space is given, then grow back if the space is restored, to the original position
  var handleResize = function handleResize() {
    return setDividerPos(limitPosition(window.localStorage.getItem(storageKey), 0.1 * (window.innerWidth - 13), 0.9 * (window.innerWidth - 13)));
  };
  var handleUp = function handleUp(e) {
    e.preventDefault();
    if (isDragging) {
      onDragFinish(dividerPos);
      window.localStorage.setItem(storageKey, dividerPos);
    }
    setIsDragging(false);
  };
  var handleDown = function handleDown(e) {
    e.preventDefault();
    setIsDragging(true);
  };
  var handleMove = function handleMove(e) {
    if (!isDragging) return;
    e.preventDefault();
    setDividerPos(limitPosition(e.pageX));
  };
  var liveScrollToggle = function liveScrollToggle() {
    window.localStorage.setItem('liveScroll', String(!liveScroll));
    setLiveScroll(!liveScroll);
  };
  var renderMoveArrows = showMoveArrows && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("div", {
    className: "arrow left",
    onClick: function onClick() {
      return setMoveSource(!moveSource);
    }
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-arrow-left"
  })), /*#__PURE__*/React.createElement("div", {
    className: "arrow right",
    onClick: function onClick() {
      return setMoveBrew(!moveBrew);
    }
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-arrow-right"
  })), /*#__PURE__*/React.createElement("div", {
    id: "scrollToggleDiv",
    className: liveScroll ? 'arrow lock' : 'arrow unlock',
    onClick: liveScrollToggle
  }, /*#__PURE__*/React.createElement("i", {
    id: "scrollToggle",
    className: liveScroll ? 'fas fa-lock' : 'fas fa-unlock'
  })));
  var renderDivider = /*#__PURE__*/React.createElement("div", {
    className: "divider ".concat(isDragging && 'dragging'),
    onPointerDown: handleDown
  }, showDividerButtons && renderMoveArrows, /*#__PURE__*/React.createElement("div", {
    className: "dots"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-circle"
  }), /*#__PURE__*/React.createElement("i", {
    className: "fas fa-circle"
  }), /*#__PURE__*/React.createElement("i", {
    className: "fas fa-circle"
  })));
  return /*#__PURE__*/React.createElement("div", {
    className: "splitPane",
    onPointerMove: handleMove,
    onPointerUp: handleUp
  }, /*#__PURE__*/React.createElement(Pane, {
    width: dividerPos,
    moveBrew: moveBrew,
    moveSource: moveSource,
    liveScroll: liveScroll,
    setMoveArrows: setShowMoveArrows
  }, props.children[0]), renderDivider, /*#__PURE__*/React.createElement(Pane, {
    isDragging: isDragging
  }, props.children[1]));
};
var Pane = function Pane(_ref) {
  var width = _ref.width,
    children = _ref.children,
    isDragging = _ref.isDragging,
    moveBrew = _ref.moveBrew,
    moveSource = _ref.moveSource,
    liveScroll = _ref.liveScroll,
    setMoveArrows = _ref.setMoveArrows;
  var styles = width ? {
    flex: 'none',
    width: "".concat(width, "px")
  } : {
    pointerEvents: isDragging ? 'none' : 'auto'
  }; //Disable mouse capture in the right pane; else dragging into the iframe drops the divider

  return /*#__PURE__*/React.createElement("div", {
    className: "pane",
    style: styles
  }, React.cloneElement(children, {
    moveBrew: moveBrew,
    moveSource: moveSource,
    liveScroll: liveScroll,
    setMoveArrows: setMoveArrows
  }));
};
module.exports = SplitPane;
},{"./splitPane.less":8,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"react":"react"}],8:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],9:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _markdown = _interopRequireDefault(require("naturalcrit/markdown.js"));
var _headerNav = _interopRequireDefault(require("./headerNav/headerNav.jsx"));
var _safeHTML = require("./safeHTML.js");
var _templateObject;
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
/*eslint max-lines: ["warn", {"max": 300, "skipBlankLines": true, "skipComments": true}]*/
require('./brewRenderer.less');
var React = require('react');
var useState = React.useState,
  useRef = React.useRef,
  useMemo = React.useMemo,
  useEffect = React.useEffect;
var _ = require('lodash');
var MarkdownLegacy = require('naturalcrit/markdownLegacy.js');
var ErrorBar = require('./errorBar/errorBar.jsx');
var ToolBar = require('./toolBar/toolBar.jsx');

//TODO: move to the brew renderer
var RenderWarnings = require('homebrewery/renderWarnings/renderWarnings.jsx');
var NotificationPopup = require('./notificationPopup/notificationPopup.jsx');
var Frame = require('react-frame-component')["default"];
var dedent = require('dedent-tabs')["default"];
var _require = require('../../../shared/helpers.js'),
  printCurrentBrew = _require.printCurrentBrew;
var PAGEBREAK_REGEX_V3 = /^(?=\\page(?:break)?(?: *{[^\n{}]*})?$)/m;
var PAGEBREAK_REGEX_LEGACY = /\\page(?:break)?/m;
var COLUMNBREAK_REGEX_LEGACY = /\\column(:?break)?/m;
var PAGE_HEIGHT = 1056;
var INITIAL_CONTENT = dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t<!DOCTYPE html><html><head>\n\t<link href=\"//fonts.googleapis.com/css?family=Open+Sans:400,300,600,700\" rel=\"stylesheet\" type=\"text/css\" />\n\t<link href='/homebrew/bundle.css' type=\"text/css\" rel='stylesheet' />\n\t<base target=_blank>\n\t</head><body style='overflow: hidden'><div></div></body></html>"])));

//v=====----------------------< Brew Page Component >---------------------=====v//
var BrewPage = function BrewPage(props) {
  props = _objectSpread({
    contents: '',
    index: 0
  }, props);
  var pageRef = useRef(null);
  var cleanText = (0, _safeHTML.safeHTML)(props.contents);
  useEffect(function () {
    if (!pageRef.current) return;

    // Observer for tracking pages within the `.pages` div
    var visibleObserver = new IntersectionObserver(function (entries) {
      entries.forEach(function (entry) {
        if (entry.isIntersecting) props.onVisibilityChange(props.index + 1, true, false); // add page to array of visible pages.
        else props.onVisibilityChange(props.index + 1, false, false);
      });
    }, {
      threshold: .3,
      rootMargin: '0px 0px 0px 0px'
    } // detect when >30% of page is within bounds.
    );

    // Observer for tracking the page at the center of the iframe.
    var centerObserver = new IntersectionObserver(function (entries) {
      entries.forEach(function (entry) {
        if (entry.isIntersecting) props.onVisibilityChange(props.index + 1, true, true); // Set this page as the center page
      });
    }, {
      threshold: 0,
      rootMargin: '-50% 0px -50% 0px'
    } // Detect when the page is at the center
    );

    // attach observers to each `.page`
    visibleObserver.observe(pageRef.current);
    centerObserver.observe(pageRef.current);
    return function () {
      visibleObserver.disconnect();
      centerObserver.disconnect();
    };
  }, []);
  return /*#__PURE__*/React.createElement("div", (0, _extends2["default"])({
    className: props.className,
    id: "p".concat(props.index + 1),
    "data-index": props.index,
    ref: pageRef,
    style: props.style
  }, props.attributes), /*#__PURE__*/React.createElement("div", {
    className: "columnWrapper",
    dangerouslySetInnerHTML: {
      __html: cleanText
    }
  }));
};

//v=====--------------------< Brew Renderer Component >-------------------=====v//
var renderedPages = [];
var rawPages = [];
var BrewRenderer = function BrewRenderer(props) {
  props = _objectSpread({
    text: '',
    style: '',
    renderer: 'legacy',
    theme: '5ePHB',
    lang: '',
    errors: [],
    currentEditorCursorPageNum: 1,
    currentEditorViewPageNum: 1,
    currentBrewRendererPageNum: 1,
    themeBundle: {},
    onPageChange: function onPageChange() {}
  }, props);
  var _useState = useState({
      isMounted: false,
      visibility: 'hidden',
      visiblePages: [],
      centerPage: 1
    }),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    state = _useState2[0],
    setState = _useState2[1];
  var _useState3 = useState({
      zoomLevel: 100,
      spread: 'single',
      startOnRight: true,
      pageShadows: true,
      rowGap: 5,
      columnGap: 10
    }),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    displayOptions = _useState4[0],
    setDisplayOptions = _useState4[1];

  //useEffect to store or gather toolbar state from storage
  useEffect(function () {
    var toolbarState = JSON.parse(window.localStorage.getItem('hb_toolbarState'));
    toolbarState && setDisplayOptions(toolbarState);
  }, []);
  var _useState5 = useState(false),
    _useState6 = (0, _slicedToArray2["default"])(_useState5, 2),
    headerState = _useState6[0],
    setHeaderState = _useState6[1];
  var mainRef = useRef(null);
  var pagesRef = useRef(null);
  if (props.renderer == 'legacy') {
    rawPages = props.text.split(PAGEBREAK_REGEX_LEGACY);
  } else {
    rawPages = props.text.split(PAGEBREAK_REGEX_V3);
  }
  var handlePageVisibilityChange = function handlePageVisibilityChange(pageNum, isVisible, isCenter) {
    setState(function (prevState) {
      var updatedVisiblePages = new Set(prevState.visiblePages);
      if (!isCenter) isVisible ? updatedVisiblePages.add(pageNum) : updatedVisiblePages["delete"](pageNum);
      return _objectSpread(_objectSpread({}, prevState), {}, {
        visiblePages: (0, _toConsumableArray2["default"])(updatedVisiblePages).sort(function (a, b) {
          return a - b;
        }),
        centerPage: isCenter ? pageNum : prevState.centerPage
      });
    });
    if (isCenter) props.onPageChange(pageNum);
  };
  var isInView = function isInView(index) {
    if (!state.isMounted) return false;
    if (index == props.currentEditorCursorPageNum - 1)
      //Already rendered before this step
      return false;
    if (Math.abs(index - props.currentBrewRendererPageNum - 1) <= 3) return true;
    return false;
  };
  var renderDummyPage = function renderDummyPage(index) {
    return /*#__PURE__*/React.createElement("div", {
      className: "phb page",
      id: "p".concat(index + 1),
      key: index
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-spinner fa-spin"
    }));
  };
  var renderStyle = function renderStyle() {
    var _props$themeBundle$jo, _props$themeBundle;
    var themeStyles = (_props$themeBundle$jo = (_props$themeBundle = props.themeBundle) === null || _props$themeBundle === void 0 ? void 0 : _props$themeBundle.joinedStyles) !== null && _props$themeBundle$jo !== void 0 ? _props$themeBundle$jo : '<style>@import url("/themes/V3/Blank/style.css");</style>';
    var cleanStyle = (0, _safeHTML.safeHTML)("".concat(themeStyles, " \n\n <style> ").concat(props.style, " </style>"));
    return /*#__PURE__*/React.createElement("div", {
      style: {
        display: 'none'
      },
      dangerouslySetInnerHTML: {
        __html: cleanStyle
      }
    });
  };
  var renderPage = function renderPage(pageText, index) {
    var styles = _objectSpread({}, !displayOptions.pageShadows ? {
      boxShadow: 'none'
    } : {});
    var classes = 'page';
    var attributes = {};
    if (props.renderer == 'legacy') {
      pageText.replace(COLUMNBREAK_REGEX_LEGACY, '```\n````\n'); // Allow Legacy brews to use `\column(break)`
      var html = MarkdownLegacy.render(pageText);
      return /*#__PURE__*/React.createElement(BrewPage, {
        className: "page phb",
        index: index,
        key: index,
        contents: html,
        style: styles,
        onVisibilityChange: handlePageVisibilityChange
      });
    } else {
      if (pageText.startsWith('\\page')) {
        var _firstLineTokens$find;
        var firstLineTokens = _markdown["default"].marked.lexer(pageText.split('\n', 1)[0])[0].tokens;
        var injectedTags = firstLineTokens === null || firstLineTokens === void 0 || (_firstLineTokens$find = firstLineTokens.find(function (obj) {
          return obj.injectedTags !== undefined;
        })) === null || _firstLineTokens$find === void 0 ? void 0 : _firstLineTokens$find.injectedTags;
        if (injectedTags) {
          styles = _objectSpread(_objectSpread({}, styles), injectedTags.styles);
          styles = _.mapKeys(styles, function (v, k) {
            return k.startsWith('--') ? k : _.camelCase(k);
          }); // Convert CSS to camelCase for React
          classes = [classes, injectedTags.classes].join(' ').trim();
          attributes = injectedTags.attributes;
        }
        pageText = pageText.includes('\n') ? pageText.substring(pageText.indexOf('\n') + 1) : ''; // Remove the \page line
      }

      // DO NOT REMOVE!!! REQUIRED FOR BACKWARDS COMPATIBILITY WITH NON-UPGRADABLE VERSIONS OF CHROME.
      pageText += "\n\n&nbsp;\n\\column\n&nbsp;"; //Artificial column break at page end to emulate column-fill:auto (until `wide` is used, when column-fill:balance will reappear)

      var _html = _markdown["default"].render(pageText, index);
      return /*#__PURE__*/React.createElement(BrewPage, {
        className: classes,
        index: index,
        key: index,
        contents: _html,
        style: styles,
        attributes: attributes,
        onVisibilityChange: handlePageVisibilityChange
      });
    }
  };
  var renderPages = function renderPages() {
    if (props.errors && props.errors.length) return renderedPages;
    if (rawPages.length != renderedPages.length)
      // Re-render all pages when page count changes
      renderedPages.length = 0;

    // Render currently-edited page first so cross-page effects (variables, links) can propagate out first
    if (rawPages.length > props.currentEditorCursorPageNum - 1) renderedPages[props.currentEditorCursorPageNum - 1] = renderPage(rawPages[props.currentEditorCursorPageNum - 1], props.currentEditorCursorPageNum - 1);
    _.forEach(rawPages, function (page, index) {
      if ((isInView(index) || !renderedPages[index]) && typeof window !== 'undefined') {
        renderedPages[index] = renderPage(page, index); // Render any page not yet rendered, but only re-render those in PPR range
      }
    });
    return renderedPages;
  };
  var handleControlKeys = function handleControlKeys(e) {
    if (!(e.ctrlKey || e.metaKey)) return;
    var P_KEY = 80;
    if (e.keyCode == P_KEY && props.allowPrint) printCurrentBrew();
    if (e.keyCode == P_KEY) {
      e.stopPropagation();
      e.preventDefault();
    }
  };
  var scrollToHash = function scrollToHash(hash) {
    if (!hash) return;
    var iframeDoc = document.getElementById('BrewRenderer').contentDocument;
    var anchor = iframeDoc.querySelector(hash);
    if (anchor) {
      anchor.scrollIntoView({
        behavior: 'smooth'
      });
    } else {
      // Use MutationObserver to wait for the element if it's not immediately available
      new MutationObserver(function (mutations, obs) {
        anchor = iframeDoc.querySelector(hash);
        if (anchor) {
          anchor.scrollIntoView({
            behavior: 'smooth'
          });
          obs.disconnect();
        }
      }).observe(iframeDoc, {
        childList: true,
        subtree: true
      });
    }
  };
  var frameDidMount = function frameDidMount() {
    //This triggers when iFrame finishes internal "componentDidMount"
    scrollToHash(window.location.hash);
    setTimeout(function () {
      //We still see a flicker where the style isn't applied yet, so wait 100ms before showing iFrame
      renderPages(); //Make sure page is renderable before showing
      setState(function (prevState) {
        return _objectSpread(_objectSpread({}, prevState), {}, {
          isMounted: true,
          visibility: 'visible'
        });
      });
    }, 100);
  };
  var emitClick = function emitClick() {
    // Allow clicks inside iFrame to interact with dropdowns, etc. from outside
    if (!window || !document) return;
    document.dispatchEvent(new MouseEvent('click'));
  };
  var handleDisplayOptionsChange = function handleDisplayOptionsChange(newDisplayOptions) {
    setDisplayOptions(newDisplayOptions);
    localStorage.setItem('hb_toolbarState', JSON.stringify(newDisplayOptions));
  };
  var pagesStyle = {
    zoom: "".concat(displayOptions.zoomLevel, "%"),
    columnGap: "".concat(displayOptions.columnGap, "px"),
    rowGap: "".concat(displayOptions.rowGap, "px")
  };
  var styleObject = {};
  if (global.config.deployment) {
    styleObject.backgroundImage = "url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='40px' width='200px'><text x='0' y='15' fill='%23fff7' font-size='20'>".concat(global.config.deployment, "</text></svg>\")");
  }
  var renderedStyle = useMemo(function () {
    return renderStyle();
  }, [props.style, props.themeBundle]);
  renderedPages = useMemo(function () {
    return renderPages();
  }, [props.text, displayOptions]);
  return /*#__PURE__*/React.createElement(React.Fragment, null, !state.isMounted ? /*#__PURE__*/React.createElement("div", {
    className: "brewRenderer"
  }, /*#__PURE__*/React.createElement("div", {
    className: "pages"
  }, renderDummyPage(1))) : null, /*#__PURE__*/React.createElement(ErrorBar, {
    errors: props.errors
  }), /*#__PURE__*/React.createElement("div", {
    className: "popups",
    ref: mainRef
  }, /*#__PURE__*/React.createElement(RenderWarnings, null), /*#__PURE__*/React.createElement(NotificationPopup, null)), /*#__PURE__*/React.createElement(ToolBar, {
    displayOptions: displayOptions,
    onDisplayOptionsChange: handleDisplayOptionsChange,
    visiblePages: state.visiblePages.length > 0 ? state.visiblePages : [state.centerPage],
    totalPages: rawPages.length,
    headerState: headerState,
    setHeaderState: setHeaderState
  }), /*#__PURE__*/React.createElement(Frame, {
    id: "BrewRenderer",
    initialContent: INITIAL_CONTENT,
    style: {
      width: '100%',
      height: '100%',
      visibility: state.visibility
    },
    contentDidMount: frameDidMount,
    onClick: function onClick() {
      emitClick();
    }
  }, /*#__PURE__*/React.createElement("div", {
    className: "brewRenderer ".concat(global.config.deployment && 'deployment'),
    onKeyDown: handleControlKeys,
    tabIndex: -1,
    style: styleObject
  }, state.isMounted && /*#__PURE__*/React.createElement(React.Fragment, null, renderedStyle, /*#__PURE__*/React.createElement("div", {
    className: "pages ".concat(displayOptions.startOnRight ? 'recto' : 'verso', "\t").concat(displayOptions.spread),
    lang: "".concat(props.lang || 'en'),
    style: pagesStyle,
    ref: pagesRef
  }, renderedPages))), headerState ? /*#__PURE__*/React.createElement(_headerNav["default"], {
    ref: pagesRef
  }) : /*#__PURE__*/React.createElement(React.Fragment, null)));
};
module.exports = BrewRenderer;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../../../shared/helpers.js":270,"./brewRenderer.less":10,"./errorBar/errorBar.jsx":11,"./headerNav/headerNav.jsx":13,"./notificationPopup/notificationPopup.jsx":15,"./safeHTML.js":17,"./toolBar/toolBar.jsx":18,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/extends":83,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/taggedTemplateLiteral":108,"@babel/runtime/helpers/toConsumableArray":110,"dedent-tabs":190,"homebrewery/renderWarnings/renderWarnings.jsx":271,"lodash":"lodash","naturalcrit/markdown.js":279,"naturalcrit/markdownLegacy.js":280,"react":"react","react-frame-component":244}],10:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],11:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _dialog = _interopRequireDefault(require("../../../components/dialog.jsx"));
require('./errorBar.less');
var React = require('react');
var DISMISS_BUTTON = /*#__PURE__*/React.createElement("i", {
  className: "fas fa-times dismiss"
});
var ErrorBar = function ErrorBar(props) {
  if (!props.errors.length) return null;
  var hasOpenError = false,
    hasCloseError = false,
    hasMatchError = false;
  props.errors.map(function (err) {
    if (err.id === 'OPEN') hasOpenError = true;
    if (err.id === 'CLOSE') hasCloseError = true;
    if (err.id === 'MISMATCH') hasMatchError = true;
  });
  var renderErrors = function renderErrors() {
    return /*#__PURE__*/React.createElement("ul", null, props.errors.map(function (err, idx) {
      return /*#__PURE__*/React.createElement("li", {
        key: idx
      }, "Line ", err.line, " : ", err.text, ", '", err.type, "' tag");
    }));
  };
  var renderProtip = function renderProtip() {
    return /*#__PURE__*/React.createElement("div", {
      className: "protips"
    }, /*#__PURE__*/React.createElement("h4", null, "Protips!"), hasOpenError && /*#__PURE__*/React.createElement("div", null, "Unmatched opening tag. Close your tags, like this ", '</div>', ". Match types!"), hasCloseError && /*#__PURE__*/React.createElement("div", null, "Unmatched closing tag. Either remove it or check where it was opened."), hasMatchError && /*#__PURE__*/React.createElement("div", null, "Type mismatch. Closed a tag with a different type."));
  };
  return /*#__PURE__*/React.createElement(_dialog["default"], {
    className: "errorBar",
    closeText: DISMISS_BUTTON
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-exclamation-triangle"
  }), /*#__PURE__*/React.createElement("h2", null, " There are HTML errors in your markup"), /*#__PURE__*/React.createElement("small", null, "If these aren't fixed your brew will not render properly when you print it to PDF or share it"), renderErrors()), /*#__PURE__*/React.createElement("hr", null), renderProtip());
};
module.exports = ErrorBar;
},{"../../../components/dialog.jsx":6,"./errorBar.less":12,"@babel/runtime/helpers/interopRequireDefault":86,"react":"react"}],12:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],13:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _objectDestructuringEmpty2 = _interopRequireDefault(require("@babel/runtime/helpers/objectDestructuringEmpty"));
var React = _interopRequireWildcard(require("react"));
var _ = _interopRequireWildcard(require("lodash"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
require('./headerNav.less');
var MAX_TEXT_LENGTH = 40;
var HeaderNav = /*#__PURE__*/React.forwardRef(function (_ref, pagesRef) {
  (0, _objectDestructuringEmpty2["default"])(_ref);
  var renderHeaderLinks = function renderHeaderLinks() {
    if (!pagesRef.current) return;

    // Top Level Pages
    // Pages that contain an element with a specified class (e.g. cover pages, table of contents)
    // will NOT have its content scanned for navigation headers, instead displaying a custom label
    // ---
    // The property name is class that will be used for detecting the page is a top level page
    // The property value is a function that returns the text to be used

    var topLevelPages = {
      '.frontCover': function frontCover(el, pageType) {
        var text = getHeaderContent(el);
        return text ? "Cover: ".concat(text) : 'Cover Page';
      },
      '.insideCover': function insideCover(el, pageType) {
        var text = getHeaderContent(el);
        return text ? "Interior: ".concat(text) : 'Interior Cover Page';
      },
      '.partCover': function partCover(el, pageType) {
        var text = getHeaderContent(el);
        return text ? "Section: ".concat(text) : 'Section Cover Page';
      },
      '.backCover': function backCover(el, pageType) {
        var text = getHeaderContent(el);
        return text ? "Back: ".concat(text) : 'Rear Cover Page';
      },
      '.toc': function toc() {
        return 'Table of Contents';
      }
    };
    var getHeaderContent = function getHeaderContent(el) {
      var _el$querySelector;
      return (_el$querySelector = el.querySelector('h1')) === null || _el$querySelector === void 0 ? void 0 : _el$querySelector.textContent;
    };
    var topLevelPageSelector = Object.keys(topLevelPages).join(',');
    var selector = ['.pages > .page', // All page elements, which by definition have IDs
    ".page:not(:has(".concat(topLevelPageSelector, ")) > [id]"), // All direct children of non-excluded .pages with an ID (Legacy)
    ".page:not(:has(".concat(topLevelPageSelector, ")) > .columnWrapper > [id]"), // All direct children of non-excluded .page > .columnWrapper with an ID (V3)
    ".page:not(:has(".concat(topLevelPageSelector, ")) h2") // All non-excluded H2 titles, like Monster frame titles
    ];
    var elements = pagesRef.current.querySelectorAll(selector.join(','));
    if (!elements) return;
    var navList = [];

    // navList is a list of objects which have the following structure:
    // {
    // 	depth     : how deeply indented the item should be
    // 	text      : the text to display in the nav link
    // 	link      : the hyperlink to navigate to when clicked
    // 	className : [optional] the class to apply to the nav link for styling
    // }

    elements.forEach(function (el) {
      var navEntry = {
        // Default structure of a navList entry
        depth: 7,
        // All unmatched elements with IDs are set to the maximum depth (7)
        text: el.textContent,
        // Use `textContent` because `innerText` is affected by rendering, e.g. 'content-visibility: auto'
        link: el.id
      };
      if (el.classList.contains('page')) {
        var text = "Page ".concat(el.id.slice(1)); // Get the page # by trimming off the 'p' from the ID
        var pageType = Object.keys(topLevelPages).find(function (pageType) {
          return el.querySelector(pageType);
        });
        if (pageType) text += " - ".concat(topLevelPages[pageType](el, pageType)); // If a Top Level Page, add extra label

        navEntry.depth = 0; // Pages are always at the least indented level
        navEntry.text = text;
        navEntry.className = 'pageLink';
      } else if (el.localName.match(/^h[1-6]/)) {
        // Header elements H1 through H6
        navEntry.depth = el.localName[1]; // Depth is set by the header level
      }
      navList.push(navEntry);
    });
    return _.map(navList, function (navItem, index) {
      return /*#__PURE__*/React.createElement(HeaderNavItem, (0, _extends2["default"])({}, navItem, {
        key: index
      }));
    });
  };
  return /*#__PURE__*/React.createElement("nav", {
    className: "headerNav"
  }, /*#__PURE__*/React.createElement("ul", null, renderHeaderLinks()));
});
var HeaderNavItem = function HeaderNavItem(_ref2) {
  var link = _ref2.link,
    text = _ref2.text,
    depth = _ref2.depth,
    className = _ref2.className;
  var trimString = function trimString(text) {
    var prefixLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    // Sanity check nav link strings
    var output = text;

    // If the string has a line break, only use the first line
    if (text.indexOf('\n')) {
      output = text.split('\n')[0];
    }

    // Trim unecessary spaces from string
    output = output.trim();

    // Reduce excessively long strings
    var maxLength = MAX_TEXT_LENGTH - prefixLength;
    if (output.length > maxLength) {
      return "".concat(output.slice(0, maxLength).trim(), "...");
    }
    return output;
  };
  if (!link || !text) return;
  return /*#__PURE__*/React.createElement("li", null, /*#__PURE__*/React.createElement("a", {
    href: "#".concat(link),
    target: "_self",
    className: "depth-".concat(depth, " ").concat(className !== null && className !== void 0 ? className : '')
  }, trimString(text, depth)));
};
var _default = exports["default"] = HeaderNav;
},{"./headerNav.less":14,"@babel/runtime/helpers/extends":83,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/objectDestructuringEmpty":93,"@babel/runtime/helpers/typeof":113,"lodash":"lodash","react":"react"}],14:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],15:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
var _requestMiddleware = _interopRequireDefault(require("../../utils/request-middleware.js"));
var _markdown = _interopRequireDefault(require("naturalcrit/markdown.js"));
var _dialog = _interopRequireDefault(require("../../../components/dialog.jsx"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
require('./notificationPopup.less');
var DISMISS_BUTTON = /*#__PURE__*/_react["default"].createElement("i", {
  className: "fas fa-times dismiss"
});
var NotificationPopup = function NotificationPopup() {
  var _useState = (0, _react.useState)([]),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    notifications = _useState2[0],
    setNotifications = _useState2[1];
  var _useState3 = (0, _react.useState)([]),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    dissmissKeyList = _useState4[0],
    setDismissKeyList = _useState4[1];
  var _useState5 = (0, _react.useState)(null),
    _useState6 = (0, _slicedToArray2["default"])(_useState5, 2),
    error = _useState6[0],
    setError = _useState6[1];
  (0, _react.useEffect)(function () {
    getNotifications();
  }, []);
  var getNotifications = /*#__PURE__*/function () {
    var _ref = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee() {
      var res, _err$response, _t;
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            setError(null);
            _context.prev = 1;
            _context.next = 2;
            return _requestMiddleware["default"].get('/admin/notification/all');
          case 2:
            res = _context.sent;
            pickActiveNotifications(res.body || []);
            _context.next = 4;
            break;
          case 3:
            _context.prev = 3;
            _t = _context["catch"](1);
            console.log(_t);
            setError("Error looking up notifications: ".concat((_t === null || _t === void 0 || (_err$response = _t.response) === null || _err$response === void 0 || (_err$response = _err$response.body) === null || _err$response === void 0 ? void 0 : _err$response.message) || _t.message));
          case 4:
          case "end":
            return _context.stop();
        }
      }, _callee, null, [[1, 3]]);
    }));
    return function getNotifications() {
      return _ref.apply(this, arguments);
    };
  }();
  var pickActiveNotifications = function pickActiveNotifications(notifs) {
    var now = new Date();
    var filteredNotifications = notifs.filter(function (notification) {
      var startDate = new Date(notification.startAt);
      var stopDate = new Date(notification.stopAt);
      var dismissed = localStorage.getItem(notification.dismissKey) ? true : false;
      return now >= startDate && now <= stopDate && !dismissed;
    });
    setNotifications(filteredNotifications);
    setDismissKeyList(filteredNotifications.map(function (notif) {
      return notif.dismissKey;
    }));
  };
  var renderNotificationsList = function renderNotificationsList() {
    if (error) return /*#__PURE__*/_react["default"].createElement("div", {
      className: "error"
    }, error);
    return notifications.map(function (notification) {
      return /*#__PURE__*/_react["default"].createElement("li", {
        key: notification.dismissKey
      }, /*#__PURE__*/_react["default"].createElement("em", null, notification.title), /*#__PURE__*/_react["default"].createElement("br", null), /*#__PURE__*/_react["default"].createElement("p", {
        dangerouslySetInnerHTML: {
          __html: _markdown["default"].render(notification.text)
        }
      }));
    });
  };
  if (!notifications.length) return;
  return /*#__PURE__*/_react["default"].createElement(_dialog["default"], {
    className: "notificationPopup",
    dismisskeys: dissmissKeyList,
    closeText: DISMISS_BUTTON
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "header"
  }, /*#__PURE__*/_react["default"].createElement("i", {
    className: "fas fa-info-circle info"
  }), /*#__PURE__*/_react["default"].createElement("h3", null, "Notice"), /*#__PURE__*/_react["default"].createElement("small", null, "This website is always improving and we are still adding new features and squashing bugs. Keep the following in mind:")), /*#__PURE__*/_react["default"].createElement("ul", null, renderNotificationsList()));
};
module.exports = NotificationPopup;
},{"../../../components/dialog.jsx":6,"../../utils/request-middleware.js":71,"./notificationPopup.less":16,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/typeof":113,"@babel/runtime/regenerator":116,"naturalcrit/markdown.js":279,"react":"react"}],16:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],17:[function(require,module,exports){
"use strict";

function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
// Derived from the vue-html-secure package, customized for Homebrewery

var doc = null;
var div = null;
function safeHTML(htmlString) {
  // If the Document interface doesn't exist, exit
  if (typeof document == 'undefined') return null;
  // If the test document and div don't exist, create them
  if (!doc) doc = document.implementation.createHTMLDocument('');
  if (!div) div = doc.createElement('div');

  // Set the test div contents to the evaluation string
  div.innerHTML = htmlString;
  // Grab all nodes from the test div
  var elements = div.querySelectorAll('*');

  // Blacklisted tags
  var blacklistTags = ['script', 'noscript', 'noembed'];
  // Tests to remove attributes
  var blacklistAttrs = [function (test) {
    return test.localName.indexOf('on') == 0;
  }, function (test) {
    return test.localName.indexOf('type') == 0 && test.value.match(/submit/i);
  }, function (test) {
    return test.value.replace(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g, '').toLowerCase().trim().indexOf('javascript:') == 0;
  }];
  elements.forEach(function (element) {
    var _element$localName;
    // Check each element for blacklisted type
    if (blacklistTags.includes(element === null || element === void 0 || (_element$localName = element.localName) === null || _element$localName === void 0 ? void 0 : _element$localName.toLowerCase())) {
      element.remove();
      return;
    }
    // Check remaining elements for blacklisted attributes
    var _iterator = _createForOfIteratorHelper(element.attributes),
      _step;
    try {
      var _loop = function _loop() {
        var attribute = _step.value;
        if (blacklistAttrs.some(function (test) {
          return test(attribute);
        })) {
          element.removeAttribute(attribute.localName);
          return 1; // break
        }
        ;
      };
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        if (_loop()) break;
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    ;
  });
  return div.innerHTML;
}
;
module.exports.safeHTML = safeHTML;
},{}],18:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _Anchored = require("../../../components/Anchored.jsx");
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
/* eslint-disable max-lines */
require('./toolBar.less');
var React = require('react');
var useState = React.useState,
  useEffect = React.useEffect;
var _ = require('lodash');
var MAX_ZOOM = 300;
var MIN_ZOOM = 10;
var ToolBar = function ToolBar(_ref) {
  var displayOptions = _ref.displayOptions,
    onDisplayOptionsChange = _ref.onDisplayOptionsChange,
    visiblePages = _ref.visiblePages,
    totalPages = _ref.totalPages,
    headerState = _ref.headerState,
    setHeaderState = _ref.setHeaderState;
  var _useState = useState(1),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    pageNum = _useState2[0],
    setPageNum = _useState2[1];
  var _useState3 = useState(true),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    toolsVisible = _useState4[0],
    setToolsVisible = _useState4[1];
  useEffect(function () {
    // format multiple visible pages as a range (e.g. "150-153")
    var pageRange = visiblePages.length === 1 ? "".concat(visiblePages[0]) : "".concat(visiblePages[0], " - ").concat(visiblePages.at(-1));
    setPageNum(pageRange);
  }, [visiblePages]);
  useEffect(function () {
    var Visibility = localStorage.getItem('hb_toolbarVisibility');
    if (Visibility) setToolsVisible(Visibility === 'true');
  }, []);
  var handleZoomButton = function handleZoomButton(zoom) {
    handleOptionChange('zoomLevel', _.round(_.clamp(zoom, MIN_ZOOM, MAX_ZOOM)));
  };
  var handleOptionChange = function handleOptionChange(optionKey, newValue) {
    onDisplayOptionsChange(_objectSpread(_objectSpread({}, displayOptions), {}, (0, _defineProperty2["default"])({}, optionKey, newValue)));
  };
  var handlePageInput = function handlePageInput(pageInput) {
    if (/[0-9]/.test(pageInput)) setPageNum(parseInt(pageInput)); // input type is 'text', so `page` comes in as a string, not number.
  };

  // scroll to a page, used in the Prev/Next Page buttons.
  var scrollToPage = function scrollToPage(pageNumber) {
    var _iframe$contentWindow;
    if (typeof pageNumber !== 'number') return;
    pageNumber = _.clamp(pageNumber, 1, totalPages);
    var iframe = document.getElementById('BrewRenderer');
    var brewRenderer = iframe === null || iframe === void 0 || (_iframe$contentWindow = iframe.contentWindow) === null || _iframe$contentWindow === void 0 ? void 0 : _iframe$contentWindow.document.querySelector('.brewRenderer');
    var page = brewRenderer === null || brewRenderer === void 0 ? void 0 : brewRenderer.querySelector("#p".concat(pageNumber));
    page === null || page === void 0 || page.scrollIntoView({
      block: 'start'
    });
  };
  var calculateChange = function calculateChange(mode) {
    var iframe = document.getElementById('BrewRenderer');
    var iframeWidth = iframe.getBoundingClientRect().width;
    var iframeHeight = iframe.getBoundingClientRect().height;
    var pages = iframe.contentWindow.document.getElementsByClassName('page');
    var desiredZoom = 0;
    if (mode == 'fill') {
      // find widest page, in case pages are different widths, so that the zoom is adapted to not cut the widest page off screen.
      var widestPage = _.maxBy((0, _toConsumableArray2["default"])(pages), 'offsetWidth').offsetWidth;
      if (displayOptions.spread === 'facing') desiredZoom = iframeWidth / (widestPage * 2 + parseInt(displayOptions.columnGap)) * 100;else desiredZoom = iframeWidth / (widestPage + 20) * 100;
    } else if (mode == 'fit') {
      // find the page with the largest single dim (height or width) so that zoom can be adapted to fit it.
      var minDimRatio;
      if (displayOptions.spread === 'single') minDimRatio = (0, _toConsumableArray2["default"])(pages).reduce(function (minRatio, page) {
        return Math.min(minRatio, iframeWidth / page.offsetWidth, iframeHeight / page.offsetHeight);
      }, Infinity);else minDimRatio = (0, _toConsumableArray2["default"])(pages).reduce(function (minRatio, page) {
        return Math.min(minRatio, iframeWidth / (page.offsetWidth * 2 + parseInt(displayOptions.columnGap)), iframeHeight / page.offsetHeight);
      }, Infinity);
      desiredZoom = minDimRatio * 100;
    }
    var margin = 5; // extra space so page isn't edge to edge (not truly "to fill")

    var deltaZoom = desiredZoom - displayOptions.zoomLevel - margin;
    return deltaZoom;
  };
  return /*#__PURE__*/React.createElement("div", {
    id: "preview-toolbar",
    className: "toolBar ".concat(toolsVisible ? 'visible' : 'hidden'),
    role: "toolbar"
  }, /*#__PURE__*/React.createElement("div", {
    className: "toggleButton"
  }, /*#__PURE__*/React.createElement("button", {
    title: "".concat(toolsVisible ? 'Hide' : 'Show', " Preview Toolbar"),
    onClick: function onClick() {
      setToolsVisible(!toolsVisible);
      localStorage.setItem('hb_toolbarVisibility', !toolsVisible);
    }
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-glasses"
  })), /*#__PURE__*/React.createElement("button", {
    title: "".concat(headerState ? 'Hide' : 'Show', " Header Navigation"),
    onClick: function onClick() {
      setHeaderState(!headerState);
    }
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-rectangle-list"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "group",
    role: "group",
    "aria-label": "Zoom",
    "aria-hidden": !toolsVisible
  }, /*#__PURE__*/React.createElement("button", {
    id: "fill-width",
    className: "tool",
    title: "Set zoom to fill preview with one page",
    onClick: function onClick() {
      return handleZoomButton(displayOptions.zoomLevel + calculateChange('fill'));
    }
  }, /*#__PURE__*/React.createElement("i", {
    className: "fac fit-width"
  })), /*#__PURE__*/React.createElement("button", {
    id: "zoom-to-fit",
    className: "tool",
    title: "Set zoom to fit entire page in preview",
    onClick: function onClick() {
      return handleZoomButton(displayOptions.zoomLevel + calculateChange('fit'));
    }
  }, /*#__PURE__*/React.createElement("i", {
    className: "fac zoom-to-fit"
  })), /*#__PURE__*/React.createElement("button", {
    id: "zoom-out",
    className: "tool",
    onClick: function onClick() {
      return handleZoomButton(displayOptions.zoomLevel - 20);
    },
    disabled: displayOptions.zoomLevel <= MIN_ZOOM,
    title: "Zoom Out"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-magnifying-glass-minus"
  })), /*#__PURE__*/React.createElement("input", {
    id: "zoom-slider",
    className: "range-input tool hover-tooltip",
    type: "range",
    name: "zoom",
    title: "Set Zoom",
    list: "zoomLevels",
    min: MIN_ZOOM,
    max: MAX_ZOOM,
    step: "1",
    value: displayOptions.zoomLevel,
    onChange: function onChange(e) {
      return handleZoomButton(parseInt(e.target.value));
    }
  }), /*#__PURE__*/React.createElement("datalist", {
    id: "zoomLevels"
  }, /*#__PURE__*/React.createElement("option", {
    value: "100"
  })), /*#__PURE__*/React.createElement("button", {
    id: "zoom-in",
    className: "tool",
    onClick: function onClick() {
      return handleZoomButton(displayOptions.zoomLevel + 20);
    },
    disabled: displayOptions.zoomLevel >= MAX_ZOOM,
    title: "Zoom In"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-magnifying-glass-plus"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "group",
    role: "group",
    "aria-label": "Spread",
    "aria-hidden": !toolsVisible
  }, /*#__PURE__*/React.createElement("div", {
    className: "radio-group",
    role: "radiogroup"
  }, /*#__PURE__*/React.createElement("button", {
    role: "radio",
    id: "single-spread",
    className: "tool",
    title: "Single Page",
    onClick: function onClick() {
      handleOptionChange('spread', 'single');
    },
    "aria-checked": displayOptions.spread === 'single'
  }, /*#__PURE__*/React.createElement("i", {
    className: "fac single-spread"
  })), /*#__PURE__*/React.createElement("button", {
    role: "radio",
    id: "facing-spread",
    className: "tool",
    title: "Facing Pages",
    onClick: function onClick() {
      handleOptionChange('spread', 'facing');
    },
    "aria-checked": displayOptions.spread === 'facing'
  }, /*#__PURE__*/React.createElement("i", {
    className: "fac facing-spread"
  })), /*#__PURE__*/React.createElement("button", {
    role: "radio",
    id: "flow-spread",
    className: "tool",
    title: "Flow Pages",
    onClick: function onClick() {
      handleOptionChange('spread', 'flow');
    },
    "aria-checked": displayOptions.spread === 'flow'
  }, /*#__PURE__*/React.createElement("i", {
    className: "fac flow-spread"
  }))), /*#__PURE__*/React.createElement(_Anchored.Anchored, null, /*#__PURE__*/React.createElement(_Anchored.AnchoredTrigger, {
    id: "spread-settings",
    className: "tool",
    title: "Spread options"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-gear"
  })), /*#__PURE__*/React.createElement(_Anchored.AnchoredBox, {
    title: "Options"
  }, /*#__PURE__*/React.createElement("h1", null, "Options"), /*#__PURE__*/React.createElement("label", {
    title: "Modify the horizontal space between pages."
  }, "Column gap", /*#__PURE__*/React.createElement("input", {
    type: "range",
    min: 0,
    max: 200,
    defaultValue: displayOptions.columnGap || 10,
    className: "range-input",
    onChange: function onChange(evt) {
      return handleOptionChange('columnGap', evt.target.value);
    }
  })), /*#__PURE__*/React.createElement("label", {
    title: "Modify the vertical space between rows of pages."
  }, "Row gap", /*#__PURE__*/React.createElement("input", {
    type: "range",
    min: 0,
    max: 200,
    defaultValue: displayOptions.rowGap || 10,
    className: "range-input",
    onChange: function onChange(evt) {
      return handleOptionChange('rowGap', evt.target.value);
    }
  })), /*#__PURE__*/React.createElement("label", {
    title: "Start 1st page on the right side, such as if you have cover page."
  }, "Start on right", /*#__PURE__*/React.createElement("input", {
    type: "checkbox",
    checked: displayOptions.startOnRight,
    onChange: function onChange() {
      handleOptionChange('startOnRight', !displayOptions.startOnRight);
    },
    title: displayOptions.spread !== 'facing' ? 'Switch to Facing to enable toggle.' : null
  })), /*#__PURE__*/React.createElement("label", {
    title: "Toggle the page shadow on every page."
  }, "Page shadows", /*#__PURE__*/React.createElement("input", {
    type: "checkbox",
    checked: displayOptions.pageShadows,
    onChange: function onChange() {
      handleOptionChange('pageShadows', !displayOptions.pageShadows);
    }
  }))))), /*#__PURE__*/React.createElement("div", {
    className: "group",
    role: "group",
    "aria-label": "Pages",
    "aria-hidden": !toolsVisible
  }, /*#__PURE__*/React.createElement("button", {
    id: "previous-page",
    className: "previousPage tool",
    type: "button",
    title: "Previous Page(s)",
    onClick: function onClick() {
      return scrollToPage(_.min(visiblePages) - visiblePages.length);
    },
    disabled: visiblePages.includes(1)
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-arrow-left"
  })), /*#__PURE__*/React.createElement("div", {
    className: "tool"
  }, /*#__PURE__*/React.createElement("input", {
    id: "page-input",
    className: "text-input",
    type: "text",
    name: "page",
    title: "Current page(s) in view",
    inputMode: "numeric",
    pattern: "[0-9]",
    value: pageNum,
    onClick: function onClick(e) {
      return e.target.select();
    },
    onChange: function onChange(e) {
      return handlePageInput(e.target.value);
    },
    onBlur: function onBlur() {
      return scrollToPage(pageNum);
    },
    onKeyDown: function onKeyDown(e) {
      return e.key == 'Enter' && scrollToPage(pageNum);
    },
    style: {
      width: "".concat(pageNum.length, "ch")
    }
  }), /*#__PURE__*/React.createElement("span", {
    id: "page-count",
    title: "Total Page Count"
  }, "/ ", totalPages)), /*#__PURE__*/React.createElement("button", {
    id: "next-page",
    className: "tool",
    type: "button",
    title: "Next Page(s)",
    onClick: function onClick() {
      return scrollToPage(_.max(visiblePages) + 1);
    },
    disabled: visiblePages.includes(totalPages)
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-arrow-right"
  }))));
};
module.exports = ToolBar;
},{"../../../components/Anchored.jsx":2,"./toolBar.less":19,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/toConsumableArray":110,"lodash":"lodash","react":"react"}],19:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],20:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _markdown = _interopRequireDefault(require("../../../shared/naturalcrit/markdown.js"));
var _templateObject, _templateObject2;
/*eslint max-lines: ["warn", {"max": 500, "skipBlankLines": true, "skipComments": true}]*/
require('./editor.less');
var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
var dedent = require('dedent-tabs')["default"];
var CodeEditor = require('naturalcrit/codeEditor/codeEditor.jsx');
var SnippetBar = require('./snippetbar/snippetbar.jsx');
var MetadataEditor = require('./metadataEditor/metadataEditor.jsx');
var EDITOR_THEME_KEY = 'HOMEBREWERY-EDITOR-THEME';
var PAGEBREAK_REGEX_V3 = /^(?=\\page(?:break)?(?: *{[^\n{}]*})?$)/m;
var SNIPPETBREAK_REGEX_V3 = /^\\snippet\ .*$/;
var DEFAULT_STYLE_TEXT = dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t/*=======---  Example CSS styling  ---=======*/\n\t\t\t\t/* Any CSS here will apply to your document! */\n\n\t\t\t\t.myExampleClass {\n\t\t\t\t\tcolor: black;\n\t\t\t\t}"])));
var DEFAULT_SNIPPET_TEXT = dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\tsnippet example snippet\n\t\t\t\t\n\t\t\t\tThe text between `snippet title` lines will become a snippet of name `title` as this example provides.\n\t\t\t\t\n\t\t\t\tThis snippet is accessible in the brew tab, and will be inherited if the brew is used as a theme.\n"], ["\n\t\t\t\t\\snippet example snippet\n\t\t\t\t\n\t\t\t\tThe text between \\`\\snippet title\\` lines will become a snippet of name \\`title\\` as this example provides.\n\t\t\t\t\n\t\t\t\tThis snippet is accessible in the brew tab, and will be inherited if the brew is used as a theme.\n"])));
var isJumping = false;
var Editor = createClass({
  displayName: 'Editor',
  getDefaultProps: function getDefaultProps() {
    return {
      brew: {
        text: '',
        style: ''
      },
      onTextChange: function onTextChange() {},
      onStyleChange: function onStyleChange() {},
      onMetaChange: function onMetaChange() {},
      onSnipChange: function onSnipChange() {},
      reportError: function reportError() {},
      onCursorPageChange: function onCursorPageChange() {},
      onViewPageChange: function onViewPageChange() {},
      editorTheme: 'default',
      renderer: 'legacy',
      currentEditorCursorPageNum: 1,
      currentEditorViewPageNum: 1,
      currentBrewRendererPageNum: 1
    };
  },
  getInitialState: function getInitialState() {
    return {
      editorTheme: this.props.editorTheme,
      view: 'text',
      //'text', 'style', 'meta', 'snippet'
      snippetbarHeight: 25
    };
  },
  editor: React.createRef(null),
  codeEditor: React.createRef(null),
  isText: function isText() {
    return this.state.view == 'text';
  },
  isStyle: function isStyle() {
    return this.state.view == 'style';
  },
  isMeta: function isMeta() {
    return this.state.view == 'meta';
  },
  isSnip: function isSnip() {
    return this.state.view == 'snippet';
  },
  componentDidMount: function componentDidMount() {
    var _this = this;
    this.highlightCustomMarkdown();
    document.getElementById('BrewRenderer').addEventListener('keydown', this.handleControlKeys);
    document.addEventListener('keydown', this.handleControlKeys);
    this.codeEditor.current.codeMirror.on('cursorActivity', function (cm) {
      _this.updateCurrentCursorPage(cm.getCursor());
    });
    this.codeEditor.current.codeMirror.on('scroll', _.throttle(function () {
      _this.updateCurrentViewPage(_this.codeEditor.current.getTopVisibleLine());
    }, 200));
    var editorTheme = window.localStorage.getItem(EDITOR_THEME_KEY);
    if (editorTheme) {
      this.setState({
        editorTheme: editorTheme
      });
    }
    this.setState({
      snippetbarHeight: document.querySelector('.editor > .snippetBar').offsetHeight
    });
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState, snapshot) {
    this.highlightCustomMarkdown();
    if (prevProps.moveBrew !== this.props.moveBrew) this.brewJump();
    if (prevProps.moveSource !== this.props.moveSource) this.sourceJump();
    if (this.props.liveScroll) {
      if (prevProps.currentBrewRendererPageNum !== this.props.currentBrewRendererPageNum) {
        this.sourceJump(this.props.currentBrewRendererPageNum, false);
      } else if (prevProps.currentEditorViewPageNum !== this.props.currentEditorViewPageNum) {
        this.brewJump(this.props.currentEditorViewPageNum, false);
      } else if (prevProps.currentEditorCursorPageNum !== this.props.currentEditorCursorPageNum) {
        this.brewJump(this.props.currentEditorCursorPageNum, false);
      }
    }
  },
  handleControlKeys: function handleControlKeys(e) {
    if (!(e.ctrlKey && e.metaKey && e.shiftKey)) return;
    var LEFTARROW_KEY = 37;
    var RIGHTARROW_KEY = 39;
    if (e.keyCode == RIGHTARROW_KEY) this.brewJump();
    if (e.keyCode == LEFTARROW_KEY) this.sourceJump();
    if (e.keyCode == LEFTARROW_KEY || e.keyCode == RIGHTARROW_KEY) {
      e.stopPropagation();
      e.preventDefault();
    }
  },
  updateCurrentCursorPage: function updateCurrentCursorPage(cursor) {
    var lines = this.props.brew.text.split('\n').slice(1, cursor.line + 1);
    var pageRegex = this.props.brew.renderer == 'V3' ? PAGEBREAK_REGEX_V3 : /\\page/;
    var currentPage = lines.reduce(function (count, line) {
      return count + (pageRegex.test(line) ? 1 : 0);
    }, 1);
    this.props.onCursorPageChange(currentPage);
  },
  updateCurrentViewPage: function updateCurrentViewPage(topScrollLine) {
    var lines = this.props.brew.text.split('\n').slice(1, topScrollLine + 1);
    var pageRegex = this.props.brew.renderer == 'V3' ? PAGEBREAK_REGEX_V3 : /\\page/;
    var currentPage = lines.reduce(function (count, line) {
      return count + (pageRegex.test(line) ? 1 : 0);
    }, 1);
    this.props.onViewPageChange(currentPage);
  },
  handleInject: function handleInject(injectText) {
    var _this$codeEditor$curr;
    (_this$codeEditor$curr = this.codeEditor.current) === null || _this$codeEditor$curr === void 0 || _this$codeEditor$curr.injectText(injectText, false);
  },
  handleViewChange: function handleViewChange(newView) {
    var _this2 = this;
    this.props.setMoveArrows(newView === 'text');
    this.setState({
      view: newView
    }, function () {
      var _this2$codeEditor$cur;
      (_this2$codeEditor$cur = _this2.codeEditor.current) === null || _this2$codeEditor$cur === void 0 || _this2$codeEditor$cur.codeMirror.focus();
    });
  },
  highlightCustomMarkdown: function highlightCustomMarkdown() {
    var _this3 = this;
    if (!this.codeEditor.current) return;
    if (this.state.view === 'text' || this.state.view === 'snippet') {
      var codeMirror = this.codeEditor.current.codeMirror;
      codeMirror.operation(function () {
        // Batch CodeMirror styling

        var foldLines = [];

        //reset custom text styles
        var customHighlights = codeMirror.getAllMarks().filter(function (mark) {
          // Record details of folded sections
          if (mark.__isFold) {
            var _fold$from, _fold$to;
            var fold = mark.find();
            foldLines.push({
              from: (_fold$from = fold.from) === null || _fold$from === void 0 ? void 0 : _fold$from.line,
              to: (_fold$to = fold.to) === null || _fold$to === void 0 ? void 0 : _fold$to.line
            });
          }
          return !mark.__isFold;
        }); //Don't undo code folding

        for (var i = customHighlights.length - 1; i >= 0; i--) customHighlights[i].clear();
        var userSnippetCount = 1; // start snippet count from snippet 1
        var editorPageCount = 1; // start page count from page 1

        var whichSource = _this3.state.view === 'text' ? _this3.props.brew.text : _this3.props.brew.snippets;
        _.forEach(whichSource === null || whichSource === void 0 ? void 0 : whichSource.split('\n'), function (line, lineNumber) {
          var tabHighlight = _this3.state.view === 'text' ? 'pageLine' : 'snippetLine';
          var textOrSnip = _this3.state.view === 'text';

          //reset custom line styles
          codeMirror.removeLineClass(lineNumber, 'background', 'pageLine');
          codeMirror.removeLineClass(lineNumber, 'background', 'snippetLine');
          codeMirror.removeLineClass(lineNumber, 'text');
          codeMirror.removeLineClass(lineNumber, 'wrap', 'sourceMoveFlash');

          // Don't process lines inside folded text
          // If the current lineNumber is inside any folded marks, skip line styling
          if (foldLines.some(function (fold) {
            return lineNumber >= fold.from && lineNumber <= fold.to;
          })) return;

          // Styling for \page breaks
          if (_this3.props.renderer == 'legacy' && line.includes('\\page') || _this3.props.renderer == 'V3' && line.match(textOrSnip ? PAGEBREAK_REGEX_V3 : SNIPPETBREAK_REGEX_V3)) {
            if (lineNumber > 0 && textOrSnip)
              // Since \page is optional on first line of document,
              editorPageCount += 1; // don't use it to increment page count; stay at 1
            else if (_this3.state.view !== 'text') userSnippetCount += 1;

            // add back the original class 'background' but also add the new class '.pageline'
            codeMirror.addLineClass(lineNumber, 'background', tabHighlight);
            var pageCountElement = Object.assign(document.createElement('span'), {
              className: 'editor-page-count',
              textContent: textOrSnip ? editorPageCount : userSnippetCount
            });
            codeMirror.setBookmark({
              line: lineNumber,
              ch: line.length
            }, pageCountElement);
          }
          ;

          // New Codemirror styling for V3 renderer
          if (_this3.props.renderer === 'V3') {
            if (line.match(/^\\column(?:break)?$/)) {
              codeMirror.addLineClass(lineNumber, 'text', 'columnSplit');
            }

            // definition lists
            if (line.includes('::')) {
              if (/^:*$/.test(line) == true) {
                return;
              }
              ;
              var regex = new RegExp("^([^\\n]*?:?\\s?)(::[^\\n]*)(?:\\n|$)", "ymd"); // the `d` flag, for match indices, throws an ESLint error.
              var match;
              while ((match = regex.exec(line)) != null) {
                codeMirror.markText({
                  line: lineNumber,
                  ch: match.indices[0][0]
                }, {
                  line: lineNumber,
                  ch: match.indices[0][1]
                }, {
                  className: 'dl-highlight'
                });
                codeMirror.markText({
                  line: lineNumber,
                  ch: match.indices[1][0]
                }, {
                  line: lineNumber,
                  ch: match.indices[1][1]
                }, {
                  className: 'dt-highlight'
                });
                codeMirror.markText({
                  line: lineNumber,
                  ch: match.indices[2][0]
                }, {
                  line: lineNumber,
                  ch: match.indices[2][1]
                }, {
                  className: 'dd-highlight'
                });
                var ddIndex = match.indices[2][0];
                var colons = /::/g;
                var colonMatches = colons.exec(match[2]);
                if (colonMatches !== null) {
                  codeMirror.markText({
                    line: lineNumber,
                    ch: colonMatches.index + ddIndex
                  }, {
                    line: lineNumber,
                    ch: colonMatches.index + colonMatches[0].length + ddIndex
                  }, {
                    className: 'dl-colon-highlight'
                  });
                }
              }
            }

            // Subscript & Superscript
            if (line.includes('^')) {
              var startIndex = line.indexOf('^');
              var superRegex = new RegExp("\\^(?!\\s)(?=([^\\n\\^]*[^\\s\\^]))\\1\\^", "gy");
              var subRegex = new RegExp("\\^\\^(?!\\s)(?=([^\\n\\^]*[^\\s\\^]))\\1\\^\\^", "gy");
              while (startIndex >= 0) {
                superRegex.lastIndex = subRegex.lastIndex = startIndex;
                var isSuper = false;
                var _match = subRegex.exec(line) || superRegex.exec(line);
                if (_match) {
                  isSuper = !subRegex.lastIndex;
                  codeMirror.markText({
                    line: lineNumber,
                    ch: _match.index
                  }, {
                    line: lineNumber,
                    ch: _match.index + _match[0].length
                  }, {
                    className: isSuper ? 'superscript' : 'subscript'
                  });
                }
                startIndex = line.indexOf('^', Math.max(startIndex + 1, subRegex.lastIndex, superRegex.lastIndex));
              }
            }

            // Highlight injectors {style}
            if (line.includes('{') && line.includes('}')) {
              var _regex = /(?:^|[^{\n])({(?=((?:[:=](?:"[\w,\-()#%. ]*"|[\w\-()#%.]*)|[^"':={}\s]*)*))\2})/gm;
              var _match2;
              while ((_match2 = _regex.exec(line)) != null) {
                codeMirror.markText({
                  line: lineNumber,
                  ch: line.indexOf(_match2[1])
                }, {
                  line: lineNumber,
                  ch: line.indexOf(_match2[1]) + _match2[1].length
                }, {
                  className: 'injection'
                });
              }
            }
            // Highlight inline spans {{content}}
            if (line.includes('{{') && line.includes('}}')) {
              var _regex2 = /{{(?=((?:[:=](?:"[\w,\-()#%. ]*"|[\w\-()#%.]*)|[^"':={}\s]*)*))\1 *|}}/g;
              var _match3;
              var blockCount = 0;
              while ((_match3 = _regex2.exec(line)) != null) {
                if (_match3[0].startsWith('{')) {
                  blockCount += 1;
                } else {
                  blockCount -= 1;
                }
                if (blockCount < 0) {
                  blockCount = 0;
                  continue;
                }
                codeMirror.markText({
                  line: lineNumber,
                  ch: _match3.index
                }, {
                  line: lineNumber,
                  ch: _match3.index + _match3[0].length
                }, {
                  className: 'inline-block'
                });
              }
            } else if (line.trimLeft().startsWith('{{') || line.trimLeft().startsWith('}}')) {
              // Highlight block divs {{\n Content \n}}
              var endCh = line.length + 1;
              var _match4 = line.match(/^ *{{(?=((?:[:=](?:"[\w,\-()#%. ]*"|[\w\-()#%.]*)|[^"':={}\s]*)*))\1 *$|^ *}}$/);
              if (_match4) endCh = _match4.index + _match4[0].length;
              codeMirror.markText({
                line: lineNumber,
                ch: 0
              }, {
                line: lineNumber,
                ch: endCh
              }, {
                className: 'block'
              });
            }

            // Emojis
            if (line.match(/:[^\s:]+:/g)) {
              var _startIndex = line.indexOf(':');
              var emojiRegex = new RegExp(":[^\\s:]+:", "gy");
              while (_startIndex >= 0) {
                emojiRegex.lastIndex = _startIndex;
                var _match5 = emojiRegex.exec(line);
                if (_match5) {
                  var tokens = _markdown["default"].marked.lexer(_match5[0]);
                  tokens = tokens[0].tokens.filter(function (t) {
                    return t.type == 'emoji';
                  });
                  if (!tokens.length) return;
                  var startPos = {
                    line: lineNumber,
                    ch: _match5.index
                  };
                  var endPos = {
                    line: lineNumber,
                    ch: _match5.index + _match5[0].length
                  };

                  // Iterate over conflicting marks and clear them
                  var marks = codeMirror.findMarks(startPos, endPos);
                  marks.forEach(function (marker) {
                    if (!marker.__isFold) marker.clear();
                  });
                  codeMirror.markText(startPos, endPos, {
                    className: 'emoji'
                  });
                }
                _startIndex = line.indexOf(':', Math.max(_startIndex + 1, emojiRegex.lastIndex));
              }
            }
          }
        });
      });
    }
  },
  brewJump: function brewJump() {
    var targetPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.currentEditorCursorPageNum;
    var smooth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    if (!window || !this.isText() || isJumping) return;

    // Get current brewRenderer scroll position and calculate target position
    var brewRenderer = window.frames['BrewRenderer'].contentDocument.getElementsByClassName('brewRenderer')[0];
    var currentPos = brewRenderer.scrollTop;
    var targetPos = window.frames['BrewRenderer'].contentDocument.getElementById("p".concat(targetPage)).getBoundingClientRect().top;
    var _checkIfScrollComplete = function checkIfScrollComplete() {
      var scrollingTimeout;
      clearTimeout(scrollingTimeout); // Reset the timer every time a scroll event occurs
      scrollingTimeout = setTimeout(function () {
        isJumping = false;
        brewRenderer.removeEventListener('scroll', _checkIfScrollComplete);
      }, 150); // If 150 ms pass without a brewRenderer scroll event, assume scrolling is done
    };
    isJumping = true;
    _checkIfScrollComplete();
    brewRenderer.addEventListener('scroll', _checkIfScrollComplete);
    if (smooth) {
      var bouncePos = targetPos >= 0 ? -30 : 30; //Do a little bounce before scrolling
      var bounceDelay = 100;
      var scrollDelay = 500;
      if (!this.throttleBrewMove) {
        this.throttleBrewMove = _.throttle(function (currentPos, bouncePos, targetPos) {
          brewRenderer.scrollTo({
            top: currentPos + bouncePos,
            behavior: 'smooth'
          });
          setTimeout(function () {
            brewRenderer.scrollTo({
              top: currentPos + targetPos,
              behavior: 'smooth',
              block: 'start'
            });
          }, bounceDelay);
        }, scrollDelay, {
          leading: true,
          trailing: false
        });
      }
      ;
      this.throttleBrewMove(currentPos, bouncePos, targetPos);
    } else {
      brewRenderer.scrollTo({
        top: currentPos + targetPos,
        behavior: 'instant',
        block: 'start'
      });
    }
  },
  sourceJump: function sourceJump() {
    var _this4 = this;
    var targetPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.currentBrewRendererPageNum;
    var smooth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    if (!this.isText() || isJumping) return;
    var textSplit = this.props.renderer == 'V3' ? PAGEBREAK_REGEX_V3 : /\\page/;
    var textString = this.props.brew.text.split(textSplit).slice(0, targetPage - 1).join(textSplit);
    var targetLine = textString.match('\n') ? textString.split('\n').length - 1 : -1;
    var currentY = this.codeEditor.current.codeMirror.getScrollInfo().top;
    var targetY = this.codeEditor.current.codeMirror.heightAtLine(targetLine, 'local', true);
    var _checkIfScrollComplete2 = function checkIfScrollComplete() {
      var scrollingTimeout;
      clearTimeout(scrollingTimeout); // Reset the timer every time a scroll event occurs
      scrollingTimeout = setTimeout(function () {
        isJumping = false;
        _this4.codeEditor.current.codeMirror.off('scroll', _checkIfScrollComplete2);
      }, 150); // If 150 ms pass without a scroll event, assume scrolling is done
    };
    isJumping = true;
    _checkIfScrollComplete2();
    this.codeEditor.current.codeMirror.on('scroll', _checkIfScrollComplete2);
    if (smooth) {
      //Scroll 1/10 of the way every 10ms until 1px off.
      var incrementalScroll = setInterval(function () {
        currentY += (targetY - currentY) / 10;
        _this4.codeEditor.current.codeMirror.scrollTo(null, currentY);

        // Update target: target height is not accurate until within +-10 lines of the visible window
        if (Math.abs(targetY - currentY > 100)) targetY = _this4.codeEditor.current.codeMirror.heightAtLine(targetLine, 'local', true);

        // End when close enough
        if (Math.abs(targetY - currentY) < 1) {
          _this4.codeEditor.current.codeMirror.scrollTo(null, targetY); // Scroll any remaining difference
          _this4.codeEditor.current.setCursorPosition({
            line: targetLine + 1,
            ch: 0
          });
          _this4.codeEditor.current.codeMirror.addLineClass(targetLine + 1, 'wrap', 'sourceMoveFlash');
          clearInterval(incrementalScroll);
        }
      }, 10);
    } else {
      this.codeEditor.current.codeMirror.scrollTo(null, targetY); // Scroll any remaining difference
      this.codeEditor.current.setCursorPosition({
        line: targetLine + 1,
        ch: 0
      });
      this.codeEditor.current.codeMirror.addLineClass(targetLine + 1, 'wrap', 'sourceMoveFlash');
    }
  },
  //Called when there are changes to the editor's dimensions
  update: function update() {
    var _this$codeEditor$curr2;
    (_this$codeEditor$curr2 = this.codeEditor.current) === null || _this$codeEditor$curr2 === void 0 || _this$codeEditor$curr2.updateSize();
    var snipHeight = document.querySelector('.editor > .snippetBar').offsetHeight;
    if (snipHeight !== this.state.snippetbarHeight) this.setState({
      snippetbarHeight: snipHeight
    });
  },
  updateEditorTheme: function updateEditorTheme(newTheme) {
    window.localStorage.setItem(EDITOR_THEME_KEY, newTheme);
    this.setState({
      editorTheme: newTheme
    });
  },
  //Called by CodeEditor after document switch, so Snippetbar can refresh UndoHistory
  rerenderParent: function rerenderParent() {
    this.forceUpdate();
  },
  renderEditor: function renderEditor() {
    if (this.isText()) {
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CodeEditor, {
        key: "codeEditor",
        ref: this.codeEditor,
        language: "gfm",
        view: this.state.view,
        value: this.props.brew.text,
        onChange: this.props.onTextChange,
        editorTheme: this.state.editorTheme,
        rerenderParent: this.rerenderParent,
        style: {
          height: "calc(100% - ".concat(this.state.snippetbarHeight, "px)")
        }
      }));
    }
    if (this.isStyle()) {
      var _this$props$brew$styl;
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CodeEditor, {
        key: "codeEditor",
        ref: this.codeEditor,
        language: "css",
        view: this.state.view,
        value: (_this$props$brew$styl = this.props.brew.style) !== null && _this$props$brew$styl !== void 0 ? _this$props$brew$styl : DEFAULT_STYLE_TEXT,
        onChange: this.props.onStyleChange,
        enableFolding: true,
        editorTheme: this.state.editorTheme,
        rerenderParent: this.rerenderParent,
        style: {
          height: "calc(100% - ".concat(this.state.snippetbarHeight, "px)")
        }
      }));
    }
    if (this.isMeta()) {
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CodeEditor, {
        key: "codeEditor",
        view: this.state.view,
        style: {
          display: 'none'
        },
        rerenderParent: this.rerenderParent
      }), /*#__PURE__*/React.createElement(MetadataEditor, {
        metadata: this.props.brew,
        themeBundle: this.props.themeBundle,
        onChange: this.props.onMetaChange,
        reportError: this.props.reportError,
        userThemes: this.props.userThemes
      }));
    }
    if (this.isSnip()) {
      if (!this.props.brew.snippets) {
        this.props.brew.snippets = DEFAULT_SNIPPET_TEXT;
      }
      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CodeEditor, {
        key: "codeEditor",
        ref: this.codeEditor,
        language: "gfm",
        view: this.state.view,
        value: this.props.brew.snippets,
        onChange: this.props.onSnipChange,
        enableFolding: true,
        editorTheme: this.state.editorTheme,
        rerenderParent: this.rerenderParent,
        style: {
          height: "calc(100% - ".concat(this.state.snippetbarHeight, "px)")
        }
      }));
    }
  },
  redo: function redo() {
    var _this$codeEditor$curr3;
    return (_this$codeEditor$curr3 = this.codeEditor.current) === null || _this$codeEditor$curr3 === void 0 ? void 0 : _this$codeEditor$curr3.redo();
  },
  historySize: function historySize() {
    var _this$codeEditor$curr4;
    return (_this$codeEditor$curr4 = this.codeEditor.current) === null || _this$codeEditor$curr4 === void 0 ? void 0 : _this$codeEditor$curr4.historySize();
  },
  undo: function undo() {
    var _this$codeEditor$curr5;
    return (_this$codeEditor$curr5 = this.codeEditor.current) === null || _this$codeEditor$curr5 === void 0 ? void 0 : _this$codeEditor$curr5.undo();
  },
  foldCode: function foldCode() {
    var _this$codeEditor$curr6;
    return (_this$codeEditor$curr6 = this.codeEditor.current) === null || _this$codeEditor$curr6 === void 0 ? void 0 : _this$codeEditor$curr6.foldAllCode();
  },
  unfoldCode: function unfoldCode() {
    var _this$codeEditor$curr7;
    return (_this$codeEditor$curr7 = this.codeEditor.current) === null || _this$codeEditor$curr7 === void 0 ? void 0 : _this$codeEditor$curr7.unfoldAllCode();
  },
  render: function render() {
    var _this$codeEditor$curr8;
    return /*#__PURE__*/React.createElement("div", {
      className: "editor",
      ref: this.editor
    }, /*#__PURE__*/React.createElement(SnippetBar, {
      brew: this.props.brew,
      view: this.state.view,
      onViewChange: this.handleViewChange,
      onInject: this.handleInject,
      showEditButtons: this.props.showEditButtons,
      renderer: this.props.renderer,
      theme: this.props.brew.theme,
      undo: this.undo,
      redo: this.redo,
      foldCode: this.foldCode,
      unfoldCode: this.unfoldCode,
      historySize: this.historySize(),
      currentEditorTheme: this.state.editorTheme,
      updateEditorTheme: this.updateEditorTheme,
      themeBundle: this.props.themeBundle,
      cursorPos: ((_this$codeEditor$curr8 = this.codeEditor.current) === null || _this$codeEditor$curr8 === void 0 ? void 0 : _this$codeEditor$curr8.getCursorPosition()) || {},
      updateBrew: this.props.updateBrew
    }), this.renderEditor());
  }
});
module.exports = Editor;
},{"../../../shared/naturalcrit/markdown.js":279,"./editor.less":21,"./metadataEditor/metadataEditor.jsx":22,"./snippetbar/snippetbar.jsx":25,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"create-react-class":"create-react-class","dedent-tabs":190,"lodash":"lodash","naturalcrit/codeEditor/codeEditor.jsx":275,"react":"react"}],21:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],22:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _requestMiddleware = _interopRequireDefault(require("../../utils/request-middleware.js"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
/* eslint-disable max-lines */
require('./metadataEditor.less');
var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
var Combobox = require('client/components/combobox.jsx');
var TagInput = require('../tagInput/tagInput.jsx');
var Themes = require('themes/themes.json');
var validations = require('./validations.js');
var SYSTEMS = ['5e', '4e', '3.5e', 'Pathfinder'];
var homebreweryThumbnail = require('../../thumbnail.png');
var callIfExists = function callIfExists(val, fn) {
  if (val[fn]) {
    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      args[_key - 2] = arguments[_key];
    }
    val[fn].apply(val, args);
  }
};
var MetadataEditor = createClass({
  displayName: 'MetadataEditor',
  getDefaultProps: function getDefaultProps() {
    return {
      metadata: {
        editId: null,
        shareId: null,
        title: '',
        description: '',
        thumbnail: '',
        tags: [],
        published: false,
        authors: [],
        systems: [],
        renderer: 'legacy',
        theme: '5ePHB',
        lang: 'en'
      },
      onChange: function onChange() {},
      reportError: function reportError() {}
    };
  },
  getInitialState: function getInitialState() {
    return {
      showThumbnail: true
    };
  },
  toggleThumbnailDisplay: function toggleThumbnailDisplay() {
    this.setState({
      showThumbnail: !this.state.showThumbnail
    });
  },
  renderThumbnail: function renderThumbnail() {
    if (!this.state.showThumbnail) return;
    return /*#__PURE__*/React.createElement("img", {
      className: "thumbnail-preview",
      src: this.props.metadata.thumbnail || homebreweryThumbnail
    });
  },
  handleFieldChange: function handleFieldChange(name, e) {
    var _validations$name;
    // load validation rules, and check input value against them
    var inputRules = (_validations$name = validations[name]) !== null && _validations$name !== void 0 ? _validations$name : [];
    var validationErr = inputRules.map(function (rule) {
      return rule(e.target.value);
    }).filter(Boolean);
    var debouncedReportValidity = _.debounce(function (target, errMessage) {
      callIfExists(target, 'setCustomValidity', errMessage);
      callIfExists(target, 'reportValidity');
    }, 300); // 300ms debounce delay, adjust as needed

    // if no validation rules, save to props
    if (validationErr.length === 0) {
      callIfExists(e.target, 'setCustomValidity', '');
      this.props.onChange(_objectSpread(_objectSpread({}, this.props.metadata), {}, (0, _defineProperty2["default"])({}, name, e.target.value)));
      return true;
    } else {
      // if validation issues, display built-in browser error popup with each error.
      var errMessage = validationErr.map(function (err) {
        return "- ".concat(err);
      }).join('\n');
      debouncedReportValidity(e.target, errMessage);
      return false;
    }
  },
  handleSystem: function handleSystem(system, e) {
    if (e.target.checked) {
      this.props.metadata.systems.push(system);
    } else {
      this.props.metadata.systems = _.without(this.props.metadata.systems, system);
    }
    this.props.onChange(this.props.metadata);
  },
  handleRenderer: function handleRenderer(renderer, e) {
    if (e.target.checked) {
      this.props.metadata.renderer = renderer;
      if (renderer == 'legacy') this.props.metadata.theme = '5ePHB';
    }
    this.props.onChange(this.props.metadata, 'renderer');
  },
  handlePublish: function handlePublish(val) {
    this.props.onChange(_objectSpread(_objectSpread({}, this.props.metadata), {}, {
      published: val
    }));
  },
  handleTheme: function handleTheme(theme) {
    this.props.metadata.renderer = theme.renderer;
    this.props.metadata.theme = theme.path;
    this.props.onChange(this.props.metadata, 'theme');
  },
  handleThemeWritein: function handleThemeWritein(e) {
    var shareId = e.target.value.split('/').pop(); //Extract just the ID if a URL was pasted in
    this.props.metadata.theme = shareId;
    this.props.onChange(this.props.metadata, 'theme');
  },
  handleLanguage: function handleLanguage(languageCode) {
    this.props.metadata.lang = languageCode;
    this.props.onChange(this.props.metadata);
  },
  handleDelete: function handleDelete() {
    var _this$props$metadata$,
      _this = this;
    if (this.props.metadata.authors && this.props.metadata.authors.length <= 1) {
      if (!confirm('Are you sure you want to delete this brew? Because you are the only owner of this brew, the document will be deleted permanently.')) return;
      if (!confirm('Are you REALLY sure? You will not be able to recover the document.')) return;
    } else {
      if (!confirm('Are you sure you want to remove this brew from your collection? This will remove you as an editor, but other owners will still be able to access the document.')) return;
      if (!confirm('Are you REALLY sure? You will lose editor access to this document.')) return;
    }
    _requestMiddleware["default"]["delete"]("/api/".concat((_this$props$metadata$ = this.props.metadata.googleId) !== null && _this$props$metadata$ !== void 0 ? _this$props$metadata$ : '').concat(this.props.metadata.editId)).send().end(function (err, res) {
      if (err) {
        _this.props.reportError(err);
      } else {
        window.location.href = '/';
      }
    });
  },
  renderSystems: function renderSystems() {
    var _this2 = this;
    return _.map(SYSTEMS, function (val) {
      return /*#__PURE__*/React.createElement("label", {
        key: val
      }, /*#__PURE__*/React.createElement("input", {
        type: "checkbox",
        checked: _.includes(_this2.props.metadata.systems, val),
        onChange: function onChange(e) {
          return _this2.handleSystem(val, e);
        }
      }), val);
    });
  },
  renderPublish: function renderPublish() {
    var _this3 = this;
    if (this.props.metadata.published) {
      return /*#__PURE__*/React.createElement("button", {
        className: "unpublish",
        onClick: function onClick() {
          return _this3.handlePublish(false);
        }
      }, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-ban"
      }), " unpublish");
    } else {
      return /*#__PURE__*/React.createElement("button", {
        className: "publish",
        onClick: function onClick() {
          return _this3.handlePublish(true);
        }
      }, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-globe"
      }), " publish");
    }
  },
  renderDelete: function renderDelete() {
    if (!this.props.metadata.editId) return;
    return /*#__PURE__*/React.createElement("div", {
      className: "field delete"
    }, /*#__PURE__*/React.createElement("label", null, "delete"), /*#__PURE__*/React.createElement("div", {
      className: "value"
    }, /*#__PURE__*/React.createElement("button", {
      className: "publish",
      onClick: this.handleDelete
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-trash-alt"
    }), " delete brew")));
  },
  renderAuthors: function renderAuthors() {
    var text = 'None.';
    if (this.props.metadata.authors && this.props.metadata.authors.length) {
      text = this.props.metadata.authors.join(', ');
    }
    return /*#__PURE__*/React.createElement("div", {
      className: "field authors"
    }, /*#__PURE__*/React.createElement("label", null, "authors"), /*#__PURE__*/React.createElement("div", {
      className: "value"
    }, text));
  },
  renderThemeDropdown: function renderThemeDropdown() {
    var _this4 = this,
      _this$props$themeBund,
      _this$props$themeBund2;
    if (!global.enable_themes) return;
    var mergedThemes = _.merge(Themes, this.props.userThemes);
    var listThemes = function listThemes(renderer) {
      return _.map(_.values(mergedThemes[renderer]), function (theme) {
        var _theme$author, _theme$author2;
        if (theme.path == _this4.props.metadata.shareId) return;
        var preview = theme.thumbnail || "/themes/".concat(theme.renderer, "/").concat(theme.path, "/dropdownPreview.png");
        var texture = theme.thumbnail || "/themes/".concat(theme.renderer, "/").concat(theme.path, "/dropdownTexture.png");
        return /*#__PURE__*/React.createElement("div", {
          className: "item",
          key: "".concat(renderer, "_").concat(theme.name),
          value: "".concat((_theme$author = theme.author) !== null && _theme$author !== void 0 ? _theme$author : renderer, " : ").concat(theme.name),
          data: theme,
          title: ''
        }, (_theme$author2 = theme.author) !== null && _theme$author2 !== void 0 ? _theme$author2 : renderer, " : ", theme.name, /*#__PURE__*/React.createElement("div", {
          className: "texture-container"
        }, /*#__PURE__*/React.createElement("img", {
          src: texture
        })), /*#__PURE__*/React.createElement("div", {
          className: "preview"
        }, /*#__PURE__*/React.createElement("h6", null, theme.name, " preview"), /*#__PURE__*/React.createElement("img", {
          src: preview
        })));
      }).filter(Boolean);
    };
    var currentRenderer = this.props.metadata.renderer;
    var currentThemeDisplay = (_this$props$themeBund = this.props.themeBundle) !== null && _this$props$themeBund !== void 0 && _this$props$themeBund.name ? "".concat((_this$props$themeBund2 = this.props.themeBundle.author) !== null && _this$props$themeBund2 !== void 0 ? _this$props$themeBund2 : currentRenderer, " : ").concat(this.props.themeBundle.name) : 'No Theme Selected';
    var dropdown;
    if (currentRenderer == 'legacy') {
      dropdown = /*#__PURE__*/React.createElement("div", {
        className: "disabled value",
        trigger: "disabled"
      }, /*#__PURE__*/React.createElement("div", null, " Themes are not supported in the Legacy Renderer "));
    } else {
      dropdown = /*#__PURE__*/React.createElement("div", {
        className: "value"
      }, /*#__PURE__*/React.createElement(Combobox, {
        trigger: "click",
        className: "themes-dropdown",
        "default": currentThemeDisplay,
        placeholder: "Select from below, or enter the Share URL or ID of a brew with the meta:theme tag",
        onSelect: function onSelect(value) {
          return _this4.handleTheme(value);
        },
        onEntry: function onEntry(e) {
          e.target.setCustomValidity(''); //Clear the validation popup while typing
          if (_this4.handleFieldChange('theme', e)) _this4.handleThemeWritein(e);
        },
        options: listThemes(currentRenderer),
        autoSuggest: {
          suggestMethod: 'includes',
          clearAutoSuggestOnClick: true,
          filterOn: ['value', 'title']
        }
      }), /*#__PURE__*/React.createElement("small", null, "Select from the list below (built-in themes and brews you have tagged \"meta:theme\"), or paste in the Share URL or Share ID of any brew."));
    }
    return /*#__PURE__*/React.createElement("div", {
      className: "field themes"
    }, /*#__PURE__*/React.createElement("label", null, "theme"), dropdown);
  },
  renderLanguageDropdown: function renderLanguageDropdown() {
    var _this5 = this;
    var langCodes = ['en', 'de', 'de-ch', 'fr', 'ja', 'es', 'it', 'sv', 'ru', 'zh-Hans', 'zh-Hant'];
    var listLanguages = function listLanguages() {
      return _.map(langCodes.sort(), function (code, index) {
        var localName = new Intl.DisplayNames([code], {
          type: 'language'
        });
        var englishName = new Intl.DisplayNames('en', {
          type: 'language'
        });
        return /*#__PURE__*/React.createElement("div", {
          className: "item",
          title: englishName.of(code),
          key: "".concat(index),
          value: code,
          detail: localName.of(code)
        }, code, /*#__PURE__*/React.createElement("div", {
          className: "detail"
        }, localName.of(code)));
      });
    };
    return /*#__PURE__*/React.createElement("div", {
      className: "field language"
    }, /*#__PURE__*/React.createElement("label", null, "language"), /*#__PURE__*/React.createElement("div", {
      className: "value"
    }, /*#__PURE__*/React.createElement(Combobox, {
      trigger: "click",
      className: "language-dropdown",
      "default": this.props.metadata.lang || '',
      placeholder: "en",
      onSelect: function onSelect(value) {
        return _this5.handleLanguage(value);
      },
      onEntry: function onEntry(e) {
        e.target.setCustomValidity(''); //Clear the validation popup while typing
        _this5.handleFieldChange('lang', e);
      },
      options: listLanguages(),
      autoSuggest: {
        suggestMethod: 'startsWith',
        clearAutoSuggestOnClick: true,
        filterOn: ['value', 'detail', 'title']
      }
    }), /*#__PURE__*/React.createElement("small", null, "Sets the HTML Lang property for your brew. May affect hyphenation or spellcheck.")));
  },
  renderRenderOptions: function renderRenderOptions() {
    var _this6 = this;
    if (!global.enable_v3) return;
    return /*#__PURE__*/React.createElement("div", {
      className: "field systems"
    }, /*#__PURE__*/React.createElement("label", null, "Renderer"), /*#__PURE__*/React.createElement("div", {
      className: "value"
    }, /*#__PURE__*/React.createElement("label", {
      key: "legacy"
    }, /*#__PURE__*/React.createElement("input", {
      type: "radio",
      value: "legacy",
      name: "renderer",
      checked: this.props.metadata.renderer === 'legacy',
      onChange: function onChange(e) {
        return _this6.handleRenderer('legacy', e);
      }
    }), "Legacy"), /*#__PURE__*/React.createElement("label", {
      key: "V3"
    }, /*#__PURE__*/React.createElement("input", {
      type: "radio",
      value: "V3",
      name: "renderer",
      checked: this.props.metadata.renderer === 'V3',
      onChange: function onChange(e) {
        return _this6.handleRenderer('V3', e);
      }
    }), "V3"), /*#__PURE__*/React.createElement("small", null, /*#__PURE__*/React.createElement("a", {
      href: "/legacy",
      target: "_blank",
      rel: "noopener noreferrer"
    }, "Click here to see the demo page for the old Legacy renderer!"))));
  },
  render: function render() {
    var _this7 = this;
    return /*#__PURE__*/React.createElement("div", {
      className: "metadataEditor"
    }, /*#__PURE__*/React.createElement("h1", null, "Properties Editor"), /*#__PURE__*/React.createElement("div", {
      className: "field title"
    }, /*#__PURE__*/React.createElement("label", null, "title"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      className: "value",
      defaultValue: this.props.metadata.title,
      onChange: function onChange(e) {
        return _this7.handleFieldChange('title', e);
      }
    })), /*#__PURE__*/React.createElement("div", {
      className: "field-group"
    }, /*#__PURE__*/React.createElement("div", {
      className: "field-column"
    }, /*#__PURE__*/React.createElement("div", {
      className: "field description"
    }, /*#__PURE__*/React.createElement("label", null, "description"), /*#__PURE__*/React.createElement("textarea", {
      defaultValue: this.props.metadata.description,
      className: "value",
      onChange: function onChange(e) {
        return _this7.handleFieldChange('description', e);
      }
    })), /*#__PURE__*/React.createElement("div", {
      className: "field thumbnail"
    }, /*#__PURE__*/React.createElement("label", null, "thumbnail"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      defaultValue: this.props.metadata.thumbnail,
      placeholder: "https://my.thumbnail.url",
      className: "value",
      onChange: function onChange(e) {
        return _this7.handleFieldChange('thumbnail', e);
      }
    }), /*#__PURE__*/React.createElement("button", {
      className: "display",
      onClick: this.toggleThumbnailDisplay
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-caret-".concat(this.state.showThumbnail ? 'right' : 'left')
    })))), this.renderThumbnail()), /*#__PURE__*/React.createElement(TagInput, {
      label: "tags",
      valuePatterns: [/^(?:(?:group|meta|system|type):)?[A-Za-z0-9][A-Za-z0-9 \/.\-]{0,40}$/],
      placeholder: "add tag",
      unique: true,
      values: this.props.metadata.tags,
      onChange: function onChange(e) {
        return _this7.handleFieldChange('tags', e);
      }
    }), /*#__PURE__*/React.createElement("div", {
      className: "field systems"
    }, /*#__PURE__*/React.createElement("label", null, "systems"), /*#__PURE__*/React.createElement("div", {
      className: "value"
    }, this.renderSystems())), this.renderLanguageDropdown(), this.renderThemeDropdown(), this.renderRenderOptions(), /*#__PURE__*/React.createElement("h2", null, "Authors"), this.renderAuthors(), /*#__PURE__*/React.createElement(TagInput, {
      label: "invited authors",
      valuePatterns: [/.+/],
      validators: [function (v) {
        var _this7$props$metadata;
        return !((_this7$props$metadata = _this7.props.metadata.authors) !== null && _this7$props$metadata !== void 0 && _this7$props$metadata.includes(v));
      }],
      placeholder: "invite author",
      unique: true,
      values: this.props.metadata.invitedAuthors,
      notes: ['Invited author usernames are case sensitive.', 'After adding an invited author, send them the edit link. There, they can choose to accept or decline the invitation.'],
      onChange: function onChange(e) {
        return _this7.handleFieldChange('invitedAuthors', e);
      }
    }), /*#__PURE__*/React.createElement("h2", null, "Privacy"), /*#__PURE__*/React.createElement("div", {
      className: "field publish"
    }, /*#__PURE__*/React.createElement("label", null, "publish"), /*#__PURE__*/React.createElement("div", {
      className: "value"
    }, this.renderPublish(), /*#__PURE__*/React.createElement("small", null, "Published brews are searchable in ", /*#__PURE__*/React.createElement("a", {
      href: "/vault"
    }, "the Vault"), " and visible on your user page.  Unpublished brews are not indexed in the Vault or visible on your user page, but can still be shared and indexed by search engines.  You can unpublish a brew any time."))), this.renderDelete());
  }
});
module.exports = MetadataEditor;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../../thumbnail.png":68,"../../utils/request-middleware.js":71,"../tagInput/tagInput.jsx":27,"./metadataEditor.less":23,"./validations.js":24,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"client/components/combobox.jsx":4,"create-react-class":"create-react-class","lodash":"lodash","react":"react","themes/themes.json":310}],23:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],24:[function(require,module,exports){
(function (global){(function (){
"use strict";

module.exports = {
  title: [function (value) {
    return (value === null || value === void 0 ? void 0 : value.length) > 100 ? 'Max title length of 100 characters' : null;
  }],
  description: [function (value) {
    return (value === null || value === void 0 ? void 0 : value.length) > 500 ? 'Max description length of 500 characters.' : null;
  }],
  thumbnail: [function (value) {
    return (value === null || value === void 0 ? void 0 : value.length) > 256 ? 'Max URL length of 256 characters.' : null;
  }, function (value) {
    if ((value === null || value === void 0 ? void 0 : value.length) == 0) {
      return null;
    }
    try {
      Boolean(new URL(value));
      return null;
    } catch (e) {
      return 'Must be a valid URL';
    }
  }],
  lang: [function (value) {
    return new RegExp(/^([a-zA-Z]{2,3})(-[a-zA-Z]{4})?(-(?:[0-9]{3}|[a-zA-Z]{2}))?$/).test(value) === false && value.length > 0 ? 'Invalid language code.' : null;
  }],
  theme: [function (value) {
    var URL = global.config.baseUrl.replace(/[-/\\^$*+?.()|[\]{}]/g, '\\$&'); //Escape any regex characters
    var shareIDPattern = '[a-zA-Z0-9-_]{12}';
    var shareURLRegex = new RegExp("^".concat(URL, "\\/share\\/").concat(shareIDPattern, "$"));
    var shareIDRegex = new RegExp("^".concat(shareIDPattern, "$"));
    if ((value === null || value === void 0 ? void 0 : value.length) === 0) return null;
    if (shareURLRegex.test(value)) return null;
    if (shareIDRegex.test(value)) return null;
    return 'Must be a valid Share URL or a 12-character ID.';
  }]
};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],25:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _versionHistory = require("../../utils/versionHistory.js");
var _helpers = require("../../../../shared/helpers.js");
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/*eslint max-lines: ["warn", {"max": 350, "skipBlankLines": true, "skipComments": true}]*/
require('./snippetbar.less');
var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
var cx = require('classnames');
//Import all themes
var ThemeSnippets = {};
ThemeSnippets['Legacy_5ePHB'] = require('themes/Legacy/5ePHB/snippets.js');
ThemeSnippets['V3_5ePHB'] = require('themes/V3/5ePHB/snippets.js');
ThemeSnippets['V3_5eDMG'] = require('themes/V3/5eDMG/snippets.js');
ThemeSnippets['V3_Journal'] = require('themes/V3/Journal/snippets.js');
ThemeSnippets['V3_Blank'] = require('themes/V3/Blank/snippets.js');
var EditorThemes = require('build/homebrew/codeMirror/editorThemes.json');
var execute = function execute(val, props) {
  if (_.isFunction(val)) return val(props);
  return val;
};
var Snippetbar = createClass({
  displayName: 'SnippetBar',
  getDefaultProps: function getDefaultProps() {
    return {
      brew: {},
      view: 'text',
      onViewChange: function onViewChange() {},
      onInject: function onInject() {},
      onToggle: function onToggle() {},
      showEditButtons: true,
      renderer: 'legacy',
      undo: function undo() {},
      redo: function redo() {},
      historySize: function historySize() {},
      foldCode: function foldCode() {},
      unfoldCode: function unfoldCode() {},
      updateEditorTheme: function updateEditorTheme() {},
      cursorPos: {},
      themeBundle: [],
      updateBrew: function updateBrew() {}
    };
  },
  getInitialState: function getInitialState() {
    return {
      renderer: this.props.renderer,
      themeSelector: false,
      snippets: [],
      showHistory: false,
      historyExists: false,
      historyItems: []
    };
  },
  componentDidMount: function () {
    var _componentDidMount = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(prevState) {
      var snippets;
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            snippets = this.compileSnippets();
            this.setState({
              snippets: snippets
            });
          case 1:
          case "end":
            return _context.stop();
        }
      }, _callee, this);
    }));
    function componentDidMount(_x) {
      return _componentDidMount.apply(this, arguments);
    }
    return componentDidMount;
  }(),
  componentDidUpdate: function () {
    var _componentDidUpdate = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(prevProps, prevState) {
      var checkHistoryItems, checkHistoryExists;
      return _regenerator["default"].wrap(function (_context2) {
        while (1) switch (_context2.prev = _context2.next) {
          case 0:
            if (prevProps.renderer != this.props.renderer || prevProps.theme != this.props.theme || prevProps.themeBundle != this.props.themeBundle || prevProps.brew.snippets != this.props.brew.snippets) {
              this.setState({
                snippets: this.compileSnippets()
              });
            }
            ;

            // Update history list if it has changed
            _context2.next = 1;
            return (0, _versionHistory.loadHistory)(this.props.brew);
          case 1:
            checkHistoryItems = _context2.sent;
            // If all items have the noData property, there is no saved data
            checkHistoryExists = !checkHistoryItems.every(function (historyItem) {
              return historyItem === null || historyItem === void 0 ? void 0 : historyItem.noData;
            });
            if (prevState.historyExists != checkHistoryExists) {
              this.setState({
                historyExists: checkHistoryExists
              });
            }

            // If any history items have changed, update the list
            if (checkHistoryExists && checkHistoryItems.some(function (historyItem, index) {
              return index >= prevState.historyItems.length || !_.isEqual(historyItem, prevState.historyItems[index]);
            })) {
              this.setState({
                historyItems: checkHistoryItems
              });
            }
          case 2:
          case "end":
            return _context2.stop();
        }
      }, _callee2, this);
    }));
    function componentDidUpdate(_x2, _x3) {
      return _componentDidUpdate.apply(this, arguments);
    }
    return componentDidUpdate;
  }(),
  mergeCustomizer: function mergeCustomizer(oldValue, newValue, key) {
    if (key == 'snippets') {
      var result = _.reverse(_.unionBy(_.reverse(newValue), _.reverse(oldValue), 'name')); // Join snippets together, with preference for the child theme over the parent theme
      return result.filter(function (snip) {
        return snip.gen || snip.subsnippets;
      });
    }
    ;
  },
  compileSnippets: function compileSnippets() {
    var compiledSnippets = [];
    var oldSnippets = _.keyBy(compiledSnippets, 'groupName');
    if (this.props.themeBundle.snippets) {
      var _iterator = _createForOfIteratorHelper(this.props.themeBundle.snippets),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var snippets = _step.value;
          if (typeof snippets == 'string')
            // load staticThemes as needed; they were sent as just a file name
            snippets = ThemeSnippets[snippets];
          var newSnippets = _.keyBy(_.cloneDeep(snippets), 'groupName');
          compiledSnippets = _.values(_.mergeWith(oldSnippets, newSnippets, this.mergeCustomizer));
          oldSnippets = _.keyBy(compiledSnippets, 'groupName');
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
    var userSnippetsasJSON = (0, _helpers.brewSnippetsToJSON)(this.props.brew.title || 'New Document', this.props.brew.snippets, this.props.themeBundle.snippets);
    compiledSnippets.push(userSnippetsasJSON);
    return compiledSnippets;
  },
  handleSnippetClick: function handleSnippetClick(injectedText) {
    this.props.onInject(injectedText);
  },
  toggleThemeSelector: function toggleThemeSelector(e) {
    if (e.target.tagName != 'SELECT') {
      this.setState({
        themeSelector: !this.state.themeSelector
      });
    }
  },
  changeTheme: function changeTheme(e) {
    if (e.target.value == this.props.currentEditorTheme) return;
    this.props.updateEditorTheme(e.target.value);
    this.setState({
      showThemeSelector: false
    });
  },
  renderThemeSelector: function renderThemeSelector() {
    return /*#__PURE__*/React.createElement("div", {
      className: "themeSelector"
    }, /*#__PURE__*/React.createElement("select", {
      value: this.props.currentEditorTheme,
      onChange: this.changeTheme
    }, EditorThemes.map(function (theme, key) {
      return /*#__PURE__*/React.createElement("option", {
        key: key,
        value: theme
      }, theme);
    })));
  },
  renderSnippetGroups: function renderSnippetGroups() {
    var _this = this;
    var snippets = this.state.snippets.filter(function (snippetGroup) {
      return snippetGroup.view === _this.props.view;
    });
    if (snippets.length === 0) return null;
    return /*#__PURE__*/React.createElement("div", {
      className: "snippets"
    }, _.map(snippets, function (snippetGroup) {
      return /*#__PURE__*/React.createElement(SnippetGroup, {
        brew: _this.props.brew,
        groupName: snippetGroup.groupName,
        icon: snippetGroup.icon,
        snippets: snippetGroup.snippets,
        key: snippetGroup.groupName,
        onSnippetClick: _this.handleSnippetClick,
        cursorPos: _this.props.cursorPos
      });
    }));
  },
  replaceContent: function replaceContent(item) {
    return this.props.updateBrew(item);
  },
  toggleHistoryMenu: function toggleHistoryMenu() {
    this.setState({
      showHistory: !this.state.showHistory
    });
  },
  renderHistoryItems: function renderHistoryItems() {
    var _this2 = this;
    if (!this.state.historyExists) return;
    return /*#__PURE__*/React.createElement("div", {
      className: "dropdown"
    }, _.map(this.state.historyItems, function (item, index) {
      if (item.noData || !item.savedAt) return;
      var saveTime = new Date(item.savedAt);
      var diffMs = new Date() - saveTime;
      var diffSecs = Math.floor(diffMs / 1000);
      var diffString = "about ".concat(diffSecs, " seconds ago");
      if (diffSecs > 60) diffString = "about ".concat(Math.floor(diffSecs / 60), " minutes ago");
      if (diffSecs > 60 * 60) diffString = "about ".concat(Math.floor(diffSecs / (60 * 60)), " hours ago");
      if (diffSecs > 24 * 60 * 60) diffString = "about ".concat(Math.floor(diffSecs / (24 * 60 * 60)), " days ago");
      if (diffSecs > 7 * 24 * 60 * 60) diffString = "about ".concat(Math.floor(diffSecs / (7 * 24 * 60 * 60)), " weeks ago");
      return /*#__PURE__*/React.createElement("div", {
        className: "snippet",
        key: index,
        onClick: function onClick() {
          _this2.replaceContent(item);
        }
      }, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-".concat(index + 1)
      }), /*#__PURE__*/React.createElement("span", {
        className: "name",
        title: saveTime.toISOString()
      }, "v", item.version, " : ", diffString));
    }));
  },
  renderEditorButtons: function renderEditorButtons() {
    var _this3 = this;
    if (!this.props.showEditButtons) return;
    return /*#__PURE__*/React.createElement("div", {
      className: "editors"
    }, this.props.view !== 'meta' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("div", {
      className: "historyTools"
    }, /*#__PURE__*/React.createElement("div", {
      className: "editorTool snippetGroup history ".concat(this.state.historyExists ? 'active' : ''),
      onClick: this.toggleHistoryMenu
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-clock-rotate-left"
    }), this.state.showHistory && this.renderHistoryItems()), /*#__PURE__*/React.createElement("div", {
      className: "editorTool undo ".concat(this.props.historySize.undo ? 'active' : ''),
      onClick: this.props.undo
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-undo"
    })), /*#__PURE__*/React.createElement("div", {
      className: "editorTool redo ".concat(this.props.historySize.redo ? 'active' : ''),
      onClick: this.props.redo
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-redo"
    }))), /*#__PURE__*/React.createElement("div", {
      className: "codeTools"
    }, /*#__PURE__*/React.createElement("div", {
      className: "editorTool foldAll ".concat(this.props.foldCode ? 'active' : ''),
      onClick: this.props.foldCode
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-compress-alt"
    })), /*#__PURE__*/React.createElement("div", {
      className: "editorTool unfoldAll ".concat(this.props.unfoldCode ? 'active' : ''),
      onClick: this.props.unfoldCode
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-expand-alt"
    })), /*#__PURE__*/React.createElement("div", {
      className: "editorTheme ".concat(this.state.themeSelector ? 'active' : ''),
      onClick: this.toggleThemeSelector
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-palette"
    }), this.state.themeSelector && this.renderThemeSelector()))), /*#__PURE__*/React.createElement("div", {
      className: "tabs"
    }, /*#__PURE__*/React.createElement("div", {
      className: cx('text', {
        selected: this.props.view === 'text'
      }),
      onClick: function onClick() {
        return _this3.props.onViewChange('text');
      }
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa fa-beer"
    })), /*#__PURE__*/React.createElement("div", {
      className: cx('style', {
        selected: this.props.view === 'style'
      }),
      onClick: function onClick() {
        return _this3.props.onViewChange('style');
      }
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa fa-paint-brush"
    })), /*#__PURE__*/React.createElement("div", {
      className: cx('snippet', {
        selected: this.props.view === 'snippet'
      }),
      onClick: function onClick() {
        return _this3.props.onViewChange('snippet');
      }
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-th-list"
    })), /*#__PURE__*/React.createElement("div", {
      className: cx('meta', {
        selected: this.props.view === 'meta'
      }),
      onClick: function onClick() {
        return _this3.props.onViewChange('meta');
      }
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-info-circle"
    }))));
  },
  render: function render() {
    return /*#__PURE__*/React.createElement("div", {
      className: "snippetBar"
    }, this.renderSnippetGroups(), this.renderEditorButtons());
  }
});
module.exports = Snippetbar;
var SnippetGroup = createClass({
  displayName: 'SnippetGroup',
  getDefaultProps: function getDefaultProps() {
    return {
      brew: {},
      groupName: '',
      icon: 'fas fa-rocket',
      snippets: [],
      onSnippetClick: function onSnippetClick() {}
    };
  },
  handleSnippetClick: function handleSnippetClick(e, snippet) {
    e.stopPropagation();
    this.props.onSnippetClick(execute(snippet.gen, this.props));
  },
  renderSnippets: function renderSnippets(snippets) {
    var _this4 = this;
    return _.map(snippets, function (snippet) {
      return /*#__PURE__*/React.createElement("div", {
        className: "snippet",
        key: snippet.name,
        onClick: function onClick(e) {
          return _this4.handleSnippetClick(e, snippet);
        }
      }, /*#__PURE__*/React.createElement("i", {
        className: snippet.icon
      }), /*#__PURE__*/React.createElement("span", {
        className: "name".concat(snippet.disabled ? ' disabled' : ''),
        title: snippet.name
      }, snippet.name), snippet.experimental && /*#__PURE__*/React.createElement("span", {
        className: "beta"
      }, "beta"), snippet.disabled && /*#__PURE__*/React.createElement("span", {
        className: "beta",
        title: "temporarily disabled due to large slowdown; under re-design"
      }, "disabled"), snippet.subsnippets && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-caret-right"
      }), /*#__PURE__*/React.createElement("div", {
        className: "dropdown side"
      }, _this4.renderSnippets(snippet.subsnippets))));
    });
  },
  render: function render() {
    var snippetGroup = "snippetGroup snippetBarButton ".concat(this.props.snippets.length === 0 ? 'disabledSnippets' : '');
    return /*#__PURE__*/React.createElement("div", {
      className: snippetGroup
    }, /*#__PURE__*/React.createElement("div", {
      className: "text"
    }, /*#__PURE__*/React.createElement("i", {
      className: this.props.icon
    }), /*#__PURE__*/React.createElement("span", {
      className: "groupName"
    }, this.props.groupName)), /*#__PURE__*/React.createElement("div", {
      className: "dropdown"
    }, this.renderSnippets(this.props.snippets)));
  }
});
},{"../../../../shared/helpers.js":270,"../../utils/versionHistory.js":72,"./snippetbar.less":26,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":116,"build/homebrew/codeMirror/editorThemes.json":1,"classnames":"classnames","create-react-class":"create-react-class","lodash":"lodash","react":"react","themes/Legacy/5ePHB/snippets.js":283,"themes/V3/5eDMG/snippets.js":290,"themes/V3/5ePHB/snippets.js":291,"themes/V3/Blank/snippets.js":299,"themes/V3/Journal/snippets.js":305}],26:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],27:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["unique", "values"];
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
require('./tagInput.less');
var React = require('react');
var useState = React.useState,
  useEffect = React.useEffect;
var _ = require('lodash');
var TagInput = function TagInput(_ref) {
  var _ref$unique = _ref.unique,
    unique = _ref$unique === void 0 ? true : _ref$unique,
    _ref$values = _ref.values,
    values = _ref$values === void 0 ? [] : _ref$values,
    props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var _useState = useState(''),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    tempInputText = _useState2[0],
    setTempInputText = _useState2[1];
  var _useState3 = useState(values.map(function (value) {
      return {
        value: value,
        editing: false
      };
    })),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    tagList = _useState4[0],
    setTagList = _useState4[1];
  useEffect(function () {
    handleChange(tagList.map(function (context) {
      return context.value;
    }));
  }, [tagList]);
  var handleChange = function handleChange(value) {
    props.onChange({
      target: {
        value: value
      }
    });
  };
  var handleInputKeyDown = function handleInputKeyDown(_ref2) {
    var evt = _ref2.evt,
      value = _ref2.value,
      index = _ref2.index,
      _ref2$options = _ref2.options,
      options = _ref2$options === void 0 ? {} : _ref2$options;
    if (_.includes(['Enter', ','], evt.key)) {
      evt.preventDefault();
      submitTag(evt.target.value, value, index);
      if (options.clear) {
        setTempInputText('');
      }
    }
  };
  var submitTag = function submitTag(newValue, originalValue, index) {
    setTagList(function (prevContext) {
      // remove existing tag
      if (newValue === null) {
        return (0, _toConsumableArray2["default"])(prevContext).filter(function (context, i) {
          return i !== index;
        });
      }
      // add new tag
      if (originalValue === null) {
        return [].concat((0, _toConsumableArray2["default"])(prevContext), [{
          value: newValue,
          editing: false
        }]);
      }
      // update existing tag
      return prevContext.map(function (context, i) {
        if (i === index) {
          return _objectSpread(_objectSpread({}, context), {}, {
            value: newValue,
            editing: false
          });
        }
        return context;
      });
    });
  };
  var editTag = function editTag(index) {
    setTagList(function (prevContext) {
      return prevContext.map(function (context, i) {
        if (i === index) {
          return _objectSpread(_objectSpread({}, context), {}, {
            editing: true
          });
        }
        return _objectSpread(_objectSpread({}, context), {}, {
          editing: false
        });
      });
    });
  };
  var renderReadTag = function renderReadTag(context, index) {
    return /*#__PURE__*/React.createElement("li", {
      key: index,
      "data-value": context.value,
      className: "tag",
      onClick: function onClick() {
        return editTag(index);
      }
    }, context.value, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick(evt) {
        evt.stopPropagation();
        submitTag(null, context.value, index);
      }
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa fa-times fa-fw"
    })));
  };
  var renderWriteTag = function renderWriteTag(context, index) {
    return /*#__PURE__*/React.createElement("input", {
      type: "text",
      key: index,
      defaultValue: context.value,
      onKeyDown: function onKeyDown(evt) {
        return handleInputKeyDown({
          evt: evt,
          value: context.value,
          index: index
        });
      },
      autoFocus: true
    });
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "field"
  }, /*#__PURE__*/React.createElement("label", null, props.label), /*#__PURE__*/React.createElement("div", {
    className: "value"
  }, /*#__PURE__*/React.createElement("ul", {
    className: "list"
  }, tagList.map(function (context, index) {
    return context.editing ? renderWriteTag(context, index) : renderReadTag(context, index);
  })), /*#__PURE__*/React.createElement("input", {
    type: "text",
    className: "value",
    placeholder: props.placeholder,
    value: tempInputText,
    onChange: function onChange(e) {
      return setTempInputText(e.target.value);
    },
    onKeyDown: function onKeyDown(evt) {
      return handleInputKeyDown({
        evt: evt,
        value: null,
        options: {
          clear: true
        }
      });
    }
  })));
};
module.exports = TagInput;
},{"./tagInput.less":28,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/objectWithoutProperties":94,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/toConsumableArray":110,"lodash":"lodash","react":"react"}],28:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],29:[function(require,module,exports){
module.exports='/googleDrive.svg';
},{}],30:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
require("core-js/es/string/to-well-formed.js");
require("./homebrew.less");
var _react = _interopRequireDefault(require("react"));
var _reactRouter = require("react-router");
var _homePage = _interopRequireDefault(require("./pages/homePage/homePage.jsx"));
var _editPage = _interopRequireDefault(require("./pages/editPage/editPage.jsx"));
var _userPage = _interopRequireDefault(require("./pages/userPage/userPage.jsx"));
var _sharePage = _interopRequireDefault(require("./pages/sharePage/sharePage.jsx"));
var _newPage = _interopRequireDefault(require("./pages/newPage/newPage.jsx"));
var _errorPage = _interopRequireDefault(require("./pages/errorPage/errorPage.jsx"));
var _vaultPage = _interopRequireDefault(require("./pages/vaultPage/vaultPage.jsx"));
var _accountPage = _interopRequireDefault(require("./pages/accountPage/accountPage.jsx"));
var _excluded = ["el"];
/* eslint-disable camelcase */
//Polyfill for older browsers
var WithRoute = function WithRoute(_ref) {
  var Element = _ref.el,
    rest = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var params = (0, _reactRouter.useParams)();
  var _useSearchParams = (0, _reactRouter.useSearchParams)(),
    _useSearchParams2 = (0, _slicedToArray2["default"])(_useSearchParams, 1),
    searchParams = _useSearchParams2[0];
  var queryParams = Object.fromEntries((searchParams === null || searchParams === void 0 ? void 0 : searchParams.entries()) || []);
  return /*#__PURE__*/_react["default"].createElement(Element, (0, _extends2["default"])({}, rest, params, {
    query: queryParams
  }));
};
var Homebrew = function Homebrew(props) {
  var _props$url = props.url,
    url = _props$url === void 0 ? '' : _props$url,
    _props$version = props.version,
    version = _props$version === void 0 ? '0.0.0' : _props$version,
    _props$account = props.account,
    account = _props$account === void 0 ? null : _props$account,
    _props$enable_v = props.enable_v3,
    enable_v3 = _props$enable_v === void 0 ? false : _props$enable_v,
    enable_themes = props.enable_themes,
    config = props.config,
    _props$brew = props.brew,
    brew = _props$brew === void 0 ? {
      title: '',
      text: '',
      shareId: null,
      editId: null,
      createdAt: null,
      updatedAt: null,
      lang: ''
    } : _props$brew,
    userThemes = props.userThemes,
    brews = props.brews;
  global.account = account;
  global.version = version;
  global.enable_v3 = enable_v3;
  global.enable_themes = enable_themes;
  global.config = config;
  return /*#__PURE__*/_react["default"].createElement(_reactRouter.StaticRouter, {
    location: url
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "homebrew"
  }, /*#__PURE__*/_react["default"].createElement(_reactRouter.Routes, null, /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/edit/:id",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _editPage["default"],
      brew: brew,
      userThemes: userThemes
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/share/:id",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _sharePage["default"],
      brew: brew
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/new/:id",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _newPage["default"],
      brew: brew,
      userThemes: userThemes
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/new",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _newPage["default"],
      userThemes: userThemes
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/user/:username",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _userPage["default"],
      brews: brews
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/vault",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _vaultPage["default"]
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/changelog",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _sharePage["default"],
      brew: brew,
      disableMeta: true
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/faq",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _sharePage["default"],
      brew: brew,
      disableMeta: true
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/migrate",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _sharePage["default"],
      brew: brew,
      disableMeta: true
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/account",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _accountPage["default"],
      brew: brew,
      accountDetails: brew.accountDetails
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/legacy",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _homePage["default"],
      brew: brew
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/error",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _errorPage["default"],
      brew: brew
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _homePage["default"],
      brew: brew
    })
  }), /*#__PURE__*/_react["default"].createElement(_reactRouter.Route, {
    path: "/*",
    element: /*#__PURE__*/_react["default"].createElement(WithRoute, {
      el: _homePage["default"],
      brew: brew
    })
  }))));
};
module.exports = Homebrew;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./homebrew.less":31,"./pages/accountPage/accountPage.jsx":45,"./pages/editPage/editPage.jsx":52,"./pages/errorPage/errorPage.jsx":56,"./pages/homePage/homePage.jsx":59,"./pages/newPage/newPage.jsx":61,"./pages/sharePage/sharePage.jsx":63,"./pages/userPage/userPage.jsx":65,"./pages/vaultPage/vaultPage.jsx":66,"@babel/runtime/helpers/extends":83,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/objectWithoutProperties":94,"@babel/runtime/helpers/slicedToArray":107,"core-js/es/string/to-well-formed.js":119,"react":"react","react-router":245}],31:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],32:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var React = require('react');
var createClass = require('create-react-class');
var Nav = require('naturalcrit/nav/nav.jsx');
var request = require('superagent');
var Account = createClass({
  displayName: 'AccountNavItem',
  getInitialState: function getInitialState() {
    return {
      url: ''
    };
  },
  componentDidMount: function componentDidMount() {
    if (typeof window !== 'undefined') {
      this.setState({
        url: window.location.href
      });
    }
  },
  handleLogout: function handleLogout() {
    if (confirm('Are you sure you want to log out?')) {
      var _window$location;
      // Reset divider position
      window.localStorage.removeItem('naturalcrit-pane-split');
      // Clear login cookie
      var domain = '';
      if ((_window$location = window.location) !== null && _window$location !== void 0 && _window$location.hostname) {
        var domainArray = window.location.hostname.split('.');
        if (domainArray.length > 2) {
          domainArray = [''].concat(domainArray.slice(-2));
        }
        domain = domainArray.join('.');
      }
      document.cookie = "nc_session=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;samesite=lax;".concat(domain ? "domain=".concat(domain) : '');
      window.location = '/';
    }
  },
  localLogin: function () {
    var _localLogin = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee() {
      var username, expiry, token;
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            username = prompt('Enter username:');
            if (username) {
              _context.next = 1;
              break;
            }
            return _context.abrupt("return");
          case 1:
            expiry = new Date();
            expiry.setFullYear(expiry.getFullYear() + 1);
            _context.next = 2;
            return request.post('/local/login').send({
              username: username
            }).then(function (response) {
              return response.body;
            })["catch"](function (err) {
              console.warn(err);
            });
          case 2:
            token = _context.sent;
            if (token) {
              _context.next = 3;
              break;
            }
            return _context.abrupt("return");
          case 3:
            document.cookie = "nc_session=".concat(token, ";expires=").concat(expiry, ";path=/;samesite=lax;").concat(window.domain ? "domain=".concat(window.domain) : '');
            window.location.reload(true);
          case 4:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    function localLogin() {
      return _localLogin.apply(this, arguments);
    }
    return localLogin;
  }(),
  render: function render() {
    //  Logged in
    if (global.account) {
      return /*#__PURE__*/React.createElement(Nav.dropdown, null, /*#__PURE__*/React.createElement(Nav.item, {
        className: "account username",
        color: "orange",
        icon: "fas fa-user"
      }, global.account.username), /*#__PURE__*/React.createElement(Nav.item, {
        href: "/user/".concat(encodeURI(global.account.username)),
        color: "yellow",
        icon: "fas fa-beer"
      }, "brews"), /*#__PURE__*/React.createElement(Nav.item, {
        className: "account",
        color: "orange",
        icon: "fas fa-user",
        href: "/account"
      }, "account"), /*#__PURE__*/React.createElement(Nav.item, {
        className: "logout",
        color: "red",
        icon: "fas fa-power-off",
        onClick: this.handleLogout
      }, "logout"));
    }

    //  Logged out
    //  LOCAL ONLY
    if (global.config.local) {
      return /*#__PURE__*/React.createElement(Nav.item, {
        color: "teal",
        icon: "fas fa-sign-in-alt",
        onClick: this.localLogin
      }, "login");
    }
    ;

    // Logged out
    // Production site
    return /*#__PURE__*/React.createElement(Nav.item, {
      href: "https://www.naturalcrit.com/login?redirect=".concat(this.state.url),
      color: "teal",
      icon: "fas fa-sign-in-alt"
    }, "login");
  }
});
module.exports = Account;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":116,"create-react-class":"create-react-class","naturalcrit/nav/nav.jsx":281,"react":"react","superagent":"superagent"}],33:[function(require,module,exports){
"use strict";

require('./error-navitem.less');
var React = require('react');
var Nav = require('naturalcrit/nav/nav.jsx');
var ErrorNavItem = function ErrorNavItem(_ref) {
  var _response$body, _response$body2, _response$body3;
  var _ref$error = _ref.error,
    error = _ref$error === void 0 ? '' : _ref$error,
    clearError = _ref.clearError;
  var response = error.response;
  var errorCode = error.code;
  var status = response === null || response === void 0 ? void 0 : response.status;
  var HBErrorCode = response === null || response === void 0 || (_response$body = response.body) === null || _response$body === void 0 ? void 0 : _response$body.HBErrorCode;
  var message = response === null || response === void 0 || (_response$body2 = response.body) === null || _response$body2 === void 0 ? void 0 : _response$body2.message;
  var errMsg = '';
  try {
    errMsg += "".concat(error.toString(), "\n\n");
    errMsg += "```\n".concat(error.stack, "\n");
    errMsg += "".concat(JSON.stringify(response === null || response === void 0 ? void 0 : response.error, null, '  '), "\n```");
    console.log(errMsg);
  } catch (e) {}
  if (status === 409) {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, message !== null && message !== void 0 ? message : 'Conflict: please refresh to get latest changes'));
  }
  if (status === 412) {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, message !== null && message !== void 0 ? message : 'Your client is out of date. Please save your changes elsewhere and refresh.'));
  }
  if (HBErrorCode === '04') {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, "You are no longer signed in as an author of this brew! Were you signed out from a different window? Visit our log in page, then try again!", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("a", {
      target: "_blank",
      rel: "noopener noreferrer",
      href: "https://www.naturalcrit.com/login?redirect=".concat(window.location.href)
    }, /*#__PURE__*/React.createElement("div", {
      className: "confirm"
    }, "Sign In")), /*#__PURE__*/React.createElement("div", {
      className: "deny"
    }, "Not Now")));
  }
  if ((response === null || response === void 0 || (_response$body3 = response.body) === null || _response$body3 === void 0 || (_response$body3 = _response$body3.errors) === null || _response$body3 === void 0 ? void 0 : _response$body3[0].reason) == 'storageQuotaExceeded') {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, "Can't save because your Google Drive seems to be full!"));
  }
  if (response !== null && response !== void 0 && response.req.url.match(/^\/api.*Google.*$/m)) {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, "Looks like your Google credentials have expired! Visit our log in page to sign out and sign back in with Google, then try saving again!", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("a", {
      target: "_blank",
      rel: "noopener noreferrer",
      href: "https://www.naturalcrit.com/login?redirect=".concat(window.location.href)
    }, /*#__PURE__*/React.createElement("div", {
      className: "confirm"
    }, "Sign In")), /*#__PURE__*/React.createElement("div", {
      className: "deny"
    }, "Not Now")));
  }
  if (HBErrorCode === '09') {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, "Looks like there was a problem retreiving the theme, or a theme that it inherits, for this brew. Verify that brew ", /*#__PURE__*/React.createElement("a", {
      className: "lowercase",
      target: "_blank",
      rel: "noopener noreferrer",
      href: "/share/".concat(response.body.brewId)
    }, response.body.brewId), " still exists!"));
  }
  if (HBErrorCode === '10') {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, "Looks like the brew you have selected as a theme is not tagged for use as a theme. Verify that brew ", /*#__PURE__*/React.createElement("a", {
      className: "lowercase",
      target: "_blank",
      rel: "noopener noreferrer",
      href: "/share/".concat(response.body.brewId)
    }, response.body.brewId), " has the ", /*#__PURE__*/React.createElement("span", {
      className: "lowercase"
    }, "meta:theme"), " tag!"));
  }
  if (errorCode === 'ECONNABORTED') {
    return /*#__PURE__*/React.createElement(Nav.item, {
      className: "save error",
      icon: "fas fa-exclamation-triangle"
    }, "Oops!", /*#__PURE__*/React.createElement("div", {
      className: "errorContainer",
      onClick: clearError
    }, "The request to the server was interrupted or timed out. This can happen due to a network issue, or if trying to save a particularly large brew. Please check your internet connection and try again."));
  }
  return /*#__PURE__*/React.createElement(Nav.item, {
    className: "save error",
    icon: "fas fa-exclamation-triangle"
  }, "Oops!", /*#__PURE__*/React.createElement("div", {
    className: "errorContainer"
  }, "Looks like there was a problem saving. ", /*#__PURE__*/React.createElement("br", null), "Report the issue ", /*#__PURE__*/React.createElement("a", {
    target: "_blank",
    rel: "noopener noreferrer",
    href: "https://github.com/naturalcrit/homebrewery/issues/new?template=save_issue.yml&error-code=".concat(encodeURIComponent(errMsg))
  }, "here"), "."));
};
module.exports = ErrorNavItem;
},{"./error-navitem.less":34,"naturalcrit/nav/nav.jsx":281,"react":"react"}],34:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],35:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject;
var React = require('react');
var dedent = require('dedent-tabs')["default"];
var Nav = require('naturalcrit/nav/nav.jsx');
module.exports = function (props) {
  return /*#__PURE__*/React.createElement(Nav.dropdown, null, /*#__PURE__*/React.createElement(Nav.item, {
    color: "grey",
    icon: "fas fa-question-circle"
  }, "need help?"), /*#__PURE__*/React.createElement(Nav.item, {
    color: "red",
    icon: "fas fa-fw fa-bug",
    href: "https://www.reddit.com/r/homebrewery/submit?selftext=true&text=".concat(encodeURIComponent(dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t- **Browser(s)** :\n\t\t\t- **Operating System** :  \n\t\t\t- **Legacy or v3 Renderer** :\n\t\t\t- **Issue** :  "]))))),
    newTab: true,
    rel: "noopener noreferrer"
  }, "report issue"), /*#__PURE__*/React.createElement(Nav.item, {
    color: "green",
    icon: "fas fa-question-circle",
    href: "/faq",
    newTab: true,
    rel: "noopener noreferrer"
  }, "FAQ"), /*#__PURE__*/React.createElement(Nav.item, {
    color: "blue",
    icon: "fas fa-fw fa-file-import",
    href: "/migrate",
    newTab: true,
    rel: "noopener noreferrer"
  }, "migrate"));
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"naturalcrit/nav/nav.jsx":281,"react":"react"}],36:[function(require,module,exports){
"use strict";

var React = require('react');
var createClass = require('create-react-class');
var Moment = require('moment');
var Nav = require('naturalcrit/nav/nav.jsx');
var MetadataNav = createClass({
  displayName: 'MetadataNav',
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  getInitialState: function getInitialState() {
    return {
      showMetaWindow: false
    };
  },
  componentDidMount: function componentDidMount() {},
  toggleMetaWindow: function toggleMetaWindow() {
    this.setState(function (prevProps) {
      return {
        showMetaWindow: !prevProps.showMetaWindow
      };
    });
  },
  getAuthors: function getAuthors() {
    if (!this.props.brew.authors || this.props.brew.authors.length == 0) return 'No authors';
    return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.brew.authors.map(function (author, idx, arr) {
      var spacer = arr.length - 1 == idx ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement("span", null, ", ");
      return /*#__PURE__*/React.createElement("span", {
        key: idx
      }, /*#__PURE__*/React.createElement("a", {
        className: "userPageLink",
        href: "/user/".concat(author)
      }, author), spacer);
    }));
  },
  getTags: function getTags() {
    if (!this.props.brew.tags || this.props.brew.tags.length == 0) return 'No tags';
    return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.brew.tags.map(function (tag, idx) {
      return /*#__PURE__*/React.createElement("span", {
        className: "tag",
        key: idx
      }, tag);
    }));
  },
  getSystems: function getSystems() {
    if (!this.props.brew.systems || this.props.brew.systems.length == 0) return 'No systems';
    return this.props.brew.systems.join(', ');
  },
  renderMetaWindow: function renderMetaWindow() {
    return /*#__PURE__*/React.createElement("div", {
      className: "window ".concat(this.state.showMetaWindow ? 'active' : 'inactive')
    }, /*#__PURE__*/React.createElement("div", {
      className: "row"
    }, /*#__PURE__*/React.createElement("h4", null, "Description"), /*#__PURE__*/React.createElement("p", null, this.props.brew.description || 'No description.')), /*#__PURE__*/React.createElement("div", {
      className: "row"
    }, /*#__PURE__*/React.createElement("h4", null, "Authors"), /*#__PURE__*/React.createElement("p", null, this.getAuthors())), /*#__PURE__*/React.createElement("div", {
      className: "row"
    }, /*#__PURE__*/React.createElement("h4", null, "Tags"), /*#__PURE__*/React.createElement("p", null, this.getTags())), /*#__PURE__*/React.createElement("div", {
      className: "row"
    }, /*#__PURE__*/React.createElement("h4", null, "Systems"), /*#__PURE__*/React.createElement("p", null, this.getSystems())), /*#__PURE__*/React.createElement("div", {
      className: "row"
    }, /*#__PURE__*/React.createElement("h4", null, "Updated"), /*#__PURE__*/React.createElement("p", null, Moment(this.props.brew.updatedAt).fromNow())));
  },
  render: function render() {
    var _this = this;
    return /*#__PURE__*/React.createElement(Nav.item, {
      icon: "fas fa-info-circle",
      color: "grey",
      className: "metadata",
      onClick: function onClick() {
        return _this.toggleMetaWindow();
      }
    }, this.props.children, this.renderMetaWindow());
  }
});
module.exports = MetadataNav;
},{"create-react-class":"create-react-class","moment":"moment","naturalcrit/nav/nav.jsx":281,"react":"react"}],37:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
require('./navbar.less');
var React = require('react');
var createClass = require('create-react-class');
var Nav = require('naturalcrit/nav/nav.jsx');
var PatreonNavItem = require('./patreon.navitem.jsx');
var Navbar = createClass((0, _defineProperty2["default"])((0, _defineProperty2["default"])({
  displayName: 'Navbar',
  getInitialState: function getInitialState() {
    return {
      //showNonChromeWarning : false,
      ver: '0.0.0'
    };
  }
}, "getInitialState", function getInitialState() {
  return {
    ver: global.version
  };
}), "render", function render() {
  return /*#__PURE__*/React.createElement(Nav.base, null, /*#__PURE__*/React.createElement(Nav.section, null, /*#__PURE__*/React.createElement(Nav.logo, null), /*#__PURE__*/React.createElement(Nav.item, {
    href: "/",
    className: "homebrewLogo"
  }, /*#__PURE__*/React.createElement("div", null, "The Homebrewery")), /*#__PURE__*/React.createElement(Nav.item, {
    newTab: true,
    href: "/changelog",
    color: "purple",
    icon: "far fa-file-alt"
  }, "v".concat(this.state.ver)), /*#__PURE__*/React.createElement(PatreonNavItem, null)), this.props.children);
}));
module.exports = Navbar;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./navbar.less":38,"./patreon.navitem.jsx":40,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"create-react-class":"create-react-class","naturalcrit/nav/nav.jsx":281,"react":"react"}],38:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],39:[function(require,module,exports){
"use strict";

var React = require('react');
var _ = require('lodash');
var Nav = require('naturalcrit/nav/nav.jsx');
var _require = require('../../../shared/helpers.js'),
  splitTextStyleAndMetadata = _require.splitTextStyleAndMetadata; // Importing the function from helpers.js

var BREWKEY = 'homebrewery-new';
var STYLEKEY = 'homebrewery-new-style';
var METAKEY = 'homebrewery-new-meta';
var NewBrew = function NewBrew() {
  var handleFileChange = function handleFileChange(e) {
    var file = e.target.files[0];
    if (!file) return;
    var currentNew = localStorage.getItem(BREWKEY);
    if (currentNew && !confirm("You have some text in the new brew space, if you load a file that text will be lost, are you sure you want to load the file?")) return;
    var reader = new FileReader();
    reader.onload = function (e) {
      var fileContent = e.target.result;
      var newBrew = {
        text: fileContent,
        style: ''
      };
      if (fileContent.startsWith('```metadata')) {
        splitTextStyleAndMetadata(newBrew);
        localStorage.setItem(BREWKEY, newBrew.text);
        localStorage.setItem(STYLEKEY, newBrew.style);
        localStorage.setItem(METAKEY, JSON.stringify(_.pick(newBrew, ['title', 'description', 'tags', 'systems', 'renderer', 'theme', 'lang'])));
        window.location.href = '/new';
        return;
      }
      var type = file.name.split('.').pop().toLowerCase();
      alert("This file is invalid: ".concat(!type ? "Missing file extension" : ".".concat(type, " files are not supported"), ". Only .txt files exported from the Homebrewery are allowed."));
      console.log(file);
    };
    reader.readAsText(file);
  };
  return /*#__PURE__*/React.createElement(Nav.dropdown, null, /*#__PURE__*/React.createElement(Nav.item, {
    className: "new",
    color: "purple",
    icon: "fa-solid fa-plus-square"
  }, "new"), /*#__PURE__*/React.createElement(Nav.item, {
    className: "fromBlank",
    href: "/new",
    newTab: true,
    color: "purple",
    icon: "fa-solid fa-file"
  }, "from blank"), /*#__PURE__*/React.createElement(Nav.item, {
    className: "fromFile",
    color: "purple",
    icon: "fa-solid fa-upload",
    onClick: function onClick() {
      document.getElementById('uploadTxt').click();
    }
  }, /*#__PURE__*/React.createElement("input", {
    id: "uploadTxt",
    className: "newFromLocal",
    type: "file",
    onChange: handleFileChange,
    style: {
      display: 'none'
    }
  }), "from file"));
};
module.exports = NewBrew;
},{"../../../shared/helpers.js":270,"lodash":"lodash","naturalcrit/nav/nav.jsx":281,"react":"react"}],40:[function(require,module,exports){
"use strict";

var React = require('react');
var Nav = require('naturalcrit/nav/nav.jsx');
module.exports = function (props) {
  return /*#__PURE__*/React.createElement(Nav.item, {
    className: "patreon",
    newTab: true,
    href: "https://www.patreon.com/NaturalCrit",
    color: "green",
    icon: "fas fa-heart"
  }, "help out");
};
},{"naturalcrit/nav/nav.jsx":281,"react":"react"}],41:[function(require,module,exports){
"use strict";

var React = require('react');
var Nav = require('naturalcrit/nav/nav.jsx');
var _require = require('../../../shared/helpers.js'),
  printCurrentBrew = _require.printCurrentBrew;
module.exports = function () {
  return /*#__PURE__*/React.createElement(Nav.item, {
    onClick: printCurrentBrew,
    color: "purple",
    icon: "far fa-file-pdf"
  }, "get PDF");
};
},{"../../../shared/helpers.js":270,"naturalcrit/nav/nav.jsx":281,"react":"react"}],42:[function(require,module,exports){
"use strict";

var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
var Moment = require('moment');
var Nav = require('naturalcrit/nav/nav.jsx');
var EDIT_KEY = 'homebrewery-recently-edited';
var VIEW_KEY = 'homebrewery-recently-viewed';
var RecentItems = createClass({
  DisplayName: 'RecentItems',
  getDefaultProps: function getDefaultProps() {
    return {
      storageKey: '',
      showEdit: false,
      showView: false
    };
  },
  getInitialState: function getInitialState() {
    return {
      showDropdown: false,
      edit: [],
      view: []
    };
  },
  componentDidMount: function componentDidMount() {
    //== Load recent items list ==//
    var edited = JSON.parse(localStorage.getItem(EDIT_KEY) || '[]');
    var viewed = JSON.parse(localStorage.getItem(VIEW_KEY) || '[]');

    //== Add current brew to appropriate recent items list (depending on storageKey) ==//
    if (this.props.storageKey == 'edit') {
      var editId = this.props.brew.editId;
      if (this.props.brew.googleId && !this.props.brew.stubbed) {
        editId = "".concat(this.props.brew.googleId).concat(this.props.brew.editId);
      }
      edited = _.filter(edited, function (brew) {
        return brew.id !== editId;
      });
      edited.unshift({
        id: editId,
        title: this.props.brew.title,
        url: "/edit/".concat(editId),
        ts: Date.now()
      });
    }
    if (this.props.storageKey == 'view') {
      var shareId = this.props.brew.shareId;
      if (this.props.brew.googleId && !this.props.brew.stubbed) {
        shareId = "".concat(this.props.brew.googleId).concat(this.props.brew.shareId);
      }
      viewed = _.filter(viewed, function (brew) {
        return brew.id !== shareId;
      });
      viewed.unshift({
        id: shareId,
        title: this.props.brew.title,
        url: "/share/".concat(shareId),
        ts: Date.now()
      });
    }

    //== Store the updated lists (up to 8 items each) ==//
    edited = _.slice(edited, 0, 8);
    viewed = _.slice(viewed, 0, 8);
    localStorage.setItem(EDIT_KEY, JSON.stringify(edited));
    localStorage.setItem(VIEW_KEY, JSON.stringify(viewed));
    this.setState({
      edit: edited,
      view: viewed
    });
  },
  componentDidUpdate: function componentDidUpdate(prevProps) {
    if (prevProps.brew && this.props.brew.editId !== prevProps.brew.editId) {
      var edited = JSON.parse(localStorage.getItem(EDIT_KEY) || '[]');
      if (this.props.storageKey == 'edit') {
        var prevEditId = prevProps.brew.editId;
        if (prevProps.brew.googleId && !this.props.brew.stubbed) {
          prevEditId = "".concat(prevProps.brew.googleId).concat(prevProps.brew.editId);
        }
        edited = _.filter(this.state.edit, function (brew) {
          return brew.id !== prevEditId;
        });
        var editId = this.props.brew.editId;
        if (this.props.brew.googleId && !this.props.brew.stubbed) {
          editId = "".concat(this.props.brew.googleId).concat(this.props.brew.editId);
        }
        edited.unshift({
          id: editId,
          title: this.props.brew.title,
          url: "/edit/".concat(editId),
          ts: Date.now()
        });
      }

      //== Store the updated lists (up to 8 items each) ==//
      edited = _.slice(edited, 0, 8);
      localStorage.setItem(EDIT_KEY, JSON.stringify(edited));
      this.setState({
        edit: edited
      });
    }
  },
  handleDropdown: function handleDropdown(show) {
    this.setState({
      showDropdown: show
    });
  },
  removeItem: function removeItem(url, evt) {
    evt.preventDefault();
    evt.stopPropagation();
    var edited = JSON.parse(localStorage.getItem(EDIT_KEY) || '[]');
    var viewed = JSON.parse(localStorage.getItem(VIEW_KEY) || '[]');
    edited = edited.filter(function (item) {
      return item.url !== url;
    });
    viewed = viewed.filter(function (item) {
      return item.url !== url;
    });
    localStorage.setItem(EDIT_KEY, JSON.stringify(edited));
    localStorage.setItem(VIEW_KEY, JSON.stringify(viewed));
    this.setState({
      edit: edited,
      view: viewed
    });
  },
  renderDropdown: function renderDropdown() {
    var _this = this;
    // if(!this.state.showDropdown) return null;

    var makeItems = function makeItems(brews) {
      return _.map(brews, function (brew, i) {
        return /*#__PURE__*/React.createElement("a", {
          className: "navItem",
          href: brew.url,
          key: "".concat(brew.id, "-").concat(i),
          target: "_blank",
          rel: "noopener noreferrer",
          title: brew.title || '[ no title ]'
        }, /*#__PURE__*/React.createElement("span", {
          className: "title"
        }, brew.title || '[ no title ]'), /*#__PURE__*/React.createElement("span", {
          className: "time"
        }, Moment(brew.ts).fromNow()), /*#__PURE__*/React.createElement("div", {
          className: "clear",
          title: "Remove from Recents",
          onClick: function onClick(e) {
            _this.removeItem("".concat(brew.url), e);
          }
        }, /*#__PURE__*/React.createElement("i", {
          className: "fas fa-times"
        })));
      });
    };
    return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.showEdit && this.props.showView ? /*#__PURE__*/React.createElement(Nav.item, {
      className: "header"
    }, "edited") : null, this.props.showEdit ? makeItems(this.state.edit) : null, this.props.showEdit && this.props.showView ? /*#__PURE__*/React.createElement(Nav.item, {
      className: "header"
    }, "viewed") : null, this.props.showView ? makeItems(this.state.view) : null);
  },
  render: function render() {
    return /*#__PURE__*/React.createElement(Nav.dropdown, {
      className: "recent"
    }, /*#__PURE__*/React.createElement(Nav.item, {
      icon: "fas fa-history",
      color: "grey"
    }, this.props.text), this.renderDropdown());
  }
});
module.exports = {
  edited: function edited(props) {
    return /*#__PURE__*/React.createElement(RecentItems, {
      brew: props.brew,
      storageKey: props.storageKey,
      text: "recently edited",
      showEdit: true
    });
  },
  viewed: function viewed(props) {
    return /*#__PURE__*/React.createElement(RecentItems, {
      brew: props.brew,
      storageKey: props.storageKey,
      text: "recently viewed",
      showView: true
    });
  },
  both: function both(props) {
    return /*#__PURE__*/React.createElement(RecentItems, {
      brew: props.brew,
      storageKey: props.storageKey,
      text: "recent brews",
      showEdit: true,
      showView: true
    });
  }
};
},{"create-react-class":"create-react-class","lodash":"lodash","moment":"moment","naturalcrit/nav/nav.jsx":281,"react":"react"}],43:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireDefault(require("react"));
var _dedentTabs = _interopRequireDefault(require("dedent-tabs"));
var _nav = _interopRequireDefault(require("naturalcrit/nav/nav.jsx"));
var _templateObject;
var getShareId = function getShareId(brew) {
  return brew.googleId && !brew.stubbed ? brew.googleId + brew.shareId : brew.shareId;
};
var getRedditLink = function getRedditLink(brew) {
  var text = (0, _dedentTabs["default"])(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\tHey guys! I've been working on this homebrew. I'd love your feedback. Check it out.\n\n\t\t\t**[Homebrewery Link](", "/share/", ")**"])), global.config.baseUrl, getShareId(brew));
  return "https://www.reddit.com/r/UnearthedArcana/submit?title=".concat(encodeURIComponent(brew.title.toWellFormed()), "&text=").concat(encodeURIComponent(text));
};
var _default = exports["default"] = function _default(_ref) {
  var brew = _ref.brew;
  return /*#__PURE__*/_react["default"].createElement(_nav["default"].dropdown, null, /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
    color: "teal",
    icon: "fas fa-share-alt"
  }, "share"), /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
    color: "blue",
    href: "/share/".concat(getShareId(brew))
  }, "view"), /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
    color: "blue",
    onClick: function onClick() {
      navigator.clipboard.writeText("".concat(global.config.baseUrl, "/share/").concat(getShareId(brew)));
    }
  }, "copy url"), /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
    color: "blue",
    href: getRedditLink(brew),
    newTab: true,
    rel: "noopener noreferrer"
  }, "post to reddit"));
};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"naturalcrit/nav/nav.jsx":281,"react":"react"}],44:[function(require,module,exports){
"use strict";

var React = require('react');
var Nav = require('naturalcrit/nav/nav.jsx');
module.exports = function (props) {
  return /*#__PURE__*/React.createElement(Nav.item, {
    color: "purple",
    icon: "fas fa-dungeon",
    href: "/vault",
    newTab: false,
    rel: "noopener noreferrer"
  }, "Vault");
};
},{"naturalcrit/nav/nav.jsx":281,"react":"react"}],45:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var React = require('react');
var moment = require('moment');
var UIPage = require('../basePages/uiPage/uiPage.jsx');
var NaturalCritIcon = require('naturalcrit/svg/naturalcrit.svg.jsx');
var SAVEKEY = '';
var AccountPage = function AccountPage(props) {
  // destructure props and set state for save location
  var accountDetails = props.accountDetails,
    brew = props.brew;
  var _React$useState = React.useState(''),
    _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
    saveLocation = _React$useState2[0],
    setSaveLocation = _React$useState2[1];

  // initialize save location from local storage based on user id
  React.useEffect(function () {
    if (!saveLocation && accountDetails.username) {
      SAVEKEY = "HOMEBREWERY-DEFAULT-SAVE-LOCATION-".concat(accountDetails.username);
      // if no SAVEKEY in local storage, default save location to Google Drive if user has Google account.
      var _saveLocation = window.localStorage.getItem(SAVEKEY);
      _saveLocation = _saveLocation !== null && _saveLocation !== void 0 ? _saveLocation : accountDetails.googleId ? 'GOOGLE-DRIVE' : 'HOMEBREWERY';
      setActiveSaveLocation(_saveLocation);
    }
  }, []);
  var setActiveSaveLocation = function setActiveSaveLocation(newSelection) {
    if (saveLocation === newSelection) return;
    window.localStorage.setItem(SAVEKEY, newSelection);
    setSaveLocation(newSelection);
  };

  // todo: should this be a set of radio buttons (well styled) since it's either/or choice?
  var renderSaveLocationButton = function renderSaveLocationButton(name, key) {
    var shouldRender = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
    if (!shouldRender) return null;
    return /*#__PURE__*/React.createElement("button", {
      className: saveLocation === key ? 'active' : '',
      onClick: function onClick() {
        setActiveSaveLocation(key);
      }
    }, name);
  };

  // render the entirety of the account page content
  var renderAccountPage = function renderAccountPage() {
    var _accountDetails$googl;
    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("div", {
      className: "dataGroup"
    }, /*#__PURE__*/React.createElement("h1", null, "Account Information ", /*#__PURE__*/React.createElement("i", {
      className: "fas fa-user"
    })), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Username: "), accountDetails.username || 'No user currently logged in'), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Last Login: "), moment(accountDetails.issued).format('dddd, MMMM Do YYYY, h:mm:ss a ZZ') || '-')), /*#__PURE__*/React.createElement("div", {
      className: "dataGroup"
    }, /*#__PURE__*/React.createElement("h3", null, "Homebrewery Information ", /*#__PURE__*/React.createElement(NaturalCritIcon, null)), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Brews on Homebrewery: "), accountDetails.mongoCount)), /*#__PURE__*/React.createElement("div", {
      className: "dataGroup"
    }, /*#__PURE__*/React.createElement("h3", null, "Google Information ", /*#__PURE__*/React.createElement("i", {
      className: "fab fa-google-drive"
    })), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Linked to Google: "), accountDetails.googleId ? 'YES' : 'NO'), accountDetails.googleId && /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Brews on Google Drive: "), (_accountDetails$googl = accountDetails.googleCount) !== null && _accountDetails$googl !== void 0 ? _accountDetails$googl : /*#__PURE__*/React.createElement(React.Fragment, null, "Unable to retrieve files - ", /*#__PURE__*/React.createElement("a", {
      href: "https://github.com/naturalcrit/homebrewery/discussions/1580"
    }, "follow these steps to renew your Google credentials.")))), /*#__PURE__*/React.createElement("div", {
      className: "dataGroup"
    }, /*#__PURE__*/React.createElement("h4", null, "Default Save Location"), renderSaveLocationButton('Homebrewery', 'HOMEBREWERY'), renderSaveLocationButton('Google Drive', 'GOOGLE-DRIVE', accountDetails.googleId)));
  };

  // return the account page inside the base layout wrapper (with navbar etc).
  return /*#__PURE__*/React.createElement(UIPage, {
    brew: brew
  }, renderAccountPage());
};
module.exports = AccountPage;
},{"../basePages/uiPage/uiPage.jsx":50,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"moment":"moment","naturalcrit/svg/naturalcrit.svg.jsx":282,"react":"react"}],46:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _requestMiddleware = _interopRequireDefault(require("../../../../utils/request-middleware.js"));
var _templateObject;
require('./brewItem.less');
var React = require('react');
var useCallback = React.useCallback;
var moment = require('moment');
var googleDriveIcon = require('../../../../googleDrive.svg');
var homebreweryIcon = require('../../../../thumbnail.svg');
var dedent = require('dedent-tabs')["default"];
var BrewItem = function BrewItem(_ref) {
  var _brew$tags2, _brew$authors, _brew$authors2;
  var _ref$brew = _ref.brew,
    brew = _ref$brew === void 0 ? {
      title: '',
      description: '',
      authors: [],
      stubbed: true
    } : _ref$brew,
    _ref$updateListFilter = _ref.updateListFilter,
    updateListFilter = _ref$updateListFilter === void 0 ? function () {} : _ref$updateListFilter,
    _ref$reportError = _ref.reportError,
    reportError = _ref$reportError === void 0 ? function () {} : _ref$reportError,
    _ref$renderStorage = _ref.renderStorage,
    renderStorage = _ref$renderStorage === void 0 ? true : _ref$renderStorage;
  var deleteBrew = useCallback(function () {
    var _brew$googleId;
    if (brew.authors.length <= 1) {
      if (!window.confirm('Are you sure you want to delete this brew? Because you are the only owner of this brew, the document will be deleted permanently.')) return;
      if (!window.confirm('Are you REALLY sure? You will not be able to recover the document.')) return;
    } else {
      if (!window.confirm('Are you sure you want to remove this brew from your collection? This will remove you as an editor, but other owners will still be able to access the document.')) return;
      if (!window.confirm('Are you REALLY sure? You will lose editor access to this document.')) return;
    }
    _requestMiddleware["default"]["delete"]("/api/".concat((_brew$googleId = brew.googleId) !== null && _brew$googleId !== void 0 ? _brew$googleId : '').concat(brew.editId)).send().end(function (err, res) {
      if (err) reportError(err);else window.location.reload();
    });
  }, [brew, reportError]);
  var updateFilter = useCallback(function (type, term) {
    return updateListFilter(type, term);
  }, [updateListFilter]);
  var renderDeleteBrewLink = function renderDeleteBrewLink() {
    if (!brew.editId) return null;
    return /*#__PURE__*/React.createElement("a", {
      className: "deleteLink",
      onClick: deleteBrew
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-trash-alt",
      title: "Delete"
    }));
  };
  var renderEditLink = function renderEditLink() {
    if (!brew.editId) return null;
    var editLink = brew.editId;
    if (brew.googleId && !brew.stubbed) editLink = brew.googleId + editLink;
    return /*#__PURE__*/React.createElement("a", {
      className: "editLink",
      href: "/edit/".concat(editLink),
      target: "_blank",
      rel: "noopener noreferrer"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-pencil-alt",
      title: "Edit"
    }));
  };
  var renderShareLink = function renderShareLink() {
    if (!brew.shareId) return null;
    var shareLink = brew.shareId;
    if (brew.googleId && !brew.stubbed) {
      shareLink = brew.googleId + shareLink;
    }
    return /*#__PURE__*/React.createElement("a", {
      className: "shareLink",
      href: "/share/".concat(shareLink),
      target: "_blank",
      rel: "noopener noreferrer"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-share-alt",
      title: "Share"
    }));
  };
  var renderDownloadLink = function renderDownloadLink() {
    if (!brew.shareId) return null;
    var shareLink = brew.shareId;
    if (brew.googleId && !brew.stubbed) {
      shareLink = brew.googleId + shareLink;
    }
    return /*#__PURE__*/React.createElement("a", {
      className: "downloadLink",
      href: "/download/".concat(shareLink)
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-download",
      title: "Download"
    }));
  };
  var renderStorageIcon = function renderStorageIcon() {
    if (!renderStorage) return null;
    if (brew.googleId) {
      return /*#__PURE__*/React.createElement("span", {
        title: brew.webViewLink ? 'Your Google Drive Storage' : 'Another User\'s Google Drive Storage'
      }, /*#__PURE__*/React.createElement("a", {
        href: brew.webViewLink,
        target: "_blank"
      }, /*#__PURE__*/React.createElement("img", {
        className: "googleDriveIcon",
        src: googleDriveIcon,
        alt: "googleDriveIcon"
      })));
    }
    return /*#__PURE__*/React.createElement("span", {
      title: "Homebrewery Storage"
    }, /*#__PURE__*/React.createElement("img", {
      className: "homebreweryIcon",
      src: homebreweryIcon,
      alt: "homebreweryIcon"
    }));
  };
  if (Array.isArray(brew.tags)) {
    var _brew$tags;
    brew.tags = (_brew$tags = brew.tags) === null || _brew$tags === void 0 ? void 0 : _brew$tags.filter(function (tag) {
      return tag;
    }); // remove tags that are empty strings
    brew.tags.sort(function (a, b) {
      return a.indexOf(':') - b.indexOf(':') !== 0 ? a.indexOf(':') - b.indexOf(':') : a.toLowerCase().localeCompare(b.toLowerCase());
    });
  }
  var dateFormatString = 'YYYY-MM-DD HH:mm:ss';
  return /*#__PURE__*/React.createElement("div", {
    className: "brewItem"
  }, brew.thumbnail && /*#__PURE__*/React.createElement("div", {
    className: "thumbnail",
    style: {
      backgroundImage: "url(".concat(brew.thumbnail, ")")
    }
  }), /*#__PURE__*/React.createElement("div", {
    className: "text"
  }, /*#__PURE__*/React.createElement("h2", null, brew.title), /*#__PURE__*/React.createElement("p", {
    className: "description"
  }, brew.description)), /*#__PURE__*/React.createElement("hr", null), /*#__PURE__*/React.createElement("div", {
    className: "info"
  }, (_brew$tags2 = brew.tags) !== null && _brew$tags2 !== void 0 && _brew$tags2.length ? /*#__PURE__*/React.createElement("div", {
    className: "brewTags",
    title: "".concat(brew.tags.length, " tags:\n").concat(brew.tags.join('\n'))
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-tags"
  }), brew.tags.map(function (tag, idx) {
    var matches = tag.match(/^(?:([^:]+):)?([^:]+)$/);
    return /*#__PURE__*/React.createElement("span", {
      key: idx,
      className: matches[1],
      onClick: function onClick() {
        return updateFilter(tag);
      }
    }, matches[2]);
  })) : null, /*#__PURE__*/React.createElement("span", {
    title: "Authors:\n".concat((_brew$authors = brew.authors) === null || _brew$authors === void 0 ? void 0 : _brew$authors.join('\n'))
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-user"
  }), ' ', (_brew$authors2 = brew.authors) === null || _brew$authors2 === void 0 ? void 0 : _brew$authors2.map(function (author, index) {
    return /*#__PURE__*/React.createElement(React.Fragment, {
      key: index
    }, author === 'hidden' ? /*#__PURE__*/React.createElement("span", {
      title: "Username contained an email address; hidden to protect user's privacy"
    }, author) : /*#__PURE__*/React.createElement("a", {
      href: "/user/".concat(author)
    }, author), index < brew.authors.length - 1 && ', ');
  })), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
    title: "Last viewed: ".concat(moment(brew.lastViewed).local().format(dateFormatString))
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-eye"
  }), " ", brew.views), brew.pageCount && /*#__PURE__*/React.createElement("span", {
    title: "Page count: ".concat(brew.pageCount)
  }, /*#__PURE__*/React.createElement("i", {
    className: "far fa-file"
  }), " ", brew.pageCount), /*#__PURE__*/React.createElement("span", {
    title: dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])([" Created: ", "\n                        Last updated: ", ""])), moment(brew.createdAt).local().format(dateFormatString), moment(brew.updatedAt).local().format(dateFormatString))
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-sync-alt"
  }), " ", moment(brew.updatedAt).fromNow()), renderStorageIcon()), /*#__PURE__*/React.createElement("div", {
    className: "links"
  }, renderShareLink(), renderEditLink(), renderDownloadLink(), renderDeleteBrewLink()));
};
module.exports = BrewItem;
},{"../../../../googleDrive.svg":29,"../../../../thumbnail.svg":69,"../../../../utils/request-middleware.js":71,"./brewItem.less":47,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"moment":"moment","react":"react"}],47:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],48:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
/*eslint max-lines: ["warn", {"max": 300, "skipBlankLines": true, "skipComments": true}]*/
require('./listPage.less');
var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
var moment = require('moment');
var BrewItem = require('./brewItem/brewItem.jsx');
var USERPAGE_KEY_PREFIX = 'HOMEBREWERY-LISTPAGE';
var DEFAULT_SORT_TYPE = 'alpha';
var DEFAULT_SORT_DIR = 'asc';
var ListPage = createClass({
  displayName: 'ListPage',
  getDefaultProps: function getDefaultProps() {
    return {
      brewCollection: [{
        title: '',
        "class": '',
        brews: []
      }],
      navItems: /*#__PURE__*/React.createElement(React.Fragment, null),
      reportError: null
    };
  },
  getInitialState: function getInitialState() {
    var _this$props$query, _this$props$query2, _this$props$query3;
    // HIDE ALL GROUPS UNTIL LOADED
    var brewCollection = this.props.brewCollection.map(function (brewGroup) {
      brewGroup.visible = false;
      return brewGroup;
    });
    return {
      filterString: ((_this$props$query = this.props.query) === null || _this$props$query === void 0 ? void 0 : _this$props$query.filter) || '',
      filterTags: [],
      sortType: ((_this$props$query2 = this.props.query) === null || _this$props$query2 === void 0 ? void 0 : _this$props$query2.sort) || null,
      sortDir: ((_this$props$query3 = this.props.query) === null || _this$props$query3 === void 0 ? void 0 : _this$props$query3.dir) || null,
      query: this.props.query,
      brewCollection: brewCollection
    };
  },
  componentDidMount: function componentDidMount() {
    // SAVE TO LOCAL STORAGE WHEN LEAVING PAGE
    window.onbeforeunload = this.saveToLocalStorage;

    // LOAD FROM LOCAL STORAGE
    if (typeof window !== 'undefined') {
      var _this$state$sortType, _this$state$sortDir;
      var newSortType = (_this$state$sortType = this.state.sortType) !== null && _this$state$sortType !== void 0 ? _this$state$sortType : localStorage.getItem("".concat(USERPAGE_KEY_PREFIX, "-SORTTYPE")) || DEFAULT_SORT_TYPE;
      var newSortDir = (_this$state$sortDir = this.state.sortDir) !== null && _this$state$sortDir !== void 0 ? _this$state$sortDir : localStorage.getItem("".concat(USERPAGE_KEY_PREFIX, "-SORTDIR")) || DEFAULT_SORT_DIR;
      this.updateUrl(this.state.filterString, newSortType, newSortDir);
      var brewCollection = this.props.brewCollection.map(function (brewGroup) {
        var _localStorage$getItem;
        brewGroup.visible = ((_localStorage$getItem = localStorage.getItem("".concat(USERPAGE_KEY_PREFIX, "-VISIBILITY-").concat(brewGroup["class"]))) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : 'true') == 'true';
        return brewGroup;
      });
      this.setState({
        brewCollection: brewCollection,
        sortType: newSortType,
        sortDir: newSortDir
      });
    }
    ;
  },
  componentWillUnmount: function componentWillUnmount() {
    window.onbeforeunload = function () {};
  },
  saveToLocalStorage: function saveToLocalStorage() {
    this.state.brewCollection.map(function (brewGroup) {
      localStorage.setItem("".concat(USERPAGE_KEY_PREFIX, "-VISIBILITY-").concat(brewGroup["class"]), "".concat(brewGroup.visible));
    });
    localStorage.setItem("".concat(USERPAGE_KEY_PREFIX, "-SORTTYPE"), this.state.sortType);
    localStorage.setItem("".concat(USERPAGE_KEY_PREFIX, "-SORTDIR"), this.state.sortDir);
  },
  renderBrews: function renderBrews(brews) {
    var _this = this;
    if (!brews || !brews.length) return /*#__PURE__*/React.createElement("div", {
      className: "noBrews"
    }, "No Brews.");
    return _.map(brews, function (brew, idx) {
      return /*#__PURE__*/React.createElement(BrewItem, {
        brew: brew,
        key: idx,
        reportError: _this.props.reportError,
        updateListFilter: function updateListFilter(tag) {
          _this.updateUrl(_this.state.filterString, _this.state.sortType, _this.state.sortDir, tag);
        }
      });
    });
  },
  sortBrewOrder: function sortBrewOrder(brew) {
    if (!brew.title) {
      brew.title = 'No Title';
    }
    var mapping = {
      'alpha': _.deburr(brew.title.trim().toLowerCase()),
      'created': moment(brew.createdAt).format(),
      'updated': moment(brew.updatedAt).format(),
      'views': brew.views,
      'latest': moment(brew.lastViewed).format()
    };
    return mapping[this.state.sortType];
  },
  handleSortOptionChange: function handleSortOptionChange(event) {
    this.updateUrl(this.state.filterString, event.target.value, this.state.sortDir);
    this.setState({
      sortType: event.target.value
    });
  },
  handleSortDirChange: function handleSortDirChange(event) {
    var newDir = this.state.sortDir == 'asc' ? 'desc' : 'asc';
    this.updateUrl(this.state.filterString, this.state.sortType, newDir);
    this.setState({
      sortDir: newDir
    });
  },
  renderSortOption: function renderSortOption(sortTitle, sortValue) {
    return /*#__PURE__*/React.createElement("div", {
      className: "sort-option ".concat(this.state.sortType == sortValue ? 'active' : '')
    }, /*#__PURE__*/React.createElement("button", {
      value: "".concat(sortValue),
      onClick: this.state.sortType == sortValue ? this.handleSortDirChange : this.handleSortOptionChange
    }, "".concat(sortTitle)), this.state.sortType == sortValue && /*#__PURE__*/React.createElement("i", {
      className: "sortDir fas ".concat(this.state.sortDir == 'asc' ? 'fa-sort-up' : 'fa-sort-down')
    }));
  },
  handleFilterTextChange: function handleFilterTextChange(e) {
    this.setState({
      filterString: e.target.value
    });
    this.updateUrl(e.target.value, this.state.sortType, this.state.sortDir);
    return;
  },
  updateUrl: function updateUrl(filterTerm, sortType, sortDir) {
    var filterTag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';
    var url = new URL(window.location.href);
    var urlParams = new URLSearchParams(url.search);
    urlParams.set('sort', sortType);
    urlParams.set('dir', sortDir);
    var filterTags = urlParams.getAll('tag');
    if (filterTag != '') {
      if (filterTags.findIndex(function (tag) {
        return tag.toLowerCase() == filterTag.toLowerCase();
      }) == -1) {
        filterTags.push(filterTag);
      } else {
        filterTags = filterTags.filter(function (tag) {
          return tag.toLowerCase() != filterTag.toLowerCase();
        });
      }
    }
    urlParams["delete"]('tag');
    // Add tags to URL in the order they were clicked
    filterTags.forEach(function (tag) {
      urlParams.append('tag', tag);
    });
    // Sort tags before updating state
    filterTags.sort(function (a, b) {
      return a.indexOf(':') - b.indexOf(':') != 0 ? a.indexOf(':') - b.indexOf(':') : a.toLowerCase().localeCompare(b.toLowerCase());
    });
    this.setState({
      filterTags: filterTags
    });
    if (!filterTerm) urlParams["delete"]('filter');else urlParams.set('filter', filterTerm);
    url.search = urlParams;
    window.history.replaceState(null, null, url);
  },
  renderFilterOption: function renderFilterOption() {
    return /*#__PURE__*/React.createElement("div", {
      className: "filter-option"
    }, /*#__PURE__*/React.createElement("label", null, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-search"
    }), /*#__PURE__*/React.createElement("input", {
      type: "search",
      placeholder: "filter title/description",
      onChange: this.handleFilterTextChange,
      value: this.state.filterString
    })));
  },
  renderTagsOptions: function renderTagsOptions() {
    var _this$state$filterTag,
      _this2 = this;
    if (((_this$state$filterTag = this.state.filterTags) === null || _this$state$filterTag === void 0 ? void 0 : _this$state$filterTag.length) == 0) return;
    return /*#__PURE__*/React.createElement("div", {
      className: "tags-container"
    }, _.map(this.state.filterTags, function (tag, idx) {
      var matches = tag.match(/^(?:([^:]+):)?([^:]+)$/);
      return /*#__PURE__*/React.createElement("span", {
        key: idx,
        className: matches[1],
        onClick: function onClick() {
          _this2.updateUrl(_this2.state.filterString, _this2.state.sortType, _this2.state.sortDir, tag);
        }
      }, matches[2]);
    }));
  },
  renderSortOptions: function renderSortOptions() {
    return /*#__PURE__*/React.createElement("div", {
      className: "sort-container"
    }, /*#__PURE__*/React.createElement("h6", null, "Sort by :"), this.renderSortOption('Title', 'alpha'), this.renderSortOption('Created Date', 'created'), this.renderSortOption('Updated Date', 'updated'), this.renderSortOption('Views', 'views'), this.renderFilterOption());
  },
  getSortedBrews: function getSortedBrews(brews) {
    var _this3 = this;
    var testString = _.deburr(this.state.filterString).toLowerCase();
    brews = _.filter(brews, function (brew) {
      // Filter by user entered text
      var brewStrings = _.deburr([brew.title, brew.description, brew.tags].join('\n').toLowerCase());
      var filterTextTest = brewStrings.includes(testString);

      // Filter by user selected tags
      var filterTagTest = true;
      if (_this3.state.filterTags.length > 0) {
        var _this3$state$filterTa;
        filterTagTest = Array.isArray(brew.tags) && ((_this3$state$filterTa = _this3.state.filterTags) === null || _this3$state$filterTa === void 0 ? void 0 : _this3$state$filterTa.every(function (tag) {
          return brew.tags.findIndex(function (brewTag) {
            return brewTag.toLowerCase() == tag.toLowerCase();
          }) >= 0;
        }));
      }
      return filterTextTest && filterTagTest;
    });
    return _.orderBy(brews, function (brew) {
      return _this3.sortBrewOrder(brew);
    }, this.state.sortDir);
  },
  toggleBrewCollectionState: function toggleBrewCollectionState(brewGroupClass) {
    this.setState(function (prevState) {
      return {
        brewCollection: prevState.brewCollection.map(function (brewGroup) {
          return brewGroup["class"] === brewGroupClass ? _objectSpread(_objectSpread({}, brewGroup), {}, {
            visible: !brewGroup.visible
          }) : brewGroup;
        })
      };
    });
  },
  renderBrewCollection: function renderBrewCollection(brewCollection) {
    var _this4 = this;
    if (brewCollection == []) return /*#__PURE__*/React.createElement("div", {
      className: "brewCollection"
    }, /*#__PURE__*/React.createElement("h1", null, "No Brews"));
    return _.map(brewCollection, function (brewGroup, idx) {
      var _brewGroup$class;
      return /*#__PURE__*/React.createElement("div", {
        key: idx,
        className: "brewCollection ".concat((_brewGroup$class = brewGroup["class"]) !== null && _brewGroup$class !== void 0 ? _brewGroup$class : '')
      }, /*#__PURE__*/React.createElement("h1", {
        className: brewGroup.visible ? 'active' : 'inactive',
        onClick: function onClick() {
          _this4.toggleBrewCollectionState(brewGroup["class"]);
        }
      }, brewGroup.title || 'No Title'), brewGroup.visible ? _this4.renderBrews(_this4.getSortedBrews(brewGroup.brews)) : /*#__PURE__*/React.createElement(React.Fragment, null));
    });
  },
  render: function render() {
    return /*#__PURE__*/React.createElement("div", {
      className: "listPage sitePage"
    }, /*#__PURE__*/React.createElement("link", {
      href: "/themes/V3/Blank/style.css",
      type: "text/css",
      rel: "stylesheet"
    }), /*#__PURE__*/React.createElement("link", {
      href: "/themes/V3/5ePHB/style.css",
      type: "text/css",
      rel: "stylesheet"
    }), this.props.navItems, this.renderSortOptions(), this.renderTagsOptions(), /*#__PURE__*/React.createElement("div", {
      className: "content V3"
    }, /*#__PURE__*/React.createElement("div", {
      className: "page"
    }, this.renderBrewCollection(this.state.brewCollection))));
  }
});
module.exports = ListPage;
},{"./brewItem/brewItem.jsx":46,"./listPage.less":49,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"create-react-class":"create-react-class","lodash":"lodash","moment":"moment","react":"react"}],49:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],50:[function(require,module,exports){
"use strict";

require('./uiPage.less');
var React = require('react');
var createClass = require('create-react-class');
var Nav = require('naturalcrit/nav/nav.jsx');
var Navbar = require('../../../navbar/navbar.jsx');
var NewBrewItem = require('../../../navbar/newbrew.navitem.jsx');
var HelpNavItem = require('../../../navbar/help.navitem.jsx');
var RecentNavItem = require('../../../navbar/recent.navitem.jsx').both;
var Account = require('../../../navbar/account.navitem.jsx');
var UIPage = createClass({
  displayName: 'UIPage',
  render: function render() {
    return /*#__PURE__*/React.createElement("div", {
      className: "uiPage sitePage"
    }, /*#__PURE__*/React.createElement(Navbar, null, /*#__PURE__*/React.createElement(Nav.section, null, /*#__PURE__*/React.createElement(Nav.item, {
      className: "brewTitle"
    }, this.props.brew.title)), /*#__PURE__*/React.createElement(Nav.section, null, /*#__PURE__*/React.createElement(NewBrewItem, null), /*#__PURE__*/React.createElement(HelpNavItem, null), /*#__PURE__*/React.createElement(RecentNavItem, null), /*#__PURE__*/React.createElement(Account, null))), /*#__PURE__*/React.createElement("div", {
      className: "content"
    }, this.props.children));
  }
});
module.exports = UIPage;
},{"../../../navbar/account.navitem.jsx":32,"../../../navbar/help.navitem.jsx":35,"../../../navbar/navbar.jsx":37,"../../../navbar/newbrew.navitem.jsx":39,"../../../navbar/recent.navitem.jsx":42,"./uiPage.less":51,"create-react-class":"create-react-class","naturalcrit/nav/nav.jsx":281,"react":"react"}],51:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],52:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
require("./editPage.less");
var _react = _interopRequireWildcard(require("react"));
var _requestMiddleware = _interopRequireDefault(require("../../utils/request-middleware.js"));
var _markdown = _interopRequireDefault(require("naturalcrit/markdown.js"));
var _lodash = _interopRequireDefault(require("lodash"));
var _diffMatchPatch = require("@sanity/diff-match-patch");
var _hashWasm = require("hash-wasm");
var _fflate = require("fflate");
var _headtags = require("vitreum/headtags");
var _nav = _interopRequireDefault(require("naturalcrit/nav/nav.jsx"));
var _navbar = _interopRequireDefault(require("../../navbar/navbar.jsx"));
var _newbrewNavitem = _interopRequireDefault(require("../../navbar/newbrew.navitem.jsx"));
var _accountNavitem = _interopRequireDefault(require("../../navbar/account.navitem.jsx"));
var _shareNavitem = _interopRequireDefault(require("../../navbar/share.navitem.jsx"));
var _errorNavitem = _interopRequireDefault(require("../../navbar/error-navitem.jsx"));
var _helpNavitem = _interopRequireDefault(require("../../navbar/help.navitem.jsx"));
var _vaultNavitem = _interopRequireDefault(require("../../navbar/vault.navitem.jsx"));
var _printNavitem = _interopRequireDefault(require("../../navbar/print.navitem.jsx"));
var _recentNavitem = require("../../navbar/recent.navitem.jsx");
var _splitPane = _interopRequireDefault(require("client/components/splitPane/splitPane.jsx"));
var _editor = _interopRequireDefault(require("../../editor/editor.jsx"));
var _brewRenderer = _interopRequireDefault(require("../../brewRenderer/brewRenderer.jsx"));
var _lockNotification = _interopRequireDefault(require("./lockNotification/lockNotification.jsx"));
var _brewDefaults = require("../../../../server/brewDefaults.js");
var _helpers = require("../../../../shared/helpers.js");
var _versionHistory = require("../../utils/versionHistory.js");
var _googleDrive = _interopRequireDefault(require("../../googleDrive.svg"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t0 in e) "default" !== _t0 && {}.hasOwnProperty.call(e, _t0) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t0)) && (i.get || i.set) ? o(f, _t0, i) : f[_t0] = e[_t0]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; } /* eslint-disable max-lines */
;
var SAVE_TIMEOUT = 10000;
var UNSAVED_WARNING_TIMEOUT = 900000; //Warn user afer 15 minutes of unsaved changes
var UNSAVED_WARNING_POPUP_TIMEOUT = 4000; //Show the warning for 4 seconds

var EditPage = function EditPage(props) {
  props = _objectSpread({
    brew: _brewDefaults.DEFAULT_BREW_LOAD
  }, props);
  var _useState = (0, _react.useState)(props.brew),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    currentBrew = _useState2[0],
    setCurrentBrew = _useState2[1];
  var _useState3 = (0, _react.useState)(false),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    isSaving = _useState4[0],
    setIsSaving = _useState4[1];
  var _useState5 = (0, _react.useState)(!!props.brew.googleId),
    _useState6 = (0, _slicedToArray2["default"])(_useState5, 2),
    saveGoogle = _useState6[0],
    setSaveGoogle = _useState6[1];
  var _useState7 = (0, _react.useState)(null),
    _useState8 = (0, _slicedToArray2["default"])(_useState7, 2),
    error = _useState8[0],
    setError = _useState8[1];
  var _useState9 = (0, _react.useState)(_markdown["default"].validate(props.brew.text)),
    _useState0 = (0, _slicedToArray2["default"])(_useState9, 2),
    HTMLErrors = _useState0[0],
    setHTMLErrors = _useState0[1];
  var _useState1 = (0, _react.useState)(1),
    _useState10 = (0, _slicedToArray2["default"])(_useState1, 2),
    currentEditorViewPageNum = _useState10[0],
    setCurrentEditorViewPageNum = _useState10[1];
  var _useState11 = (0, _react.useState)(1),
    _useState12 = (0, _slicedToArray2["default"])(_useState11, 2),
    currentEditorCursorPageNum = _useState12[0],
    setCurrentEditorCursorPageNum = _useState12[1];
  var _useState13 = (0, _react.useState)(1),
    _useState14 = (0, _slicedToArray2["default"])(_useState13, 2),
    currentBrewRendererPageNum = _useState14[0],
    setCurrentBrewRendererPageNum = _useState14[1];
  var _useState15 = (0, _react.useState)({}),
    _useState16 = (0, _slicedToArray2["default"])(_useState15, 2),
    themeBundle = _useState16[0],
    setThemeBundle = _useState16[1];
  var _useState17 = (0, _react.useState)(false),
    _useState18 = (0, _slicedToArray2["default"])(_useState17, 2),
    unsavedChanges = _useState18[0],
    setUnsavedChanges = _useState18[1];
  var _useState19 = (0, _react.useState)(props.brew.trashed),
    _useState20 = (0, _slicedToArray2["default"])(_useState19, 2),
    alertTrashedGoogleBrew = _useState20[0],
    setAlertTrashedGoogleBrew = _useState20[1];
  var _useState21 = (0, _react.useState)(false),
    _useState22 = (0, _slicedToArray2["default"])(_useState21, 2),
    alertLoginToTransfer = _useState22[0],
    setAlertLoginToTransfer = _useState22[1];
  var _useState23 = (0, _react.useState)(false),
    _useState24 = (0, _slicedToArray2["default"])(_useState23, 2),
    confirmGoogleTransfer = _useState24[0],
    setConfirmGoogleTransfer = _useState24[1];
  var _useState25 = (0, _react.useState)(''),
    _useState26 = (0, _slicedToArray2["default"])(_useState25, 2),
    url = _useState26[0],
    setUrl = _useState26[1];
  var _useState27 = (0, _react.useState)(true),
    _useState28 = (0, _slicedToArray2["default"])(_useState27, 2),
    autoSaveEnabled = _useState28[0],
    setAutoSaveEnabled = _useState28[1];
  var _useState29 = (0, _react.useState)(true),
    _useState30 = (0, _slicedToArray2["default"])(_useState29, 2),
    autoSaveWarning = _useState30[0],
    setAutoSaveWarning = _useState30[1];
  var _useState31 = (0, _react.useState)(new Date()),
    _useState32 = (0, _slicedToArray2["default"])(_useState31, 2),
    unsavedTime = _useState32[0],
    setUnsavedTime = _useState32[1];
  var editorRef = (0, _react.useRef)(null);
  var savedBrew = (0, _react.useRef)(_lodash["default"].cloneDeep(props.brew));
  var warningTimer = (0, _react.useRef)(null);
  var debounceSave = (0, _react.useCallback)(_lodash["default"].debounce(function (brew, saveToGoogle) {
    return save(brew, saveToGoogle);
  }, SAVE_TIMEOUT), []);
  (0, _react.useEffect)(function () {
    var _localStorage$getItem;
    setUrl(window.location.href);
    var autoSavePref = JSON.parse((_localStorage$getItem = localStorage.getItem('AUTOSAVE_ON')) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : true);
    setAutoSaveEnabled(autoSavePref);
    setAutoSaveWarning(!autoSavePref);
    setHTMLErrors(_markdown["default"].validate(currentBrew.text));
    (0, _helpers.fetchThemeBundle)(setError, setThemeBundle, currentBrew.renderer, currentBrew.theme);
    document.addEventListener('keydown', handleControlKeys);
    window.onbeforeunload = function () {
      if (isSaving || unsavedChanges) return 'You have unsaved changes!';
    };
    return function () {
      document.removeEventListener('keydown', handleControlKeys);
      window.onbeforeunload = null;
    };
  }, []);
  (0, _react.useEffect)(function () {
    var hasChange = !_lodash["default"].isEqual(currentBrew, savedBrew.current);
    setUnsavedChanges(hasChange);
    if (hasChange && autoSaveEnabled) trySave();
  }, [currentBrew]);
  var handleControlKeys = function handleControlKeys(e) {
    if (!(e.ctrlKey || e.metaKey)) return;
    var S_KEY = 83;
    var P_KEY = 80;
    if (e.keyCode === S_KEY) trySave(true);
    if (e.keyCode === P_KEY) (0, _helpers.printCurrentBrew)();
    if (e.keyCode === S_KEY || e.keyCode === P_KEY) {
      e.stopPropagation();
      e.preventDefault();
    }
  };
  var handleSplitMove = function handleSplitMove() {
    var _editorRef$current;
    (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 || _editorRef$current.update();
  };
  var handleEditorViewPageChange = function handleEditorViewPageChange(pageNumber) {
    setCurrentEditorViewPageNum(pageNumber);
  };
  var handleEditorCursorPageChange = function handleEditorCursorPageChange(pageNumber) {
    setCurrentEditorCursorPageNum(pageNumber);
  };
  var handleBrewRendererPageChange = function handleBrewRendererPageChange(pageNumber) {
    setCurrentBrewRendererPageNum(pageNumber);
  };
  var handleTextChange = function handleTextChange(text) {
    //If there are HTML errors, run the validator on every change to give quick feedback
    if (HTMLErrors.length) setHTMLErrors(_markdown["default"].validate(text));
    setCurrentBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        text: text
      });
    });
  };
  var handleStyleChange = function handleStyleChange(style) {
    setCurrentBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        style: style
      });
    });
  };
  var handleSnipChange = function handleSnipChange(snippet) {
    //If there are HTML errors, run the validator on every change to give quick feedback
    if (HTMLErrors.length) setHTMLErrors(_markdown["default"].validate(snippet));
    setCurrentBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        snippets: snippet
      });
    });
  };
  var handleMetaChange = function handleMetaChange(metadata) {
    var field = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
    if (field === 'theme' || field === 'renderer') (0, _helpers.fetchThemeBundle)(setError, setThemeBundle, metadata.renderer, metadata.theme);
    setCurrentBrew(function (prev) {
      return _objectSpread(_objectSpread({}, prev), metadata);
    });
  };
  var updateBrew = function updateBrew(newData) {
    return setCurrentBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        style: newData.style,
        text: newData.text,
        snippets: newData.snippets
      });
    });
  };
  var trySave = function trySave() {
    var _debounceSave$cancel;
    var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    //debounceSave = _.debounce(save, SAVE_TIMEOUT);
    if (isSaving) return;
    var hasChange = !_lodash["default"].isEqual(currentBrew, savedBrew.current);
    if (immediate) {
      var _debounceSave$flush;
      debounceSave(currentBrew, saveGoogle);
      (_debounceSave$flush = debounceSave.flush) === null || _debounceSave$flush === void 0 || _debounceSave$flush.call(debounceSave);
      return;
    }
    if (hasChange) debounceSave(currentBrew, saveGoogle);else (_debounceSave$cancel = debounceSave.cancel) === null || _debounceSave$cancel === void 0 || _debounceSave$cancel.call(debounceSave);
  };
  var handleGoogleClick = function handleGoogleClick() {
    var _global$account;
    if (!((_global$account = global.account) !== null && _global$account !== void 0 && _global$account.googleId)) {
      setAlertLoginToTransfer(true);
      return;
    }
    setConfirmGoogleTransfer(function (prev) {
      return !prev;
    });
    setError(null);
  };
  var closeAlerts = function closeAlerts(e) {
    e.stopPropagation(); //Only handle click once so alert doesn't reopen
    setAlertTrashedGoogleBrew(false);
    setAlertLoginToTransfer(false);
    setConfirmGoogleTransfer(false);
  };
  var toggleGoogleStorage = function toggleGoogleStorage() {
    setSaveGoogle(function (prev) {
      return !prev;
    });
    setError(null);
    trySave(true);
  };
  var save = /*#__PURE__*/function () {
    var _ref = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(brew, saveToGoogle) {
      var _debounceSave$cancel2;
      var brewToSave, compressedBrew, transfer, params, res, _res$body, googleId, editId, shareId, version, _t, _t2, _t3, _t4, _t5, _t6, _t7, _t8, _t9;
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            debounceSave === null || debounceSave === void 0 || (_debounceSave$cancel2 = debounceSave.cancel) === null || _debounceSave$cancel2 === void 0 || _debounceSave$cancel2.call(debounceSave);
            setIsSaving(true);
            setError(null);
            setHTMLErrors(_markdown["default"].validate(brew.text));
            _context.next = 1;
            return (0, _versionHistory.updateHistory)(brew)["catch"](console.error);
          case 1:
            _context.next = 2;
            return (0, _versionHistory.versionHistoryGarbageCollection)()["catch"](console.error);
          case 2:
            _t = _objectSpread;
            _t2 = _objectSpread({}, brew);
            _t3 = {};
            _t4 = brew.text.normalize('NFC');
            _t5 = ((brew.renderer === 'legacy' ? brew.text.match(/\\page/g) : brew.text.match(/^\\page$/gm)) || []).length + 1;
            _t6 = (0, _diffMatchPatch.stringifyPatches)((0, _diffMatchPatch.makePatches)(encodeURI(savedBrew.current.text.normalize('NFC')), encodeURI(brew.text.normalize('NFC'))));
            _context.next = 3;
            return (0, _hashWasm.md5)(savedBrew.current.text);
          case 3:
            _t7 = _context.sent;
            _t8 = undefined;
            _t9 = {
              text: _t4,
              pageCount: _t5,
              patches: _t6,
              hash: _t7,
              textBin: _t8
            };
            brewToSave = _t(_t2, _t3, _t9);
            compressedBrew = (0, _fflate.gzipSync)((0, _fflate.strToU8)(JSON.stringify(brewToSave)));
            transfer = saveToGoogle === _lodash["default"].isNil(brew.googleId);
            params = transfer ? "?".concat(saveToGoogle ? 'saveToGoogle' : 'removeFromGoogle', "=true") : '';
            _context.next = 4;
            return _requestMiddleware["default"].put("/api/update/".concat(brewToSave.editId).concat(params)).set('Content-Encoding', 'gzip').set('Content-Type', 'application/json').send(compressedBrew)["catch"](function (err) {
              console.error('Error Updating Local Brew');
              setError(err);
            });
          case 4:
            res = _context.sent;
            if (res) {
              _context.next = 5;
              break;
            }
            return _context.abrupt("return");
          case 5:
            _res$body = res.body, googleId = _res$body.googleId, editId = _res$body.editId, shareId = _res$body.shareId, version = _res$body.version;
            savedBrew.current = _objectSpread(_objectSpread({}, brew), {}, {
              googleId: googleId !== null && googleId !== void 0 ? googleId : null,
              editId: editId,
              shareId: shareId,
              version: version
            });
            setCurrentBrew(savedBrew.current);
            setIsSaving(false);
            setUnsavedTime(new Date());
            history.replaceState(null, null, "/edit/".concat(editId));
          case 6:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function save(_x, _x2) {
      return _ref.apply(this, arguments);
    };
  }();
  var renderGoogleDriveIcon = function renderGoogleDriveIcon() {
    return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      className: "googleDriveStorage",
      onClick: handleGoogleClick
    }, /*#__PURE__*/_react["default"].createElement("img", {
      src: _googleDrive["default"],
      className: saveGoogle ? '' : 'inactive',
      alt: "Google Drive icon"
    }), confirmGoogleTransfer && /*#__PURE__*/_react["default"].createElement("div", {
      className: "errorContainer",
      onClick: closeAlerts
    }, saveGoogle ? 'Would you like to transfer this brew from your Google Drive storage back to the Homebrewery?' : 'Would you like to transfer this brew from the Homebrewery to your personal Google Drive storage?', /*#__PURE__*/_react["default"].createElement("br", null), /*#__PURE__*/_react["default"].createElement("div", {
      className: "confirm",
      onClick: toggleGoogleStorage
    }, " Yes "), /*#__PURE__*/_react["default"].createElement("div", {
      className: "deny"
    }, "                                  No  ")), alertLoginToTransfer && /*#__PURE__*/_react["default"].createElement("div", {
      className: "errorContainer",
      onClick: closeAlerts
    }, "You must be signed in to a Google account to transfer between the homebrewery and Google Drive!", /*#__PURE__*/_react["default"].createElement("a", {
      target: "_blank",
      rel: "noopener noreferrer",
      href: "https://www.naturalcrit.com/login?redirect=".concat(url)
    }, /*#__PURE__*/_react["default"].createElement("div", {
      className: "confirm"
    }, " Sign In ")), /*#__PURE__*/_react["default"].createElement("div", {
      className: "deny"
    }, "      Not Now ")), alertTrashedGoogleBrew && /*#__PURE__*/_react["default"].createElement("div", {
      className: "errorContainer",
      onClick: closeAlerts
    }, "This brew is currently in your Trash folder on Google Drive!", /*#__PURE__*/_react["default"].createElement("br", null), "If you want to keep it, make sure to move it before it is deleted permanently!", /*#__PURE__*/_react["default"].createElement("br", null), /*#__PURE__*/_react["default"].createElement("div", {
      className: "confirm"
    }, " OK ")));
  };
  var renderSaveButton = function renderSaveButton() {
    // #1 - Currently saving, show SAVING
    if (isSaving) return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      className: "save",
      icon: "fas fa-spinner fa-spin"
    }, "saving...");

    // #2 - Unsaved changes exist, autosave is OFF and warning timer has expired, show AUTOSAVE WARNING
    if (unsavedChanges && autoSaveWarning) {
      resetAutoSaveWarning();
      var elapsedTime = Math.round((new Date() - unsavedTime) / 1000 / 60);
      var text = elapsedTime === 0 ? 'Autosave is OFF.' : "Autosave is OFF, and you haven't saved for ".concat(elapsedTime, " minutes.");
      return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
        className: "save error",
        icon: "fas fa-exclamation-circle"
      }, "Reminder...", /*#__PURE__*/_react["default"].createElement("div", {
        className: "errorContainer"
      }, text));
    }

    // #3 - Unsaved changes exist, click to save, show SAVE NOW
    if (unsavedChanges) return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      className: "save",
      onClick: function onClick() {
        return trySave(true);
      },
      color: "blue",
      icon: "fas fa-save"
    }, "Save Now");

    // #4 - No unsaved changes, autosave is ON, show AUTO-SAVED
    if (autoSaveEnabled) return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      className: "save saved"
    }, "auto-saved.");

    // DEFAULT - No unsaved changes, show SAVED
    return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      className: "save saved"
    }, "saved.");
  };
  var toggleAutoSave = function toggleAutoSave() {
    if (warningTimer.current) clearTimeout(warningTimer.current);
    localStorage.setItem('AUTOSAVE_ON', JSON.stringify(!autoSaveEnabled));
    setAutoSaveWarning(autoSaveWarning);
    setAutoSaveEnabled(!autoSaveEnabled);
  };
  var resetAutoSaveWarning = function resetAutoSaveWarning() {
    setTimeout(function () {
      return setAutoSaveWarning(false);
    }, UNSAVED_WARNING_POPUP_TIMEOUT); // Hide the warning after 4 seconds
    warningTimer.current = setTimeout(function () {
      return setAutoSaveWarning(true);
    }, UNSAVED_WARNING_TIMEOUT); // 15 minutes between unsaved changes warnings
  };
  var renderAutoSaveButton = function renderAutoSaveButton() {
    return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      onClick: toggleAutoSave
    }, "Autosave ", /*#__PURE__*/_react["default"].createElement("i", {
      className: autoSaveEnabled ? 'fas fa-power-off active' : 'fas fa-power-off'
    }));
  };
  var clearError = function clearError() {
    setError(null);
    setIsSaving(false);
  };
  var renderNavbar = function renderNavbar() {
    return /*#__PURE__*/_react["default"].createElement(_navbar["default"], null, /*#__PURE__*/_react["default"].createElement(_nav["default"].section, null, /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      className: "brewTitle"
    }, currentBrew.title)), /*#__PURE__*/_react["default"].createElement(_nav["default"].section, null, renderGoogleDriveIcon(), error ? /*#__PURE__*/_react["default"].createElement(_errorNavitem["default"], {
      error: error,
      clearError: clearError
    }) : /*#__PURE__*/_react["default"].createElement(_nav["default"].dropdown, {
      className: "save-menu"
    }, renderSaveButton(), renderAutoSaveButton()), /*#__PURE__*/_react["default"].createElement(_newbrewNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_helpNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_shareNavitem["default"], {
      brew: currentBrew
    }), /*#__PURE__*/_react["default"].createElement(_printNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_vaultNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_recentNavitem.both, {
      brew: currentBrew,
      storageKey: "edit"
    }), /*#__PURE__*/_react["default"].createElement(_accountNavitem["default"], null)));
  };
  return /*#__PURE__*/_react["default"].createElement("div", {
    className: "editPage sitePage"
  }, /*#__PURE__*/_react["default"].createElement(_headtags.Meta, {
    name: "robots",
    content: "noindex, nofollow"
  }), renderNavbar(), currentBrew.lock && /*#__PURE__*/_react["default"].createElement(_lockNotification["default"], {
    shareId: currentBrew.shareId,
    message: currentBrew.lock.editMessage,
    reviewRequested: currentBrew.lock.reviewRequested
  }), /*#__PURE__*/_react["default"].createElement("div", {
    className: "content"
  }, /*#__PURE__*/_react["default"].createElement(_splitPane["default"], {
    onDragFinish: handleSplitMove
  }, /*#__PURE__*/_react["default"].createElement(_editor["default"], {
    ref: editorRef,
    brew: currentBrew,
    onTextChange: handleTextChange,
    onStyleChange: handleStyleChange,
    onSnipChange: handleSnipChange,
    onMetaChange: handleMetaChange,
    reportError: setError,
    renderer: currentBrew.renderer,
    userThemes: props.userThemes,
    themeBundle: themeBundle,
    updateBrew: updateBrew,
    onCursorPageChange: handleEditorCursorPageChange,
    onViewPageChange: handleEditorViewPageChange,
    currentEditorViewPageNum: currentEditorViewPageNum,
    currentEditorCursorPageNum: currentEditorCursorPageNum,
    currentBrewRendererPageNum: currentBrewRendererPageNum
  }), /*#__PURE__*/_react["default"].createElement(_brewRenderer["default"], {
    text: currentBrew.text,
    style: currentBrew.style,
    renderer: currentBrew.renderer,
    theme: currentBrew.theme,
    themeBundle: themeBundle,
    errors: HTMLErrors,
    lang: currentBrew.lang,
    onPageChange: handleBrewRendererPageChange,
    currentEditorViewPageNum: currentEditorViewPageNum,
    currentEditorCursorPageNum: currentEditorCursorPageNum,
    currentBrewRendererPageNum: currentBrewRendererPageNum,
    allowPrint: true
  }))));
};
module.exports = EditPage;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../../../../server/brewDefaults.js":269,"../../../../shared/helpers.js":270,"../../brewRenderer/brewRenderer.jsx":9,"../../editor/editor.jsx":20,"../../googleDrive.svg":29,"../../navbar/account.navitem.jsx":32,"../../navbar/error-navitem.jsx":33,"../../navbar/help.navitem.jsx":35,"../../navbar/navbar.jsx":37,"../../navbar/newbrew.navitem.jsx":39,"../../navbar/print.navitem.jsx":41,"../../navbar/recent.navitem.jsx":42,"../../navbar/share.navitem.jsx":43,"../../navbar/vault.navitem.jsx":44,"../../utils/request-middleware.js":71,"../../utils/versionHistory.js":72,"./editPage.less":53,"./lockNotification/lockNotification.jsx":54,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/typeof":113,"@babel/runtime/regenerator":116,"@sanity/diff-match-patch":"@sanity/diff-match-patch","client/components/splitPane/splitPane.jsx":7,"fflate":"fflate","hash-wasm":192,"lodash":"lodash","naturalcrit/markdown.js":279,"naturalcrit/nav/nav.jsx":281,"react":"react","vitreum/headtags":249}],53:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],54:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
require("./lockNotification.less");
var React = _interopRequireWildcard(require("react"));
var _requestMiddleware = _interopRequireDefault(require("../../../utils/request-middleware.js"));
var _dialog = _interopRequireDefault(require("../../../../components/dialog.jsx"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function LockNotification(props) {
  props = _objectSpread({
    shareId: 0,
    disableLock: function disableLock() {},
    lock: {},
    message: 'Unable to retrieve Lock Message',
    reviewRequested: false
  }, props);
  var _React$useState = React.useState(props.reviewRequested),
    _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
    reviewState = _React$useState2[0],
    setReviewState = _React$useState2[1];
  var removeLock = /*#__PURE__*/function () {
    var _ref = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee() {
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            _context.next = 1;
            return _requestMiddleware["default"].put("/api/lock/review/request/".concat(props.shareId)).then(function () {
              setReviewState(true);
            });
          case 1:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function removeLock() {
      return _ref.apply(this, arguments);
    };
  }();
  var renderReviewButton = function renderReviewButton() {
    if (reviewState) {
      return /*#__PURE__*/React.createElement("button", {
        className: "inactive"
      }, "REVIEW REQUESTED");
    }
    ;
    return /*#__PURE__*/React.createElement("button", {
      onClick: removeLock
    }, "REQUEST LOCK REMOVAL");
  };
  return /*#__PURE__*/React.createElement(_dialog["default"], {
    className: "lockNotification",
    blocking: true,
    closeText: "CONTINUE TO EDITOR"
  }, /*#__PURE__*/React.createElement("h1", null, "BREW LOCKED"), /*#__PURE__*/React.createElement("p", null, "This brew been locked by the Administrators. It will not be accessible by any method other than the Editor until the lock is removed."), /*#__PURE__*/React.createElement("hr", null), /*#__PURE__*/React.createElement("h3", null, "LOCK REASON"), /*#__PURE__*/React.createElement("p", null, props.message), /*#__PURE__*/React.createElement("hr", null), /*#__PURE__*/React.createElement("p", null, "Once you have resolved this issue, click REQUEST LOCK REMOVAL to notify the Administrators for review."), /*#__PURE__*/React.createElement("p", null, "Click CONTINUE TO EDITOR to temporarily hide this notification; it will reappear the next time the page is reloaded."), renderReviewButton());
}
;
module.exports = LockNotification;
},{"../../../../components/dialog.jsx":6,"../../../utils/request-middleware.js":71,"./lockNotification.less":55,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/typeof":113,"@babel/runtime/regenerator":116,"react":"react"}],55:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],56:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _markdown = _interopRequireDefault(require("../../../../shared/naturalcrit/markdown.js"));
require('./errorPage.less');
var React = require('react');
var UIPage = require('../basePages/uiPage/uiPage.jsx');
var ErrorIndex = require('./errors/errorIndex.js');
var ErrorPage = function ErrorPage(_ref) {
  var brew = _ref.brew;
  // Retrieving the error text based on the brew's error code from ErrorIndex
  var errorText = ErrorIndex({
    brew: brew
  })[brew.HBErrorCode.toString()] || '';
  return /*#__PURE__*/React.createElement(UIPage, {
    brew: {
      title: 'Crit Fail!'
    }
  }, /*#__PURE__*/React.createElement("div", {
    className: "dataGroup"
  }, /*#__PURE__*/React.createElement("div", {
    className: "errorTitle"
  }, /*#__PURE__*/React.createElement("h1", null, "Error ".concat((brew === null || brew === void 0 ? void 0 : brew.status) || '000')), /*#__PURE__*/React.createElement("h4", null, (brew === null || brew === void 0 ? void 0 : brew.text) || 'No error text')), /*#__PURE__*/React.createElement("hr", null), /*#__PURE__*/React.createElement("div", {
    dangerouslySetInnerHTML: {
      __html: _markdown["default"].render(errorText)
    }
  })));
};
module.exports = ErrorPage;
},{"../../../../shared/naturalcrit/markdown.js":279,"../basePages/uiPage/uiPage.jsx":50,"./errorPage.less":57,"./errors/errorIndex.js":58,"@babel/runtime/helpers/interopRequireDefault":86,"react":"react"}],57:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],58:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject0, _templateObject1, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24, _templateObject25, _templateObject26, _templateObject27, _templateObject28, _templateObject29, _templateObject30;
var dedent = require('dedent-tabs')["default"];
var loginUrl = 'https://www.naturalcrit.com/login';

// Prevent parsing text (e.g. document titles) as markdown
var escape = function escape() {
  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  return text.split('').map(function (_char) {
    return "&#".concat(_char.charCodeAt(0), ";");
  }).join('');
};

//001-050 : Brew errors
//050-100 : Other pages errors

var errorIndex = function errorIndex(props) {
  var _props$brew$authors, _props$brew$authors2, _props$brew$authors3, _props$brew$authors4;
  return {
    // Default catch all
    '00': dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t## An unknown error occurred!\n\t\t\t\n\t\t\tWe aren't sure what happened, but our server wasn't able to find what you\n\t\t\twere looking for."]))),
    // General Google load error
    '01': dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t## An error occurred while retrieving this brew from Google Drive!\n\t\t\t\n\t\t\tGoogle is able to see the brew at this link, but reported an error while attempting to retrieve it.\n\n\t\t\t### Refreshing your Google Credentials\n\n\t\t\tThis issue is likely caused by an issue with your Google credentials; if you are the owner of this file, the following steps may resolve the issue:\n\n\t\t\t- Go to https://www.naturalcrit.com/login and click logout if present (in small text at the bottom of the page).\n\t\t\t- Click \"Sign In with Google\", which will refresh your Google credentials.\n\t\t\t- After completing the sign in process, return to Homebrewery and refresh/reload the page so that it can pick up the updated credentials.\n\t\t\t- If this was the source of the issue, it should now be resolved.\n\n\t\t\tIf following these steps does not resolve the issue, please let us know!"]))),
    // Google Drive - 404 : brew deleted or access denied
    '02': dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t## We can't find this brew in Google Drive!\n\t\t\t\n\t\t\tThis file was saved on Google Drive, but this link doesn't work anymore.\n\t\t\t", "\n\t\t\tThe Homebrewery cannot delete files from Google Drive on its own, so there\n\t\t\tare three most likely possibilities:\n\t\t\t:\n\t\t\t- **The Google Drive files may have been accidentally deleted.** Look in\n\t\t\tthe Google Drive account that owns this brew (or ask the owner to do so),\n\t\t\tand make sure the Homebrewery folder is still there, and that it holds your brews\n\t\t\tas text files.\n\t\t\t- **You may have changed the sharing settings for your files.** If the files\n\t\t\tare still on Google Drive, change all of them to be shared *with everyone who has\n\t\t\tthe link* so the Homebrewery can access them.\n\t\t\t- **The Google Account may be closed.** Google may have removed the account\n\t\t\tdue to inactivity or violating a Google policy. Make sure the owner can\n\t\t\tstill access Google Drive normally and upload/download files to it.\n\t\t\t\n\t\t\tIf the file isn't found, Google Drive usually puts your file in your Trash folder for\n\t\t\t30 days. Assuming the trash hasn't been emptied yet, it might be worth checking.\n\t\t\tYou can also find the Activity tab on the right side of the Google Drive page, which\n\t\t\tshows the recent activity on Google Drive. This can help you pin down the exact date\n\t\t\tthe brew was deleted or moved, and by whom.\n\t\t\t:\n\t\t\tIf the brew still isn't found, some people have had success asking Google to recover\n\t\t\taccidentally deleted files at this link: \n\t\t\thttps://support.google.com/drive/answer/1716222?hl=en&ref_topic=7000946.\n\t\t\tAt the bottom of the page there is a button that says *Send yourself an Email*\n\t\t\tand you will receive instructions on how to request the files be restored.\n\t\t\t:\n\t\t\tAlso note, if you prefer not to use your Google Drive for storage, you can always\n\t\t\tchange the storage location of a brew by clicking the Google drive icon by the\n\t\t\tbrew title and choosing *transfer my brew to/from Google Drive*."])), ((_props$brew$authors = props.brew.authors) === null || _props$brew$authors === void 0 ? void 0 : _props$brew$authors.length) > 0 ? "Note that this brew belongs to the Homebrewery account **".concat(props.brew.authors[0], "**,\n\t\t\t\t").concat(props.brew.account ? "which is\n\t\t\t\t\t\t".concat(props.brew.authors[0] == props.brew.account ? "your account." : "not your account (you are currently signed in as **".concat(props.brew.account, "**).")) : 'and you are not currently signed in to any account.') : ''),
    // User is not Authors list
    '03': dedent(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## Current signed-in user does not have editor access to this brew.\n\n\t\tIf you believe you should have access to this brew, ask one of its authors to invite you\n\t\tas an author by opening the Edit page for the brew, viewing the {{fa,fa-info-circle}}\n\t\t**Properties** tab, and adding your username to the \"invited authors\" list. You can\n\t\tthen try to access this document again.\n\t\t\n\t\t:\n\n\t\t**Brew Title:** ", "\n\n\t\t**Current Authors:** ", "\n\t\t\n\t\t[Click here to be redirected to the brew's share page.](/share/", ")"])), escape(props.brew.brewTitle) || 'Unable to show title', ((_props$brew$authors2 = props.brew.authors) === null || _props$brew$authors2 === void 0 ? void 0 : _props$brew$authors2.map(function (author) {
      return "[".concat(author, "](/user/").concat(author, ")");
    }).join(', ')) || 'Unable to list authors', props.brew.shareId),
    // User is not signed in; must be a user on the Authors List
    '04': dedent(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## Sign-in required to edit this brew.\n\t\t\n\t\tYou must be logged in to one of the accounts listed as an author of this brew.\n\t\tUser is not logged in. Please log in [here](", ").\n\t\t\n\t\t:\n\n\t\t**Brew Title:** ", "\n\n\t\t**Current Authors:** ", "\n\n\t\t[Click here to be redirected to the brew's share page.](/share/", ")"])), loginUrl, escape(props.brew.brewTitle) || 'Unable to show title', ((_props$brew$authors3 = props.brew.authors) === null || _props$brew$authors3 === void 0 ? void 0 : _props$brew$authors3.map(function (author) {
      return "[".concat(author, "](/user/").concat(author, ")");
    }).join(', ')) || 'Unable to list authors', props.brew.shareId),
    // Brew load error
    '05': dedent(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## No Homebrewery document could be found.\n\t\t\n\t\tThe server could not locate the Homebrewery document. It was likely deleted by\n\t\tits owner.\n\t\t\n\t\t:\n\n\t\t**Requested access:** ", "\n\n\t\t**Brew ID:**  ", ""])), props.brew.accessType, props.brew.brewId),
    // Brew save error
    '06': dedent(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## Unable to save Homebrewery document.\n\t\t\n\t\tAn error occurred wil attempting to save the Homebrewery document."]))),
    // Brew delete error
    '07': dedent(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## Unable to delete Homebrewery document.\n\t\t\n\t\tAn error occurred while attempting to remove the Homebrewery document.\n\t\t\n\t\t:\n\n\t\t**Brew ID:**  ", ""])), props.brew.brewId),
    // Author delete error
    '08': dedent(_templateObject9 || (_templateObject9 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## Unable to remove user from Homebrewery document.\n\t\t\n\t\tAn error occurred while attempting to remove the user from the Homebrewery document author list!\n\t\t\n\t\t:\n\n\t\t**Brew ID:**  ", ""])), props.brew.brewId),
    // Theme load error
    '09': dedent(_templateObject0 || (_templateObject0 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## No Homebrewery theme document could be found.\n\t\t\n\t\tThe server could not locate the Homebrewery document. It was likely deleted by\n\t\tits owner.\n\t\t\n\t\t:\n\n\t\t**Requested access:** ", "\n\n\t\t**Brew ID:**  ", ""])), props.brew.accessType, props.brew.brewId),
    // Theme Not Valid
    '10': dedent(_templateObject1 || (_templateObject1 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## The selected theme is not tagged as a theme.\n\t\t\n\t\tThe brew selected as a theme exists, but has not been marked for use as a theme with the `theme:meta` tag.\n\t\t\n\t\tIf the selected brew is your document, you may designate it as a theme by adding the `theme:meta` tag."], ["\n\t\t## The selected theme is not tagged as a theme.\n\t\t\n\t\tThe brew selected as a theme exists, but has not been marked for use as a theme with the \\`theme:meta\\` tag.\n\t\t\n\t\tIf the selected brew is your document, you may designate it as a theme by adding the \\`theme:meta\\` tag."]))),
    // ID validation error
    '11': dedent(_templateObject10 || (_templateObject10 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## No Homebrewery document could be found.\n\t\t\n\t\tThe server could not locate the Homebrewery document. The Brew ID failed the validation check.\n\t\t\n\t\t:\n\n\t\t**Brew ID:**  ", ""])), props.brew.brewId),
    // Google ID validation error
    '12': dedent(_templateObject11 || (_templateObject11 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## No Google document could be found.\n\t\t\n\t\tThe server could not locate the Google document. The Google ID failed the validation check.\n\t\t\n\t\t:\n\n\t\t**Brew ID:**  ", ""])), props.brew.brewId),
    //account page when account is not defined
    '50': dedent(_templateObject12 || (_templateObject12 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## You are not signed in\n\t\t\n\t\tYou are trying to access the account page, but are not signed in to an account.\n\t\t\n\t\tPlease login or signup at our [login page](https://www.naturalcrit.com/login?redirect=https://homebrewery.naturalcrit.com/account)."]))),
    // Brew locked by Administrators error
    '51': dedent(_templateObject13 || (_templateObject13 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## This brew has been locked.\n\t\t\n\t\tOnly an author may request that this lock is removed.\n\t\t\n\t\t:\n\n\t\t**Brew ID:**  ", "\n\t\t\n\t\t**Brew Title:** ", "\n\t\t\n\t\t**Brew Authors:**  ", ""])), props.brew.brewId, escape(props.brew.brewTitle), ((_props$brew$authors4 = props.brew.authors) === null || _props$brew$authors4 === void 0 ? void 0 : _props$brew$authors4.map(function (author) {
      return "[".concat(author, "](/user/").concat(author, ")");
    }).join(', ')) || 'Unable to list authors'),
    // ####### Admin page error #######
    '52': dedent(_templateObject14 || (_templateObject14 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## Access Denied\n\t\tYou need to provide correct administrator credentials to access this page."]))),
    // ####### Lock Errors

    '60': dedent(_templateObject15 || (_templateObject15 = (0, _taggedTemplateLiteral2["default"])(["Lock Error: General"]))),
    '61': dedent(_templateObject16 || (_templateObject16 = (0, _taggedTemplateLiteral2["default"])(["Lock Get Error: Unable to get lock count"]))),
    '62': dedent(_templateObject17 || (_templateObject17 = (0, _taggedTemplateLiteral2["default"])(["Lock Set Error: Cannot lock"]))),
    '63': dedent(_templateObject18 || (_templateObject18 = (0, _taggedTemplateLiteral2["default"])(["Lock Set Error: Brew not found"]))),
    '64': dedent(_templateObject19 || (_templateObject19 = (0, _taggedTemplateLiteral2["default"])(["Lock Set Error: Already locked"]))),
    '65': dedent(_templateObject20 || (_templateObject20 = (0, _taggedTemplateLiteral2["default"])(["Lock Remove Error: Cannot unlock"]))),
    '66': dedent(_templateObject21 || (_templateObject21 = (0, _taggedTemplateLiteral2["default"])(["Lock Remove Error: Brew not found"]))),
    '67': dedent(_templateObject22 || (_templateObject22 = (0, _taggedTemplateLiteral2["default"])(["Lock Remove Error: Not locked"]))),
    '68': dedent(_templateObject23 || (_templateObject23 = (0, _taggedTemplateLiteral2["default"])(["Lock Get Review Error: Cannot get review requests"]))),
    '69': dedent(_templateObject24 || (_templateObject24 = (0, _taggedTemplateLiteral2["default"])(["Lock Set Review Error: Cannot set review request"]))),
    '70': dedent(_templateObject25 || (_templateObject25 = (0, _taggedTemplateLiteral2["default"])(["Lock Set Review Error: Brew not found"]))),
    '71': dedent(_templateObject26 || (_templateObject26 = (0, _taggedTemplateLiteral2["default"])(["Lock Set Review Error: Review already requested"]))),
    '72': dedent(_templateObject27 || (_templateObject27 = (0, _taggedTemplateLiteral2["default"])(["Lock Remove Review Error: Cannot clear review request"]))),
    '73': dedent(_templateObject28 || (_templateObject28 = (0, _taggedTemplateLiteral2["default"])(["Lock Remove Review Error: Brew not found"]))),
    // ####### Other Errors

    '90': dedent(_templateObject29 || (_templateObject29 = (0, _taggedTemplateLiteral2["default"])([" An unexpected error occurred while looking for these brews.  \n            Try again in a few minutes."]))),
    '91': dedent(_templateObject30 || (_templateObject30 = (0, _taggedTemplateLiteral2["default"])([" An unexpected error occurred while trying to get the total of brews."])))
  };
};
module.exports = errorIndex;
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190}],59:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
require("./homePage.less");
var _react = _interopRequireWildcard(require("react"));
var _requestMiddleware = _interopRequireDefault(require("../../utils/request-middleware.js"));
var _headtags = require("vitreum/headtags");
var _nav = _interopRequireDefault(require("naturalcrit/nav/nav.jsx"));
var _navbar = _interopRequireDefault(require("../../navbar/navbar.jsx"));
var _newbrewNavitem = _interopRequireDefault(require("../../navbar/newbrew.navitem.jsx"));
var _helpNavitem = _interopRequireDefault(require("../../navbar/help.navitem.jsx"));
var _vaultNavitem = _interopRequireDefault(require("../../navbar/vault.navitem.jsx"));
var _recentNavitem = require("../../navbar/recent.navitem.jsx");
var _accountNavitem = _interopRequireDefault(require("../../navbar/account.navitem.jsx"));
var _errorNavitem = _interopRequireDefault(require("../../navbar/error-navitem.jsx"));
var _helpers = require("../../../../shared/helpers.js");
var _splitPane = _interopRequireDefault(require("client/components/splitPane/splitPane.jsx"));
var _editor = _interopRequireDefault(require("../../editor/editor.jsx"));
var _brewRenderer = _interopRequireDefault(require("../../brewRenderer/brewRenderer.jsx"));
var _brewDefaults = require("../../../../server/brewDefaults.js");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var HomePage = function HomePage(props) {
  props = _objectSpread({
    brew: _brewDefaults.DEFAULT_BREW,
    ver: '0.0.0'
  }, props);
  var _useState = (0, _react.useState)(props.brew),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    brew = _useState2[0],
    setBrew = _useState2[1];
  var _useState3 = (0, _react.useState)(props.brew.text),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    welcomeText = _useState4[0],
    setWelcomeText = _useState4[1];
  var _useState5 = (0, _react.useState)(undefined),
    _useState6 = (0, _slicedToArray2["default"])(_useState5, 2),
    error = _useState6[0],
    setError = _useState6[1];
  var _useState7 = (0, _react.useState)(1),
    _useState8 = (0, _slicedToArray2["default"])(_useState7, 2),
    currentEditorViewPageNum = _useState8[0],
    setCurrentEditorViewPageNum = _useState8[1];
  var _useState9 = (0, _react.useState)(1),
    _useState0 = (0, _slicedToArray2["default"])(_useState9, 2),
    currentEditorCursorPageNum = _useState0[0],
    setCurrentEditorCursorPageNum = _useState0[1];
  var _useState1 = (0, _react.useState)(1),
    _useState10 = (0, _slicedToArray2["default"])(_useState1, 2),
    currentBrewRendererPageNum = _useState10[0],
    setCurrentBrewRendererPageNum = _useState10[1];
  var _useState11 = (0, _react.useState)({}),
    _useState12 = (0, _slicedToArray2["default"])(_useState11, 2),
    themeBundle = _useState12[0],
    setThemeBundle = _useState12[1];
  var _useState13 = (0, _react.useState)(false),
    _useState14 = (0, _slicedToArray2["default"])(_useState13, 2),
    isSaving = _useState14[0],
    setIsSaving = _useState14[1];
  var editorRef = (0, _react.useRef)(null);
  (0, _react.useEffect)(function () {
    (0, _helpers.fetchThemeBundle)(setError, setThemeBundle, brew.renderer, brew.theme);
  }, []);
  var save = function save() {
    _requestMiddleware["default"].post('/api').send(brew).end(function (err, res) {
      if (err) {
        setError(err);
        return;
      }
      var saved = res.body;
      window.location = "/edit/".concat(saved.editId);
    });
  };
  var handleSplitMove = function handleSplitMove() {
    editorRef.current.update();
  };
  var handleEditorViewPageChange = function handleEditorViewPageChange(pageNumber) {
    setCurrentEditorViewPageNum(pageNumber);
  };
  var handleEditorCursorPageChange = function handleEditorCursorPageChange(pageNumber) {
    setCurrentEditorCursorPageNum(pageNumber);
  };
  var handleBrewRendererPageChange = function handleBrewRendererPageChange(pageNumber) {
    setCurrentBrewRendererPageNum(pageNumber);
  };
  var handleTextChange = function handleTextChange(text) {
    setBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        text: text
      });
    });
  };
  var clearError = function clearError() {
    setError(null);
    setIsSaving(false);
  };
  var renderNavbar = function renderNavbar() {
    return /*#__PURE__*/_react["default"].createElement(_navbar["default"], {
      ver: props.ver
    }, /*#__PURE__*/_react["default"].createElement(_nav["default"].section, null, error ? /*#__PURE__*/_react["default"].createElement(_errorNavitem["default"], {
      error: error,
      clearError: clearError
    }) : null, /*#__PURE__*/_react["default"].createElement(_newbrewNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_helpNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_vaultNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_recentNavitem.both, null), /*#__PURE__*/_react["default"].createElement(_accountNavitem["default"], null)));
  };
  return /*#__PURE__*/_react["default"].createElement("div", {
    className: "homePage sitePage"
  }, /*#__PURE__*/_react["default"].createElement(_headtags.Meta, {
    name: "google-site-verification",
    content: "NwnAQSSJZzAT7N-p5MY6ydQ7Njm67dtbu73ZSyE5Fy4"
  }), renderNavbar(), /*#__PURE__*/_react["default"].createElement("div", {
    className: "content"
  }, /*#__PURE__*/_react["default"].createElement(_splitPane["default"], {
    onDragFinish: handleSplitMove
  }, /*#__PURE__*/_react["default"].createElement(_editor["default"], {
    ref: editorRef,
    brew: brew,
    onTextChange: handleTextChange,
    renderer: brew.renderer,
    showEditButtons: false,
    themeBundle: themeBundle,
    onCursorPageChange: handleEditorCursorPageChange,
    onViewPageChange: handleEditorViewPageChange,
    currentEditorViewPageNum: currentEditorViewPageNum,
    currentEditorCursorPageNum: currentEditorCursorPageNum,
    currentBrewRendererPageNum: currentBrewRendererPageNum
  }), /*#__PURE__*/_react["default"].createElement(_brewRenderer["default"], {
    text: brew.text,
    style: brew.style,
    renderer: brew.renderer,
    onPageChange: handleBrewRendererPageChange,
    currentEditorViewPageNum: currentEditorViewPageNum,
    currentEditorCursorPageNum: currentEditorCursorPageNum,
    currentBrewRendererPageNum: currentBrewRendererPageNum,
    themeBundle: themeBundle
  }))), /*#__PURE__*/_react["default"].createElement("div", {
    className: "floatingSaveButton".concat(welcomeText !== brew.text ? ' show' : ''),
    onClick: save
  }, "Save current ", /*#__PURE__*/_react["default"].createElement("i", {
    className: "fas fa-save"
  })), /*#__PURE__*/_react["default"].createElement("a", {
    href: "/new",
    className: "floatingNewButton"
  }, "Create your own ", /*#__PURE__*/_react["default"].createElement("i", {
    className: "fas fa-magic"
  })));
};
module.exports = HomePage;
},{"../../../../server/brewDefaults.js":269,"../../../../shared/helpers.js":270,"../../brewRenderer/brewRenderer.jsx":9,"../../editor/editor.jsx":20,"../../navbar/account.navitem.jsx":32,"../../navbar/error-navitem.jsx":33,"../../navbar/help.navitem.jsx":35,"../../navbar/navbar.jsx":37,"../../navbar/newbrew.navitem.jsx":39,"../../navbar/recent.navitem.jsx":42,"../../navbar/vault.navitem.jsx":44,"../../utils/request-middleware.js":71,"./homePage.less":60,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/typeof":113,"client/components/splitPane/splitPane.jsx":7,"naturalcrit/nav/nav.jsx":281,"react":"react","vitreum/headtags":249}],60:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],61:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _readOnlyError2 = _interopRequireDefault(require("@babel/runtime/helpers/readOnlyError"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
require("./newPage.less");
var _react = _interopRequireWildcard(require("react"));
var _requestMiddleware = _interopRequireDefault(require("../../utils/request-middleware.js"));
var _markdown = _interopRequireDefault(require("naturalcrit/markdown.js"));
var _nav = _interopRequireDefault(require("naturalcrit/nav/nav.jsx"));
var _navbar = _interopRequireDefault(require("../../navbar/navbar.jsx"));
var _accountNavitem = _interopRequireDefault(require("../../navbar/account.navitem.jsx"));
var _errorNavitem = _interopRequireDefault(require("../../navbar/error-navitem.jsx"));
var _helpNavitem = _interopRequireDefault(require("../../navbar/help.navitem.jsx"));
var _printNavitem = _interopRequireDefault(require("../../navbar/print.navitem.jsx"));
var _recentNavitem = require("../../navbar/recent.navitem.jsx");
var _splitPane = _interopRequireDefault(require("client/components/splitPane/splitPane.jsx"));
var _editor = _interopRequireDefault(require("../../editor/editor.jsx"));
var _brewRenderer = _interopRequireDefault(require("../../brewRenderer/brewRenderer.jsx"));
var _brewDefaults = require("../../../../server/brewDefaults.js");
var _helpers = require("../../../../shared/helpers.js");
var _global$account;
/*eslint max-lines: ["warn", {"max": 300, "skipBlankLines": true, "skipComments": true}]*/
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var BREWKEY = 'homebrewery-new';
var STYLEKEY = 'homebrewery-new-style';
var METAKEY = 'homebrewery-new-meta';
var SAVEKEY = "HOMEBREWERY-DEFAULT-SAVE-LOCATION-".concat(((_global$account = global.account) === null || _global$account === void 0 ? void 0 : _global$account.username) || '');
var NewPage = function NewPage(props) {
  var _global$account2;
  props = _objectSpread({
    brew: _brewDefaults.DEFAULT_BREW
  }, props);
  var _useState = (0, _react.useState)(props.brew),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    currentBrew = _useState2[0],
    setCurrentBrew = _useState2[1];
  var _useState3 = (0, _react.useState)(false),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    isSaving = _useState4[0],
    setIsSaving = _useState4[1];
  var _useState5 = (0, _react.useState)((_global$account2 = global.account) !== null && _global$account2 !== void 0 && _global$account2.googleId ? true : false),
    _useState6 = (0, _slicedToArray2["default"])(_useState5, 2),
    saveGoogle = _useState6[0],
    setSaveGoogle = _useState6[1];
  var _useState7 = (0, _react.useState)(null),
    _useState8 = (0, _slicedToArray2["default"])(_useState7, 2),
    error = _useState8[0],
    setError = _useState8[1];
  var _useState9 = (0, _react.useState)(_markdown["default"].validate(props.brew.text)),
    _useState0 = (0, _slicedToArray2["default"])(_useState9, 2),
    HTMLErrors = _useState0[0],
    setHTMLErrors = _useState0[1];
  var _useState1 = (0, _react.useState)(1),
    _useState10 = (0, _slicedToArray2["default"])(_useState1, 2),
    currentEditorViewPageNum = _useState10[0],
    setCurrentEditorViewPageNum = _useState10[1];
  var _useState11 = (0, _react.useState)(1),
    _useState12 = (0, _slicedToArray2["default"])(_useState11, 2),
    currentEditorCursorPageNum = _useState12[0],
    setCurrentEditorCursorPageNum = _useState12[1];
  var _useState13 = (0, _react.useState)(1),
    _useState14 = (0, _slicedToArray2["default"])(_useState13, 2),
    currentBrewRendererPageNum = _useState14[0],
    setCurrentBrewRendererPageNum = _useState14[1];
  var _useState15 = (0, _react.useState)({}),
    _useState16 = (0, _slicedToArray2["default"])(_useState15, 2),
    themeBundle = _useState16[0],
    setThemeBundle = _useState16[1];
  var editorRef = (0, _react.useRef)(null);
  (0, _react.useEffect)(function () {
    document.addEventListener('keydown', handleControlKeys);
    loadBrew();
    (0, _helpers.fetchThemeBundle)(setError, setThemeBundle, currentBrew.renderer, currentBrew.theme);
    return function () {
      document.removeEventListener('keydown', handleControlKeys);
    };
  }, []);
  var loadBrew = function loadBrew() {
    var brew = _objectSpread({}, currentBrew);
    if (!brew.shareId && typeof window !== 'undefined') {
      var _metaStorage$renderer, _metaStorage$theme, _metaStorage$lang;
      //Load from localStorage if in client browser
      var brewStorage = localStorage.getItem(BREWKEY);
      var styleStorage = localStorage.getItem(STYLEKEY);
      var metaStorage = JSON.parse(localStorage.getItem(METAKEY));
      brew.text = brewStorage !== null && brewStorage !== void 0 ? brewStorage : brew.text;
      brew.style = styleStorage !== null && styleStorage !== void 0 ? styleStorage : brew.style;
      brew.renderer = (_metaStorage$renderer = metaStorage === null || metaStorage === void 0 ? void 0 : metaStorage.renderer) !== null && _metaStorage$renderer !== void 0 ? _metaStorage$renderer : brew.renderer;
      brew.theme = (_metaStorage$theme = metaStorage === null || metaStorage === void 0 ? void 0 : metaStorage.theme) !== null && _metaStorage$theme !== void 0 ? _metaStorage$theme : brew.theme;
      brew.lang = (_metaStorage$lang = metaStorage === null || metaStorage === void 0 ? void 0 : metaStorage.lang) !== null && _metaStorage$lang !== void 0 ? _metaStorage$lang : brew.lang;
    }
    var saveStorage = localStorage.getItem(SAVEKEY) || 'HOMEBREWERY';
    setCurrentBrew(brew);
    setSaveGoogle(saveStorage == 'GOOGLE-DRIVE' && saveGoogle);
    localStorage.setItem(BREWKEY, brew.text);
    if (brew.style) localStorage.setItem(STYLEKEY, brew.style);
    localStorage.setItem(METAKEY, JSON.stringify({
      renderer: brew.renderer,
      theme: brew.theme,
      lang: brew.lang
    }));
    if (window.location.pathname !== '/new') window.history.replaceState({}, window.location.title, '/new/');
  };
  var handleControlKeys = function handleControlKeys(e) {
    if (!(e.ctrlKey || e.metaKey)) return;
    var S_KEY = 83;
    var P_KEY = 80;
    if (e.keyCode === S_KEY) save();
    if (e.keyCode === P_KEY) (0, _helpers.printCurrentBrew)();
    if (e.keyCode === S_KEY || e.keyCode === P_KEY) {
      e.preventDefault();
      e.stopPropagation();
    }
  };
  var handleSplitMove = function handleSplitMove() {
    editorRef.current.update();
  };
  var handleEditorViewPageChange = function handleEditorViewPageChange(pageNumber) {
    setCurrentEditorViewPageNum(pageNumber);
  };
  var handleEditorCursorPageChange = function handleEditorCursorPageChange(pageNumber) {
    setCurrentEditorCursorPageNum(pageNumber);
  };
  var handleBrewRendererPageChange = function handleBrewRendererPageChange(pageNumber) {
    setCurrentBrewRendererPageNum(pageNumber);
  };
  var handleTextChange = function handleTextChange(text) {
    //If there are HTML errors, run the validator on every change to give quick feedback
    if (HTMLErrors.length) _markdown["default"].validate(text), (0, _readOnlyError2["default"])("HTMLErrors");
    setHTMLErrors(HTMLErrors);
    setCurrentBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        text: text
      });
    });
    localStorage.setItem(BREWKEY, text);
  };
  var handleStyleChange = function handleStyleChange(style) {
    setCurrentBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        style: style
      });
    });
    localStorage.setItem(STYLEKEY, style);
  };
  var handleSnipChange = function handleSnipChange(snippet) {
    //If there are HTML errors, run the validator on every change to give quick feedback
    if (HTMLErrors.length) _markdown["default"].validate(snippet), (0, _readOnlyError2["default"])("HTMLErrors");
    setHTMLErrors(HTMLErrors);
    setCurrentBrew(function (prevBrew) {
      return _objectSpread(_objectSpread({}, prevBrew), {}, {
        snippets: snippet
      });
    });
  };
  var handleMetaChange = function handleMetaChange(metadata) {
    var field = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
    if (field === 'theme' || field === 'renderer') (0, _helpers.fetchThemeBundle)(setError, setThemeBundle, metadata.renderer, metadata.theme);
    setCurrentBrew(function (prev) {
      return _objectSpread(_objectSpread({}, prev), metadata);
    });
    localStorage.setItem(METAKEY, JSON.stringify({
      renderer: metadata.renderer,
      theme: metadata.theme,
      lang: metadata.lang
    }));
  };
  var save = /*#__PURE__*/function () {
    var _ref = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee() {
      var updatedBrew, pageRegex, res, savedBrew;
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            setIsSaving(true);
            updatedBrew = _objectSpread({}, currentBrew);
            (0, _helpers.splitTextStyleAndMetadata)(updatedBrew);
            pageRegex = updatedBrew.renderer === 'legacy' ? /\\page/g : /^\\page$/gm;
            updatedBrew.pageCount = (updatedBrew.text.match(pageRegex) || []).length + 1;
            _context.next = 1;
            return _requestMiddleware["default"].post("/api".concat(saveGoogle ? '?saveToGoogle=true' : '')).send(updatedBrew)["catch"](function (err) {
              setIsSaving(false);
              setError(err);
            });
          case 1:
            res = _context.sent;
            setIsSaving(false);
            if (res) {
              _context.next = 2;
              break;
            }
            return _context.abrupt("return");
          case 2:
            savedBrew = res.body;
            localStorage.removeItem(BREWKEY);
            localStorage.removeItem(STYLEKEY);
            localStorage.removeItem(METAKEY);
            window.location = "/edit/".concat(savedBrew.editId);
          case 3:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function save() {
      return _ref.apply(this, arguments);
    };
  }();
  var renderSaveButton = function renderSaveButton() {
    if (isSaving) {
      return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
        icon: "fas fa-spinner fa-spin",
        className: "save"
      }, "save...");
    } else {
      return /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
        icon: "fas fa-save",
        className: "save",
        onClick: save
      }, "save");
    }
  };
  var clearError = function clearError() {
    setError(null);
    setIsSaving(false);
  };
  var renderNavbar = function renderNavbar() {
    return /*#__PURE__*/_react["default"].createElement(_navbar["default"], null, /*#__PURE__*/_react["default"].createElement(_nav["default"].section, null, /*#__PURE__*/_react["default"].createElement(_nav["default"].item, {
      className: "brewTitle"
    }, currentBrew.title)), /*#__PURE__*/_react["default"].createElement(_nav["default"].section, null, error ? /*#__PURE__*/_react["default"].createElement(_errorNavitem["default"], {
      error: error,
      clearError: clearError
    }) : renderSaveButton(), /*#__PURE__*/_react["default"].createElement(_printNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_helpNavitem["default"], null), /*#__PURE__*/_react["default"].createElement(_recentNavitem.both, null), /*#__PURE__*/_react["default"].createElement(_accountNavitem["default"], null)));
  };
  return /*#__PURE__*/_react["default"].createElement("div", {
    className: "newPage sitePage"
  }, renderNavbar(), /*#__PURE__*/_react["default"].createElement("div", {
    className: "content"
  }, /*#__PURE__*/_react["default"].createElement(_splitPane["default"], {
    onDragFinish: handleSplitMove
  }, /*#__PURE__*/_react["default"].createElement(_editor["default"], {
    ref: editorRef,
    brew: currentBrew,
    onTextChange: handleTextChange,
    onStyleChange: handleStyleChange,
    onMetaChange: handleMetaChange,
    onSnipChange: handleSnipChange,
    renderer: currentBrew.renderer,
    userThemes: props.userThemes,
    themeBundle: themeBundle,
    onCursorPageChange: handleEditorCursorPageChange,
    onViewPageChange: handleEditorViewPageChange,
    currentEditorViewPageNum: currentEditorViewPageNum,
    currentEditorCursorPageNum: currentEditorCursorPageNum,
    currentBrewRendererPageNum: currentBrewRendererPageNum
  }), /*#__PURE__*/_react["default"].createElement(_brewRenderer["default"], {
    text: currentBrew.text,
    style: currentBrew.style,
    renderer: currentBrew.renderer,
    theme: currentBrew.theme,
    themeBundle: themeBundle,
    errors: HTMLErrors,
    lang: currentBrew.lang,
    onPageChange: handleBrewRendererPageChange,
    currentEditorViewPageNum: currentEditorViewPageNum,
    currentEditorCursorPageNum: currentEditorCursorPageNum,
    currentBrewRendererPageNum: currentBrewRendererPageNum,
    allowPrint: true
  }))));
};
module.exports = NewPage;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../../../../server/brewDefaults.js":269,"../../../../shared/helpers.js":270,"../../brewRenderer/brewRenderer.jsx":9,"../../editor/editor.jsx":20,"../../navbar/account.navitem.jsx":32,"../../navbar/error-navitem.jsx":33,"../../navbar/help.navitem.jsx":35,"../../navbar/navbar.jsx":37,"../../navbar/print.navitem.jsx":41,"../../navbar/recent.navitem.jsx":42,"../../utils/request-middleware.js":71,"./newPage.less":62,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/readOnlyError":97,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/typeof":113,"@babel/runtime/regenerator":116,"client/components/splitPane/splitPane.jsx":7,"naturalcrit/markdown.js":279,"naturalcrit/nav/nav.jsx":281,"react":"react"}],62:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],63:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
require('./sharePage.less');
var React = require('react');
var useState = React.useState,
  useEffect = React.useEffect,
  useCallback = React.useCallback;
var _require = require('vitreum/headtags'),
  Meta = _require.Meta;
var Nav = require('naturalcrit/nav/nav.jsx');
var Navbar = require('../../navbar/navbar.jsx');
var MetadataNav = require('../../navbar/metadata.navitem.jsx');
var PrintNavItem = require('../../navbar/print.navitem.jsx');
var RecentNavItem = require('../../navbar/recent.navitem.jsx').both;
var Account = require('../../navbar/account.navitem.jsx');
var BrewRenderer = require('../../brewRenderer/brewRenderer.jsx');
var _require2 = require('../../../../server/brewDefaults.js'),
  DEFAULT_BREW_LOAD = _require2.DEFAULT_BREW_LOAD;
var _require3 = require('../../../../shared/helpers.js'),
  printCurrentBrew = _require3.printCurrentBrew,
  fetchThemeBundle = _require3.fetchThemeBundle;
var SharePage = function SharePage(props) {
  var _props$brew = props.brew,
    brew = _props$brew === void 0 ? DEFAULT_BREW_LOAD : _props$brew,
    _props$disableMeta = props.disableMeta,
    disableMeta = _props$disableMeta === void 0 ? false : _props$disableMeta;
  var _useState = useState({}),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    themeBundle = _useState2[0],
    setThemeBundle = _useState2[1];
  var _useState3 = useState(1),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    currentBrewRendererPageNum = _useState4[0],
    setCurrentBrewRendererPageNum = _useState4[1];
  var handleBrewRendererPageChange = useCallback(function (pageNumber) {
    setCurrentBrewRendererPageNum(pageNumber);
  }, []);
  var handleControlKeys = function handleControlKeys(e) {
    if (!(e.ctrlKey || e.metaKey)) return;
    var P_KEY = 80;
    if (e.keyCode === P_KEY) {
      printCurrentBrew();
      e.stopPropagation();
      e.preventDefault();
    }
  };
  useEffect(function () {
    document.addEventListener('keydown', handleControlKeys);
    fetchThemeBundle(undefined, setThemeBundle, brew.renderer, brew.theme);
    return function () {
      document.removeEventListener('keydown', handleControlKeys);
    };
  }, []);
  var processShareId = function processShareId() {
    return brew.googleId && !brew.stubbed ? brew.googleId + brew.shareId : brew.shareId;
  };
  var renderEditLink = function renderEditLink() {
    if (!brew.editId) return null;
    var editLink = brew.googleId && !brew.stubbed ? brew.googleId + brew.editId : brew.editId;
    return /*#__PURE__*/React.createElement(Nav.item, {
      color: "orange",
      icon: "fas fa-pencil-alt",
      href: "/edit/".concat(editLink)
    }, "edit");
  };
  var titleEl = /*#__PURE__*/React.createElement(Nav.item, {
    className: "brewTitle",
    style: disableMeta ? {
      cursor: 'default'
    } : {}
  }, brew.title);
  return /*#__PURE__*/React.createElement("div", {
    className: "sharePage sitePage"
  }, /*#__PURE__*/React.createElement(Meta, {
    name: "robots",
    content: "noindex, nofollow"
  }), /*#__PURE__*/React.createElement(Navbar, null, /*#__PURE__*/React.createElement(Nav.section, {
    className: "titleSection"
  }, disableMeta ? titleEl : /*#__PURE__*/React.createElement(MetadataNav, {
    brew: brew
  }, titleEl)), /*#__PURE__*/React.createElement(Nav.section, null, brew.shareId && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PrintNavItem, null), /*#__PURE__*/React.createElement(Nav.dropdown, null, /*#__PURE__*/React.createElement(Nav.item, {
    color: "red",
    icon: "fas fa-code"
  }, "source"), /*#__PURE__*/React.createElement(Nav.item, {
    color: "blue",
    icon: "fas fa-eye",
    href: "/source/".concat(processShareId())
  }, "view"), renderEditLink(), /*#__PURE__*/React.createElement(Nav.item, {
    color: "blue",
    icon: "fas fa-download",
    href: "/download/".concat(processShareId())
  }, "download"), /*#__PURE__*/React.createElement(Nav.item, {
    color: "blue",
    icon: "fas fa-clone",
    href: "/new/".concat(processShareId())
  }, "clone to new"))), /*#__PURE__*/React.createElement(RecentNavItem, {
    brew: brew,
    storageKey: "view"
  }), /*#__PURE__*/React.createElement(Account, null))), /*#__PURE__*/React.createElement("div", {
    className: "content"
  }, /*#__PURE__*/React.createElement(BrewRenderer, {
    text: brew.text,
    style: brew.style,
    lang: brew.lang,
    renderer: brew.renderer,
    theme: brew.theme,
    themeBundle: themeBundle,
    onPageChange: handleBrewRendererPageChange,
    currentBrewRendererPageNum: currentBrewRendererPageNum,
    allowPrint: true
  })));
};
module.exports = SharePage;
},{"../../../../server/brewDefaults.js":269,"../../../../shared/helpers.js":270,"../../brewRenderer/brewRenderer.jsx":9,"../../navbar/account.navitem.jsx":32,"../../navbar/metadata.navitem.jsx":36,"../../navbar/navbar.jsx":37,"../../navbar/print.navitem.jsx":41,"../../navbar/recent.navitem.jsx":42,"./sharePage.less":64,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"naturalcrit/nav/nav.jsx":281,"react":"react","vitreum/headtags":249}],64:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],65:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var React = require('react');
var useState = React.useState;
var _ = require('lodash');
var ListPage = require('../basePages/listPage/listPage.jsx');
var Nav = require('naturalcrit/nav/nav.jsx');
var Navbar = require('../../navbar/navbar.jsx');
var RecentNavItem = require('../../navbar/recent.navitem.jsx').both;
var Account = require('../../navbar/account.navitem.jsx');
var NewBrew = require('../../navbar/newbrew.navitem.jsx');
var HelpNavItem = require('../../navbar/help.navitem.jsx');
var ErrorNavItem = require('../../navbar/error-navitem.jsx');
var VaultNavitem = require('../../navbar/vault.navitem.jsx');
var UserPage = function UserPage(props) {
  var _global$account;
  props = _objectSpread({
    username: '',
    brews: [],
    query: ''
  }, props);
  var _useState = useState(null),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    error = _useState2[0],
    setError = _useState2[1];
  var usernameWithS = props.username + (props.username.endsWith('s') ? "\u2019" : "\u2019s");
  var groupedBrews = _.groupBy(props.brews, function (brew) {
    return brew.published ? 'published' : 'private';
  });
  var brewCollection = [{
    title: "".concat(usernameWithS, " published brews"),
    "class": 'published',
    brews: groupedBrews.published || []
  }].concat((0, _toConsumableArray2["default"])(props.username === ((_global$account = global.account) === null || _global$account === void 0 ? void 0 : _global$account.username) ? [{
    title: "".concat(usernameWithS, " unpublished brews"),
    "class": 'unpublished',
    brews: groupedBrews["private"] || []
  }] : []));
  var clearError = function clearError() {
    setError(null);
  };
  var navItems = /*#__PURE__*/React.createElement(Navbar, null, /*#__PURE__*/React.createElement(Nav.section, null, error && /*#__PURE__*/React.createElement(ErrorNavItem, {
    error: error,
    clearError: clearError
  }), /*#__PURE__*/React.createElement(NewBrew, null), /*#__PURE__*/React.createElement(HelpNavItem, null), /*#__PURE__*/React.createElement(VaultNavitem, null), /*#__PURE__*/React.createElement(RecentNavItem, null), /*#__PURE__*/React.createElement(Account, null)));
  return /*#__PURE__*/React.createElement(ListPage, {
    brewCollection: brewCollection,
    navItems: navItems,
    query: props.query,
    reportError: function reportError(err) {
      return setError(err);
    }
  });
};
module.exports = UserPage;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../../navbar/account.navitem.jsx":32,"../../navbar/error-navitem.jsx":33,"../../navbar/help.navitem.jsx":35,"../../navbar/navbar.jsx":37,"../../navbar/newbrew.navitem.jsx":39,"../../navbar/recent.navitem.jsx":42,"../../navbar/vault.navitem.jsx":44,"../basePages/listPage/listPage.jsx":48,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/toConsumableArray":110,"lodash":"lodash","naturalcrit/nav/nav.jsx":281,"react":"react"}],66:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _requestMiddleware = _interopRequireDefault(require("../../utils/request-middleware.js"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
/*eslint max-lines: ["warn", {"max": 400, "skipBlankLines": true, "skipComments": true}]*/
/*eslint max-params:["warn", { max: 10 }], */
require('./vaultPage.less');
var React = require('react');
var useState = React.useState,
  useEffect = React.useEffect,
  useRef = React.useRef;
var Nav = require('naturalcrit/nav/nav.jsx');
var Navbar = require('../../navbar/navbar.jsx');
var RecentNavItem = require('../../navbar/recent.navitem.jsx').both;
var Account = require('../../navbar/account.navitem.jsx');
var NewBrew = require('../../navbar/newbrew.navitem.jsx');
var HelpNavItem = require('../../navbar/help.navitem.jsx');
var BrewItem = require('../basePages/listPage/brewItem/brewItem.jsx');
var SplitPane = require('client/components/splitPane/splitPane.jsx');
var ErrorIndex = require('../errorPage/errors/errorIndex.js');
var VaultPage = function VaultPage(props) {
  var _useState = useState(parseInt(props.query.page) || 1),
    _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
    pageState = _useState2[0],
    setPageState = _useState2[1];
  var _useState3 = useState(props.query.sort || 'title'),
    _useState4 = (0, _slicedToArray2["default"])(_useState3, 2),
    sortState = _useState4[0],
    setSort = _useState4[1];
  var _useState5 = useState(props.query.dir || 'asc'),
    _useState6 = (0, _slicedToArray2["default"])(_useState5, 2),
    dirState = _useState6[0],
    setdir = _useState6[1];

  //Response state
  var _useState7 = useState(null),
    _useState8 = (0, _slicedToArray2["default"])(_useState7, 2),
    brewCollection = _useState8[0],
    setBrewCollection = _useState8[1];
  var _useState9 = useState(null),
    _useState0 = (0, _slicedToArray2["default"])(_useState9, 2),
    totalBrews = _useState0[0],
    setTotalBrews = _useState0[1];
  var _useState1 = useState(false),
    _useState10 = (0, _slicedToArray2["default"])(_useState1, 2),
    searching = _useState10[0],
    setSearching = _useState10[1];
  var _useState11 = useState(null),
    _useState12 = (0, _slicedToArray2["default"])(_useState11, 2),
    error = _useState12[0],
    setError = _useState12[1];
  var titleRef = useRef(null);
  var authorRef = useRef(null);
  var countRef = useRef(null);
  var v3Ref = useRef(null);
  var legacyRef = useRef(null);
  var submitButtonRef = useRef(null);
  useEffect(function () {
    disableSubmitIfFormInvalid();
    loadPage(pageState, true, props.query.sort, props.query.dir);
  }, []);
  var updateStateWithBrews = function updateStateWithBrews(brews, page) {
    setBrewCollection(brews || null);
    setPageState(parseInt(page) || 1);
    setSearching(false);
  };
  var updateUrl = function updateUrl(titleValue, authorValue, countValue, v3Value, legacyValue, page, sort, dir) {
    var url = new URL(window.location.href);
    var urlParams = new URLSearchParams(url.search);
    urlParams.set('title', titleValue);
    urlParams.set('author', authorValue);
    urlParams.set('count', countValue);
    urlParams.set('v3', v3Value);
    urlParams.set('legacy', legacyValue);
    urlParams.set('page', page);
    urlParams.set('sort', sort);
    urlParams.set('dir', dir);
    url.search = urlParams.toString();
    window.history.replaceState(null, '', url.toString());
  };
  var performSearch = /*#__PURE__*/function () {
    var _ref = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(title, author, count, v3, legacy, page, sort, dir) {
      var response;
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            updateUrl(title, author, count, v3, legacy, page, sort, dir);
            _context.next = 1;
            return _requestMiddleware["default"].get("/api/vault?title=".concat(title, "&author=").concat(author, "&v3=").concat(v3, "&legacy=").concat(legacy, "&count=").concat(count, "&page=").concat(page, "&sort=").concat(sort, "&dir=").concat(dir))["catch"](function (error) {
              console.log('error at loadPage: ', error);
              setError(error);
              updateStateWithBrews([], 1);
            });
          case 1:
            response = _context.sent;
            if (response.ok) updateStateWithBrews(response.body.brews, page);
          case 2:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function performSearch(_x, _x2, _x3, _x4, _x5, _x6, _x7, _x8) {
      return _ref.apply(this, arguments);
    };
  }();
  var loadTotal = /*#__PURE__*/function () {
    var _ref2 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(title, author, v3, legacy) {
      var response;
      return _regenerator["default"].wrap(function (_context2) {
        while (1) switch (_context2.prev = _context2.next) {
          case 0:
            setTotalBrews(null);
            _context2.next = 1;
            return _requestMiddleware["default"].get("/api/vault/total?title=".concat(title, "&author=").concat(author, "&v3=").concat(v3, "&legacy=").concat(legacy))["catch"](function (error) {
              console.log('error at loadTotal: ', error);
              setError(error);
              updateStateWithBrews([], 1);
            });
          case 1:
            response = _context2.sent;
            if (response.ok) setTotalBrews(response.body.totalBrews);
          case 2:
          case "end":
            return _context2.stop();
        }
      }, _callee2);
    }));
    return function loadTotal(_x9, _x0, _x1, _x10) {
      return _ref2.apply(this, arguments);
    };
  }();
  var loadPage = /*#__PURE__*/function () {
    var _ref3 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(page, updateTotal, sort, dir) {
      var title, author, count, v3, legacy, sortOption, dirOption, pageProp;
      return _regenerator["default"].wrap(function (_context3) {
        while (1) switch (_context3.prev = _context3.next) {
          case 0:
            if (validateForm()) {
              _context3.next = 1;
              break;
            }
            return _context3.abrupt("return");
          case 1:
            setSearching(true);
            setError(null);
            title = titleRef.current.value || '';
            author = authorRef.current.value || '';
            count = countRef.current.value || 10;
            v3 = v3Ref.current.checked != false;
            legacy = legacyRef.current.checked != false;
            sortOption = sort || 'title';
            dirOption = dir || 'asc';
            pageProp = page || 1;
            setSort(sortOption);
            setdir(dirOption);
            performSearch(title, author, count, v3, legacy, pageProp, sortOption, dirOption);
            if (updateTotal) loadTotal(title, author, v3, legacy);
          case 2:
          case "end":
            return _context3.stop();
        }
      }, _callee3);
    }));
    return function loadPage(_x11, _x12, _x13, _x14) {
      return _ref3.apply(this, arguments);
    };
  }();
  var renderNavItems = function renderNavItems() {
    return /*#__PURE__*/React.createElement(Navbar, null, /*#__PURE__*/React.createElement(Nav.section, null, /*#__PURE__*/React.createElement(Nav.item, {
      className: "brewTitle"
    }, "Vault: Search for brews")), /*#__PURE__*/React.createElement(Nav.section, null, /*#__PURE__*/React.createElement(NewBrew, null), /*#__PURE__*/React.createElement(HelpNavItem, null), /*#__PURE__*/React.createElement(RecentNavItem, null), /*#__PURE__*/React.createElement(Account, null)));
  };
  var validateForm = function validateForm() {
    //form validity: title or author must be written, and at least one renderer set
    var isTitleValid = titleRef.current.validity.valid && titleRef.current.value;
    var isAuthorValid = authorRef.current.validity.valid && authorRef.current.value;
    var isCheckboxChecked = legacyRef.current.checked || v3Ref.current.checked;
    var isFormValid = (isTitleValid || isAuthorValid) && isCheckboxChecked;
    return isFormValid;
  };
  var disableSubmitIfFormInvalid = function disableSubmitIfFormInvalid() {
    submitButtonRef.current.disabled = !validateForm();
  };
  var renderForm = function renderForm() {
    return /*#__PURE__*/React.createElement("div", {
      className: "brewLookup"
    }, /*#__PURE__*/React.createElement("h2", {
      className: "formTitle"
    }, "Brew Lookup"), /*#__PURE__*/React.createElement("div", {
      className: "formContents"
    }, /*#__PURE__*/React.createElement("label", null, "Title of the brew", /*#__PURE__*/React.createElement("input", {
      ref: titleRef,
      type: "text",
      name: "title",
      defaultValue: props.query.title || '',
      onKeyUp: disableSubmitIfFormInvalid,
      pattern: ".{3,}",
      title: "At least 3 characters",
      onKeyDown: function onKeyDown(e) {
        if (e.key === 'Enter' && !submitButtonRef.current.disabled) loadPage(1, true);
      },
      placeholder: "v3 Reference Document"
    })), /*#__PURE__*/React.createElement("label", null, "Author of the brew", /*#__PURE__*/React.createElement("input", {
      ref: authorRef,
      type: "text",
      name: "author",
      pattern: ".{1,}",
      defaultValue: props.query.author || '',
      onKeyUp: disableSubmitIfFormInvalid,
      onKeyDown: function onKeyDown(e) {
        if (e.key === 'Enter' && !submitButtonRef.current.disabled) loadPage(1, true);
      },
      placeholder: "Username"
    })), /*#__PURE__*/React.createElement("label", null, "Results per page", /*#__PURE__*/React.createElement("select", {
      ref: countRef,
      name: "count",
      defaultValue: props.query.count || 20
    }, /*#__PURE__*/React.createElement("option", {
      value: "10"
    }, "10"), /*#__PURE__*/React.createElement("option", {
      value: "20"
    }, "20"), /*#__PURE__*/React.createElement("option", {
      value: "40"
    }, "40"), /*#__PURE__*/React.createElement("option", {
      value: "60"
    }, "60"))), /*#__PURE__*/React.createElement("label", null, /*#__PURE__*/React.createElement("input", {
      className: "renderer",
      ref: v3Ref,
      type: "checkbox",
      defaultChecked: props.query.v3 !== 'false',
      onChange: disableSubmitIfFormInvalid
    }), "Search for v3 brews"), /*#__PURE__*/React.createElement("label", null, /*#__PURE__*/React.createElement("input", {
      className: "renderer",
      ref: legacyRef,
      type: "checkbox",
      defaultChecked: props.query.legacy !== 'false',
      onChange: disableSubmitIfFormInvalid
    }), "Search for legacy brews"), /*#__PURE__*/React.createElement("button", {
      id: "searchButton",
      ref: submitButtonRef,
      onClick: function onClick() {
        loadPage(1, true);
      }
    }, "Search", /*#__PURE__*/React.createElement("i", {
      className: searching ? 'fas fa-spin fa-spinner' : 'fas fa-search'
    }))), /*#__PURE__*/React.createElement("legend", null, /*#__PURE__*/React.createElement("h3", null, "Tips and tricks"), /*#__PURE__*/React.createElement("ul", null, /*#__PURE__*/React.createElement("li", null, "Only ", /*#__PURE__*/React.createElement("b", null, "published"), " brews are searchable via this tool"), /*#__PURE__*/React.createElement("li", null, "Usernames are case-sensitive"), /*#__PURE__*/React.createElement("li", null, "Use ", /*#__PURE__*/React.createElement("code", null, "\"word\""), " to match an exact string, and ", /*#__PURE__*/React.createElement("code", null, "-"), " to exclude words (at least one word must not be negated)"), /*#__PURE__*/React.createElement("li", null, "Some common words like \"a\", \"after\", \"through\", \"itself\", \"here\", etc., are ignored in searches. The full list can be found\xA0", /*#__PURE__*/React.createElement("a", {
      href: "https://github.com/mongodb/mongo/blob/0e3b3ca8480ddddf5d0105d11a94bd4698335312/src/mongo/db/fts/stop_words_english.txt"
    }, "here"))), /*#__PURE__*/React.createElement("small", null, "New features will be coming, such as filters and search by tags.")));
  };
  var renderSortOption = function renderSortOption(optionTitle, optionValue) {
    var oppositeDir = dirState === 'asc' ? 'desc' : 'asc';
    return /*#__PURE__*/React.createElement("div", {
      className: "sort-option ".concat(sortState === optionValue ? "active" : '')
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return loadPage(1, false, optionValue, oppositeDir);
      }
    }, optionTitle), sortState === optionValue && /*#__PURE__*/React.createElement("i", {
      className: "sortDir fas ".concat(dirState === 'asc' ? 'fa-sort-up' : 'fa-sort-down')
    }));
  };
  var renderSortBar = function renderSortBar() {
    return /*#__PURE__*/React.createElement("div", {
      className: "sort-container"
    }, renderSortOption('Title', 'title', props.query.dir), renderSortOption('Created Date', 'createdAt', props.query.dir), renderSortOption('Updated Date', 'updatedAt', props.query.dir), renderSortOption('Views', 'views', props.query.dir));
  };
  var renderPaginationControls = function renderPaginationControls() {
    if (!totalBrews || totalBrews < 10) return null;
    var countInt = parseInt(brewCollection.length || 20);
    var totalPages = Math.ceil(totalBrews / countInt);
    var startPage, endPage;
    if (pageState <= 6) {
      startPage = 1;
      endPage = Math.min(totalPages, 10);
    } else if (pageState + 4 >= totalPages) {
      startPage = Math.max(1, totalPages - 9);
      endPage = totalPages;
    } else {
      startPage = pageState - 5;
      endPage = pageState + 4;
    }
    var pagesAroundCurrent = new Array(endPage - startPage + 1).fill().map(function (_, index) {
      return /*#__PURE__*/React.createElement("a", {
        key: startPage + index,
        className: "pageNumber ".concat(pageState === startPage + index ? 'currentPage' : ''),
        onClick: function onClick() {
          return loadPage(startPage + index, false, sortState, dirState);
        }
      }, startPage + index);
    });
    return /*#__PURE__*/React.createElement("div", {
      className: "paginationControls"
    }, /*#__PURE__*/React.createElement("button", {
      className: "previousPage",
      onClick: function onClick() {
        return loadPage(pageState - 1, false, sortState, dirState);
      },
      disabled: pageState === startPage
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-chevron-left"
    })), /*#__PURE__*/React.createElement("ol", {
      className: "pages"
    }, startPage > 1 && /*#__PURE__*/React.createElement("a", {
      className: "pageNumber firstPage",
      onClick: function onClick() {
        return loadPage(1, false, sortState, dirState);
      }
    }, "1 ..."), pagesAroundCurrent, endPage < totalPages && /*#__PURE__*/React.createElement("a", {
      className: "pageNumber lastPage",
      onClick: function onClick() {
        return loadPage(totalPages, false, sortState, dirState);
      }
    }, "... ", totalPages)), /*#__PURE__*/React.createElement("button", {
      className: "nextPage",
      onClick: function onClick() {
        return loadPage(pageState + 1, false, sortState, dirState);
      },
      disabled: pageState === totalPages
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-chevron-right"
    })));
  };
  var renderFoundBrews = function renderFoundBrews() {
    if (searching && !brewCollection) {
      return /*#__PURE__*/React.createElement("div", {
        className: "foundBrews searching"
      }, /*#__PURE__*/React.createElement("h3", {
        className: "searchAnim"
      }, "Searching"));
    }
    if (error) {
      var errorText = ErrorIndex()[error.HBErrorCode.toString()] || '';
      return /*#__PURE__*/React.createElement("div", {
        className: "foundBrews noBrews"
      }, /*#__PURE__*/React.createElement("h3", null, "Error: ", errorText));
    }
    if (!brewCollection) {
      return /*#__PURE__*/React.createElement("div", {
        className: "foundBrews noBrews"
      }, /*#__PURE__*/React.createElement("h3", null, "No search yet"));
    }
    if (brewCollection.length === 0) {
      return /*#__PURE__*/React.createElement("div", {
        className: "foundBrews noBrews"
      }, /*#__PURE__*/React.createElement("h3", null, "No brews found"));
    }
    return /*#__PURE__*/React.createElement("div", {
      className: "foundBrews"
    }, /*#__PURE__*/React.createElement("span", {
      className: "totalBrews"
    }, "Brews found: ", /*#__PURE__*/React.createElement("span", null, totalBrews)), brewCollection.length > 10 && renderPaginationControls(), brewCollection.map(function (brew, index) {
      return /*#__PURE__*/React.createElement(BrewItem, {
        brew: _objectSpread({}, brew),
        key: index,
        reportError: props.reportError,
        renderStorage: false
      });
    }), renderPaginationControls());
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "sitePage vaultPage"
  }, /*#__PURE__*/React.createElement("link", {
    href: "/themes/V3/Blank/style.css",
    rel: "stylesheet"
  }), /*#__PURE__*/React.createElement("link", {
    href: "/themes/V3/5ePHB/style.css",
    rel: "stylesheet"
  }), renderNavItems(), /*#__PURE__*/React.createElement("div", {
    className: "content"
  }, /*#__PURE__*/React.createElement(SplitPane, {
    showDividerButtons: false
  }, /*#__PURE__*/React.createElement("div", {
    className: "form dataGroup"
  }, renderForm()), /*#__PURE__*/React.createElement("div", {
    className: "resultsContainer dataGroup"
  }, renderSortBar(), renderFoundBrews()))));
};
module.exports = VaultPage;
},{"../../navbar/account.navitem.jsx":32,"../../navbar/help.navitem.jsx":35,"../../navbar/navbar.jsx":37,"../../navbar/newbrew.navitem.jsx":39,"../../navbar/recent.navitem.jsx":42,"../../utils/request-middleware.js":71,"../basePages/listPage/brewItem/brewItem.jsx":46,"../errorPage/errors/errorIndex.js":58,"./vaultPage.less":67,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/regenerator":116,"client/components/splitPane/splitPane.jsx":7,"naturalcrit/nav/nav.jsx":281,"react":"react"}],67:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],68:[function(require,module,exports){
module.exports='/thumbnail.png';
},{}],69:[function(require,module,exports){
module.exports='/thumbnail.svg';
},{}],70:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initCustomStore = initCustomStore;
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var IDB = _interopRequireWildcard(require("idb-keyval/dist/index.js"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t30 in e) "default" !== _t30 && {}.hasOwnProperty.call(e, _t30) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t30)) && (i.get || i.set) ? o(f, _t30, i) : f[_t30] = e[_t30]); return f; })(e, t); }
function initCustomStore(db, store) {
  var createCustomStore = /*#__PURE__*/function () {
    var _ref = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee() {
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            return _context.abrupt("return", IDB.createStore(db, store));
          case 1:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function createCustomStore() {
      return _ref.apply(this, arguments);
    };
  }();
  return {
    entries: function () {
      var _entries = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2() {
        var _t, _t2;
        return _regenerator["default"].wrap(function (_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              _t = IDB;
              _context2.next = 1;
              return createCustomStore();
            case 1:
              _t2 = _context2.sent;
              return _context2.abrupt("return", _t.entries.call(_t, _t2));
            case 2:
            case "end":
              return _context2.stop();
          }
        }, _callee2);
      }));
      function entries() {
        return _entries.apply(this, arguments);
      }
      return entries;
    }(),
    keys: function () {
      var _keys = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3() {
        var _t3, _t4;
        return _regenerator["default"].wrap(function (_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              _t3 = IDB;
              _context3.next = 1;
              return createCustomStore();
            case 1:
              _t4 = _context3.sent;
              return _context3.abrupt("return", _t3.keys.call(_t3, _t4));
            case 2:
            case "end":
              return _context3.stop();
          }
        }, _callee3);
      }));
      function keys() {
        return _keys.apply(this, arguments);
      }
      return keys;
    }(),
    values: function () {
      var _values = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4() {
        var _t5, _t6;
        return _regenerator["default"].wrap(function (_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              _t5 = IDB;
              _context4.next = 1;
              return createCustomStore();
            case 1:
              _t6 = _context4.sent;
              return _context4.abrupt("return", _t5.values.call(_t5, _t6));
            case 2:
            case "end":
              return _context4.stop();
          }
        }, _callee4);
      }));
      function values() {
        return _values.apply(this, arguments);
      }
      return values;
    }(),
    clear: function () {
      var _clear = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee5() {
        var _t7, _t8;
        return _regenerator["default"].wrap(function (_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              _t7 = IDB;
              _context5.next = 1;
              return createCustomStore;
            case 1:
              _t8 = _context5.sent;
              return _context5.abrupt("return", _t7.clear.call(_t7, _t8));
            case 2:
            case "end":
              return _context5.stop();
          }
        }, _callee5);
      }));
      function clear() {
        return _clear.apply(this, arguments);
      }
      return clear;
    }(),
    get: function () {
      var _get = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee6(key) {
        var _t9, _t0, _t1;
        return _regenerator["default"].wrap(function (_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              _t9 = IDB;
              _t0 = key;
              _context6.next = 1;
              return createCustomStore();
            case 1:
              _t1 = _context6.sent;
              return _context6.abrupt("return", _t9.get.call(_t9, _t0, _t1));
            case 2:
            case "end":
              return _context6.stop();
          }
        }, _callee6);
      }));
      function get(_x) {
        return _get.apply(this, arguments);
      }
      return get;
    }(),
    getMany: function () {
      var _getMany = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee7(keys) {
        var _t10, _t11, _t12;
        return _regenerator["default"].wrap(function (_context7) {
          while (1) switch (_context7.prev = _context7.next) {
            case 0:
              _t10 = IDB;
              _t11 = keys;
              _context7.next = 1;
              return createCustomStore();
            case 1:
              _t12 = _context7.sent;
              return _context7.abrupt("return", _t10.getMany.call(_t10, _t11, _t12));
            case 2:
            case "end":
              return _context7.stop();
          }
        }, _callee7);
      }));
      function getMany(_x2) {
        return _getMany.apply(this, arguments);
      }
      return getMany;
    }(),
    set: function () {
      var _set = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee8(key, value) {
        var _t13, _t14, _t15, _t16;
        return _regenerator["default"].wrap(function (_context8) {
          while (1) switch (_context8.prev = _context8.next) {
            case 0:
              _t13 = IDB;
              _t14 = key;
              _t15 = value;
              _context8.next = 1;
              return createCustomStore();
            case 1:
              _t16 = _context8.sent;
              return _context8.abrupt("return", _t13.set.call(_t13, _t14, _t15, _t16));
            case 2:
            case "end":
              return _context8.stop();
          }
        }, _callee8);
      }));
      function set(_x3, _x4) {
        return _set.apply(this, arguments);
      }
      return set;
    }(),
    setMany: function () {
      var _setMany = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee9(entries) {
        var _t17, _t18, _t19;
        return _regenerator["default"].wrap(function (_context9) {
          while (1) switch (_context9.prev = _context9.next) {
            case 0:
              _t17 = IDB;
              _t18 = entries;
              _context9.next = 1;
              return createCustomStore();
            case 1:
              _t19 = _context9.sent;
              return _context9.abrupt("return", _t17.setMany.call(_t17, _t18, _t19));
            case 2:
            case "end":
              return _context9.stop();
          }
        }, _callee9);
      }));
      function setMany(_x5) {
        return _setMany.apply(this, arguments);
      }
      return setMany;
    }(),
    update: function () {
      var _update = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee0(key, updateFn) {
        var _t20, _t21, _t22, _t23;
        return _regenerator["default"].wrap(function (_context0) {
          while (1) switch (_context0.prev = _context0.next) {
            case 0:
              _t20 = IDB;
              _t21 = key;
              _t22 = updateFn;
              _context0.next = 1;
              return createCustomStore();
            case 1:
              _t23 = _context0.sent;
              return _context0.abrupt("return", _t20.update.call(_t20, _t21, _t22, _t23));
            case 2:
            case "end":
              return _context0.stop();
          }
        }, _callee0);
      }));
      function update(_x6, _x7) {
        return _update.apply(this, arguments);
      }
      return update;
    }(),
    del: function () {
      var _del = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee1(key) {
        var _t24, _t25, _t26;
        return _regenerator["default"].wrap(function (_context1) {
          while (1) switch (_context1.prev = _context1.next) {
            case 0:
              _t24 = IDB;
              _t25 = key;
              _context1.next = 1;
              return createCustomStore();
            case 1:
              _t26 = _context1.sent;
              return _context1.abrupt("return", _t24.del.call(_t24, _t25, _t26));
            case 2:
            case "end":
              return _context1.stop();
          }
        }, _callee1);
      }));
      function del(_x8) {
        return _del.apply(this, arguments);
      }
      return del;
    }(),
    delMany: function () {
      var _delMany = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee10(keys) {
        var _t27, _t28, _t29;
        return _regenerator["default"].wrap(function (_context10) {
          while (1) switch (_context10.prev = _context10.next) {
            case 0:
              _t27 = IDB;
              _t28 = keys;
              _context10.next = 1;
              return createCustomStore();
            case 1:
              _t29 = _context10.sent;
              return _context10.abrupt("return", _t27.delMany.call(_t27, _t28, _t29));
            case 2:
            case "end":
              return _context10.stop();
          }
        }, _callee10);
      }));
      function delMany(_x9) {
        return _delMany.apply(this, arguments);
      }
      return delMany;
    }()
  };
}
;
},{"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113,"@babel/runtime/regenerator":116,"idb-keyval/dist/index.js":193}],71:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _superagent = _interopRequireDefault(require("superagent"));
var addHeader = function addHeader(request) {
  return request.set('Homebrewery-Version', global.version);
};
var requestMiddleware = {
  get: function get(path) {
    return addHeader(_superagent["default"].get(path));
  },
  put: function put(path) {
    return addHeader(_superagent["default"].put(path));
  },
  post: function post(path) {
    return addHeader(_superagent["default"].post(path));
  },
  "delete": function _delete(path) {
    return addHeader(_superagent["default"]["delete"](path));
  }
};
var _default = exports["default"] = requestMiddleware;
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@babel/runtime/helpers/interopRequireDefault":86,"superagent":"superagent"}],72:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HISTORY_SLOTS = exports.HISTORY_PREFIX = void 0;
exports.loadHistory = loadHistory;
exports.updateHistory = updateHistory;
exports.versionHistoryGarbageCollection = versionHistoryGarbageCollection;
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _customIDBStore = require("./customIDBStore.js");
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
var HISTORY_PREFIX = exports.HISTORY_PREFIX = 'HOMEBREWERY-HISTORY';
var HISTORY_SLOTS = exports.HISTORY_SLOTS = 5;

// History values in minutes
var HISTORY_SAVE_DELAYS = {
  '0': 0,
  '1': 2,
  '2': 10,
  '3': 60,
  '4': 12 * 60,
  '5': 2 * 24 * 60
};
// const HISTORY_SAVE_DELAYS = {
// 	'0' : 0,
// 	'1' : 1,
// 	'2' : 2,
// 	'3' : 3,
// 	'4' : 4,
// 	'5' : 5
// };

var GARBAGE_COLLECT_DELAY = 28 * 24 * 60;
// const GARBAGE_COLLECT_DELAY = 10;

var HB_DB = 'HOMEBREWERY-DB';
var HB_STORE = 'HISTORY';
var IDB = (0, _customIDBStore.initCustomStore)(HB_DB, HB_STORE);
function getKeyBySlot(brew, slot) {
  // Return a string representing the key for this brew and history slot
  return "".concat(HISTORY_PREFIX, "-").concat(brew.shareId, "-").concat(slot);
}
;
function parseBrewForStorage(brew) {
  var slot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Strip out unneeded object properties
  // Returns an array of [ key, brew ]
  var archiveBrew = {
    title: brew.title,
    text: brew.text,
    style: brew.style,
    snippets: brew.snippets,
    version: brew.version,
    shareId: brew.shareId,
    savedAt: (brew === null || brew === void 0 ? void 0 : brew.savedAt) || new Date(),
    expireAt: new Date()
  };
  archiveBrew.expireAt.setMinutes(archiveBrew.expireAt.getMinutes() + HISTORY_SAVE_DELAYS[slot]);
  var key = getKeyBySlot(brew, slot);
  return [key, archiveBrew];
}
function loadHistory(_x) {
  return _loadHistory.apply(this, arguments);
}
function _loadHistory() {
  _loadHistory = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(brew) {
    var DEFAULT_HISTORY_ITEM, historyKeys, i, dataArray;
    return _regenerator["default"].wrap(function (_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          DEFAULT_HISTORY_ITEM = {
            expireAt: '2000-01-01T00:00:00.000Z',
            shareId: brew.shareId,
            noData: true
          };
          historyKeys = []; // Create array of all history keys
          for (i = 1; i <= HISTORY_SLOTS; i++) {
            historyKeys.push(getKeyBySlot(brew, i));
          }
          ;

          // Load all keys from IDB at once
          _context.next = 1;
          return IDB.getMany(historyKeys);
        case 1:
          dataArray = _context.sent;
          return _context.abrupt("return", dataArray.map(function (data) {
            return data !== null && data !== void 0 ? data : DEFAULT_HISTORY_ITEM;
          }));
        case 2:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return _loadHistory.apply(this, arguments);
}
function updateHistory(_x2) {
  return _updateHistory.apply(this, arguments);
}
function _updateHistory() {
  _updateHistory = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(brew) {
    var history, slot, storedVersion, historyUpdate, updateSlot, _history;
    return _regenerator["default"].wrap(function (_context2) {
      while (1) switch (_context2.prev = _context2.next) {
        case 0:
          _context2.next = 1;
          return loadHistory(brew);
        case 1:
          history = _context2.sent;
          slot = HISTORY_SLOTS - 1;
        case 2:
          if (!(slot >= 0)) {
            _context2.next = 5;
            break;
          }
          storedVersion = history[slot]; // If slot has expired, update all lower slots and break
          if (!(new Date() >= new Date(storedVersion.expireAt))) {
            _context2.next = 4;
            break;
          }
          // Create array of arrays : [ [key1, value1], [key2, value2], ..., [keyN, valueN] ]
          // to pass to IDB.setMany
          historyUpdate = [];
          for (updateSlot = slot; updateSlot > 0; updateSlot--) {
            // Move data from updateSlot to updateSlot + 1
            if (!((_history = history[updateSlot - 1]) !== null && _history !== void 0 && _history.noData)) {
              historyUpdate.push(parseBrewForStorage(history[updateSlot - 1], updateSlot + 1));
            }
          }
          ;

          // Update the most recent brew
          historyUpdate.push(parseBrewForStorage(brew, 1));
          _context2.next = 3;
          return IDB.setMany(historyUpdate);
        case 3:
          return _context2.abrupt("continue", 5);
        case 4:
          slot--;
          _context2.next = 2;
          break;
        case 5:
          ;
        case 6:
        case "end":
          return _context2.stop();
      }
    }, _callee2);
  }));
  return _updateHistory.apply(this, arguments);
}
;
function versionHistoryGarbageCollection() {
  return _versionHistoryGarbageCollection.apply(this, arguments);
}
function _versionHistoryGarbageCollection() {
  _versionHistoryGarbageCollection = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3() {
    var entries, expiredKeys, _iterator, _step, _step$value, key, value, expireAt;
    return _regenerator["default"].wrap(function (_context3) {
      while (1) switch (_context3.prev = _context3.next) {
        case 0:
          _context3.next = 1;
          return IDB.entries();
        case 1:
          entries = _context3.sent;
          expiredKeys = [];
          _iterator = _createForOfIteratorHelper(entries);
          try {
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              _step$value = (0, _slicedToArray2["default"])(_step.value, 2), key = _step$value[0], value = _step$value[1];
              expireAt = new Date(value.savedAt);
              expireAt.setMinutes(expireAt.getMinutes() + GARBAGE_COLLECT_DELAY);
              if (new Date() > expireAt) {
                expiredKeys.push(key);
              }
              ;
            }
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }
          ;
          if (!(expiredKeys.length > 0)) {
            _context3.next = 2;
            break;
          }
          _context3.next = 2;
          return IDB.delMany(expiredKeys);
        case 2:
        case "end":
          return _context3.stop();
      }
    }, _callee3);
  }));
  return _versionHistoryGarbageCollection.apply(this, arguments);
}
;
},{"./customIDBStore.js":70,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/regenerator":116}],73:[function(require,module,exports){
"use strict";

function _OverloadYield(e, d) {
  this.v = e, this.k = d;
}
module.exports = _OverloadYield, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],74:[function(require,module,exports){
"use strict";

function _arrayLikeToArray(r, a) {
  (null == a || a > r.length) && (a = r.length);
  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];
  return n;
}
module.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],75:[function(require,module,exports){
"use strict";

function _arrayWithHoles(r) {
  if (Array.isArray(r)) return r;
}
module.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],76:[function(require,module,exports){
"use strict";

var arrayLikeToArray = require("./arrayLikeToArray.js");
function _arrayWithoutHoles(r) {
  if (Array.isArray(r)) return arrayLikeToArray(r);
}
module.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayLikeToArray.js":74}],77:[function(require,module,exports){
"use strict";

function _assertThisInitialized(e) {
  if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
module.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],78:[function(require,module,exports){
"use strict";

function asyncGeneratorStep(n, t, e, r, o, a, c) {
  try {
    var i = n[a](c),
      u = i.value;
  } catch (n) {
    return void e(n);
  }
  i.done ? t(u) : Promise.resolve(u).then(r, o);
}
function _asyncToGenerator(n) {
  return function () {
    var t = this,
      e = arguments;
    return new Promise(function (r, o) {
      var a = n.apply(t, e);
      function _next(n) {
        asyncGeneratorStep(a, r, o, _next, _throw, "next", n);
      }
      function _throw(n) {
        asyncGeneratorStep(a, r, o, _next, _throw, "throw", n);
      }
      _next(void 0);
    });
  };
}
module.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],79:[function(require,module,exports){
"use strict";

function _classCallCheck(a, n) {
  if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function");
}
module.exports = _classCallCheck, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],80:[function(require,module,exports){
"use strict";

var isNativeReflectConstruct = require("./isNativeReflectConstruct.js");
var setPrototypeOf = require("./setPrototypeOf.js");
function _construct(t, e, r) {
  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);
  var o = [null];
  o.push.apply(o, e);
  var p = new (t.bind.apply(t, o))();
  return r && setPrototypeOf(p, r.prototype), p;
}
module.exports = _construct, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./isNativeReflectConstruct.js":88,"./setPrototypeOf.js":106}],81:[function(require,module,exports){
"use strict";

var toPropertyKey = require("./toPropertyKey.js");
function _defineProperties(e, r) {
  for (var t = 0; t < r.length; t++) {
    var o = r[t];
    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);
  }
}
function _createClass(e, r, t) {
  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", {
    writable: !1
  }), e;
}
module.exports = _createClass, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./toPropertyKey.js":112}],82:[function(require,module,exports){
"use strict";

var toPropertyKey = require("./toPropertyKey.js");
function _defineProperty(e, r, t) {
  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {
    value: t,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[r] = t, e;
}
module.exports = _defineProperty, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./toPropertyKey.js":112}],83:[function(require,module,exports){
"use strict";

function _extends() {
  return module.exports = _extends = Object.assign ? Object.assign.bind() : function (n) {
    for (var e = 1; e < arguments.length; e++) {
      var t = arguments[e];
      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);
    }
    return n;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _extends.apply(null, arguments);
}
module.exports = _extends, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],84:[function(require,module,exports){
"use strict";

function _getPrototypeOf(t) {
  return module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {
    return t.__proto__ || Object.getPrototypeOf(t);
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _getPrototypeOf(t);
}
module.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],85:[function(require,module,exports){
"use strict";

var setPrototypeOf = require("./setPrototypeOf.js");
function _inherits(t, e) {
  if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
  t.prototype = Object.create(e && e.prototype, {
    constructor: {
      value: t,
      writable: !0,
      configurable: !0
    }
  }), Object.defineProperty(t, "prototype", {
    writable: !1
  }), e && setPrototypeOf(t, e);
}
module.exports = _inherits, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./setPrototypeOf.js":106}],86:[function(require,module,exports){
"use strict";

function _interopRequireDefault(e) {
  return e && e.__esModule ? e : {
    "default": e
  };
}
module.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],87:[function(require,module,exports){
"use strict";

function _isNativeFunction(t) {
  try {
    return -1 !== Function.toString.call(t).indexOf("[native code]");
  } catch (n) {
    return "function" == typeof t;
  }
}
module.exports = _isNativeFunction, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],88:[function(require,module,exports){
"use strict";

function _isNativeReflectConstruct() {
  try {
    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch (t) {}
  return (module.exports = _isNativeReflectConstruct = function _isNativeReflectConstruct() {
    return !!t;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports)();
}
module.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],89:[function(require,module,exports){
"use strict";

function _iterableToArray(r) {
  if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r);
}
module.exports = _iterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],90:[function(require,module,exports){
"use strict";

function _iterableToArrayLimit(r, l) {
  var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
  if (null != t) {
    var e,
      n,
      i,
      u,
      a = [],
      f = !0,
      o = !1;
    try {
      if (i = (t = t.call(r)).next, 0 === l) {
        if (Object(t) !== t) return;
        f = !1;
      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);
    } catch (r) {
      o = !0, n = r;
    } finally {
      try {
        if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return;
      } finally {
        if (o) throw n;
      }
    }
    return a;
  }
}
module.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],91:[function(require,module,exports){
"use strict";

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableRest, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],92:[function(require,module,exports){
"use strict";

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],93:[function(require,module,exports){
"use strict";

function _objectDestructuringEmpty(t) {
  if (null == t) throw new TypeError("Cannot destructure " + t);
}
module.exports = _objectDestructuringEmpty, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],94:[function(require,module,exports){
"use strict";

var objectWithoutPropertiesLoose = require("./objectWithoutPropertiesLoose.js");
function _objectWithoutProperties(e, t) {
  if (null == e) return {};
  var o,
    r,
    i = objectWithoutPropertiesLoose(e, t);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);
  }
  return i;
}
module.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./objectWithoutPropertiesLoose.js":95}],95:[function(require,module,exports){
"use strict";

function _objectWithoutPropertiesLoose(r, e) {
  if (null == r) return {};
  var t = {};
  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {
    if (-1 !== e.indexOf(n)) continue;
    t[n] = r[n];
  }
  return t;
}
module.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],96:[function(require,module,exports){
"use strict";

var _typeof = require("./typeof.js")["default"];
var assertThisInitialized = require("./assertThisInitialized.js");
function _possibleConstructorReturn(t, e) {
  if (e && ("object" == _typeof(e) || "function" == typeof e)) return e;
  if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined");
  return assertThisInitialized(t);
}
module.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./assertThisInitialized.js":77,"./typeof.js":113}],97:[function(require,module,exports){
"use strict";

function _readOnlyError(r) {
  throw new TypeError('"' + r + '" is read-only');
}
module.exports = _readOnlyError, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],98:[function(require,module,exports){
"use strict";

var regeneratorDefine = require("./regeneratorDefine.js");
function _regenerator() {
  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
  var e,
    t,
    r = "function" == typeof Symbol ? Symbol : {},
    n = r.iterator || "@@iterator",
    o = r.toStringTag || "@@toStringTag";
  function i(r, n, o, i) {
    var c = n && n.prototype instanceof Generator ? n : Generator,
      u = Object.create(c.prototype);
    return regeneratorDefine(u, "_invoke", function (r, n, o) {
      var i,
        c,
        u,
        f = 0,
        p = o || [],
        y = !1,
        G = {
          p: 0,
          n: 0,
          v: e,
          a: d,
          f: d.bind(e, 4),
          d: function d(t, r) {
            return i = t, c = 0, u = e, G.n = r, a;
          }
        };
      function d(r, n) {
        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {
          var o,
            i = p[t],
            d = G.p,
            l = i[2];
          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));
        }
        if (o || r > 1) return a;
        throw y = !0, n;
      }
      return function (o, p, l) {
        if (f > 1) throw TypeError("Generator is already running");
        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {
          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);
          try {
            if (f = 2, i) {
              if (c || (o = "next"), t = i[o]) {
                if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object");
                if (!t.done) return t;
                u = t.value, c < 2 && (c = 0);
              } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1);
              i = e;
            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;
          } catch (t) {
            i = e, c = 1, u = t;
          } finally {
            f = 1;
          }
        }
        return {
          value: t,
          done: y
        };
      };
    }(r, o, i), !0), u;
  }
  var a = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  t = Object.getPrototypeOf;
  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {
      return this;
    }), t),
    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);
  function f(e) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e;
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, "constructor", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", regeneratorDefine(GeneratorFunctionPrototype, o, "GeneratorFunction"), regeneratorDefine(u), regeneratorDefine(u, o, "Generator"), regeneratorDefine(u, n, function () {
    return this;
  }), regeneratorDefine(u, "toString", function () {
    return "[object Generator]";
  }), (module.exports = _regenerator = function _regenerator() {
    return {
      w: i,
      m: f
    };
  }, module.exports.__esModule = true, module.exports["default"] = module.exports)();
}
module.exports = _regenerator, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./regeneratorDefine.js":102}],99:[function(require,module,exports){
"use strict";

var regeneratorAsyncGen = require("./regeneratorAsyncGen.js");
function _regeneratorAsync(n, e, r, t, o) {
  var a = regeneratorAsyncGen(n, e, r, t, o);
  return a.next().then(function (n) {
    return n.done ? n.value : a.next();
  });
}
module.exports = _regeneratorAsync, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./regeneratorAsyncGen.js":100}],100:[function(require,module,exports){
"use strict";

var regenerator = require("./regenerator.js");
var regeneratorAsyncIterator = require("./regeneratorAsyncIterator.js");
function _regeneratorAsyncGen(r, e, t, o, n) {
  return new regeneratorAsyncIterator(regenerator().w(r, e, t, o), n || Promise);
}
module.exports = _regeneratorAsyncGen, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./regenerator.js":98,"./regeneratorAsyncIterator.js":101}],101:[function(require,module,exports){
"use strict";

var OverloadYield = require("./OverloadYield.js");
var regeneratorDefine = require("./regeneratorDefine.js");
function AsyncIterator(t, e) {
  function n(r, o, i, f) {
    try {
      var c = t[r](o),
        u = c.value;
      return u instanceof OverloadYield ? e.resolve(u.v).then(function (t) {
        n("next", t, i, f);
      }, function (t) {
        n("throw", t, i, f);
      }) : e.resolve(u).then(function (t) {
        c.value = t, i(c);
      }, function (t) {
        return n("throw", t, i, f);
      });
    } catch (t) {
      f(t);
    }
  }
  var r;
  this.next || (regeneratorDefine(AsyncIterator.prototype), regeneratorDefine(AsyncIterator.prototype, "function" == typeof Symbol && Symbol.asyncIterator || "@asyncIterator", function () {
    return this;
  })), regeneratorDefine(this, "_invoke", function (t, o, i) {
    function f() {
      return new e(function (e, r) {
        n(t, i, e, r);
      });
    }
    return r = r ? r.then(f, f) : f();
  }, !0);
}
module.exports = AsyncIterator, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./OverloadYield.js":73,"./regeneratorDefine.js":102}],102:[function(require,module,exports){
"use strict";

function _regeneratorDefine(e, r, n, t) {
  var i = Object.defineProperty;
  try {
    i({}, "", {});
  } catch (e) {
    i = 0;
  }
  module.exports = _regeneratorDefine = function regeneratorDefine(e, r, n, t) {
    if (r) i ? i(e, r, {
      value: n,
      enumerable: !t,
      configurable: !t,
      writable: !t
    }) : e[r] = n;else {
      var o = function o(r, n) {
        _regeneratorDefine(e, r, function (e) {
          return this._invoke(r, n, e);
        });
      };
      o("next", 0), o("throw", 1), o("return", 2);
    }
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _regeneratorDefine(e, r, n, t);
}
module.exports = _regeneratorDefine, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],103:[function(require,module,exports){
"use strict";

function _regeneratorKeys(e) {
  var n = Object(e),
    r = [];
  for (var t in n) r.unshift(t);
  return function e() {
    for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e;
    return e.done = !0, e;
  };
}
module.exports = _regeneratorKeys, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],104:[function(require,module,exports){
"use strict";

var OverloadYield = require("./OverloadYield.js");
var regenerator = require("./regenerator.js");
var regeneratorAsync = require("./regeneratorAsync.js");
var regeneratorAsyncGen = require("./regeneratorAsyncGen.js");
var regeneratorAsyncIterator = require("./regeneratorAsyncIterator.js");
var regeneratorKeys = require("./regeneratorKeys.js");
var regeneratorValues = require("./regeneratorValues.js");
function _regeneratorRuntime() {
  "use strict";

  var r = regenerator(),
    e = r.m(_regeneratorRuntime),
    t = (Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__).constructor;
  function n(r) {
    var e = "function" == typeof r && r.constructor;
    return !!e && (e === t || "GeneratorFunction" === (e.displayName || e.name));
  }
  var o = {
    "throw": 1,
    "return": 2,
    "break": 3,
    "continue": 3
  };
  function a(r) {
    var e, t;
    return function (n) {
      e || (e = {
        stop: function stop() {
          return t(n.a, 2);
        },
        "catch": function _catch() {
          return n.v;
        },
        abrupt: function abrupt(r, e) {
          return t(n.a, o[r], e);
        },
        delegateYield: function delegateYield(r, o, a) {
          return e.resultName = o, t(n.d, regeneratorValues(r), a);
        },
        finish: function finish(r) {
          return t(n.f, r);
        }
      }, t = function t(r, _t, o) {
        n.p = e.prev, n.n = e.next;
        try {
          return r(_t, o);
        } finally {
          e.next = n.n;
        }
      }), e.resultName && (e[e.resultName] = n.v, e.resultName = void 0), e.sent = n.v, e.next = n.n;
      try {
        return r.call(this, e);
      } finally {
        n.p = e.prev, n.n = e.next;
      }
    };
  }
  return (module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
    return {
      wrap: function wrap(e, t, n, o) {
        return r.w(a(e), t, n, o && o.reverse());
      },
      isGeneratorFunction: n,
      mark: r.m,
      awrap: function awrap(r, e) {
        return new OverloadYield(r, e);
      },
      AsyncIterator: regeneratorAsyncIterator,
      async: function async(r, e, t, o, u) {
        return (n(e) ? regeneratorAsyncGen : regeneratorAsync)(a(r), e, t, o, u);
      },
      keys: regeneratorKeys,
      values: regeneratorValues
    };
  }, module.exports.__esModule = true, module.exports["default"] = module.exports)();
}
module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./OverloadYield.js":73,"./regenerator.js":98,"./regeneratorAsync.js":99,"./regeneratorAsyncGen.js":100,"./regeneratorAsyncIterator.js":101,"./regeneratorKeys.js":103,"./regeneratorValues.js":105}],105:[function(require,module,exports){
"use strict";

var _typeof = require("./typeof.js")["default"];
function _regeneratorValues(e) {
  if (null != e) {
    var t = e["function" == typeof Symbol && Symbol.iterator || "@@iterator"],
      r = 0;
    if (t) return t.call(e);
    if ("function" == typeof e.next) return e;
    if (!isNaN(e.length)) return {
      next: function next() {
        return e && r >= e.length && (e = void 0), {
          value: e && e[r++],
          done: !e
        };
      }
    };
  }
  throw new TypeError(_typeof(e) + " is not iterable");
}
module.exports = _regeneratorValues, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./typeof.js":113}],106:[function(require,module,exports){
"use strict";

function _setPrototypeOf(t, e) {
  return module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
    return t.__proto__ = e, t;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _setPrototypeOf(t, e);
}
module.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],107:[function(require,module,exports){
"use strict";

var arrayWithHoles = require("./arrayWithHoles.js");
var iterableToArrayLimit = require("./iterableToArrayLimit.js");
var unsupportedIterableToArray = require("./unsupportedIterableToArray.js");
var nonIterableRest = require("./nonIterableRest.js");
function _slicedToArray(r, e) {
  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();
}
module.exports = _slicedToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayWithHoles.js":75,"./iterableToArrayLimit.js":90,"./nonIterableRest.js":91,"./unsupportedIterableToArray.js":114}],108:[function(require,module,exports){
"use strict";

function _taggedTemplateLiteral(e, t) {
  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {
    raw: {
      value: Object.freeze(t)
    }
  }));
}
module.exports = _taggedTemplateLiteral, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],109:[function(require,module,exports){
"use strict";

var arrayWithHoles = require("./arrayWithHoles.js");
var iterableToArray = require("./iterableToArray.js");
var unsupportedIterableToArray = require("./unsupportedIterableToArray.js");
var nonIterableRest = require("./nonIterableRest.js");
function _toArray(r) {
  return arrayWithHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableRest();
}
module.exports = _toArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayWithHoles.js":75,"./iterableToArray.js":89,"./nonIterableRest.js":91,"./unsupportedIterableToArray.js":114}],110:[function(require,module,exports){
"use strict";

var arrayWithoutHoles = require("./arrayWithoutHoles.js");
var iterableToArray = require("./iterableToArray.js");
var unsupportedIterableToArray = require("./unsupportedIterableToArray.js");
var nonIterableSpread = require("./nonIterableSpread.js");
function _toConsumableArray(r) {
  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();
}
module.exports = _toConsumableArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayWithoutHoles.js":76,"./iterableToArray.js":89,"./nonIterableSpread.js":92,"./unsupportedIterableToArray.js":114}],111:[function(require,module,exports){
"use strict";

var _typeof = require("./typeof.js")["default"];
function toPrimitive(t, r) {
  if ("object" != _typeof(t) || !t) return t;
  var e = t[Symbol.toPrimitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != _typeof(i)) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
module.exports = toPrimitive, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./typeof.js":113}],112:[function(require,module,exports){
"use strict";

var _typeof = require("./typeof.js")["default"];
var toPrimitive = require("./toPrimitive.js");
function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == _typeof(i) ? i : i + "";
}
module.exports = toPropertyKey, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./toPrimitive.js":111,"./typeof.js":113}],113:[function(require,module,exports){
"use strict";

function _typeof(o) {
  "@babel/helpers - typeof";

  return module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _typeof(o);
}
module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],114:[function(require,module,exports){
"use strict";

var arrayLikeToArray = require("./arrayLikeToArray.js");
function _unsupportedIterableToArray(r, a) {
  if (r) {
    if ("string" == typeof r) return arrayLikeToArray(r, a);
    var t = {}.toString.call(r).slice(8, -1);
    return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;
  }
}
module.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayLikeToArray.js":74}],115:[function(require,module,exports){
"use strict";

var getPrototypeOf = require("./getPrototypeOf.js");
var setPrototypeOf = require("./setPrototypeOf.js");
var isNativeFunction = require("./isNativeFunction.js");
var construct = require("./construct.js");
function _wrapNativeSuper(t) {
  var r = "function" == typeof Map ? new Map() : void 0;
  return module.exports = _wrapNativeSuper = function _wrapNativeSuper(t) {
    if (null === t || !isNativeFunction(t)) return t;
    if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function");
    if (void 0 !== r) {
      if (r.has(t)) return r.get(t);
      r.set(t, Wrapper);
    }
    function Wrapper() {
      return construct(t, arguments, getPrototypeOf(this).constructor);
    }
    return Wrapper.prototype = Object.create(t.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: !1,
        writable: !0,
        configurable: !0
      }
    }), setPrototypeOf(Wrapper, t);
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _wrapNativeSuper(t);
}
module.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./construct.js":80,"./getPrototypeOf.js":84,"./isNativeFunction.js":87,"./setPrototypeOf.js":106}],116:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
// TODO(Babel 8): Remove this file.

var runtime = require("../helpers/regeneratorRuntime")();
module.exports = runtime;

// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  if ((typeof globalThis === "undefined" ? "undefined" : (0, _typeof2["default"])(globalThis)) === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}
},{"../helpers/regeneratorRuntime":104,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],117:[function(require,module,exports){
'use strict';

exports.byteLength = byteLength;
exports.toByteArray = toByteArray;
exports.fromByteArray = fromByteArray;
var lookup = [];
var revLookup = [];
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;
var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i];
  revLookup[code.charCodeAt(i)] = i;
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62;
revLookup['_'.charCodeAt(0)] = 63;
function getLens(b64) {
  var len = b64.length;
  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4');
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=');
  if (validLen === -1) validLen = len;
  var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;
  return [validLen, placeHoldersLen];
}

// base64 is 4/3 + up to two characters of the original data
function byteLength(b64) {
  var lens = getLens(b64);
  var validLen = lens[0];
  var placeHoldersLen = lens[1];
  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
}
function _byteLength(b64, validLen, placeHoldersLen) {
  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
}
function toByteArray(b64) {
  var tmp;
  var lens = getLens(b64);
  var validLen = lens[0];
  var placeHoldersLen = lens[1];
  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));
  var curByte = 0;

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0 ? validLen - 4 : validLen;
  var i;
  for (i = 0; i < len; i += 4) {
    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];
    arr[curByte++] = tmp >> 16 & 0xFF;
    arr[curByte++] = tmp >> 8 & 0xFF;
    arr[curByte++] = tmp & 0xFF;
  }
  if (placeHoldersLen === 2) {
    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;
    arr[curByte++] = tmp & 0xFF;
  }
  if (placeHoldersLen === 1) {
    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;
    arr[curByte++] = tmp >> 8 & 0xFF;
    arr[curByte++] = tmp & 0xFF;
  }
  return arr;
}
function tripletToBase64(num) {
  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];
}
function encodeChunk(uint8, start, end) {
  var tmp;
  var output = [];
  for (var i = start; i < end; i += 3) {
    tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);
    output.push(tripletToBase64(tmp));
  }
  return output.join('');
}
function fromByteArray(uint8) {
  var tmp;
  var len = uint8.length;
  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes
  var parts = [];
  var maxChunkLength = 16383; // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1];
    parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 0x3F] + '==');
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1];
    parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 0x3F] + lookup[tmp << 2 & 0x3F] + '=');
  }
  return parts.join('');
}
},{}],118:[function(require,module,exports){
(function (Buffer){(function (){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var base64 = require('base64-js');
var ieee754 = require('ieee754');
exports.Buffer = Buffer;
exports.SlowBuffer = SlowBuffer;
exports.INSPECT_MAX_BYTES = 50;
var K_MAX_LENGTH = 0x7fffffff;
exports.kMaxLength = K_MAX_LENGTH;

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport();
if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' && typeof console.error === 'function') {
  console.error('This browser lacks typed array (Uint8Array) support which is required by ' + '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.');
}
function typedArraySupport() {
  // Can typed array instances can be augmented?
  try {
    var arr = new Uint8Array(1);
    arr.__proto__ = {
      __proto__: Uint8Array.prototype,
      foo: function foo() {
        return 42;
      }
    };
    return arr.foo() === 42;
  } catch (e) {
    return false;
  }
}
Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function get() {
    if (!Buffer.isBuffer(this)) return undefined;
    return this.buffer;
  }
});
Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function get() {
    if (!Buffer.isBuffer(this)) return undefined;
    return this.byteOffset;
  }
});
function createBuffer(length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"');
  }
  // Return an augmented `Uint8Array` instance
  var buf = new Uint8Array(length);
  buf.__proto__ = Buffer.prototype;
  return buf;
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer(arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError('The "string" argument must be of type string. Received type number');
    }
    return allocUnsafe(arg);
  }
  return from(arg, encodingOrOffset, length);
}

// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
if (typeof Symbol !== 'undefined' && Symbol.species != null && Buffer[Symbol.species] === Buffer) {
  Object.defineProperty(Buffer, Symbol.species, {
    value: null,
    configurable: true,
    enumerable: false,
    writable: false
  });
}
Buffer.poolSize = 8192; // not used by this implementation

function from(value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset);
  }
  if (ArrayBuffer.isView(value)) {
    return fromArrayLike(value);
  }
  if (value == null) {
    throw TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' + 'or Array-like Object. Received type ' + (0, _typeof2["default"])(value));
  }
  if (isInstance(value, ArrayBuffer) || value && isInstance(value.buffer, ArrayBuffer)) {
    return fromArrayBuffer(value, encodingOrOffset, length);
  }
  if (typeof value === 'number') {
    throw new TypeError('The "value" argument must not be of type number. Received type number');
  }
  var valueOf = value.valueOf && value.valueOf();
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length);
  }
  var b = fromObject(value);
  if (b) return b;
  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length);
  }
  throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' + 'or Array-like Object. Received type ' + (0, _typeof2["default"])(value));
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length);
};

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Buffer.prototype.__proto__ = Uint8Array.prototype;
Buffer.__proto__ = Uint8Array;
function assertSize(size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number');
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"');
  }
}
function alloc(size, fill, encoding) {
  assertSize(size);
  if (size <= 0) {
    return createBuffer(size);
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string' ? createBuffer(size).fill(fill, encoding) : createBuffer(size).fill(fill);
  }
  return createBuffer(size);
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding);
};
function allocUnsafe(size) {
  assertSize(size);
  return createBuffer(size < 0 ? 0 : checked(size) | 0);
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size);
};
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size);
};
function fromString(string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8';
  }
  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding);
  }
  var length = byteLength(string, encoding) | 0;
  var buf = createBuffer(length);
  var actual = buf.write(string, encoding);
  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual);
  }
  return buf;
}
function fromArrayLike(array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0;
  var buf = createBuffer(length);
  for (var i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255;
  }
  return buf;
}
function fromArrayBuffer(array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds');
  }
  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds');
  }
  var buf;
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array);
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset);
  } else {
    buf = new Uint8Array(array, byteOffset, length);
  }

  // Return an augmented `Uint8Array` instance
  buf.__proto__ = Buffer.prototype;
  return buf;
}
function fromObject(obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0;
    var buf = createBuffer(len);
    if (buf.length === 0) {
      return buf;
    }
    obj.copy(buf, 0, 0, len);
    return buf;
  }
  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0);
    }
    return fromArrayLike(obj);
  }
  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data);
  }
}
function checked(length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes');
  }
  return length | 0;
}
function SlowBuffer(length) {
  if (+length != length) {
    // eslint-disable-line eqeqeq
    length = 0;
  }
  return Buffer.alloc(+length);
}
Buffer.isBuffer = function isBuffer(b) {
  return b != null && b._isBuffer === true && b !== Buffer.prototype; // so Buffer.isBuffer(Buffer.prototype) will be false
};
Buffer.compare = function compare(a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength);
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength);
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
  }
  if (a === b) return 0;
  var x = a.length;
  var y = b.length;
  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i];
      y = b[i];
      break;
    }
  }
  if (x < y) return -1;
  if (y < x) return 1;
  return 0;
};
Buffer.isEncoding = function isEncoding(encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true;
    default:
      return false;
  }
};
Buffer.concat = function concat(list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers');
  }
  if (list.length === 0) {
    return Buffer.alloc(0);
  }
  var i;
  if (length === undefined) {
    length = 0;
    for (i = 0; i < list.length; ++i) {
      length += list[i].length;
    }
  }
  var buffer = Buffer.allocUnsafe(length);
  var pos = 0;
  for (i = 0; i < list.length; ++i) {
    var buf = list[i];
    if (isInstance(buf, Uint8Array)) {
      buf = Buffer.from(buf);
    }
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers');
    }
    buf.copy(buffer, pos);
    pos += buf.length;
  }
  return buffer;
};
function byteLength(string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length;
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength;
  }
  if (typeof string !== 'string') {
    throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' + 'Received type ' + (0, _typeof2["default"])(string));
  }
  var len = string.length;
  var mustMatch = arguments.length > 2 && arguments[2] === true;
  if (!mustMatch && len === 0) return 0;

  // Use a for loop to avoid recursion
  var loweredCase = false;
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len;
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length;
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2;
      case 'hex':
        return len >>> 1;
      case 'base64':
        return base64ToBytes(string).length;
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length; // assume utf8
        }
        encoding = ('' + encoding).toLowerCase();
        loweredCase = true;
    }
  }
}
Buffer.byteLength = byteLength;
function slowToString(encoding, start, end) {
  var loweredCase = false;

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0;
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return '';
  }
  if (end === undefined || end > this.length) {
    end = this.length;
  }
  if (end <= 0) {
    return '';
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0;
  start >>>= 0;
  if (end <= start) {
    return '';
  }
  if (!encoding) encoding = 'utf8';
  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end);
      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end);
      case 'ascii':
        return asciiSlice(this, start, end);
      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end);
      case 'base64':
        return base64Slice(this, start, end);
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end);
      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);
        encoding = (encoding + '').toLowerCase();
        loweredCase = true;
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true;
function swap(b, n, m) {
  var i = b[n];
  b[n] = b[m];
  b[m] = i;
}
Buffer.prototype.swap16 = function swap16() {
  var len = this.length;
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits');
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1);
  }
  return this;
};
Buffer.prototype.swap32 = function swap32() {
  var len = this.length;
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits');
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3);
    swap(this, i + 1, i + 2);
  }
  return this;
};
Buffer.prototype.swap64 = function swap64() {
  var len = this.length;
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits');
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7);
    swap(this, i + 1, i + 6);
    swap(this, i + 2, i + 5);
    swap(this, i + 3, i + 4);
  }
  return this;
};
Buffer.prototype.toString = function toString() {
  var length = this.length;
  if (length === 0) return '';
  if (arguments.length === 0) return utf8Slice(this, 0, length);
  return slowToString.apply(this, arguments);
};
Buffer.prototype.toLocaleString = Buffer.prototype.toString;
Buffer.prototype.equals = function equals(b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');
  if (this === b) return true;
  return Buffer.compare(this, b) === 0;
};
Buffer.prototype.inspect = function inspect() {
  var str = '';
  var max = exports.INSPECT_MAX_BYTES;
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim();
  if (this.length > max) str += ' ... ';
  return '<Buffer ' + str + '>';
};
Buffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength);
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. ' + 'Received type ' + (0, _typeof2["default"])(target));
  }
  if (start === undefined) {
    start = 0;
  }
  if (end === undefined) {
    end = target ? target.length : 0;
  }
  if (thisStart === undefined) {
    thisStart = 0;
  }
  if (thisEnd === undefined) {
    thisEnd = this.length;
  }
  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index');
  }
  if (thisStart >= thisEnd && start >= end) {
    return 0;
  }
  if (thisStart >= thisEnd) {
    return -1;
  }
  if (start >= end) {
    return 1;
  }
  start >>>= 0;
  end >>>= 0;
  thisStart >>>= 0;
  thisEnd >>>= 0;
  if (this === target) return 0;
  var x = thisEnd - thisStart;
  var y = end - start;
  var len = Math.min(x, y);
  var thisCopy = this.slice(thisStart, thisEnd);
  var targetCopy = target.slice(start, end);
  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i];
      y = targetCopy[i];
      break;
    }
  }
  if (x < y) return -1;
  if (y < x) return 1;
  return 0;
};

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1;

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset;
    byteOffset = 0;
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff;
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000;
  }
  byteOffset = +byteOffset; // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : buffer.length - 1;
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;
  if (byteOffset >= buffer.length) {
    if (dir) return -1;else byteOffset = buffer.length - 1;
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0;else return -1;
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding);
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1;
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);
  } else if (typeof val === 'number') {
    val = val & 0xFF; // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);
  }
  throw new TypeError('val must be string, number or Buffer');
}
function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
  var indexSize = 1;
  var arrLength = arr.length;
  var valLength = val.length;
  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase();
    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1;
      }
      indexSize = 2;
      arrLength /= 2;
      valLength /= 2;
      byteOffset /= 2;
    }
  }
  function read(buf, i) {
    if (indexSize === 1) {
      return buf[i];
    } else {
      return buf.readUInt16BE(i * indexSize);
    }
  }
  var i;
  if (dir) {
    var foundIndex = -1;
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i;
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;
      } else {
        if (foundIndex !== -1) i -= i - foundIndex;
        foundIndex = -1;
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;
    for (i = byteOffset; i >= 0; i--) {
      var found = true;
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false;
          break;
        }
      }
      if (found) return i;
    }
  }
  return -1;
}
Buffer.prototype.includes = function includes(val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1;
};
Buffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
};
Buffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
};
function hexWrite(buf, string, offset, length) {
  offset = Number(offset) || 0;
  var remaining = buf.length - offset;
  if (!length) {
    length = remaining;
  } else {
    length = Number(length);
    if (length > remaining) {
      length = remaining;
    }
  }
  var strLen = string.length;
  if (length > strLen / 2) {
    length = strLen / 2;
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16);
    if (numberIsNaN(parsed)) return i;
    buf[offset + i] = parsed;
  }
  return i;
}
function utf8Write(buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
}
function asciiWrite(buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length);
}
function latin1Write(buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length);
}
function base64Write(buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length);
}
function ucs2Write(buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
}
Buffer.prototype.write = function write(string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8';
    length = this.length;
    offset = 0;
    // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset;
    length = this.length;
    offset = 0;
    // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0;
    if (isFinite(length)) {
      length = length >>> 0;
      if (encoding === undefined) encoding = 'utf8';
    } else {
      encoding = length;
      length = undefined;
    }
  } else {
    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');
  }
  var remaining = this.length - offset;
  if (length === undefined || length > remaining) length = remaining;
  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds');
  }
  if (!encoding) encoding = 'utf8';
  var loweredCase = false;
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length);
      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length);
      case 'ascii':
        return asciiWrite(this, string, offset, length);
      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length);
      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length);
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length);
      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);
        encoding = ('' + encoding).toLowerCase();
        loweredCase = true;
    }
  }
};
Buffer.prototype.toJSON = function toJSON() {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  };
};
function base64Slice(buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf);
  } else {
    return base64.fromByteArray(buf.slice(start, end));
  }
}
function utf8Slice(buf, start, end) {
  end = Math.min(buf.length, end);
  var res = [];
  var i = start;
  while (i < end) {
    var firstByte = buf[i];
    var codePoint = null;
    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;
    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint;
      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte;
          }
          break;
        case 2:
          secondByte = buf[i + 1];
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint;
            }
          }
          break;
        case 3:
          secondByte = buf[i + 1];
          thirdByte = buf[i + 2];
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint;
            }
          }
          break;
        case 4:
          secondByte = buf[i + 1];
          thirdByte = buf[i + 2];
          fourthByte = buf[i + 3];
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint;
            }
          }
      }
    }
    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD;
      bytesPerSequence = 1;
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000;
      res.push(codePoint >>> 10 & 0x3FF | 0xD800);
      codePoint = 0xDC00 | codePoint & 0x3FF;
    }
    res.push(codePoint);
    i += bytesPerSequence;
  }
  return decodeCodePointsArray(res);
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000;
function decodeCodePointsArray(codePoints) {
  var len = codePoints.length;
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = '';
  var i = 0;
  while (i < len) {
    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));
  }
  return res;
}
function asciiSlice(buf, start, end) {
  var ret = '';
  end = Math.min(buf.length, end);
  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F);
  }
  return ret;
}
function latin1Slice(buf, start, end) {
  var ret = '';
  end = Math.min(buf.length, end);
  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i]);
  }
  return ret;
}
function hexSlice(buf, start, end) {
  var len = buf.length;
  if (!start || start < 0) start = 0;
  if (!end || end < 0 || end > len) end = len;
  var out = '';
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i]);
  }
  return out;
}
function utf16leSlice(buf, start, end) {
  var bytes = buf.slice(start, end);
  var res = '';
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);
  }
  return res;
}
Buffer.prototype.slice = function slice(start, end) {
  var len = this.length;
  start = ~~start;
  end = end === undefined ? len : ~~end;
  if (start < 0) {
    start += len;
    if (start < 0) start = 0;
  } else if (start > len) {
    start = len;
  }
  if (end < 0) {
    end += len;
    if (end < 0) end = 0;
  } else if (end > len) {
    end = len;
  }
  if (end < start) end = start;
  var newBuf = this.subarray(start, end);
  // Return an augmented `Uint8Array` instance
  newBuf.__proto__ = Buffer.prototype;
  return newBuf;
};

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset(offset, ext, length) {
  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');
}
Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) checkOffset(offset, byteLength, this.length);
  var val = this[offset];
  var mul = 1;
  var i = 0;
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul;
  }
  return val;
};
Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length);
  }
  var val = this[offset + --byteLength];
  var mul = 1;
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul;
  }
  return val;
};
Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 1, this.length);
  return this[offset];
};
Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  return this[offset] | this[offset + 1] << 8;
};
Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  return this[offset] << 8 | this[offset + 1];
};
Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;
};
Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
};
Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) checkOffset(offset, byteLength, this.length);
  var val = this[offset];
  var mul = 1;
  var i = 0;
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul;
  }
  mul *= 0x80;
  if (val >= mul) val -= Math.pow(2, 8 * byteLength);
  return val;
};
Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) checkOffset(offset, byteLength, this.length);
  var i = byteLength;
  var mul = 1;
  var val = this[offset + --i];
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul;
  }
  mul *= 0x80;
  if (val >= mul) val -= Math.pow(2, 8 * byteLength);
  return val;
};
Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 1, this.length);
  if (!(this[offset] & 0x80)) return this[offset];
  return (0xff - this[offset] + 1) * -1;
};
Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  var val = this[offset] | this[offset + 1] << 8;
  return val & 0x8000 ? val | 0xFFFF0000 : val;
};
Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  var val = this[offset + 1] | this[offset] << 8;
  return val & 0x8000 ? val | 0xFFFF0000 : val;
};
Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
};
Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
};
Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return ieee754.read(this, offset, true, 23, 4);
};
Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return ieee754.read(this, offset, false, 23, 4);
};
Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 8, this.length);
  return ieee754.read(this, offset, true, 52, 8);
};
Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 8, this.length);
  return ieee754.read(this, offset, false, 52, 8);
};
function checkInt(buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance');
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds');
  if (offset + ext > buf.length) throw new RangeError('Index out of range');
}
Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1;
    checkInt(this, value, offset, byteLength, maxBytes, 0);
  }
  var mul = 1;
  var i = 0;
  this[offset] = value & 0xFF;
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = value / mul & 0xFF;
  }
  return offset + byteLength;
};
Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1;
    checkInt(this, value, offset, byteLength, maxBytes, 0);
  }
  var i = byteLength - 1;
  var mul = 1;
  this[offset + i] = value & 0xFF;
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = value / mul & 0xFF;
  }
  return offset + byteLength;
};
Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);
  this[offset] = value & 0xff;
  return offset + 1;
};
Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);
  this[offset] = value & 0xff;
  this[offset + 1] = value >>> 8;
  return offset + 2;
};
Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);
  this[offset] = value >>> 8;
  this[offset + 1] = value & 0xff;
  return offset + 2;
};
Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);
  this[offset + 3] = value >>> 24;
  this[offset + 2] = value >>> 16;
  this[offset + 1] = value >>> 8;
  this[offset] = value & 0xff;
  return offset + 4;
};
Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);
  this[offset] = value >>> 24;
  this[offset + 1] = value >>> 16;
  this[offset + 2] = value >>> 8;
  this[offset + 3] = value & 0xff;
  return offset + 4;
};
Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1);
    checkInt(this, value, offset, byteLength, limit - 1, -limit);
  }
  var i = 0;
  var mul = 1;
  var sub = 0;
  this[offset] = value & 0xFF;
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1;
    }
    this[offset + i] = (value / mul >> 0) - sub & 0xFF;
  }
  return offset + byteLength;
};
Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1);
    checkInt(this, value, offset, byteLength, limit - 1, -limit);
  }
  var i = byteLength - 1;
  var mul = 1;
  var sub = 0;
  this[offset + i] = value & 0xFF;
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1;
    }
    this[offset + i] = (value / mul >> 0) - sub & 0xFF;
  }
  return offset + byteLength;
};
Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);
  if (value < 0) value = 0xff + value + 1;
  this[offset] = value & 0xff;
  return offset + 1;
};
Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);
  this[offset] = value & 0xff;
  this[offset + 1] = value >>> 8;
  return offset + 2;
};
Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);
  this[offset] = value >>> 8;
  this[offset + 1] = value & 0xff;
  return offset + 2;
};
Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
  this[offset] = value & 0xff;
  this[offset + 1] = value >>> 8;
  this[offset + 2] = value >>> 16;
  this[offset + 3] = value >>> 24;
  return offset + 4;
};
Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
  if (value < 0) value = 0xffffffff + value + 1;
  this[offset] = value >>> 24;
  this[offset + 1] = value >>> 16;
  this[offset + 2] = value >>> 8;
  this[offset + 3] = value & 0xff;
  return offset + 4;
};
function checkIEEE754(buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range');
  if (offset < 0) throw new RangeError('Index out of range');
}
function writeFloat(buf, value, offset, littleEndian, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4);
  return offset + 4;
}
Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert);
};
Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert);
};
function writeDouble(buf, value, offset, littleEndian, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8);
  return offset + 8;
}
Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert);
};
Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert);
};

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy(target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer');
  if (!start) start = 0;
  if (!end && end !== 0) end = this.length;
  if (targetStart >= target.length) targetStart = target.length;
  if (!targetStart) targetStart = 0;
  if (end > 0 && end < start) end = start;

  // Copy 0 bytes; we're done
  if (end === start) return 0;
  if (target.length === 0 || this.length === 0) return 0;

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds');
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range');
  if (end < 0) throw new RangeError('sourceEnd out of bounds');

  // Are we oob?
  if (end > this.length) end = this.length;
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start;
  }
  var len = end - start;
  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end);
  } else if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (var i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start];
    }
  } else {
    Uint8Array.prototype.set.call(target, this.subarray(start, end), targetStart);
  }
  return len;
};

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill(val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start;
      start = 0;
      end = this.length;
    } else if (typeof end === 'string') {
      encoding = end;
      end = this.length;
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string');
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding);
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0);
      if (encoding === 'utf8' && code < 128 || encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code;
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255;
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index');
  }
  if (end <= start) {
    return this;
  }
  start = start >>> 0;
  end = end === undefined ? this.length : end >>> 0;
  if (!val) val = 0;
  var i;
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val;
    }
  } else {
    var bytes = Buffer.isBuffer(val) ? val : Buffer.from(val, encoding);
    var len = bytes.length;
    if (len === 0) {
      throw new TypeError('The value "' + val + '" is invalid for argument "value"');
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len];
    }
  }
  return this;
};

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;
function base64clean(str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0];
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '');
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return '';
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '=';
  }
  return str;
}
function toHex(n) {
  if (n < 16) return '0' + n.toString(16);
  return n.toString(16);
}
function utf8ToBytes(string, units) {
  units = units || Infinity;
  var codePoint;
  var length = string.length;
  var leadSurrogate = null;
  var bytes = [];
  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i);

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
          continue;
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
          continue;
        }

        // valid lead
        leadSurrogate = codePoint;
        continue;
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
        leadSurrogate = codePoint;
        continue;
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
    }
    leadSurrogate = null;

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break;
      bytes.push(codePoint);
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break;
      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break;
      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break;
      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);
    } else {
      throw new Error('Invalid code point');
    }
  }
  return bytes;
}
function asciiToBytes(str) {
  var byteArray = [];
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF);
  }
  return byteArray;
}
function utf16leToBytes(str, units) {
  var c, hi, lo;
  var byteArray = [];
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break;
    c = str.charCodeAt(i);
    hi = c >> 8;
    lo = c % 256;
    byteArray.push(lo);
    byteArray.push(hi);
  }
  return byteArray;
}
function base64ToBytes(str) {
  return base64.toByteArray(base64clean(str));
}
function blitBuffer(src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if (i + offset >= dst.length || i >= src.length) break;
    dst[i + offset] = src[i];
  }
  return i;
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance(obj, type) {
  return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;
}
function numberIsNaN(obj) {
  // For IE11 support
  return obj !== obj; // eslint-disable-line no-self-compare
}
}).call(this)}).call(this,require("buffer").Buffer)
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113,"base64-js":117,"buffer":118,"ieee754":194}],119:[function(require,module,exports){
'use strict';

require('../../modules/es.string.to-well-formed');
module.exports = require('../../internals/entry-unbind')('String', 'toWellFormed');
},{"../../internals/entry-unbind":132,"../../modules/es.string.to-well-formed":189}],120:[function(require,module,exports){
'use strict';

var isCallable = require('../internals/is-callable');
var tryToString = require('../internals/try-to-string');
var $TypeError = TypeError;

// `Assert: IsCallable(argument) is true`
module.exports = function (argument) {
  if (isCallable(argument)) return argument;
  throw new $TypeError(tryToString(argument) + ' is not a function');
};
},{"../internals/is-callable":151,"../internals/try-to-string":183}],121:[function(require,module,exports){
'use strict';

var isObject = require('../internals/is-object');
var $String = String;
var $TypeError = TypeError;

// `Assert: Type(argument) is Object`
module.exports = function (argument) {
  if (isObject(argument)) return argument;
  throw new $TypeError($String(argument) + ' is not an object');
};
},{"../internals/is-object":154}],122:[function(require,module,exports){
'use strict';

var toIndexedObject = require('../internals/to-indexed-object');
var toAbsoluteIndex = require('../internals/to-absolute-index');
var lengthOfArrayLike = require('../internals/length-of-array-like');

// `Array.prototype.{ indexOf, includes }` methods implementation
var createMethod = function createMethod(IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIndexedObject($this);
    var length = lengthOfArrayLike(O);
    if (length === 0) return !IS_INCLUDES && -1;
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare -- NaN check
    if (IS_INCLUDES && el !== el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare -- NaN check
      if (value !== value) return true;
      // Array#indexOf ignores holes, Array#includes - not
    } else for (; length > index; index++) {
      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
    }
    return !IS_INCLUDES && -1;
  };
};
module.exports = {
  // `Array.prototype.includes` method
  // https://tc39.es/ecma262/#sec-array.prototype.includes
  includes: createMethod(true),
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: createMethod(false)
};
},{"../internals/length-of-array-like":157,"../internals/to-absolute-index":174,"../internals/to-indexed-object":175}],123:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
var toString = uncurryThis({}.toString);
var stringSlice = uncurryThis(''.slice);
module.exports = function (it) {
  return stringSlice(toString(it), 8, -1);
};
},{"../internals/function-uncurry-this":141}],124:[function(require,module,exports){
'use strict';

var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');
var isCallable = require('../internals/is-callable');
var classofRaw = require('../internals/classof-raw');
var wellKnownSymbol = require('../internals/well-known-symbol');
var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var $Object = Object;

// ES3 wrong here
var CORRECT_ARGUMENTS = classofRaw(function () {
  return arguments;
}()) === 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function tryGet(it, key) {
  try {
    return it[key];
  } catch (error) {/* empty */}
};

// getting tag from ES6+ `Object.prototype.toString`
module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {
  var O, tag, result;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
  // @@toStringTag case
  : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag
  // builtinTag case
  : CORRECT_ARGUMENTS ? classofRaw(O)
  // ES3 arguments fallback
  : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;
};
},{"../internals/classof-raw":123,"../internals/is-callable":151,"../internals/to-string-tag-support":181,"../internals/well-known-symbol":188}],125:[function(require,module,exports){
'use strict';

var hasOwn = require('../internals/has-own-property');
var ownKeys = require('../internals/own-keys');
var getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');
var definePropertyModule = require('../internals/object-define-property');
module.exports = function (target, source, exceptions) {
  var keys = ownKeys(source);
  var defineProperty = definePropertyModule.f;
  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};
},{"../internals/has-own-property":145,"../internals/object-define-property":160,"../internals/object-get-own-property-descriptor":161,"../internals/own-keys":168}],126:[function(require,module,exports){
'use strict';

var DESCRIPTORS = require('../internals/descriptors');
var definePropertyModule = require('../internals/object-define-property');
var createPropertyDescriptor = require('../internals/create-property-descriptor');
module.exports = DESCRIPTORS ? function (object, key, value) {
  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};
},{"../internals/create-property-descriptor":127,"../internals/descriptors":130,"../internals/object-define-property":160}],127:[function(require,module,exports){
'use strict';

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};
},{}],128:[function(require,module,exports){
'use strict';

var isCallable = require('../internals/is-callable');
var definePropertyModule = require('../internals/object-define-property');
var makeBuiltIn = require('../internals/make-built-in');
var defineGlobalProperty = require('../internals/define-global-property');
module.exports = function (O, key, value, options) {
  if (!options) options = {};
  var simple = options.enumerable;
  var name = options.name !== undefined ? options.name : key;
  if (isCallable(value)) makeBuiltIn(value, name, options);
  if (options.global) {
    if (simple) O[key] = value;else defineGlobalProperty(key, value);
  } else {
    try {
      if (!options.unsafe) delete O[key];else if (O[key]) simple = true;
    } catch (error) {/* empty */}
    if (simple) O[key] = value;else definePropertyModule.f(O, key, {
      value: value,
      enumerable: false,
      configurable: !options.nonConfigurable,
      writable: !options.nonWritable
    });
  }
  return O;
};
},{"../internals/define-global-property":129,"../internals/is-callable":151,"../internals/make-built-in":158,"../internals/object-define-property":160}],129:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');

// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;
module.exports = function (key, value) {
  try {
    defineProperty(globalThis, key, {
      value: value,
      configurable: true,
      writable: true
    });
  } catch (error) {
    globalThis[key] = value;
  }
  return value;
};
},{"../internals/global-this":144}],130:[function(require,module,exports){
'use strict';

var fails = require('../internals/fails');

// Detect IE8's incomplete defineProperty implementation
module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty({}, 1, {
    get: function get() {
      return 7;
    }
  })[1] !== 7;
});
},{"../internals/fails":137}],131:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');
var isObject = require('../internals/is-object');
var document = globalThis.document;
// typeof document.createElement is 'object' in old IE
var EXISTS = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return EXISTS ? document.createElement(it) : {};
};
},{"../internals/global-this":144,"../internals/is-object":154}],132:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');
var uncurryThis = require('../internals/function-uncurry-this');
module.exports = function (CONSTRUCTOR, METHOD) {
  return uncurryThis(globalThis[CONSTRUCTOR].prototype[METHOD]);
};
},{"../internals/function-uncurry-this":141,"../internals/global-this":144}],133:[function(require,module,exports){
'use strict';

// IE8- don't enum bug keys
module.exports = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];
},{}],134:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');
var navigator = globalThis.navigator;
var userAgent = navigator && navigator.userAgent;
module.exports = userAgent ? String(userAgent) : '';
},{"../internals/global-this":144}],135:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');
var userAgent = require('../internals/environment-user-agent');
var process = globalThis.process;
var Deno = globalThis.Deno;
var versions = process && process.versions || Deno && Deno.version;
var v8 = versions && versions.v8;
var match, version;
if (v8) {
  match = v8.split('.');
  // in old Chrome, versions of V8 isn't V8 = Chrome / 10
  // but their correct versions are not interesting for us
  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
}

// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
// so check `userAgent` even if `.v8` exists, but 0
if (!version && userAgent) {
  match = userAgent.match(/Edge\/(\d+)/);
  if (!match || match[1] >= 74) {
    match = userAgent.match(/Chrome\/(\d+)/);
    if (match) version = +match[1];
  }
}
module.exports = version;
},{"../internals/environment-user-agent":134,"../internals/global-this":144}],136:[function(require,module,exports){
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var globalThis = require('../internals/global-this');
var getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;
var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');
var defineBuiltIn = require('../internals/define-built-in');
var defineGlobalProperty = require('../internals/define-global-property');
var copyConstructorProperties = require('../internals/copy-constructor-properties');
var isForced = require('../internals/is-forced');

/*
  options.target         - name of the target object
  options.global         - target is the global object
  options.stat           - export as static methods of target
  options.proto          - export as prototype methods of target
  options.real           - real prototype method for the `pure` version
  options.forced         - export even if the native feature is available
  options.bind           - bind methods to the target, required for the `pure` version
  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe         - use the simple assignment of property instead of delete + defineProperty
  options.sham           - add a flag to not completely full polyfills
  options.enumerable     - export as enumerable property
  options.dontCallGetSet - prevent calling a getter on target
  options.name           - the .name of the function if it does not match the key
*/
module.exports = function (options, source) {
  var TARGET = options.target;
  var GLOBAL = options.global;
  var STATIC = options.stat;
  var FORCED, target, key, targetProperty, sourceProperty, descriptor;
  if (GLOBAL) {
    target = globalThis;
  } else if (STATIC) {
    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});
  } else {
    target = globalThis[TARGET] && globalThis[TARGET].prototype;
  }
  if (target) for (key in source) {
    sourceProperty = source[key];
    if (options.dontCallGetSet) {
      descriptor = getOwnPropertyDescriptor(target, key);
      targetProperty = descriptor && descriptor.value;
    } else targetProperty = target[key];
    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
    // contained in target
    if (!FORCED && targetProperty !== undefined) {
      if ((0, _typeof2["default"])(sourceProperty) == (0, _typeof2["default"])(targetProperty)) continue;
      copyConstructorProperties(sourceProperty, targetProperty);
    }
    // add a flag to not completely full polyfills
    if (options.sham || targetProperty && targetProperty.sham) {
      createNonEnumerableProperty(sourceProperty, 'sham', true);
    }
    defineBuiltIn(target, key, sourceProperty, options);
  }
};
},{"../internals/copy-constructor-properties":125,"../internals/create-non-enumerable-property":126,"../internals/define-built-in":128,"../internals/define-global-property":129,"../internals/global-this":144,"../internals/is-forced":152,"../internals/object-get-own-property-descriptor":161,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],137:[function(require,module,exports){
'use strict';

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (error) {
    return true;
  }
};
},{}],138:[function(require,module,exports){
'use strict';

var fails = require('../internals/fails');
module.exports = !fails(function () {
  // eslint-disable-next-line es/no-function-prototype-bind -- safe
  var test = function () {/* empty */}.bind();
  // eslint-disable-next-line no-prototype-builtins -- safe
  return typeof test != 'function' || test.hasOwnProperty('prototype');
});
},{"../internals/fails":137}],139:[function(require,module,exports){
'use strict';

var NATIVE_BIND = require('../internals/function-bind-native');
var call = Function.prototype.call;
// eslint-disable-next-line es/no-function-prototype-bind -- safe
module.exports = NATIVE_BIND ? call.bind(call) : function () {
  return call.apply(call, arguments);
};
},{"../internals/function-bind-native":138}],140:[function(require,module,exports){
'use strict';

var DESCRIPTORS = require('../internals/descriptors');
var hasOwn = require('../internals/has-own-property');
var FunctionPrototype = Function.prototype;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;
var EXISTS = hasOwn(FunctionPrototype, 'name');
// additional protection from minified / mangled / dropped function names
var PROPER = EXISTS && function something() {/* empty */}.name === 'something';
var CONFIGURABLE = EXISTS && (!DESCRIPTORS || DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable);
module.exports = {
  EXISTS: EXISTS,
  PROPER: PROPER,
  CONFIGURABLE: CONFIGURABLE
};
},{"../internals/descriptors":130,"../internals/has-own-property":145}],141:[function(require,module,exports){
'use strict';

var NATIVE_BIND = require('../internals/function-bind-native');
var FunctionPrototype = Function.prototype;
var call = FunctionPrototype.call;
// eslint-disable-next-line es/no-function-prototype-bind -- safe
var uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);
module.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {
  return function () {
    return call.apply(fn, arguments);
  };
};
},{"../internals/function-bind-native":138}],142:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');
var isCallable = require('../internals/is-callable');
var aFunction = function aFunction(argument) {
  return isCallable(argument) ? argument : undefined;
};
module.exports = function (namespace, method) {
  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];
};
},{"../internals/global-this":144,"../internals/is-callable":151}],143:[function(require,module,exports){
'use strict';

var aCallable = require('../internals/a-callable');
var isNullOrUndefined = require('../internals/is-null-or-undefined');

// `GetMethod` abstract operation
// https://tc39.es/ecma262/#sec-getmethod
module.exports = function (V, P) {
  var func = V[P];
  return isNullOrUndefined(func) ? undefined : aCallable(func);
};
},{"../internals/a-callable":120,"../internals/is-null-or-undefined":153}],144:[function(require,module,exports){
(function (global){(function (){
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var check = function check(it) {
  return it && it.Math === Math && it;
};

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
module.exports =
// eslint-disable-next-line es/no-global-this -- safe
check((typeof globalThis === "undefined" ? "undefined" : (0, _typeof2["default"])(globalThis)) == 'object' && globalThis) || check((typeof window === "undefined" ? "undefined" : (0, _typeof2["default"])(window)) == 'object' && window) ||
// eslint-disable-next-line no-restricted-globals -- safe
check((typeof self === "undefined" ? "undefined" : (0, _typeof2["default"])(self)) == 'object' && self) || check((typeof global === "undefined" ? "undefined" : (0, _typeof2["default"])(global)) == 'object' && global) || check((0, _typeof2["default"])(void 0) == 'object' && void 0) ||
// eslint-disable-next-line no-new-func -- fallback
function () {
  return this;
}() || Function('return this')();
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],145:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
var toObject = require('../internals/to-object');
var hasOwnProperty = uncurryThis({}.hasOwnProperty);

// `HasOwnProperty` abstract operation
// https://tc39.es/ecma262/#sec-hasownproperty
// eslint-disable-next-line es/no-object-hasown -- safe
module.exports = Object.hasOwn || function hasOwn(it, key) {
  return hasOwnProperty(toObject(it), key);
};
},{"../internals/function-uncurry-this":141,"../internals/to-object":178}],146:[function(require,module,exports){
'use strict';

module.exports = {};
},{}],147:[function(require,module,exports){
'use strict';

var DESCRIPTORS = require('../internals/descriptors');
var fails = require('../internals/fails');
var createElement = require('../internals/document-create-element');

// Thanks to IE8 for its funny defineProperty
module.exports = !DESCRIPTORS && !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(createElement('div'), 'a', {
    get: function get() {
      return 7;
    }
  }).a !== 7;
});
},{"../internals/descriptors":130,"../internals/document-create-element":131,"../internals/fails":137}],148:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
var fails = require('../internals/fails');
var classof = require('../internals/classof-raw');
var $Object = Object;
var split = uncurryThis(''.split);

// fallback for non-array-like ES3 and non-enumerable old V8 strings
module.exports = fails(function () {
  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
  // eslint-disable-next-line no-prototype-builtins -- safe
  return !$Object('z').propertyIsEnumerable(0);
}) ? function (it) {
  return classof(it) === 'String' ? split(it, '') : $Object(it);
} : $Object;
},{"../internals/classof-raw":123,"../internals/fails":137,"../internals/function-uncurry-this":141}],149:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
var isCallable = require('../internals/is-callable');
var store = require('../internals/shared-store');
var functionToString = uncurryThis(Function.toString);

// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
if (!isCallable(store.inspectSource)) {
  store.inspectSource = function (it) {
    return functionToString(it);
  };
}
module.exports = store.inspectSource;
},{"../internals/function-uncurry-this":141,"../internals/is-callable":151,"../internals/shared-store":171}],150:[function(require,module,exports){
'use strict';

var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');
var globalThis = require('../internals/global-this');
var isObject = require('../internals/is-object');
var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');
var hasOwn = require('../internals/has-own-property');
var shared = require('../internals/shared-store');
var sharedKey = require('../internals/shared-key');
var hiddenKeys = require('../internals/hidden-keys');
var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
var TypeError = globalThis.TypeError;
var WeakMap = globalThis.WeakMap;
var set, get, has;
var enforce = function enforce(it) {
  return has(it) ? get(it) : set(it, {});
};
var getterFor = function getterFor(TYPE) {
  return function (it) {
    var state;
    if (!isObject(it) || (state = get(it)).type !== TYPE) {
      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');
    }
    return state;
  };
};
if (NATIVE_WEAK_MAP || shared.state) {
  var store = shared.state || (shared.state = new WeakMap());
  /* eslint-disable no-self-assign -- prototype methods protection */
  store.get = store.get;
  store.has = store.has;
  store.set = store.set;
  /* eslint-enable no-self-assign -- prototype methods protection */
  set = function set(it, metadata) {
    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    store.set(it, metadata);
    return metadata;
  };
  get = function get(it) {
    return store.get(it) || {};
  };
  has = function has(it) {
    return store.has(it);
  };
} else {
  var STATE = sharedKey('state');
  hiddenKeys[STATE] = true;
  set = function set(it, metadata) {
    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    createNonEnumerableProperty(it, STATE, metadata);
    return metadata;
  };
  get = function get(it) {
    return hasOwn(it, STATE) ? it[STATE] : {};
  };
  has = function has(it) {
    return hasOwn(it, STATE);
  };
}
module.exports = {
  set: set,
  get: get,
  has: has,
  enforce: enforce,
  getterFor: getterFor
};
},{"../internals/create-non-enumerable-property":126,"../internals/global-this":144,"../internals/has-own-property":145,"../internals/hidden-keys":146,"../internals/is-object":154,"../internals/shared-key":170,"../internals/shared-store":171,"../internals/weak-map-basic-detection":187}],151:[function(require,module,exports){
'use strict';

// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var documentAll = (typeof document === "undefined" ? "undefined" : (0, _typeof2["default"])(document)) == 'object' && document.all;

// `IsCallable` abstract operation
// https://tc39.es/ecma262/#sec-iscallable
// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing
module.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {
  return typeof argument == 'function' || argument === documentAll;
} : function (argument) {
  return typeof argument == 'function';
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],152:[function(require,module,exports){
'use strict';

var fails = require('../internals/fails');
var isCallable = require('../internals/is-callable');
var replacement = /#|\.prototype\./;
var isForced = function isForced(feature, detection) {
  var value = data[normalize(feature)];
  return value === POLYFILL ? true : value === NATIVE ? false : isCallable(detection) ? fails(detection) : !!detection;
};
var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};
var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';
module.exports = isForced;
},{"../internals/fails":137,"../internals/is-callable":151}],153:[function(require,module,exports){
'use strict';

// we can't use just `it == null` since of `document.all` special case
// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
module.exports = function (it) {
  return it === null || it === undefined;
};
},{}],154:[function(require,module,exports){
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var isCallable = require('../internals/is-callable');
module.exports = function (it) {
  return (0, _typeof2["default"])(it) == 'object' ? it !== null : isCallable(it);
};
},{"../internals/is-callable":151,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],155:[function(require,module,exports){
'use strict';

module.exports = false;
},{}],156:[function(require,module,exports){
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var getBuiltIn = require('../internals/get-built-in');
var isCallable = require('../internals/is-callable');
var isPrototypeOf = require('../internals/object-is-prototype-of');
var USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');
var $Object = Object;
module.exports = USE_SYMBOL_AS_UID ? function (it) {
  return (0, _typeof2["default"])(it) == 'symbol';
} : function (it) {
  var $Symbol = getBuiltIn('Symbol');
  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
};
},{"../internals/get-built-in":142,"../internals/is-callable":151,"../internals/object-is-prototype-of":164,"../internals/use-symbol-as-uid":185,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],157:[function(require,module,exports){
'use strict';

var toLength = require('../internals/to-length');

// `LengthOfArrayLike` abstract operation
// https://tc39.es/ecma262/#sec-lengthofarraylike
module.exports = function (obj) {
  return toLength(obj.length);
};
},{"../internals/to-length":177}],158:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
var fails = require('../internals/fails');
var isCallable = require('../internals/is-callable');
var hasOwn = require('../internals/has-own-property');
var DESCRIPTORS = require('../internals/descriptors');
var CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;
var inspectSource = require('../internals/inspect-source');
var InternalStateModule = require('../internals/internal-state');
var enforceInternalState = InternalStateModule.enforce;
var getInternalState = InternalStateModule.get;
var $String = String;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;
var stringSlice = uncurryThis(''.slice);
var replace = uncurryThis(''.replace);
var join = uncurryThis([].join);
var CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {
  return defineProperty(function () {/* empty */}, 'length', {
    value: 8
  }).length !== 8;
});
var TEMPLATE = String(String).split('String');
var makeBuiltIn = module.exports = function (value, name, options) {
  if (stringSlice($String(name), 0, 7) === 'Symbol(') {
    name = '[' + replace($String(name), /^Symbol\(([^)]*)\).*$/, '$1') + ']';
  }
  if (options && options.getter) name = 'get ' + name;
  if (options && options.setter) name = 'set ' + name;
  if (!hasOwn(value, 'name') || CONFIGURABLE_FUNCTION_NAME && value.name !== name) {
    if (DESCRIPTORS) defineProperty(value, 'name', {
      value: name,
      configurable: true
    });else value.name = name;
  }
  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {
    defineProperty(value, 'length', {
      value: options.arity
    });
  }
  try {
    if (options && hasOwn(options, 'constructor') && options.constructor) {
      if (DESCRIPTORS) defineProperty(value, 'prototype', {
        writable: false
      });
      // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable
    } else if (value.prototype) value.prototype = undefined;
  } catch (error) {/* empty */}
  var state = enforceInternalState(value);
  if (!hasOwn(state, 'source')) {
    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');
  }
  return value;
};

// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
// eslint-disable-next-line no-extend-native -- required
Function.prototype.toString = makeBuiltIn(function toString() {
  return isCallable(this) && getInternalState(this).source || inspectSource(this);
}, 'toString');
},{"../internals/descriptors":130,"../internals/fails":137,"../internals/function-name":140,"../internals/function-uncurry-this":141,"../internals/has-own-property":145,"../internals/inspect-source":149,"../internals/internal-state":150,"../internals/is-callable":151}],159:[function(require,module,exports){
'use strict';

var ceil = Math.ceil;
var floor = Math.floor;

// `Math.trunc` method
// https://tc39.es/ecma262/#sec-math.trunc
// eslint-disable-next-line es/no-math-trunc -- safe
module.exports = Math.trunc || function trunc(x) {
  var n = +x;
  return (n > 0 ? floor : ceil)(n);
};
},{}],160:[function(require,module,exports){
'use strict';

var DESCRIPTORS = require('../internals/descriptors');
var IE8_DOM_DEFINE = require('../internals/ie8-dom-define');
var V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');
var anObject = require('../internals/an-object');
var toPropertyKey = require('../internals/to-property-key');
var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var $defineProperty = Object.defineProperty;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var ENUMERABLE = 'enumerable';
var CONFIGURABLE = 'configurable';
var WRITABLE = 'writable';

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
exports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
    var current = $getOwnPropertyDescriptor(O, P);
    if (current && current[WRITABLE]) {
      O[P] = Attributes.value;
      Attributes = {
        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
        writable: false
      };
    }
  }
  return $defineProperty(O, P, Attributes);
} : $defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return $defineProperty(O, P, Attributes);
  } catch (error) {/* empty */}
  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};
},{"../internals/an-object":121,"../internals/descriptors":130,"../internals/ie8-dom-define":147,"../internals/to-property-key":180,"../internals/v8-prototype-define-bug":186}],161:[function(require,module,exports){
'use strict';

var DESCRIPTORS = require('../internals/descriptors');
var call = require('../internals/function-call');
var propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');
var createPropertyDescriptor = require('../internals/create-property-descriptor');
var toIndexedObject = require('../internals/to-indexed-object');
var toPropertyKey = require('../internals/to-property-key');
var hasOwn = require('../internals/has-own-property');
var IE8_DOM_DEFINE = require('../internals/ie8-dom-define');

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
  O = toIndexedObject(O);
  P = toPropertyKey(P);
  if (IE8_DOM_DEFINE) try {
    return $getOwnPropertyDescriptor(O, P);
  } catch (error) {/* empty */}
  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);
};
},{"../internals/create-property-descriptor":127,"../internals/descriptors":130,"../internals/function-call":139,"../internals/has-own-property":145,"../internals/ie8-dom-define":147,"../internals/object-property-is-enumerable":166,"../internals/to-indexed-object":175,"../internals/to-property-key":180}],162:[function(require,module,exports){
'use strict';

var internalObjectKeys = require('../internals/object-keys-internal');
var enumBugKeys = require('../internals/enum-bug-keys');
var hiddenKeys = enumBugKeys.concat('length', 'prototype');

// `Object.getOwnPropertyNames` method
// https://tc39.es/ecma262/#sec-object.getownpropertynames
// eslint-disable-next-line es/no-object-getownpropertynames -- safe
exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return internalObjectKeys(O, hiddenKeys);
};
},{"../internals/enum-bug-keys":133,"../internals/object-keys-internal":165}],163:[function(require,module,exports){
'use strict';

// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
exports.f = Object.getOwnPropertySymbols;
},{}],164:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
module.exports = uncurryThis({}.isPrototypeOf);
},{"../internals/function-uncurry-this":141}],165:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
var hasOwn = require('../internals/has-own-property');
var toIndexedObject = require('../internals/to-indexed-object');
var indexOf = require('../internals/array-includes').indexOf;
var hiddenKeys = require('../internals/hidden-keys');
var push = uncurryThis([].push);
module.exports = function (object, names) {
  var O = toIndexedObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (hasOwn(O, key = names[i++])) {
    ~indexOf(result, key) || push(result, key);
  }
  return result;
};
},{"../internals/array-includes":122,"../internals/function-uncurry-this":141,"../internals/has-own-property":145,"../internals/hidden-keys":146,"../internals/to-indexed-object":175}],166:[function(require,module,exports){
'use strict';

var $propertyIsEnumerable = {}.propertyIsEnumerable;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Nashorn ~ JDK8 bug
var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({
  1: 2
}, 1);

// `Object.prototype.propertyIsEnumerable` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
  var descriptor = getOwnPropertyDescriptor(this, V);
  return !!descriptor && descriptor.enumerable;
} : $propertyIsEnumerable;
},{}],167:[function(require,module,exports){
'use strict';

var call = require('../internals/function-call');
var isCallable = require('../internals/is-callable');
var isObject = require('../internals/is-object');
var $TypeError = TypeError;

// `OrdinaryToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-ordinarytoprimitive
module.exports = function (input, pref) {
  var fn, val;
  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;
  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  throw new $TypeError("Can't convert object to primitive value");
};
},{"../internals/function-call":139,"../internals/is-callable":151,"../internals/is-object":154}],168:[function(require,module,exports){
'use strict';

var getBuiltIn = require('../internals/get-built-in');
var uncurryThis = require('../internals/function-uncurry-this');
var getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');
var getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');
var anObject = require('../internals/an-object');
var concat = uncurryThis([].concat);

// all object keys, includes non-enumerable and symbols
module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {
  var keys = getOwnPropertyNamesModule.f(anObject(it));
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;
};
},{"../internals/an-object":121,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/object-get-own-property-names":162,"../internals/object-get-own-property-symbols":163}],169:[function(require,module,exports){
'use strict';

var isNullOrUndefined = require('../internals/is-null-or-undefined');
var $TypeError = TypeError;

// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
module.exports = function (it) {
  if (isNullOrUndefined(it)) throw new $TypeError("Can't call method on " + it);
  return it;
};
},{"../internals/is-null-or-undefined":153}],170:[function(require,module,exports){
'use strict';

var shared = require('../internals/shared');
var uid = require('../internals/uid');
var keys = shared('keys');
module.exports = function (key) {
  return keys[key] || (keys[key] = uid(key));
};
},{"../internals/shared":172,"../internals/uid":184}],171:[function(require,module,exports){
'use strict';

var IS_PURE = require('../internals/is-pure');
var globalThis = require('../internals/global-this');
var defineGlobalProperty = require('../internals/define-global-property');
var SHARED = '__core-js_shared__';
var store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});
(store.versions || (store.versions = [])).push({
  version: '3.44.0',
  mode: IS_PURE ? 'pure' : 'global',
  copyright: '© 2014-2025 Denis Pushkarev (zloirock.ru)',
  license: 'https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE',
  source: 'https://github.com/zloirock/core-js'
});
},{"../internals/define-global-property":129,"../internals/global-this":144,"../internals/is-pure":155}],172:[function(require,module,exports){
'use strict';

var store = require('../internals/shared-store');
module.exports = function (key, value) {
  return store[key] || (store[key] = value || {});
};
},{"../internals/shared-store":171}],173:[function(require,module,exports){
'use strict';

/* eslint-disable es/no-symbol -- required for testing */
var V8_VERSION = require('../internals/environment-v8-version');
var fails = require('../internals/fails');
var globalThis = require('../internals/global-this');
var $String = globalThis.String;

// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
module.exports = !!Object.getOwnPropertySymbols && !fails(function () {
  var symbol = Symbol('symbol detection');
  // Chrome 38 Symbol has incorrect toString conversion
  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,
  // of course, fail.
  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||
  // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
  !Symbol.sham && V8_VERSION && V8_VERSION < 41;
});
},{"../internals/environment-v8-version":135,"../internals/fails":137,"../internals/global-this":144}],174:[function(require,module,exports){
'use strict';

var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');
var max = Math.max;
var min = Math.min;

// Helper for a popular repeating case of the spec:
// Let integer be ? ToInteger(index).
// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
module.exports = function (index, length) {
  var integer = toIntegerOrInfinity(index);
  return integer < 0 ? max(integer + length, 0) : min(integer, length);
};
},{"../internals/to-integer-or-infinity":176}],175:[function(require,module,exports){
'use strict';

// toObject with fallback for non-array-like ES3 strings
var IndexedObject = require('../internals/indexed-object');
var requireObjectCoercible = require('../internals/require-object-coercible');
module.exports = function (it) {
  return IndexedObject(requireObjectCoercible(it));
};
},{"../internals/indexed-object":148,"../internals/require-object-coercible":169}],176:[function(require,module,exports){
'use strict';

var trunc = require('../internals/math-trunc');

// `ToIntegerOrInfinity` abstract operation
// https://tc39.es/ecma262/#sec-tointegerorinfinity
module.exports = function (argument) {
  var number = +argument;
  // eslint-disable-next-line no-self-compare -- NaN check
  return number !== number || number === 0 ? 0 : trunc(number);
};
},{"../internals/math-trunc":159}],177:[function(require,module,exports){
'use strict';

var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');
var min = Math.min;

// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
module.exports = function (argument) {
  var len = toIntegerOrInfinity(argument);
  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
};
},{"../internals/to-integer-or-infinity":176}],178:[function(require,module,exports){
'use strict';

var requireObjectCoercible = require('../internals/require-object-coercible');
var $Object = Object;

// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
module.exports = function (argument) {
  return $Object(requireObjectCoercible(argument));
};
},{"../internals/require-object-coercible":169}],179:[function(require,module,exports){
'use strict';

var call = require('../internals/function-call');
var isObject = require('../internals/is-object');
var isSymbol = require('../internals/is-symbol');
var getMethod = require('../internals/get-method');
var ordinaryToPrimitive = require('../internals/ordinary-to-primitive');
var wellKnownSymbol = require('../internals/well-known-symbol');
var $TypeError = TypeError;
var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
module.exports = function (input, pref) {
  if (!isObject(input) || isSymbol(input)) return input;
  var exoticToPrim = getMethod(input, TO_PRIMITIVE);
  var result;
  if (exoticToPrim) {
    if (pref === undefined) pref = 'default';
    result = call(exoticToPrim, input, pref);
    if (!isObject(result) || isSymbol(result)) return result;
    throw new $TypeError("Can't convert object to primitive value");
  }
  if (pref === undefined) pref = 'number';
  return ordinaryToPrimitive(input, pref);
};
},{"../internals/function-call":139,"../internals/get-method":143,"../internals/is-object":154,"../internals/is-symbol":156,"../internals/ordinary-to-primitive":167,"../internals/well-known-symbol":188}],180:[function(require,module,exports){
'use strict';

var toPrimitive = require('../internals/to-primitive');
var isSymbol = require('../internals/is-symbol');

// `ToPropertyKey` abstract operation
// https://tc39.es/ecma262/#sec-topropertykey
module.exports = function (argument) {
  var key = toPrimitive(argument, 'string');
  return isSymbol(key) ? key : key + '';
};
},{"../internals/is-symbol":156,"../internals/to-primitive":179}],181:[function(require,module,exports){
'use strict';

var wellKnownSymbol = require('../internals/well-known-symbol');
var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var test = {};
test[TO_STRING_TAG] = 'z';
module.exports = String(test) === '[object z]';
},{"../internals/well-known-symbol":188}],182:[function(require,module,exports){
'use strict';

var classof = require('../internals/classof');
var $String = String;
module.exports = function (argument) {
  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');
  return $String(argument);
};
},{"../internals/classof":124}],183:[function(require,module,exports){
'use strict';

var $String = String;
module.exports = function (argument) {
  try {
    return $String(argument);
  } catch (error) {
    return 'Object';
  }
};
},{}],184:[function(require,module,exports){
'use strict';

var uncurryThis = require('../internals/function-uncurry-this');
var id = 0;
var postfix = Math.random();
var toString = uncurryThis(1.1.toString);
module.exports = function (key) {
  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);
};
},{"../internals/function-uncurry-this":141}],185:[function(require,module,exports){
'use strict';

/* eslint-disable es/no-symbol -- required for testing */
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');
module.exports = NATIVE_SYMBOL && !Symbol.sham && (0, _typeof2["default"])(Symbol.iterator) == 'symbol';
},{"../internals/symbol-constructor-detection":173,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],186:[function(require,module,exports){
'use strict';

var DESCRIPTORS = require('../internals/descriptors');
var fails = require('../internals/fails');

// V8 ~ Chrome 36-
// https://bugs.chromium.org/p/v8/issues/detail?id=3334
module.exports = DESCRIPTORS && fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(function () {/* empty */}, 'prototype', {
    value: 42,
    writable: false
  }).prototype !== 42;
});
},{"../internals/descriptors":130,"../internals/fails":137}],187:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');
var isCallable = require('../internals/is-callable');
var WeakMap = globalThis.WeakMap;
module.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));
},{"../internals/global-this":144,"../internals/is-callable":151}],188:[function(require,module,exports){
'use strict';

var globalThis = require('../internals/global-this');
var shared = require('../internals/shared');
var hasOwn = require('../internals/has-own-property');
var uid = require('../internals/uid');
var NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');
var USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');
var _Symbol = globalThis.Symbol;
var WellKnownSymbolsStore = shared('wks');
var createWellKnownSymbol = USE_SYMBOL_AS_UID ? _Symbol['for'] || _Symbol : _Symbol && _Symbol.withoutSetter || uid;
module.exports = function (name) {
  if (!hasOwn(WellKnownSymbolsStore, name)) {
    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(_Symbol, name) ? _Symbol[name] : createWellKnownSymbol('Symbol.' + name);
  }
  return WellKnownSymbolsStore[name];
};
},{"../internals/global-this":144,"../internals/has-own-property":145,"../internals/shared":172,"../internals/symbol-constructor-detection":173,"../internals/uid":184,"../internals/use-symbol-as-uid":185}],189:[function(require,module,exports){
'use strict';

var $ = require('../internals/export');
var call = require('../internals/function-call');
var uncurryThis = require('../internals/function-uncurry-this');
var requireObjectCoercible = require('../internals/require-object-coercible');
var toString = require('../internals/to-string');
var fails = require('../internals/fails');
var $Array = Array;
var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var join = uncurryThis([].join);
// eslint-disable-next-line es/no-string-prototype-towellformed -- safe
var $toWellFormed = ''.toWellFormed;
var REPLACEMENT_CHARACTER = "\uFFFD";

// Safari bug
var TO_STRING_CONVERSION_BUG = $toWellFormed && fails(function () {
  return call($toWellFormed, 1) !== '1';
});

// `String.prototype.toWellFormed` method
// https://tc39.es/ecma262/#sec-string.prototype.towellformed
$({
  target: 'String',
  proto: true,
  forced: TO_STRING_CONVERSION_BUG
}, {
  toWellFormed: function toWellFormed() {
    var S = toString(requireObjectCoercible(this));
    if (TO_STRING_CONVERSION_BUG) return call($toWellFormed, S);
    var length = S.length;
    var result = $Array(length);
    for (var i = 0; i < length; i++) {
      var charCode = charCodeAt(S, i);
      // single UTF-16 code unit
      if ((charCode & 0xF800) !== 0xD800) result[i] = charAt(S, i);
      // unpaired surrogate
      else if (charCode >= 0xDC00 || i + 1 >= length || (charCodeAt(S, i + 1) & 0xFC00) !== 0xDC00) result[i] = REPLACEMENT_CHARACTER;
      // surrogate pair
      else {
        result[i] = charAt(S, i);
        result[++i] = charAt(S, i);
      }
    }
    return join(result, '');
  }
});
},{"../internals/export":136,"../internals/fails":137,"../internals/function-call":139,"../internals/function-uncurry-this":141,"../internals/require-object-coercible":169,"../internals/to-string":182}],190:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: !0
}), exports["default"] = dedent;
function dedent(a) {
  for (var b = "string" == typeof a ? [a] : a.raw, c = "", d = 0; d < b.length; d++) if (c += b[d].replace(/\\\n[ \t]*/g, "").replace(/\\`/g, "`").replace(/\\\$/g, "$").replace(/\\\{/g, "{"), d < (1 >= arguments.length ? 0 : arguments.length - 1)) {
    var e = c.substring(c.lastIndexOf("\n") + 1),
      f = e.match(/^(\s*)\S?/);
    c += ((1 > d + 1 || arguments.length <= d + 1 ? void 0 : arguments[d + 1]) + "").replace(/\n/g, "\n" + f[1]);
  }
  var g = c.split("\n"),
    h = null;
  if (g.forEach(function (a) {
    var b = Math.min,
      c = a.match(/^(\s+)\S+/);
    if (c) {
      var d = c[1].length;
      h = h ? b(h, d) : d;
    }
  }), null !== h) {
    var j = h;
    c = g.map(function (a) {
      return " " === a[0] || "\t" === a[0] ? a.slice(j) : a;
    }).join("\n");
  }
  return c.trim().replace(/\\n/g, "\n");
}
},{}],191:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.exprEval = {}));
})(void 0, function (exports) {
  'use strict';

  var INUMBER = 'INUMBER';
  var IOP1 = 'IOP1';
  var IOP2 = 'IOP2';
  var IOP3 = 'IOP3';
  var IVAR = 'IVAR';
  var IVARNAME = 'IVARNAME';
  var IFUNCALL = 'IFUNCALL';
  var IFUNDEF = 'IFUNDEF';
  var IEXPR = 'IEXPR';
  var IEXPREVAL = 'IEXPREVAL';
  var IMEMBER = 'IMEMBER';
  var IENDSTATEMENT = 'IENDSTATEMENT';
  var IARRAY = 'IARRAY';
  function Instruction(type, value) {
    this.type = type;
    this.value = value !== undefined && value !== null ? value : 0;
  }
  Instruction.prototype.toString = function () {
    switch (this.type) {
      case INUMBER:
      case IOP1:
      case IOP2:
      case IOP3:
      case IVAR:
      case IVARNAME:
      case IENDSTATEMENT:
        return this.value;
      case IFUNCALL:
        return 'CALL ' + this.value;
      case IFUNDEF:
        return 'DEF ' + this.value;
      case IARRAY:
        return 'ARRAY ' + this.value;
      case IMEMBER:
        return '.' + this.value;
      default:
        return 'Invalid Instruction';
    }
  };
  function unaryInstruction(value) {
    return new Instruction(IOP1, value);
  }
  function binaryInstruction(value) {
    return new Instruction(IOP2, value);
  }
  function ternaryInstruction(value) {
    return new Instruction(IOP3, value);
  }
  function simplify(tokens, unaryOps, binaryOps, ternaryOps, values) {
    var nstack = [];
    var newexpression = [];
    var n1, n2, n3;
    var f;
    for (var i = 0; i < tokens.length; i++) {
      var item = tokens[i];
      var type = item.type;
      if (type === INUMBER || type === IVARNAME) {
        if (Array.isArray(item.value)) {
          nstack.push.apply(nstack, simplify(item.value.map(function (x) {
            return new Instruction(INUMBER, x);
          }).concat(new Instruction(IARRAY, item.value.length)), unaryOps, binaryOps, ternaryOps, values));
        } else {
          nstack.push(item);
        }
      } else if (type === IVAR && values.hasOwnProperty(item.value)) {
        item = new Instruction(INUMBER, values[item.value]);
        nstack.push(item);
      } else if (type === IOP2 && nstack.length > 1) {
        n2 = nstack.pop();
        n1 = nstack.pop();
        f = binaryOps[item.value];
        item = new Instruction(INUMBER, f(n1.value, n2.value));
        nstack.push(item);
      } else if (type === IOP3 && nstack.length > 2) {
        n3 = nstack.pop();
        n2 = nstack.pop();
        n1 = nstack.pop();
        if (item.value === '?') {
          nstack.push(n1.value ? n2.value : n3.value);
        } else {
          f = ternaryOps[item.value];
          item = new Instruction(INUMBER, f(n1.value, n2.value, n3.value));
          nstack.push(item);
        }
      } else if (type === IOP1 && nstack.length > 0) {
        n1 = nstack.pop();
        f = unaryOps[item.value];
        item = new Instruction(INUMBER, f(n1.value));
        nstack.push(item);
      } else if (type === IEXPR) {
        while (nstack.length > 0) {
          newexpression.push(nstack.shift());
        }
        newexpression.push(new Instruction(IEXPR, simplify(item.value, unaryOps, binaryOps, ternaryOps, values)));
      } else if (type === IMEMBER && nstack.length > 0) {
        n1 = nstack.pop();
        nstack.push(new Instruction(INUMBER, n1.value[item.value]));
      } /* else if (type === IARRAY && nstack.length >= item.value) {
        var length = item.value;
        while (length-- > 0) {
          newexpression.push(nstack.pop());
        }
        newexpression.push(new Instruction(IARRAY, item.value));
        } */else {
        while (nstack.length > 0) {
          newexpression.push(nstack.shift());
        }
        newexpression.push(item);
      }
    }
    while (nstack.length > 0) {
      newexpression.push(nstack.shift());
    }
    return newexpression;
  }
  function substitute(tokens, variable, expr) {
    var newexpression = [];
    for (var i = 0; i < tokens.length; i++) {
      var item = tokens[i];
      var type = item.type;
      if (type === IVAR && item.value === variable) {
        for (var j = 0; j < expr.tokens.length; j++) {
          var expritem = expr.tokens[j];
          var replitem;
          if (expritem.type === IOP1) {
            replitem = unaryInstruction(expritem.value);
          } else if (expritem.type === IOP2) {
            replitem = binaryInstruction(expritem.value);
          } else if (expritem.type === IOP3) {
            replitem = ternaryInstruction(expritem.value);
          } else {
            replitem = new Instruction(expritem.type, expritem.value);
          }
          newexpression.push(replitem);
        }
      } else if (type === IEXPR) {
        newexpression.push(new Instruction(IEXPR, substitute(item.value, variable, expr)));
      } else {
        newexpression.push(item);
      }
    }
    return newexpression;
  }
  function evaluate(tokens, expr, values) {
    var nstack = [];
    var n1, n2, n3;
    var f, args, argCount;
    if (isExpressionEvaluator(tokens)) {
      return resolveExpression(tokens, values);
    }
    var numTokens = tokens.length;
    for (var i = 0; i < numTokens; i++) {
      var item = tokens[i];
      var type = item.type;
      if (type === INUMBER || type === IVARNAME) {
        nstack.push(item.value);
      } else if (type === IOP2) {
        n2 = nstack.pop();
        n1 = nstack.pop();
        if (item.value === 'and') {
          nstack.push(n1 ? !!evaluate(n2, expr, values) : false);
        } else if (item.value === 'or') {
          nstack.push(n1 ? true : !!evaluate(n2, expr, values));
        } else if (item.value === '=') {
          f = expr.binaryOps[item.value];
          nstack.push(f(n1, evaluate(n2, expr, values), values));
        } else {
          f = expr.binaryOps[item.value];
          nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values)));
        }
      } else if (type === IOP3) {
        n3 = nstack.pop();
        n2 = nstack.pop();
        n1 = nstack.pop();
        if (item.value === '?') {
          nstack.push(evaluate(n1 ? n2 : n3, expr, values));
        } else {
          f = expr.ternaryOps[item.value];
          nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values), resolveExpression(n3, values)));
        }
      } else if (type === IVAR) {
        if (item.value in expr.functions) {
          nstack.push(expr.functions[item.value]);
        } else if (item.value in expr.unaryOps && expr.parser.isOperatorEnabled(item.value)) {
          nstack.push(expr.unaryOps[item.value]);
        } else {
          var v = values[item.value];
          if (v !== undefined) {
            nstack.push(v);
          } else {
            throw new Error('undefined variable: ' + item.value);
          }
        }
      } else if (type === IOP1) {
        n1 = nstack.pop();
        f = expr.unaryOps[item.value];
        nstack.push(f(resolveExpression(n1, values)));
      } else if (type === IFUNCALL) {
        argCount = item.value;
        args = [];
        while (argCount-- > 0) {
          args.unshift(resolveExpression(nstack.pop(), values));
        }
        f = nstack.pop();
        if (f.apply && f.call) {
          nstack.push(f.apply(undefined, args));
        } else {
          throw new Error(f + ' is not a function');
        }
      } else if (type === IFUNDEF) {
        // Create closure to keep references to arguments and expression
        nstack.push(function () {
          var n2 = nstack.pop();
          var args = [];
          var argCount = item.value;
          while (argCount-- > 0) {
            args.unshift(nstack.pop());
          }
          var n1 = nstack.pop();
          var f = function f() {
            var scope = Object.assign({}, values);
            for (var i = 0, len = args.length; i < len; i++) {
              scope[args[i]] = arguments[i];
            }
            return evaluate(n2, expr, scope);
          };
          // f.name = n1
          Object.defineProperty(f, 'name', {
            value: n1,
            writable: false
          });
          values[n1] = f;
          return f;
        }());
      } else if (type === IEXPR) {
        nstack.push(createExpressionEvaluator(item, expr));
      } else if (type === IEXPREVAL) {
        nstack.push(item);
      } else if (type === IMEMBER) {
        n1 = nstack.pop();
        nstack.push(n1[item.value]);
      } else if (type === IENDSTATEMENT) {
        nstack.pop();
      } else if (type === IARRAY) {
        argCount = item.value;
        args = [];
        while (argCount-- > 0) {
          args.unshift(nstack.pop());
        }
        nstack.push(args);
      } else {
        throw new Error('invalid Expression');
      }
    }
    if (nstack.length > 1) {
      throw new Error('invalid Expression (parity)');
    }
    // Explicitly return zero to avoid test issues caused by -0
    return nstack[0] === 0 ? 0 : resolveExpression(nstack[0], values);
  }
  function createExpressionEvaluator(token, expr, values) {
    if (isExpressionEvaluator(token)) return token;
    return {
      type: IEXPREVAL,
      value: function value(scope) {
        return evaluate(token.value, expr, scope);
      }
    };
  }
  function isExpressionEvaluator(n) {
    return n && n.type === IEXPREVAL;
  }
  function resolveExpression(n, values) {
    return isExpressionEvaluator(n) ? n.value(values) : n;
  }
  function expressionToString(tokens, toJS) {
    var nstack = [];
    var n1, n2, n3;
    var f, args, argCount;
    for (var i = 0; i < tokens.length; i++) {
      var item = tokens[i];
      var type = item.type;
      if (type === INUMBER) {
        if (typeof item.value === 'number' && item.value < 0) {
          nstack.push('(' + item.value + ')');
        } else if (Array.isArray(item.value)) {
          nstack.push('[' + item.value.map(escapeValue).join(', ') + ']');
        } else {
          nstack.push(escapeValue(item.value));
        }
      } else if (type === IOP2) {
        n2 = nstack.pop();
        n1 = nstack.pop();
        f = item.value;
        if (toJS) {
          if (f === '^') {
            nstack.push('Math.pow(' + n1 + ', ' + n2 + ')');
          } else if (f === 'and') {
            nstack.push('(!!' + n1 + ' && !!' + n2 + ')');
          } else if (f === 'or') {
            nstack.push('(!!' + n1 + ' || !!' + n2 + ')');
          } else if (f === '||') {
            nstack.push('(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }((' + n1 + '),(' + n2 + ')))');
          } else if (f === '==') {
            nstack.push('(' + n1 + ' === ' + n2 + ')');
          } else if (f === '!=') {
            nstack.push('(' + n1 + ' !== ' + n2 + ')');
          } else if (f === '[') {
            nstack.push(n1 + '[(' + n2 + ') | 0]');
          } else {
            nstack.push('(' + n1 + ' ' + f + ' ' + n2 + ')');
          }
        } else {
          if (f === '[') {
            nstack.push(n1 + '[' + n2 + ']');
          } else {
            nstack.push('(' + n1 + ' ' + f + ' ' + n2 + ')');
          }
        }
      } else if (type === IOP3) {
        n3 = nstack.pop();
        n2 = nstack.pop();
        n1 = nstack.pop();
        f = item.value;
        if (f === '?') {
          nstack.push('(' + n1 + ' ? ' + n2 + ' : ' + n3 + ')');
        } else {
          throw new Error('invalid Expression');
        }
      } else if (type === IVAR || type === IVARNAME) {
        nstack.push(item.value);
      } else if (type === IOP1) {
        n1 = nstack.pop();
        f = item.value;
        if (f === '-' || f === '+') {
          nstack.push('(' + f + n1 + ')');
        } else if (toJS) {
          if (f === 'not') {
            nstack.push('(' + '!' + n1 + ')');
          } else if (f === '!') {
            nstack.push('fac(' + n1 + ')');
          } else {
            nstack.push(f + '(' + n1 + ')');
          }
        } else if (f === '!') {
          nstack.push('(' + n1 + '!)');
        } else {
          nstack.push('(' + f + ' ' + n1 + ')');
        }
      } else if (type === IFUNCALL) {
        argCount = item.value;
        args = [];
        while (argCount-- > 0) {
          args.unshift(nstack.pop());
        }
        f = nstack.pop();
        nstack.push(f + '(' + args.join(', ') + ')');
      } else if (type === IFUNDEF) {
        n2 = nstack.pop();
        argCount = item.value;
        args = [];
        while (argCount-- > 0) {
          args.unshift(nstack.pop());
        }
        n1 = nstack.pop();
        if (toJS) {
          nstack.push('(' + n1 + ' = function(' + args.join(', ') + ') { return ' + n2 + ' })');
        } else {
          nstack.push('(' + n1 + '(' + args.join(', ') + ') = ' + n2 + ')');
        }
      } else if (type === IMEMBER) {
        n1 = nstack.pop();
        nstack.push(n1 + '.' + item.value);
      } else if (type === IARRAY) {
        argCount = item.value;
        args = [];
        while (argCount-- > 0) {
          args.unshift(nstack.pop());
        }
        nstack.push('[' + args.join(', ') + ']');
      } else if (type === IEXPR) {
        nstack.push('(' + expressionToString(item.value, toJS) + ')');
      } else if (type === IENDSTATEMENT) ;else {
        throw new Error('invalid Expression');
      }
    }
    if (nstack.length > 1) {
      if (toJS) {
        nstack = [nstack.join(',')];
      } else {
        nstack = [nstack.join(';')];
      }
    }
    return String(nstack[0]);
  }
  function escapeValue(v) {
    if (typeof v === 'string') {
      return JSON.stringify(v).replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029");
    }
    return v;
  }
  function contains(array, obj) {
    for (var i = 0; i < array.length; i++) {
      if (array[i] === obj) {
        return true;
      }
    }
    return false;
  }
  function getSymbols(tokens, symbols, options) {
    options = options || {};
    var withMembers = !!options.withMembers;
    var prevVar = null;
    for (var i = 0; i < tokens.length; i++) {
      var item = tokens[i];
      if (item.type === IVAR || item.type === IVARNAME) {
        if (!withMembers && !contains(symbols, item.value)) {
          symbols.push(item.value);
        } else if (prevVar !== null) {
          if (!contains(symbols, prevVar)) {
            symbols.push(prevVar);
          }
          prevVar = item.value;
        } else {
          prevVar = item.value;
        }
      } else if (item.type === IMEMBER && withMembers && prevVar !== null) {
        prevVar += '.' + item.value;
      } else if (item.type === IEXPR) {
        getSymbols(item.value, symbols, options);
      } else if (prevVar !== null) {
        if (!contains(symbols, prevVar)) {
          symbols.push(prevVar);
        }
        prevVar = null;
      }
    }
    if (prevVar !== null && !contains(symbols, prevVar)) {
      symbols.push(prevVar);
    }
  }
  function Expression(tokens, parser) {
    this.tokens = tokens;
    this.parser = parser;
    this.unaryOps = parser.unaryOps;
    this.binaryOps = parser.binaryOps;
    this.ternaryOps = parser.ternaryOps;
    this.functions = parser.functions;
  }
  Expression.prototype.simplify = function (values) {
    values = values || {};
    return new Expression(simplify(this.tokens, this.unaryOps, this.binaryOps, this.ternaryOps, values), this.parser);
  };
  Expression.prototype.substitute = function (variable, expr) {
    if (!(expr instanceof Expression)) {
      expr = this.parser.parse(String(expr));
    }
    return new Expression(substitute(this.tokens, variable, expr), this.parser);
  };
  Expression.prototype.evaluate = function (values) {
    values = values || {};
    return evaluate(this.tokens, this, values);
  };
  Expression.prototype.toString = function () {
    return expressionToString(this.tokens, false);
  };
  Expression.prototype.symbols = function (options) {
    options = options || {};
    var vars = [];
    getSymbols(this.tokens, vars, options);
    return vars;
  };
  Expression.prototype.variables = function (options) {
    options = options || {};
    var vars = [];
    getSymbols(this.tokens, vars, options);
    var functions = this.functions;
    return vars.filter(function (name) {
      return !(name in functions);
    });
  };
  Expression.prototype.toJSFunction = function (param, variables) {
    var expr = this;
    var f = new Function(param, 'with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return ' + expressionToString(this.simplify(variables).tokens, true) + '; }'); // eslint-disable-line no-new-func
    return function () {
      return f.apply(expr, arguments);
    };
  };
  var TEOF = 'TEOF';
  var TOP = 'TOP';
  var TNUMBER = 'TNUMBER';
  var TSTRING = 'TSTRING';
  var TPAREN = 'TPAREN';
  var TBRACKET = 'TBRACKET';
  var TCOMMA = 'TCOMMA';
  var TNAME = 'TNAME';
  var TSEMICOLON = 'TSEMICOLON';
  function Token(type, value, index) {
    this.type = type;
    this.value = value;
    this.index = index;
  }
  Token.prototype.toString = function () {
    return this.type + ': ' + this.value;
  };
  function TokenStream(parser, expression) {
    this.pos = 0;
    this.current = null;
    this.unaryOps = parser.unaryOps;
    this.binaryOps = parser.binaryOps;
    this.ternaryOps = parser.ternaryOps;
    this.consts = parser.consts;
    this.expression = expression;
    this.savedPosition = 0;
    this.savedCurrent = null;
    this.options = parser.options;
    this.parser = parser;
  }
  TokenStream.prototype.newToken = function (type, value, pos) {
    return new Token(type, value, pos != null ? pos : this.pos);
  };
  TokenStream.prototype.save = function () {
    this.savedPosition = this.pos;
    this.savedCurrent = this.current;
  };
  TokenStream.prototype.restore = function () {
    this.pos = this.savedPosition;
    this.current = this.savedCurrent;
  };
  TokenStream.prototype.next = function () {
    if (this.pos >= this.expression.length) {
      return this.newToken(TEOF, 'EOF');
    }
    if (this.isWhitespace() || this.isComment()) {
      return this.next();
    } else if (this.isRadixInteger() || this.isNumber() || this.isOperator() || this.isString() || this.isParen() || this.isBracket() || this.isComma() || this.isSemicolon() || this.isNamedOp() || this.isConst() || this.isName()) {
      return this.current;
    } else {
      this.parseError('Unknown character "' + this.expression.charAt(this.pos) + '"');
    }
  };
  TokenStream.prototype.isString = function () {
    var r = false;
    var startPos = this.pos;
    var quote = this.expression.charAt(startPos);
    if (quote === '\'' || quote === '"') {
      var index = this.expression.indexOf(quote, startPos + 1);
      while (index >= 0 && this.pos < this.expression.length) {
        this.pos = index + 1;
        if (this.expression.charAt(index - 1) !== '\\') {
          var rawString = this.expression.substring(startPos + 1, index);
          this.current = this.newToken(TSTRING, this.unescape(rawString), startPos);
          r = true;
          break;
        }
        index = this.expression.indexOf(quote, index + 1);
      }
    }
    return r;
  };
  TokenStream.prototype.isParen = function () {
    var c = this.expression.charAt(this.pos);
    if (c === '(' || c === ')') {
      this.current = this.newToken(TPAREN, c);
      this.pos++;
      return true;
    }
    return false;
  };
  TokenStream.prototype.isBracket = function () {
    var c = this.expression.charAt(this.pos);
    if ((c === '[' || c === ']') && this.isOperatorEnabled('[')) {
      this.current = this.newToken(TBRACKET, c);
      this.pos++;
      return true;
    }
    return false;
  };
  TokenStream.prototype.isComma = function () {
    var c = this.expression.charAt(this.pos);
    if (c === ',') {
      this.current = this.newToken(TCOMMA, ',');
      this.pos++;
      return true;
    }
    return false;
  };
  TokenStream.prototype.isSemicolon = function () {
    var c = this.expression.charAt(this.pos);
    if (c === ';') {
      this.current = this.newToken(TSEMICOLON, ';');
      this.pos++;
      return true;
    }
    return false;
  };
  TokenStream.prototype.isConst = function () {
    var startPos = this.pos;
    var i = startPos;
    for (; i < this.expression.length; i++) {
      var c = this.expression.charAt(i);
      if (c.toUpperCase() === c.toLowerCase()) {
        if (i === this.pos || c !== '_' && c !== '.' && (c < '0' || c > '9')) {
          break;
        }
      }
    }
    if (i > startPos) {
      var str = this.expression.substring(startPos, i);
      if (str in this.consts) {
        this.current = this.newToken(TNUMBER, this.consts[str]);
        this.pos += str.length;
        return true;
      }
    }
    return false;
  };
  TokenStream.prototype.isNamedOp = function () {
    var startPos = this.pos;
    var i = startPos;
    for (; i < this.expression.length; i++) {
      var c = this.expression.charAt(i);
      if (c.toUpperCase() === c.toLowerCase()) {
        if (i === this.pos || c !== '_' && (c < '0' || c > '9')) {
          break;
        }
      }
    }
    if (i > startPos) {
      var str = this.expression.substring(startPos, i);
      if (this.isOperatorEnabled(str) && (str in this.binaryOps || str in this.unaryOps || str in this.ternaryOps)) {
        this.current = this.newToken(TOP, str);
        this.pos += str.length;
        return true;
      }
    }
    return false;
  };
  TokenStream.prototype.isName = function () {
    var startPos = this.pos;
    var i = startPos;
    var hasLetter = false;
    for (; i < this.expression.length; i++) {
      var c = this.expression.charAt(i);
      if (c.toUpperCase() === c.toLowerCase()) {
        if (i === this.pos && (c === '$' || c === '_')) {
          if (c === '_') {
            hasLetter = true;
          }
          continue;
        } else if (i === this.pos || !hasLetter || c !== '_' && (c < '0' || c > '9')) {
          break;
        }
      } else {
        hasLetter = true;
      }
    }
    if (hasLetter) {
      var str = this.expression.substring(startPos, i);
      this.current = this.newToken(TNAME, str);
      this.pos += str.length;
      return true;
    }
    return false;
  };
  TokenStream.prototype.isWhitespace = function () {
    var r = false;
    var c = this.expression.charAt(this.pos);
    while (c === ' ' || c === '\t' || c === '\n' || c === '\r') {
      r = true;
      this.pos++;
      if (this.pos >= this.expression.length) {
        break;
      }
      c = this.expression.charAt(this.pos);
    }
    return r;
  };
  var codePointPattern = /^[0-9a-f]{4}$/i;
  TokenStream.prototype.unescape = function (v) {
    var index = v.indexOf('\\');
    if (index < 0) {
      return v;
    }
    var buffer = v.substring(0, index);
    while (index >= 0) {
      var c = v.charAt(++index);
      switch (c) {
        case '\'':
          buffer += '\'';
          break;
        case '"':
          buffer += '"';
          break;
        case '\\':
          buffer += '\\';
          break;
        case '/':
          buffer += '/';
          break;
        case 'b':
          buffer += '\b';
          break;
        case 'f':
          buffer += '\f';
          break;
        case 'n':
          buffer += '\n';
          break;
        case 'r':
          buffer += '\r';
          break;
        case 't':
          buffer += '\t';
          break;
        case 'u':
          // interpret the following 4 characters as the hex of the unicode code point
          var codePoint = v.substring(index + 1, index + 5);
          if (!codePointPattern.test(codePoint)) {
            this.parseError("Illegal escape sequence: \\u" + codePoint);
          }
          buffer += String.fromCharCode(parseInt(codePoint, 16));
          index += 4;
          break;
        default:
          throw this.parseError('Illegal escape sequence: "\\' + c + '"');
      }
      ++index;
      var backslash = v.indexOf('\\', index);
      buffer += v.substring(index, backslash < 0 ? v.length : backslash);
      index = backslash;
    }
    return buffer;
  };
  TokenStream.prototype.isComment = function () {
    var c = this.expression.charAt(this.pos);
    if (c === '/' && this.expression.charAt(this.pos + 1) === '*') {
      this.pos = this.expression.indexOf('*/', this.pos) + 2;
      if (this.pos === 1) {
        this.pos = this.expression.length;
      }
      return true;
    }
    return false;
  };
  TokenStream.prototype.isRadixInteger = function () {
    var pos = this.pos;
    if (pos >= this.expression.length - 2 || this.expression.charAt(pos) !== '0') {
      return false;
    }
    ++pos;
    var radix;
    var validDigit;
    if (this.expression.charAt(pos) === 'x') {
      radix = 16;
      validDigit = /^[0-9a-f]$/i;
      ++pos;
    } else if (this.expression.charAt(pos) === 'b') {
      radix = 2;
      validDigit = /^[01]$/i;
      ++pos;
    } else {
      return false;
    }
    var valid = false;
    var startPos = pos;
    while (pos < this.expression.length) {
      var c = this.expression.charAt(pos);
      if (validDigit.test(c)) {
        pos++;
        valid = true;
      } else {
        break;
      }
    }
    if (valid) {
      this.current = this.newToken(TNUMBER, parseInt(this.expression.substring(startPos, pos), radix));
      this.pos = pos;
    }
    return valid;
  };
  TokenStream.prototype.isNumber = function () {
    var valid = false;
    var pos = this.pos;
    var startPos = pos;
    var resetPos = pos;
    var foundDot = false;
    var foundDigits = false;
    var c;
    while (pos < this.expression.length) {
      c = this.expression.charAt(pos);
      if (c >= '0' && c <= '9' || !foundDot && c === '.') {
        if (c === '.') {
          foundDot = true;
        } else {
          foundDigits = true;
        }
        pos++;
        valid = foundDigits;
      } else {
        break;
      }
    }
    if (valid) {
      resetPos = pos;
    }
    if (c === 'e' || c === 'E') {
      pos++;
      var acceptSign = true;
      var validExponent = false;
      while (pos < this.expression.length) {
        c = this.expression.charAt(pos);
        if (acceptSign && (c === '+' || c === '-')) {
          acceptSign = false;
        } else if (c >= '0' && c <= '9') {
          validExponent = true;
          acceptSign = false;
        } else {
          break;
        }
        pos++;
      }
      if (!validExponent) {
        pos = resetPos;
      }
    }
    if (valid) {
      this.current = this.newToken(TNUMBER, parseFloat(this.expression.substring(startPos, pos)));
      this.pos = pos;
    } else {
      this.pos = resetPos;
    }
    return valid;
  };
  TokenStream.prototype.isOperator = function () {
    var startPos = this.pos;
    var c = this.expression.charAt(this.pos);
    if (c === '+' || c === '-' || c === '*' || c === '/' || c === '%' || c === '^' || c === '?' || c === ':' || c === '.') {
      this.current = this.newToken(TOP, c);
    } else if (c === '∙' || c === '•') {
      this.current = this.newToken(TOP, '*');
    } else if (c === '>') {
      if (this.expression.charAt(this.pos + 1) === '=') {
        this.current = this.newToken(TOP, '>=');
        this.pos++;
      } else {
        this.current = this.newToken(TOP, '>');
      }
    } else if (c === '<') {
      if (this.expression.charAt(this.pos + 1) === '=') {
        this.current = this.newToken(TOP, '<=');
        this.pos++;
      } else {
        this.current = this.newToken(TOP, '<');
      }
    } else if (c === '|') {
      if (this.expression.charAt(this.pos + 1) === '|') {
        this.current = this.newToken(TOP, '||');
        this.pos++;
      } else {
        return false;
      }
    } else if (c === '=') {
      if (this.expression.charAt(this.pos + 1) === '=') {
        this.current = this.newToken(TOP, '==');
        this.pos++;
      } else {
        this.current = this.newToken(TOP, c);
      }
    } else if (c === '!') {
      if (this.expression.charAt(this.pos + 1) === '=') {
        this.current = this.newToken(TOP, '!=');
        this.pos++;
      } else {
        this.current = this.newToken(TOP, c);
      }
    } else {
      return false;
    }
    this.pos++;
    if (this.isOperatorEnabled(this.current.value)) {
      return true;
    } else {
      this.pos = startPos;
      return false;
    }
  };
  TokenStream.prototype.isOperatorEnabled = function (op) {
    return this.parser.isOperatorEnabled(op);
  };
  TokenStream.prototype.getCoordinates = function () {
    var line = 0;
    var column;
    var newline = -1;
    do {
      line++;
      column = this.pos - newline;
      newline = this.expression.indexOf('\n', newline + 1);
    } while (newline >= 0 && newline < this.pos);
    return {
      line: line,
      column: column
    };
  };
  TokenStream.prototype.parseError = function (msg) {
    var coords = this.getCoordinates();
    throw new Error('parse error [' + coords.line + ':' + coords.column + ']: ' + msg);
  };
  function ParserState(parser, tokenStream, options) {
    this.parser = parser;
    this.tokens = tokenStream;
    this.current = null;
    this.nextToken = null;
    this.next();
    this.savedCurrent = null;
    this.savedNextToken = null;
    this.allowMemberAccess = options.allowMemberAccess !== false;
  }
  ParserState.prototype.next = function () {
    this.current = this.nextToken;
    return this.nextToken = this.tokens.next();
  };
  ParserState.prototype.tokenMatches = function (token, value) {
    if (typeof value === 'undefined') {
      return true;
    } else if (Array.isArray(value)) {
      return contains(value, token.value);
    } else if (typeof value === 'function') {
      return value(token);
    } else {
      return token.value === value;
    }
  };
  ParserState.prototype.save = function () {
    this.savedCurrent = this.current;
    this.savedNextToken = this.nextToken;
    this.tokens.save();
  };
  ParserState.prototype.restore = function () {
    this.tokens.restore();
    this.current = this.savedCurrent;
    this.nextToken = this.savedNextToken;
  };
  ParserState.prototype.accept = function (type, value) {
    if (this.nextToken.type === type && this.tokenMatches(this.nextToken, value)) {
      this.next();
      return true;
    }
    return false;
  };
  ParserState.prototype.expect = function (type, value) {
    if (!this.accept(type, value)) {
      var coords = this.tokens.getCoordinates();
      throw new Error('parse error [' + coords.line + ':' + coords.column + ']: Expected ' + (value || type));
    }
  };
  ParserState.prototype.parseAtom = function (instr) {
    var unaryOps = this.tokens.unaryOps;
    function isPrefixOperator(token) {
      return token.value in unaryOps;
    }
    if (this.accept(TNAME) || this.accept(TOP, isPrefixOperator)) {
      instr.push(new Instruction(IVAR, this.current.value));
    } else if (this.accept(TNUMBER)) {
      instr.push(new Instruction(INUMBER, this.current.value));
    } else if (this.accept(TSTRING)) {
      instr.push(new Instruction(INUMBER, this.current.value));
    } else if (this.accept(TPAREN, '(')) {
      this.parseExpression(instr);
      this.expect(TPAREN, ')');
    } else if (this.accept(TBRACKET, '[')) {
      if (this.accept(TBRACKET, ']')) {
        instr.push(new Instruction(IARRAY, 0));
      } else {
        var argCount = this.parseArrayList(instr);
        instr.push(new Instruction(IARRAY, argCount));
      }
    } else {
      throw new Error('unexpected ' + this.nextToken);
    }
  };
  ParserState.prototype.parseExpression = function (instr) {
    var exprInstr = [];
    if (this.parseUntilEndStatement(instr, exprInstr)) {
      return;
    }
    this.parseVariableAssignmentExpression(exprInstr);
    if (this.parseUntilEndStatement(instr, exprInstr)) {
      return;
    }
    this.pushExpression(instr, exprInstr);
  };
  ParserState.prototype.pushExpression = function (instr, exprInstr) {
    for (var i = 0, len = exprInstr.length; i < len; i++) {
      instr.push(exprInstr[i]);
    }
  };
  ParserState.prototype.parseUntilEndStatement = function (instr, exprInstr) {
    if (!this.accept(TSEMICOLON)) return false;
    if (this.nextToken && this.nextToken.type !== TEOF && !(this.nextToken.type === TPAREN && this.nextToken.value === ')')) {
      exprInstr.push(new Instruction(IENDSTATEMENT));
    }
    if (this.nextToken.type !== TEOF) {
      this.parseExpression(exprInstr);
    }
    instr.push(new Instruction(IEXPR, exprInstr));
    return true;
  };
  ParserState.prototype.parseArrayList = function (instr) {
    var argCount = 0;
    while (!this.accept(TBRACKET, ']')) {
      this.parseExpression(instr);
      ++argCount;
      while (this.accept(TCOMMA)) {
        this.parseExpression(instr);
        ++argCount;
      }
    }
    return argCount;
  };
  ParserState.prototype.parseVariableAssignmentExpression = function (instr) {
    this.parseConditionalExpression(instr);
    while (this.accept(TOP, '=')) {
      var varName = instr.pop();
      var varValue = [];
      var lastInstrIndex = instr.length - 1;
      if (varName.type === IFUNCALL) {
        if (!this.tokens.isOperatorEnabled('()=')) {
          throw new Error('function definition is not permitted');
        }
        for (var i = 0, len = varName.value + 1; i < len; i++) {
          var index = lastInstrIndex - i;
          if (instr[index].type === IVAR) {
            instr[index] = new Instruction(IVARNAME, instr[index].value);
          }
        }
        this.parseVariableAssignmentExpression(varValue);
        instr.push(new Instruction(IEXPR, varValue));
        instr.push(new Instruction(IFUNDEF, varName.value));
        continue;
      }
      if (varName.type !== IVAR && varName.type !== IMEMBER) {
        throw new Error('expected variable for assignment');
      }
      this.parseVariableAssignmentExpression(varValue);
      instr.push(new Instruction(IVARNAME, varName.value));
      instr.push(new Instruction(IEXPR, varValue));
      instr.push(binaryInstruction('='));
    }
  };
  ParserState.prototype.parseConditionalExpression = function (instr) {
    this.parseOrExpression(instr);
    while (this.accept(TOP, '?')) {
      var trueBranch = [];
      var falseBranch = [];
      this.parseConditionalExpression(trueBranch);
      this.expect(TOP, ':');
      this.parseConditionalExpression(falseBranch);
      instr.push(new Instruction(IEXPR, trueBranch));
      instr.push(new Instruction(IEXPR, falseBranch));
      instr.push(ternaryInstruction('?'));
    }
  };
  ParserState.prototype.parseOrExpression = function (instr) {
    this.parseAndExpression(instr);
    while (this.accept(TOP, 'or')) {
      var falseBranch = [];
      this.parseAndExpression(falseBranch);
      instr.push(new Instruction(IEXPR, falseBranch));
      instr.push(binaryInstruction('or'));
    }
  };
  ParserState.prototype.parseAndExpression = function (instr) {
    this.parseComparison(instr);
    while (this.accept(TOP, 'and')) {
      var trueBranch = [];
      this.parseComparison(trueBranch);
      instr.push(new Instruction(IEXPR, trueBranch));
      instr.push(binaryInstruction('and'));
    }
  };
  var COMPARISON_OPERATORS = ['==', '!=', '<', '<=', '>=', '>', 'in'];
  ParserState.prototype.parseComparison = function (instr) {
    this.parseAddSub(instr);
    while (this.accept(TOP, COMPARISON_OPERATORS)) {
      var op = this.current;
      this.parseAddSub(instr);
      instr.push(binaryInstruction(op.value));
    }
  };
  var ADD_SUB_OPERATORS = ['+', '-', '||'];
  ParserState.prototype.parseAddSub = function (instr) {
    this.parseTerm(instr);
    while (this.accept(TOP, ADD_SUB_OPERATORS)) {
      var op = this.current;
      this.parseTerm(instr);
      instr.push(binaryInstruction(op.value));
    }
  };
  var TERM_OPERATORS = ['*', '/', '%'];
  ParserState.prototype.parseTerm = function (instr) {
    this.parseFactor(instr);
    while (this.accept(TOP, TERM_OPERATORS)) {
      var op = this.current;
      this.parseFactor(instr);
      instr.push(binaryInstruction(op.value));
    }
  };
  ParserState.prototype.parseFactor = function (instr) {
    var unaryOps = this.tokens.unaryOps;
    function isPrefixOperator(token) {
      return token.value in unaryOps;
    }
    this.save();
    if (this.accept(TOP, isPrefixOperator)) {
      if (this.current.value !== '-' && this.current.value !== '+') {
        if (this.nextToken.type === TPAREN && this.nextToken.value === '(') {
          this.restore();
          this.parseExponential(instr);
          return;
        } else if (this.nextToken.type === TSEMICOLON || this.nextToken.type === TCOMMA || this.nextToken.type === TEOF || this.nextToken.type === TPAREN && this.nextToken.value === ')') {
          this.restore();
          this.parseAtom(instr);
          return;
        }
      }
      var op = this.current;
      this.parseFactor(instr);
      instr.push(unaryInstruction(op.value));
    } else {
      this.parseExponential(instr);
    }
  };
  ParserState.prototype.parseExponential = function (instr) {
    this.parsePostfixExpression(instr);
    while (this.accept(TOP, '^')) {
      this.parseFactor(instr);
      instr.push(binaryInstruction('^'));
    }
  };
  ParserState.prototype.parsePostfixExpression = function (instr) {
    this.parseFunctionCall(instr);
    while (this.accept(TOP, '!')) {
      instr.push(unaryInstruction('!'));
    }
  };
  ParserState.prototype.parseFunctionCall = function (instr) {
    var unaryOps = this.tokens.unaryOps;
    function isPrefixOperator(token) {
      return token.value in unaryOps;
    }
    if (this.accept(TOP, isPrefixOperator)) {
      var op = this.current;
      this.parseAtom(instr);
      instr.push(unaryInstruction(op.value));
    } else {
      this.parseMemberExpression(instr);
      while (this.accept(TPAREN, '(')) {
        if (this.accept(TPAREN, ')')) {
          instr.push(new Instruction(IFUNCALL, 0));
        } else {
          var argCount = this.parseArgumentList(instr);
          instr.push(new Instruction(IFUNCALL, argCount));
        }
      }
    }
  };
  ParserState.prototype.parseArgumentList = function (instr) {
    var argCount = 0;
    while (!this.accept(TPAREN, ')')) {
      this.parseExpression(instr);
      ++argCount;
      while (this.accept(TCOMMA)) {
        this.parseExpression(instr);
        ++argCount;
      }
    }
    return argCount;
  };
  ParserState.prototype.parseMemberExpression = function (instr) {
    this.parseAtom(instr);
    while (this.accept(TOP, '.') || this.accept(TBRACKET, '[')) {
      var op = this.current;
      if (op.value === '.') {
        if (!this.allowMemberAccess) {
          throw new Error('unexpected ".", member access is not permitted');
        }
        this.expect(TNAME);
        instr.push(new Instruction(IMEMBER, this.current.value));
      } else if (op.value === '[') {
        if (!this.tokens.isOperatorEnabled('[')) {
          throw new Error('unexpected "[]", arrays are disabled');
        }
        this.parseExpression(instr);
        this.expect(TBRACKET, ']');
        instr.push(binaryInstruction('['));
      } else {
        throw new Error('unexpected symbol: ' + op.value);
      }
    }
  };
  function add(a, b) {
    return Number(a) + Number(b);
  }
  function sub(a, b) {
    return a - b;
  }
  function mul(a, b) {
    return a * b;
  }
  function div(a, b) {
    return a / b;
  }
  function mod(a, b) {
    return a % b;
  }
  function concat(a, b) {
    if (Array.isArray(a) && Array.isArray(b)) {
      return a.concat(b);
    }
    return '' + a + b;
  }
  function equal(a, b) {
    return a === b;
  }
  function notEqual(a, b) {
    return a !== b;
  }
  function greaterThan(a, b) {
    return a > b;
  }
  function lessThan(a, b) {
    return a < b;
  }
  function greaterThanEqual(a, b) {
    return a >= b;
  }
  function lessThanEqual(a, b) {
    return a <= b;
  }
  function andOperator(a, b) {
    return Boolean(a && b);
  }
  function orOperator(a, b) {
    return Boolean(a || b);
  }
  function inOperator(a, b) {
    return contains(b, a);
  }
  function sinh(a) {
    return (Math.exp(a) - Math.exp(-a)) / 2;
  }
  function cosh(a) {
    return (Math.exp(a) + Math.exp(-a)) / 2;
  }
  function tanh(a) {
    if (a === Infinity) return 1;
    if (a === -Infinity) return -1;
    return (Math.exp(a) - Math.exp(-a)) / (Math.exp(a) + Math.exp(-a));
  }
  function asinh(a) {
    if (a === -Infinity) return a;
    return Math.log(a + Math.sqrt(a * a + 1));
  }
  function acosh(a) {
    return Math.log(a + Math.sqrt(a * a - 1));
  }
  function atanh(a) {
    return Math.log((1 + a) / (1 - a)) / 2;
  }
  function log10(a) {
    return Math.log(a) * Math.LOG10E;
  }
  function neg(a) {
    return -a;
  }
  function not(a) {
    return !a;
  }
  function trunc(a) {
    return a < 0 ? Math.ceil(a) : Math.floor(a);
  }
  function random(a) {
    return Math.random() * (a || 1);
  }
  function factorial(a) {
    // a!
    return gamma(a + 1);
  }
  function isInteger(value) {
    return isFinite(value) && value === Math.round(value);
  }
  var GAMMA_G = 4.7421875;
  var GAMMA_P = [0.99999999999999709182, 57.156235665862923517, -59.597960355475491248, 14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4, 0.46523628927048575665e-4, -0.98374475304879564677e-4, 0.15808870322491248884e-3, -0.21026444172410488319e-3, 0.21743961811521264320e-3, -0.16431810653676389022e-3, 0.84418223983852743293e-4, -0.26190838401581408670e-4, 0.36899182659531622704e-5];

  // Gamma function from math.js
  function gamma(n) {
    var t, x;
    if (isInteger(n)) {
      if (n <= 0) {
        return isFinite(n) ? Infinity : NaN;
      }
      if (n > 171) {
        return Infinity; // Will overflow
      }
      var value = n - 2;
      var res = n - 1;
      while (value > 1) {
        res *= value;
        value--;
      }
      if (res === 0) {
        res = 1; // 0! is per definition 1
      }
      return res;
    }
    if (n < 0.5) {
      return Math.PI / (Math.sin(Math.PI * n) * gamma(1 - n));
    }
    if (n >= 171.35) {
      return Infinity; // will overflow
    }
    if (n > 85.0) {
      // Extended Stirling Approx
      var twoN = n * n;
      var threeN = twoN * n;
      var fourN = threeN * n;
      var fiveN = fourN * n;
      return Math.sqrt(2 * Math.PI / n) * Math.pow(n / Math.E, n) * (1 + 1 / (12 * n) + 1 / (288 * twoN) - 139 / (51840 * threeN) - 571 / (2488320 * fourN) + 163879 / (209018880 * fiveN) + 5246819 / (75246796800 * fiveN * n));
    }
    --n;
    x = GAMMA_P[0];
    for (var i = 1; i < GAMMA_P.length; ++i) {
      x += GAMMA_P[i] / (n + i);
    }
    t = n + GAMMA_G + 0.5;
    return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;
  }
  function stringOrArrayLength(s) {
    if (Array.isArray(s)) {
      return s.length;
    }
    return String(s).length;
  }
  function hypot() {
    var sum = 0;
    var larg = 0;
    for (var i = 0; i < arguments.length; i++) {
      var arg = Math.abs(arguments[i]);
      var div;
      if (larg < arg) {
        div = larg / arg;
        sum = sum * div * div + 1;
        larg = arg;
      } else if (arg > 0) {
        div = arg / larg;
        sum += div * div;
      } else {
        sum += arg;
      }
    }
    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);
  }
  function condition(cond, yep, nope) {
    return cond ? yep : nope;
  }

  /**
  * Decimal adjustment of a number.
  * From @escopecz.
  *
  * @param {Number} value The number.
  * @param {Integer} exp  The exponent (the 10 logarithm of the adjustment base).
  * @return {Number} The adjusted value.
  */
  function roundTo(value, exp) {
    // If the exp is undefined or zero...
    if (typeof exp === 'undefined' || +exp === 0) {
      return Math.round(value);
    }
    value = +value;
    exp = -+exp;
    // If the value is not a number or the exp is not an integer...
    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {
      return NaN;
    }
    // Shift
    value = value.toString().split('e');
    value = Math.round(+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));
    // Shift back
    value = value.toString().split('e');
    return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));
  }
  function setVar(name, value, variables) {
    if (variables) variables[name] = value;
    return value;
  }
  function arrayIndex(array, index) {
    return array[index | 0];
  }
  function max(array) {
    if (arguments.length === 1 && Array.isArray(array)) {
      return Math.max.apply(Math, array);
    } else {
      return Math.max.apply(Math, arguments);
    }
  }
  function min(array) {
    if (arguments.length === 1 && Array.isArray(array)) {
      return Math.min.apply(Math, array);
    } else {
      return Math.min.apply(Math, arguments);
    }
  }
  function arrayMap(f, a) {
    if (typeof f !== 'function') {
      throw new Error('First argument to map is not a function');
    }
    if (!Array.isArray(a)) {
      throw new Error('Second argument to map is not an array');
    }
    return a.map(function (x, i) {
      return f(x, i);
    });
  }
  function arrayFold(f, init, a) {
    if (typeof f !== 'function') {
      throw new Error('First argument to fold is not a function');
    }
    if (!Array.isArray(a)) {
      throw new Error('Second argument to fold is not an array');
    }
    return a.reduce(function (acc, x, i) {
      return f(acc, x, i);
    }, init);
  }
  function arrayFilter(f, a) {
    if (typeof f !== 'function') {
      throw new Error('First argument to filter is not a function');
    }
    if (!Array.isArray(a)) {
      throw new Error('Second argument to filter is not an array');
    }
    return a.filter(function (x, i) {
      return f(x, i);
    });
  }
  function stringOrArrayIndexOf(target, s) {
    if (!(Array.isArray(s) || typeof s === 'string')) {
      throw new Error('Second argument to indexOf is not a string or array');
    }
    return s.indexOf(target);
  }
  function arrayJoin(sep, a) {
    if (!Array.isArray(a)) {
      throw new Error('Second argument to join is not an array');
    }
    return a.join(sep);
  }
  function sign(x) {
    return (x > 0) - (x < 0) || +x;
  }
  var ONE_THIRD = 1 / 3;
  function cbrt(x) {
    return x < 0 ? -Math.pow(-x, ONE_THIRD) : Math.pow(x, ONE_THIRD);
  }
  function expm1(x) {
    return Math.exp(x) - 1;
  }
  function log1p(x) {
    return Math.log(1 + x);
  }
  function log2(x) {
    return Math.log(x) / Math.LN2;
  }
  function Parser(options) {
    this.options = options || {};
    this.unaryOps = {
      sin: Math.sin,
      cos: Math.cos,
      tan: Math.tan,
      asin: Math.asin,
      acos: Math.acos,
      atan: Math.atan,
      sinh: Math.sinh || sinh,
      cosh: Math.cosh || cosh,
      tanh: Math.tanh || tanh,
      asinh: Math.asinh || asinh,
      acosh: Math.acosh || acosh,
      atanh: Math.atanh || atanh,
      sqrt: Math.sqrt,
      cbrt: Math.cbrt || cbrt,
      log: Math.log,
      log2: Math.log2 || log2,
      ln: Math.log,
      lg: Math.log10 || log10,
      log10: Math.log10 || log10,
      expm1: Math.expm1 || expm1,
      log1p: Math.log1p || log1p,
      abs: Math.abs,
      ceil: Math.ceil,
      floor: Math.floor,
      round: Math.round,
      trunc: Math.trunc || trunc,
      '-': neg,
      '+': Number,
      exp: Math.exp,
      not: not,
      length: stringOrArrayLength,
      '!': factorial,
      sign: Math.sign || sign
    };
    this.binaryOps = {
      '+': add,
      '-': sub,
      '*': mul,
      '/': div,
      '%': mod,
      '^': Math.pow,
      '||': concat,
      '==': equal,
      '!=': notEqual,
      '>': greaterThan,
      '<': lessThan,
      '>=': greaterThanEqual,
      '<=': lessThanEqual,
      and: andOperator,
      or: orOperator,
      'in': inOperator,
      '=': setVar,
      '[': arrayIndex
    };
    this.ternaryOps = {
      '?': condition
    };
    this.functions = {
      random: random,
      fac: factorial,
      min: min,
      max: max,
      hypot: Math.hypot || hypot,
      pyt: Math.hypot || hypot,
      // backward compat
      pow: Math.pow,
      atan2: Math.atan2,
      'if': condition,
      gamma: gamma,
      roundTo: roundTo,
      map: arrayMap,
      fold: arrayFold,
      filter: arrayFilter,
      indexOf: stringOrArrayIndexOf,
      join: arrayJoin
    };
    this.consts = {
      E: Math.E,
      PI: Math.PI,
      'true': true,
      'false': false
    };
  }
  Parser.prototype.parse = function (expr) {
    var instr = [];
    var parserState = new ParserState(this, new TokenStream(this, expr), {
      allowMemberAccess: this.options.allowMemberAccess
    });
    parserState.parseExpression(instr);
    parserState.expect(TEOF, 'EOF');
    return new Expression(instr, this);
  };
  Parser.prototype.evaluate = function (expr, variables) {
    return this.parse(expr).evaluate(variables);
  };
  var sharedParser = new Parser();
  Parser.parse = function (expr) {
    return sharedParser.parse(expr);
  };
  Parser.evaluate = function (expr, variables) {
    return sharedParser.parse(expr).evaluate(variables);
  };
  var optionNameMap = {
    '+': 'add',
    '-': 'subtract',
    '*': 'multiply',
    '/': 'divide',
    '%': 'remainder',
    '^': 'power',
    '!': 'factorial',
    '<': 'comparison',
    '>': 'comparison',
    '<=': 'comparison',
    '>=': 'comparison',
    '==': 'comparison',
    '!=': 'comparison',
    '||': 'concatenate',
    'and': 'logical',
    'or': 'logical',
    'not': 'logical',
    '?': 'conditional',
    ':': 'conditional',
    '=': 'assignment',
    '[': 'array',
    '()=': 'fndef'
  };
  function getOptionName(op) {
    return optionNameMap.hasOwnProperty(op) ? optionNameMap[op] : op;
  }
  Parser.prototype.isOperatorEnabled = function (op) {
    var optionName = getOptionName(op);
    var operators = this.options.operators || {};
    return !(optionName in operators) || !!operators[optionName];
  };

  /*!
   Based on ndef.parser, by Raphael Graf(r@undefined.ch)
   http://www.undefined.ch/mparser/index.html
    Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)
    You are free to use and modify this code in anyway you find useful. Please leave this comment in the code
   to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,
   but don't feel like you have to let me know or ask permission.
  */

  // Backwards compatibility
  var index = {
    Parser: Parser,
    Expression: Expression
  };
  exports.Expression = Expression;
  exports.Parser = Parser;
  exports["default"] = index;
  Object.defineProperty(exports, '__esModule', {
    value: true
  });
});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],192:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */

(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.hashwasm = {}));
})(void 0, function (exports) {
  'use strict';

  var name$l = "adler32";
  var data$l = "AGFzbQEAAAABDANgAAF/YAAAYAF/AAMHBgABAgEAAgUEAQECAgYOAn8BQYCJBQt/AEGACAsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQAAQtIYXNoX1VwZGF0ZQACCkhhc2hfRmluYWwAAw1IYXNoX0dldFN0YXRlAAQOSGFzaF9DYWxjdWxhdGUABQpTVEFURV9TSVpFAwEK6wkGBQBBgAkLCgBBAEEBNgKECAvjCAEHf0EAKAKECCIBQf//A3EhAiABQRB2IQMCQAJAIABBAUcNACACQQAtAIAJaiIBQY+AfGogASABQfD/A0sbIgEgA2oiBEEQdCIFQYCAPGogBSAEQfD/A0sbIAFyIQEMAQsCQAJAAkACQAJAIABBEEkNAEGACSEGIABBsCtJDQFBgAkhBgNAQQAhBQNAIAYgBWoiASgCACIEQf8BcSACaiICIANqIAIgBEEIdkH/AXFqIgJqIAIgBEEQdkH/AXFqIgJqIAIgBEEYdmoiAmogAiABQQRqKAIAIgRB/wFxaiICaiACIARBCHZB/wFxaiICaiACIARBEHZB/wFxaiICaiACIARBGHZqIgJqIAIgAUEIaigCACIEQf8BcWoiAmogAiAEQQh2Qf8BcWoiAmogAiAEQRB2Qf8BcWoiAmogAiAEQRh2aiIEaiAEIAFBDGooAgAiAUH/AXFqIgRqIAQgAUEIdkH/AXFqIgRqIAQgAUEQdkH/AXFqIgRqIAQgAUEYdmoiAmohAyAFQRBqIgVBsCtHDQALIANB8f8DcCEDIAJB8f8DcCECIAZBsCtqIQYgAEHQVGoiAEGvK0sNAAsgAEUNBCAAQQ9LDQEMAgsCQCAARQ0AAkACQCAAQQNxIgUNAEGACSEBIAAhBAwBCyAAQXxxIQRBACEBA0AgAiABQYAJai0AAGoiAiADaiEDIAUgAUEBaiIBRw0ACyAFQYAJaiEBCyAAQQRJDQADQCACIAEtAABqIgUgAS0AAWoiBiABLQACaiIAIAFBA2otAABqIgIgACAGIAUgA2pqamohAyABQQRqIQEgBEF8aiIEDQALCyACQY+AfGogAiACQfD/A0sbIANB8f8DcEEQdHIhAQwECwNAIAYoAgAiAUH/AXEgAmoiBCADaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgRqIAQgBkEEaigCACIBQf8BcWoiBGogBCABQQh2Qf8BcWoiBGogBCABQRB2Qf8BcWoiBGogBCABQRh2aiIEaiAEIAZBCGooAgAiAUH/AXFqIgRqIAQgAUEIdkH/AXFqIgRqIAQgAUEQdkH/AXFqIgRqIAQgAUEYdmoiBGogBCAGQQxqKAIAIgFB/wFxaiIEaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgJqIQMgBkEQaiEGIABBcGoiAEEPSw0ACyAARQ0BCyAAQX9qIQcCQCAAQQNxIgVFDQAgAEF8cSEAIAUhBCAGIQEDQCACIAEtAABqIgIgA2ohAyABQQFqIQEgBEF/aiIEDQALIAYgBWohBgsgB0EDSQ0AA0AgAiAGLQAAaiIBIAYtAAFqIgQgBi0AAmoiBSAGQQNqLQAAaiICIAUgBCABIANqampqIQMgBkEEaiEGIABBfGoiAA0ACwsgA0Hx/wNwIQMgAkHx/wNwIQILIAIgA0EQdHIhAQtBACABNgKECAsxAQF/QQBBACgChAgiAEEYdCAAQYD+A3FBCHRyIABBCHZBgP4DcSAAQRh2cnI2AoAJCwUAQYQICzsAQQBBATYChAggABACQQBBACgChAgiAEEYdCAAQYD+A3FBCHRyIABBCHZBgP4DcSAAQRh2cnI2AoAJCwsVAgBBgAgLBAQAAAAAQYQICwQBAAAA";
  var hash$l = "02ddbd17";
  var wasmJson$l = {
    name: name$l,
    data: data$l,
    hash: hash$l
  };

  /******************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
  /* global Reflect, Promise, SuppressedError, Symbol, Iterator */

  function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) {
      return value instanceof P ? value : new P(function (resolve) {
        resolve(value);
      });
    }
    return new (P || (P = Promise))(function (resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  }
  typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
  };
  var Mutex = /*#__PURE__*/function () {
    function Mutex() {
      (0, _classCallCheck2["default"])(this, Mutex);
      this.mutex = Promise.resolve();
    }
    return (0, _createClass2["default"])(Mutex, [{
      key: "lock",
      value: function lock() {
        var begin = function begin() {};
        this.mutex = this.mutex.then(function () {
          return new Promise(begin);
        });
        return new Promise(function (res) {
          begin = res;
        });
      }
    }, {
      key: "dispatch",
      value: function dispatch(fn) {
        return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee() {
          var unlock;
          return _regenerator["default"].wrap(function (_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                _context.next = 1;
                return this.lock();
              case 1:
                unlock = _context.sent;
                _context.prev = 2;
                _context.next = 3;
                return Promise.resolve(fn());
              case 3:
                return _context.abrupt("return", _context.sent);
              case 4:
                _context.prev = 4;
                unlock();
                return _context.finish(4);
              case 5:
              case "end":
                return _context.stop();
            }
          }, _callee, this, [[2,, 4, 5]]);
        }));
      }
    }]);
  }();
  var _a;
  function getGlobal() {
    if (typeof globalThis !== "undefined") return globalThis;
    if (typeof self !== "undefined") return self;
    if (typeof window !== "undefined") return window;
    return global;
  }
  var globalObject = getGlobal();
  var nodeBuffer = (_a = globalObject.Buffer) !== null && _a !== void 0 ? _a : null;
  var textEncoder = globalObject.TextEncoder ? new globalObject.TextEncoder() : null;
  function intArrayToString(arr, len) {
    return String.fromCharCode.apply(String, (0, _toConsumableArray2["default"])(arr.subarray(0, len)));
  }
  function hexCharCodesToInt(a, b) {
    return (a & 0xf) + (a >> 6 | a >> 3 & 0x8) << 4 | (b & 0xf) + (b >> 6 | b >> 3 & 0x8);
  }
  function writeHexToUInt8(buf, str) {
    var size = str.length >> 1;
    for (var i = 0; i < size; i++) {
      var index = i << 1;
      buf[i] = hexCharCodesToInt(str.charCodeAt(index), str.charCodeAt(index + 1));
    }
  }
  function hexStringEqualsUInt8(str, buf) {
    if (str.length !== buf.length * 2) {
      return false;
    }
    for (var i = 0; i < buf.length; i++) {
      var strIndex = i << 1;
      if (buf[i] !== hexCharCodesToInt(str.charCodeAt(strIndex), str.charCodeAt(strIndex + 1))) {
        return false;
      }
    }
    return true;
  }
  var alpha = "a".charCodeAt(0) - 10;
  var digit = "0".charCodeAt(0);
  function getDigestHex(tmpBuffer, input, hashLength) {
    var p = 0;
    for (var i = 0; i < hashLength; i++) {
      var nibble = input[i] >>> 4;
      tmpBuffer[p++] = nibble > 9 ? nibble + alpha : nibble + digit;
      nibble = input[i] & 0xf;
      tmpBuffer[p++] = nibble > 9 ? nibble + alpha : nibble + digit;
    }
    return String.fromCharCode.apply(null, tmpBuffer);
  }
  var getUInt8Buffer = nodeBuffer !== null ? function (data) {
    if (typeof data === "string") {
      var buf = nodeBuffer.from(data, "utf8");
      return new Uint8Array(buf.buffer, buf.byteOffset, buf.length);
    }
    if (nodeBuffer.isBuffer(data)) {
      return new Uint8Array(data.buffer, data.byteOffset, data.length);
    }
    if (ArrayBuffer.isView(data)) {
      return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);
    }
    throw new Error("Invalid data type!");
  } : function (data) {
    if (typeof data === "string") {
      return textEncoder.encode(data);
    }
    if (ArrayBuffer.isView(data)) {
      return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);
    }
    throw new Error("Invalid data type!");
  };
  var base64Chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
  var base64Lookup = new Uint8Array(256);
  for (var i = 0; i < base64Chars.length; i++) {
    base64Lookup[base64Chars.charCodeAt(i)] = i;
  }
  function encodeBase64(data) {
    var pad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    var len = data.length;
    var extraBytes = len % 3;
    var parts = [];
    var len2 = len - extraBytes;
    for (var _i = 0; _i < len2; _i += 3) {
      var tmp = (data[_i] << 16 & 0xff0000) + (data[_i + 1] << 8 & 0xff00) + (data[_i + 2] & 0xff);
      var triplet = base64Chars.charAt(tmp >> 18 & 0x3f) + base64Chars.charAt(tmp >> 12 & 0x3f) + base64Chars.charAt(tmp >> 6 & 0x3f) + base64Chars.charAt(tmp & 0x3f);
      parts.push(triplet);
    }
    if (extraBytes === 1) {
      var _tmp = data[len - 1];
      var a = base64Chars.charAt(_tmp >> 2);
      var b = base64Chars.charAt(_tmp << 4 & 0x3f);
      parts.push("".concat(a).concat(b));
      if (pad) {
        parts.push("==");
      }
    } else if (extraBytes === 2) {
      var _tmp2 = (data[len - 2] << 8) + data[len - 1];
      var _a2 = base64Chars.charAt(_tmp2 >> 10);
      var _b = base64Chars.charAt(_tmp2 >> 4 & 0x3f);
      var c = base64Chars.charAt(_tmp2 << 2 & 0x3f);
      parts.push("".concat(_a2).concat(_b).concat(c));
      if (pad) {
        parts.push("=");
      }
    }
    return parts.join("");
  }
  function getDecodeBase64Length(data) {
    var bufferLength = Math.floor(data.length * 0.75);
    var len = data.length;
    if (data[len - 1] === "=") {
      bufferLength -= 1;
      if (data[len - 2] === "=") {
        bufferLength -= 1;
      }
    }
    return bufferLength;
  }
  function decodeBase64(data) {
    var bufferLength = getDecodeBase64Length(data);
    var len = data.length;
    var bytes = new Uint8Array(bufferLength);
    var p = 0;
    for (var _i2 = 0; _i2 < len; _i2 += 4) {
      var encoded1 = base64Lookup[data.charCodeAt(_i2)];
      var encoded2 = base64Lookup[data.charCodeAt(_i2 + 1)];
      var encoded3 = base64Lookup[data.charCodeAt(_i2 + 2)];
      var encoded4 = base64Lookup[data.charCodeAt(_i2 + 3)];
      bytes[p] = encoded1 << 2 | encoded2 >> 4;
      p += 1;
      bytes[p] = (encoded2 & 15) << 4 | encoded3 >> 2;
      p += 1;
      bytes[p] = (encoded3 & 3) << 6 | encoded4 & 63;
      p += 1;
    }
    return bytes;
  }
  var MAX_HEAP = 16 * 1024;
  var WASM_FUNC_HASH_LENGTH = 4;
  var wasmMutex = new Mutex();
  var wasmModuleCache = new Map();
  function WASMInterface(binary, hashLength) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee4() {
      var _this = this;
      var wasmInstance, memoryView, initialized, writeMemory, getMemory, getExports, setMemorySize, getStateSize, loadWASMPromise, setupInterface, init, updateUInt8Array, update, digestChars, digest, save, load, isDataShort, canSimplify, calculate, _t;
      return _regenerator["default"].wrap(function (_context4) {
        while (1) switch (_context4.prev = _context4.next) {
          case 0:
            wasmInstance = null;
            memoryView = null;
            initialized = false;
            if (!(typeof WebAssembly === "undefined")) {
              _context4.next = 1;
              break;
            }
            throw new Error("WebAssembly is not supported in this environment!");
          case 1:
            writeMemory = function writeMemory(data) {
              var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
              memoryView.set(data, offset);
            };
            getMemory = function getMemory() {
              return memoryView;
            };
            getExports = function getExports() {
              return wasmInstance.exports;
            };
            setMemorySize = function setMemorySize(totalSize) {
              wasmInstance.exports.Hash_SetMemorySize(totalSize);
              var arrayOffset = wasmInstance.exports.Hash_GetBuffer();
              var memoryBuffer = wasmInstance.exports.memory.buffer;
              memoryView = new Uint8Array(memoryBuffer, arrayOffset, totalSize);
            };
            getStateSize = function getStateSize() {
              var view = new DataView(wasmInstance.exports.memory.buffer);
              var stateSize = view.getUint32(wasmInstance.exports.STATE_SIZE, true);
              return stateSize;
            };
            loadWASMPromise = wasmMutex.dispatch(function () {
              return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee2() {
                var asm, promise, module;
                return _regenerator["default"].wrap(function (_context2) {
                  while (1) switch (_context2.prev = _context2.next) {
                    case 0:
                      if (!wasmModuleCache.has(binary.name)) {
                        asm = decodeBase64(binary.data);
                        promise = WebAssembly.compile(asm);
                        wasmModuleCache.set(binary.name, promise);
                      }
                      _context2.next = 1;
                      return wasmModuleCache.get(binary.name);
                    case 1:
                      module = _context2.sent;
                      _context2.next = 2;
                      return WebAssembly.instantiate(module, {
                        // env: {
                        //   emscripten_memcpy_big: (dest, src, num) => {
                        //     const memoryBuffer = wasmInstance.exports.memory.buffer;
                        //     const memView = new Uint8Array(memoryBuffer, 0);
                        //     memView.set(memView.subarray(src, src + num), dest);
                        //   },
                        //   print_memory: (offset, len) => {
                        //     const memoryBuffer = wasmInstance.exports.memory.buffer;
                        //     const memView = new Uint8Array(memoryBuffer, 0);
                        //     console.log('print_int32', memView.subarray(offset, offset + len));
                        //   },
                        // },
                      });
                    case 2:
                      wasmInstance = _context2.sent;
                    case 3:
                    case "end":
                      return _context2.stop();
                  }
                }, _callee2);
              }));
            });
            setupInterface = function setupInterface() {
              return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee3() {
                var arrayOffset, memoryBuffer;
                return _regenerator["default"].wrap(function (_context3) {
                  while (1) switch (_context3.prev = _context3.next) {
                    case 0:
                      if (wasmInstance) {
                        _context3.next = 1;
                        break;
                      }
                      _context3.next = 1;
                      return loadWASMPromise;
                    case 1:
                      arrayOffset = wasmInstance.exports.Hash_GetBuffer();
                      memoryBuffer = wasmInstance.exports.memory.buffer;
                      memoryView = new Uint8Array(memoryBuffer, arrayOffset, MAX_HEAP);
                    case 2:
                    case "end":
                      return _context3.stop();
                  }
                }, _callee3);
              }));
            };
            init = function init() {
              var bits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
              initialized = true;
              wasmInstance.exports.Hash_Init(bits);
            };
            updateUInt8Array = function updateUInt8Array(data) {
              var read = 0;
              while (read < data.length) {
                var chunk = data.subarray(read, read + MAX_HEAP);
                read += chunk.length;
                memoryView.set(chunk);
                wasmInstance.exports.Hash_Update(chunk.length);
              }
            };
            update = function update(data) {
              if (!initialized) {
                throw new Error("update() called before init()");
              }
              var Uint8Buffer = getUInt8Buffer(data);
              updateUInt8Array(Uint8Buffer);
            };
            digestChars = new Uint8Array(hashLength * 2);
            digest = function digest(outputType) {
              var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              if (!initialized) {
                throw new Error("digest() called before init()");
              }
              initialized = false;
              wasmInstance.exports.Hash_Final(padding);
              if (outputType === "binary") {
                // the data is copied to allow GC of the original memory object
                return memoryView.slice(0, hashLength);
              }
              return getDigestHex(digestChars, memoryView, hashLength);
            };
            save = function save() {
              if (!initialized) {
                throw new Error("save() can only be called after init() and before digest()");
              }
              var stateOffset = wasmInstance.exports.Hash_GetState();
              var stateLength = getStateSize();
              var memoryBuffer = wasmInstance.exports.memory.buffer;
              var internalState = new Uint8Array(memoryBuffer, stateOffset, stateLength);
              // prefix is 4 bytes from SHA1 hash of the WASM binary
              // it is used to detect incompatible internal states between different versions of hash-wasm
              var prefixedState = new Uint8Array(WASM_FUNC_HASH_LENGTH + stateLength);
              writeHexToUInt8(prefixedState, binary.hash);
              prefixedState.set(internalState, WASM_FUNC_HASH_LENGTH);
              return prefixedState;
            };
            load = function load(state) {
              if (!(state instanceof Uint8Array)) {
                throw new Error("load() expects an Uint8Array generated by save()");
              }
              var stateOffset = wasmInstance.exports.Hash_GetState();
              var stateLength = getStateSize();
              var overallLength = WASM_FUNC_HASH_LENGTH + stateLength;
              var memoryBuffer = wasmInstance.exports.memory.buffer;
              if (state.length !== overallLength) {
                throw new Error("Bad state length (expected ".concat(overallLength, " bytes, got ").concat(state.length, ")"));
              }
              if (!hexStringEqualsUInt8(binary.hash, state.subarray(0, WASM_FUNC_HASH_LENGTH))) {
                throw new Error("This state was written by an incompatible hash implementation");
              }
              var internalState = state.subarray(WASM_FUNC_HASH_LENGTH);
              new Uint8Array(memoryBuffer, stateOffset, stateLength).set(internalState);
              initialized = true;
            };
            isDataShort = function isDataShort(data) {
              if (typeof data === "string") {
                // worst case is 4 bytes / char
                return data.length < MAX_HEAP / 4;
              }
              return data.byteLength < MAX_HEAP;
            };
            canSimplify = isDataShort;
            _t = binary.name;
            _context4.next = _t === "argon2" ? 2 : _t === "scrypt" ? 2 : _t === "blake2b" ? 3 : _t === "blake2s" ? 3 : _t === "blake3" ? 4 : _t === "xxhash64" ? 5 : _t === "xxhash3" ? 5 : _t === "xxhash128" ? 5 : _t === "crc64" ? 5 : 6;
            break;
          case 2:
            canSimplify = function canSimplify() {
              return true;
            };
            return _context4.abrupt("continue", 6);
          case 3:
            // if there is a key at blake2 then cannot simplify
            canSimplify = function canSimplify(data, initParam) {
              return initParam <= 512 && isDataShort(data);
            };
            return _context4.abrupt("continue", 6);
          case 4:
            // if there is a key at blake3 then cannot simplify
            canSimplify = function canSimplify(data, initParam) {
              return initParam === 0 && isDataShort(data);
            };
            return _context4.abrupt("continue", 6);
          case 5:
            canSimplify = function canSimplify() {
              return false;
            };
            return _context4.abrupt("continue", 6);
          case 6:
            // shorthand for (init + update + digest) for better performance
            calculate = function calculate(data) {
              var initParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var digestParam = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
              if (!canSimplify(data, initParam)) {
                init(initParam);
                update(data);
                return digest("hex", digestParam);
              }
              var buffer = getUInt8Buffer(data);
              memoryView.set(buffer);
              wasmInstance.exports.Hash_Calculate(buffer.length, initParam, digestParam);
              return getDigestHex(digestChars, memoryView, hashLength);
            };
            _context4.next = 7;
            return setupInterface();
          case 7:
            return _context4.abrupt("return", {
              getMemory: getMemory,
              writeMemory: writeMemory,
              getExports: getExports,
              setMemorySize: setMemorySize,
              init: init,
              update: update,
              digest: digest,
              save: save,
              load: load,
              calculate: calculate,
              hashLength: hashLength
            });
          case 8:
          case "end":
            return _context4.stop();
        }
      }, _callee4);
    }));
  }
  function lockedCreate(mutex, binary, hashLength) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee5() {
      var unlock, wasm;
      return _regenerator["default"].wrap(function (_context5) {
        while (1) switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 1;
            return mutex.lock();
          case 1:
            unlock = _context5.sent;
            _context5.next = 2;
            return WASMInterface(binary, hashLength);
          case 2:
            wasm = _context5.sent;
            unlock();
            return _context5.abrupt("return", wasm);
          case 3:
          case "end":
            return _context5.stop();
        }
      }, _callee5);
    }));
  }
  var mutex$l = new Mutex();
  var wasmCache$l = null;
  /**
   * Calculates Adler-32 hash. The resulting 32-bit hash is stored in
   * network byte order (big-endian).
   *
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function adler32(data) {
    if (wasmCache$l === null) {
      return lockedCreate(mutex$l, wasmJson$l, 4).then(function (wasm) {
        wasmCache$l = wasm;
        return wasmCache$l.calculate(data);
      });
    }
    try {
      var _hash = wasmCache$l.calculate(data);
      return Promise.resolve(_hash);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new Adler-32 hash instance
   */
  function createAdler32() {
    return WASMInterface(wasmJson$l, 4).then(function (wasm) {
      wasm.init();
      var obj = {
        init: function init() {
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 4,
        digestSize: 4
      };
      return obj;
    });
  }
  var name$k = "argon2";
  var data$k = "AGFzbQEAAAABKQVgAX8Bf2AAAX9gEH9/f39/f39/f39/f39/f38AYAR/f39/AGACf38AAwYFAAECAwQFBgEBAoCAAgYIAX8BQZCoBAsHQQQGbWVtb3J5AgASSGFzaF9TZXRNZW1vcnlTaXplAAAOSGFzaF9HZXRCdWZmZXIAAQ5IYXNoX0NhbGN1bGF0ZQAECvEyBVgBAn9BACEBAkAgAEEAKAKICCICRg0AAkAgACACayIAQRB2IABBgIB8cSAASWoiAEAAQX9HDQBB/wHADwtBACEBQQBBACkDiAggAEEQdK18NwOICAsgAcALcAECfwJAQQAoAoAIIgANAEEAPwBBEHQiADYCgAhBACgCiAgiAUGAgCBGDQACQEGAgCAgAWsiAEEQdiAAQYCAfHEgAElqIgBAAEF/Rw0AQQAPC0EAQQApA4gIIABBEHStfDcDiAhBACgCgAghAAsgAAvcDgECfiAAIAQpAwAiECAAKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAMIBAgDCkDAIVCIIkiEDcDACAIIBAgCCkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgBCAQIAQpAwCFQiiJIhA3AwAgACAQIAApAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAwgECAMKQMAhUIwiSIQNwMAIAggECAIKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwAgASAFKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFQiCJIhA3AwAgCSAQIAkpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAUgECAFKQMAhUIoiSIQNwMAIAEgECABKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIVCMIkiEDcDACAJIBAgCSkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBSAQIAUpAwCFQgGJNwMAIAIgBikDACIQIAIpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIA4gECAOKQMAhUIgiSIQNwMAIAogECAKKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAGIBAgBikDAIVCKIkiEDcDACACIBAgAikDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgDiAQIA4pAwCFQjCJIhA3AwAgCiAQIAopAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAYgECAGKQMAhUIBiTcDACADIAcpAwAiECADKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAPIBAgDykDAIVCIIkiEDcDACALIBAgCykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgByAQIAcpAwCFQiiJIhA3AwAgAyAQIAMpAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIA8gECAPKQMAhUIwiSIQNwMAIAsgECALKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgACAFKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFQiCJIhA3AwAgCiAQIAopAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAUgECAFKQMAhUIoiSIQNwMAIAAgECAAKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIVCMIkiEDcDACAKIBAgCikDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBSAQIAUpAwCFQgGJNwMAIAEgBikDACIQIAEpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAwgECAMKQMAhUIgiSIQNwMAIAsgECALKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAGIBAgBikDAIVCKIkiEDcDACABIBAgASkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgDCAQIAwpAwCFQjCJIhA3AwAgCyAQIAspAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAYgECAGKQMAhUIBiTcDACACIAcpAwAiECACKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACANIBAgDSkDAIVCIIkiEDcDACAIIBAgCCkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgByAQIAcpAwCFQiiJIhA3AwAgAiAQIAIpAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIA0gECANKQMAhUIwiSIQNwMAIAggECAIKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgAyAEKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFQiCJIhA3AwAgCSAQIAkpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAQgECAEKQMAhUIoiSIQNwMAIAMgECADKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIVCMIkiEDcDACAJIBAgCSkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBCAQIAQpAwCFQgGJNwMAC98aAQN/QQAhBEEAIAIpAwAgASkDAIU3A5AIQQAgAikDCCABKQMIhTcDmAhBACACKQMQIAEpAxCFNwOgCEEAIAIpAxggASkDGIU3A6gIQQAgAikDICABKQMghTcDsAhBACACKQMoIAEpAyiFNwO4CEEAIAIpAzAgASkDMIU3A8AIQQAgAikDOCABKQM4hTcDyAhBACACKQNAIAEpA0CFNwPQCEEAIAIpA0ggASkDSIU3A9gIQQAgAikDUCABKQNQhTcD4AhBACACKQNYIAEpA1iFNwPoCEEAIAIpA2AgASkDYIU3A/AIQQAgAikDaCABKQNohTcD+AhBACACKQNwIAEpA3CFNwOACUEAIAIpA3ggASkDeIU3A4gJQQAgAikDgAEgASkDgAGFNwOQCUEAIAIpA4gBIAEpA4gBhTcDmAlBACACKQOQASABKQOQAYU3A6AJQQAgAikDmAEgASkDmAGFNwOoCUEAIAIpA6ABIAEpA6ABhTcDsAlBACACKQOoASABKQOoAYU3A7gJQQAgAikDsAEgASkDsAGFNwPACUEAIAIpA7gBIAEpA7gBhTcDyAlBACACKQPAASABKQPAAYU3A9AJQQAgAikDyAEgASkD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";
  var hash$k = "e4cdc523";
  var wasmJson$k = {
    name: name$k,
    data: data$k,
    hash: hash$k
  };
  var name$j = "blake2b";
  var data$j = "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";
  var hash$j = "c6f286e6";
  var wasmJson$j = {
    name: name$j,
    data: data$j,
    hash: hash$j
  };
  var mutex$k = new Mutex();
  var wasmCache$k = null;
  function validateBits$4(bits) {
    if (!Number.isInteger(bits) || bits < 8 || bits > 512 || bits % 8 !== 0) {
      return new Error("Invalid variant! Valid values: 8, 16, ..., 512");
    }
    return null;
  }
  function getInitParam$1(outputBits, keyBits) {
    return outputBits | keyBits << 16;
  }
  /**
   * Calculates BLAKE2b hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param bits Number of output bits, which has to be a number
   *             divisible by 8, between 8 and 512. Defaults to 512.
   * @param key Optional key (string, Buffer or TypedArray). Maximum length is 64 bytes.
   * @returns Computed hash as a hexadecimal string
   */
  function blake2b(data) {
    var bits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 512;
    var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    if (validateBits$4(bits)) {
      return Promise.reject(validateBits$4(bits));
    }
    var keyBuffer = null;
    var initParam = bits;
    if (key !== null) {
      keyBuffer = getUInt8Buffer(key);
      if (keyBuffer.length > 64) {
        return Promise.reject(new Error("Max key length is 64 bytes"));
      }
      initParam = getInitParam$1(bits, keyBuffer.length);
    }
    var hashLength = bits / 8;
    if (wasmCache$k === null || wasmCache$k.hashLength !== hashLength) {
      return lockedCreate(mutex$k, wasmJson$j, hashLength).then(function (wasm) {
        wasmCache$k = wasm;
        if (initParam > 512) {
          wasmCache$k.writeMemory(keyBuffer);
        }
        return wasmCache$k.calculate(data, initParam);
      });
    }
    try {
      if (initParam > 512) {
        wasmCache$k.writeMemory(keyBuffer);
      }
      var _hash2 = wasmCache$k.calculate(data, initParam);
      return Promise.resolve(_hash2);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new BLAKE2b hash instance
   * @param bits Number of output bits, which has to be a number
   *             divisible by 8, between 8 and 512. Defaults to 512.
   * @param key Optional key (string, Buffer or TypedArray). Maximum length is 64 bytes.
   */
  function createBLAKE2b() {
    var bits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 512;
    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    if (validateBits$4(bits)) {
      return Promise.reject(validateBits$4(bits));
    }
    var keyBuffer = null;
    var initParam = bits;
    if (key !== null) {
      keyBuffer = getUInt8Buffer(key);
      if (keyBuffer.length > 64) {
        return Promise.reject(new Error("Max key length is 64 bytes"));
      }
      initParam = getInitParam$1(bits, keyBuffer.length);
    }
    var outputSize = bits / 8;
    return WASMInterface(wasmJson$j, outputSize).then(function (wasm) {
      if (initParam > 512) {
        wasm.writeMemory(keyBuffer);
      }
      wasm.init(initParam);
      var obj = {
        init: initParam > 512 ? function () {
          wasm.writeMemory(keyBuffer);
          wasm.init(initParam);
          return obj;
        } : function () {
          wasm.init(initParam);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 128,
        digestSize: outputSize
      };
      return obj;
    });
  }
  function encodeResult(salt, options, res) {
    var parameters = ["m=".concat(options.memorySize), "t=".concat(options.iterations), "p=".concat(options.parallelism)].join(",");
    return "$argon2".concat(options.hashType, "$v=19$").concat(parameters, "$").concat(encodeBase64(salt, false), "$").concat(encodeBase64(res, false));
  }
  var uint32View = new DataView(new ArrayBuffer(4));
  function int32LE(x) {
    uint32View.setInt32(0, x, true);
    return new Uint8Array(uint32View.buffer);
  }
  function hashFunc(blake512, buf, len) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee6() {
      var blake, r, ret, vp, _i3, partialBytesNeeded, blakeSmall;
      return _regenerator["default"].wrap(function (_context6) {
        while (1) switch (_context6.prev = _context6.next) {
          case 0:
            if (!(len <= 64)) {
              _context6.next = 2;
              break;
            }
            _context6.next = 1;
            return createBLAKE2b(len * 8);
          case 1:
            blake = _context6.sent;
            blake.update(int32LE(len));
            blake.update(buf);
            return _context6.abrupt("return", blake.digest("binary"));
          case 2:
            r = Math.ceil(len / 32) - 2;
            ret = new Uint8Array(len);
            blake512.init();
            blake512.update(int32LE(len));
            blake512.update(buf);
            vp = blake512.digest("binary");
            ret.set(vp.subarray(0, 32), 0);
            for (_i3 = 1; _i3 < r; _i3++) {
              blake512.init();
              blake512.update(vp);
              vp = blake512.digest("binary");
              ret.set(vp.subarray(0, 32), _i3 * 32);
            }
            partialBytesNeeded = len - 32 * r;
            if (!(partialBytesNeeded === 64)) {
              _context6.next = 3;
              break;
            }
            blakeSmall = blake512;
            blakeSmall.init();
            _context6.next = 5;
            break;
          case 3:
            _context6.next = 4;
            return createBLAKE2b(partialBytesNeeded * 8);
          case 4:
            blakeSmall = _context6.sent;
          case 5:
            blakeSmall.update(vp);
            vp = blakeSmall.digest("binary");
            ret.set(vp.subarray(0, partialBytesNeeded), r * 32);
            return _context6.abrupt("return", ret);
          case 6:
          case "end":
            return _context6.stop();
        }
      }, _callee6);
    }));
  }
  function getHashType(type) {
    switch (type) {
      case "d":
        return 0;
      case "i":
        return 1;
      default:
        return 2;
    }
  }
  function argon2Internal(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee7() {
      var _a, parallelism, iterations, hashLength, password, salt, version, hashType, memorySize, secret, _yield$Promise$all, _yield$Promise$all2, argon2Interface, blake512, initVector, initVectorView, segments, lanes, param, H0, lane, position, chunk, C, res, _digestChars;
      return _regenerator["default"].wrap(function (_context7) {
        while (1) switch (_context7.prev = _context7.next) {
          case 0:
            parallelism = options.parallelism, iterations = options.iterations, hashLength = options.hashLength;
            password = getUInt8Buffer(options.password);
            salt = getUInt8Buffer(options.salt);
            version = 0x13;
            hashType = getHashType(options.hashType);
            memorySize = options.memorySize; // in KB
            secret = getUInt8Buffer((_a = options.secret) !== null && _a !== void 0 ? _a : "");
            _context7.next = 1;
            return Promise.all([WASMInterface(wasmJson$k, 1024), createBLAKE2b(512)]);
          case 1:
            _yield$Promise$all = _context7.sent;
            _yield$Promise$all2 = (0, _slicedToArray2["default"])(_yield$Promise$all, 2);
            argon2Interface = _yield$Promise$all2[0];
            blake512 = _yield$Promise$all2[1];
            // last block is for storing the init vector
            argon2Interface.setMemorySize(memorySize * 1024 + 1024);
            initVector = new Uint8Array(24);
            initVectorView = new DataView(initVector.buffer);
            initVectorView.setInt32(0, parallelism, true);
            initVectorView.setInt32(4, hashLength, true);
            initVectorView.setInt32(8, memorySize, true);
            initVectorView.setInt32(12, iterations, true);
            initVectorView.setInt32(16, version, true);
            initVectorView.setInt32(20, hashType, true);
            argon2Interface.writeMemory(initVector, memorySize * 1024);
            blake512.init();
            blake512.update(initVector);
            blake512.update(int32LE(password.length));
            blake512.update(password);
            blake512.update(int32LE(salt.length));
            blake512.update(salt);
            blake512.update(int32LE(secret.length));
            blake512.update(secret);
            blake512.update(int32LE(0)); // associatedData length + associatedData
            segments = Math.floor(memorySize / (parallelism * 4)); // length of each lane
            lanes = segments * 4;
            param = new Uint8Array(72);
            H0 = blake512.digest("binary");
            param.set(H0);
            lane = 0;
          case 2:
            if (!(lane < parallelism)) {
              _context7.next = 6;
              break;
            }
            param.set(int32LE(0), 64);
            param.set(int32LE(lane), 68);
            position = lane * lanes;
            _context7.next = 3;
            return hashFunc(blake512, param, 1024);
          case 3:
            chunk = _context7.sent;
            argon2Interface.writeMemory(chunk, position * 1024);
            position += 1;
            param.set(int32LE(1), 64);
            _context7.next = 4;
            return hashFunc(blake512, param, 1024);
          case 4:
            chunk = _context7.sent;
            argon2Interface.writeMemory(chunk, position * 1024);
          case 5:
            lane++;
            _context7.next = 2;
            break;
          case 6:
            C = new Uint8Array(1024);
            writeHexToUInt8(C, argon2Interface.calculate(new Uint8Array([]), memorySize));
            _context7.next = 7;
            return hashFunc(blake512, C, hashLength);
          case 7:
            res = _context7.sent;
            if (!(options.outputType === "hex")) {
              _context7.next = 8;
              break;
            }
            _digestChars = new Uint8Array(hashLength * 2);
            return _context7.abrupt("return", getDigestHex(_digestChars, res, hashLength));
          case 8:
            if (!(options.outputType === "encoded")) {
              _context7.next = 9;
              break;
            }
            return _context7.abrupt("return", encodeResult(salt, options, res));
          case 9:
            return _context7.abrupt("return", res);
          case 10:
          case "end":
            return _context7.stop();
        }
      }, _callee7);
    }));
  }
  var validateOptions$3 = function validateOptions$3(options) {
    var _a;
    if (!options || (0, _typeof2["default"])(options) !== "object") {
      throw new Error("Invalid options parameter. It requires an object.");
    }
    if (!options.password) {
      throw new Error("Password must be specified");
    }
    options.password = getUInt8Buffer(options.password);
    if (options.password.length < 1) {
      throw new Error("Password must be specified");
    }
    if (!options.salt) {
      throw new Error("Salt must be specified");
    }
    options.salt = getUInt8Buffer(options.salt);
    if (options.salt.length < 8) {
      throw new Error("Salt should be at least 8 bytes long");
    }
    options.secret = getUInt8Buffer((_a = options.secret) !== null && _a !== void 0 ? _a : "");
    if (!Number.isInteger(options.iterations) || options.iterations < 1) {
      throw new Error("Iterations should be a positive number");
    }
    if (!Number.isInteger(options.parallelism) || options.parallelism < 1) {
      throw new Error("Parallelism should be a positive number");
    }
    if (!Number.isInteger(options.hashLength) || options.hashLength < 4) {
      throw new Error("Hash length should be at least 4 bytes.");
    }
    if (!Number.isInteger(options.memorySize)) {
      throw new Error("Memory size should be specified.");
    }
    if (options.memorySize < 8 * options.parallelism) {
      throw new Error("Memory size should be at least 8 * parallelism.");
    }
    if (options.outputType === undefined) {
      options.outputType = "hex";
    }
    if (!["hex", "binary", "encoded"].includes(options.outputType)) {
      throw new Error("Insupported output type ".concat(options.outputType, ". Valid values: ['hex', 'binary', 'encoded']"));
    }
  };
  /**
   * Calculates hash using the argon2i password-hashing function
   * @returns Computed hash
   */
  function argon2i(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee8() {
      return _regenerator["default"].wrap(function (_context8) {
        while (1) switch (_context8.prev = _context8.next) {
          case 0:
            validateOptions$3(options);
            return _context8.abrupt("return", argon2Internal(Object.assign(Object.assign({}, options), {
              hashType: "i"
            })));
          case 1:
          case "end":
            return _context8.stop();
        }
      }, _callee8);
    }));
  }
  /**
   * Calculates hash using the argon2id password-hashing function
   * @returns Computed hash
   */
  function argon2id(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee9() {
      return _regenerator["default"].wrap(function (_context9) {
        while (1) switch (_context9.prev = _context9.next) {
          case 0:
            validateOptions$3(options);
            return _context9.abrupt("return", argon2Internal(Object.assign(Object.assign({}, options), {
              hashType: "id"
            })));
          case 1:
          case "end":
            return _context9.stop();
        }
      }, _callee9);
    }));
  }
  /**
   * Calculates hash using the argon2d password-hashing function
   * @returns Computed hash
   */
  function argon2d(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee0() {
      return _regenerator["default"].wrap(function (_context0) {
        while (1) switch (_context0.prev = _context0.next) {
          case 0:
            validateOptions$3(options);
            return _context0.abrupt("return", argon2Internal(Object.assign(Object.assign({}, options), {
              hashType: "d"
            })));
          case 1:
          case "end":
            return _context0.stop();
        }
      }, _callee0);
    }));
  }
  var getHashParameters = function getHashParameters(password, encoded, secret) {
    var regex = /^\$argon2(id|i|d)\$v=([0-9]+)\$((?:[mtp]=[0-9]+,){2}[mtp]=[0-9]+)\$([A-Za-z0-9+/]+)\$([A-Za-z0-9+/]+)$/;
    var match = encoded.match(regex);
    if (!match) {
      throw new Error("Invalid hash");
    }
    var _match = (0, _slicedToArray2["default"])(match, 6),
      hashType = _match[1],
      version = _match[2],
      parameters = _match[3],
      salt = _match[4],
      hash = _match[5];
    if (version !== "19") {
      throw new Error("Unsupported version: ".concat(version));
    }
    var parsedParameters = {};
    var paramMap = {
      m: "memorySize",
      p: "parallelism",
      t: "iterations"
    };
    var _iterator = _createForOfIteratorHelper(parameters.split(",")),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var x = _step.value;
        var _x$split = x.split("="),
          _x$split2 = (0, _slicedToArray2["default"])(_x$split, 2),
          n = _x$split2[0],
          v = _x$split2[1];
        parsedParameters[paramMap[n]] = Number(v);
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    return Object.assign(Object.assign({}, parsedParameters), {
      password: password,
      secret: secret,
      hashType: hashType,
      salt: decodeBase64(salt),
      hashLength: getDecodeBase64Length(hash),
      outputType: "encoded"
    });
  };
  var validateVerifyOptions$1 = function validateVerifyOptions$1(options) {
    if (!options || (0, _typeof2["default"])(options) !== "object") {
      throw new Error("Invalid options parameter. It requires an object.");
    }
    if (options.hash === undefined || typeof options.hash !== "string") {
      throw new Error("Hash should be specified");
    }
  };
  /**
   * Verifies password using the argon2 password-hashing function
   * @returns True if the encoded hash matches the password
   */
  function argon2Verify(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee1() {
      var params, hashStart, result;
      return _regenerator["default"].wrap(function (_context1) {
        while (1) switch (_context1.prev = _context1.next) {
          case 0:
            validateVerifyOptions$1(options);
            params = getHashParameters(options.password, options.hash, options.secret);
            validateOptions$3(params);
            hashStart = options.hash.lastIndexOf("$") + 1;
            _context1.next = 1;
            return argon2Internal(params);
          case 1:
            result = _context1.sent;
            return _context1.abrupt("return", result.substring(hashStart) === options.hash.substring(hashStart));
          case 2:
          case "end":
            return _context1.stop();
        }
      }, _callee1);
    }));
  }
  var name$i = "blake2s";
  var data$i = "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";
  var hash$i = "5c0ff166";
  var wasmJson$i = {
    name: name$i,
    data: data$i,
    hash: hash$i
  };
  var mutex$j = new Mutex();
  var wasmCache$j = null;
  function validateBits$3(bits) {
    if (!Number.isInteger(bits) || bits < 8 || bits > 256 || bits % 8 !== 0) {
      return new Error("Invalid variant! Valid values: 8, 16, ..., 256");
    }
    return null;
  }
  function getInitParam(outputBits, keyBits) {
    return outputBits | keyBits << 16;
  }
  /**
   * Calculates BLAKE2s hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param bits Number of output bits, which has to be a number
   *             divisible by 8, between 8 and 256. Defaults to 256.
   * @param key Optional key (string, Buffer or TypedArray). Maximum length is 32 bytes.
   * @returns Computed hash as a hexadecimal string
   */
  function blake2s(data) {
    var bits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 256;
    var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    if (validateBits$3(bits)) {
      return Promise.reject(validateBits$3(bits));
    }
    var keyBuffer = null;
    var initParam = bits;
    if (key !== null) {
      keyBuffer = getUInt8Buffer(key);
      if (keyBuffer.length > 32) {
        return Promise.reject(new Error("Max key length is 32 bytes"));
      }
      initParam = getInitParam(bits, keyBuffer.length);
    }
    var hashLength = bits / 8;
    if (wasmCache$j === null || wasmCache$j.hashLength !== hashLength) {
      return lockedCreate(mutex$j, wasmJson$i, hashLength).then(function (wasm) {
        wasmCache$j = wasm;
        if (initParam > 512) {
          wasmCache$j.writeMemory(keyBuffer);
        }
        return wasmCache$j.calculate(data, initParam);
      });
    }
    try {
      if (initParam > 512) {
        wasmCache$j.writeMemory(keyBuffer);
      }
      var _hash3 = wasmCache$j.calculate(data, initParam);
      return Promise.resolve(_hash3);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new BLAKE2s hash instance
   * @param bits Number of output bits, which has to be a number
   *             divisible by 8, between 8 and 256. Defaults to 256.
   * @param key Optional key (string, Buffer or TypedArray). Maximum length is 32 bytes.
   */
  function createBLAKE2s() {
    var bits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 256;
    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    if (validateBits$3(bits)) {
      return Promise.reject(validateBits$3(bits));
    }
    var keyBuffer = null;
    var initParam = bits;
    if (key !== null) {
      keyBuffer = getUInt8Buffer(key);
      if (keyBuffer.length > 32) {
        return Promise.reject(new Error("Max key length is 32 bytes"));
      }
      initParam = getInitParam(bits, keyBuffer.length);
    }
    var outputSize = bits / 8;
    return WASMInterface(wasmJson$i, outputSize).then(function (wasm) {
      if (initParam > 512) {
        wasm.writeMemory(keyBuffer);
      }
      wasm.init(initParam);
      var obj = {
        init: initParam > 512 ? function () {
          wasm.writeMemory(keyBuffer);
          wasm.init(initParam);
          return obj;
        } : function () {
          wasm.init(initParam);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: outputSize
      };
      return obj;
    });
  }
  var name$h = "blake3";
  var data$h = "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IQEgAkFAaiICQcAASw0ACwsCQEHAACAHQf8BcSIGayIFIAIgBSACSRsiCUUNACAJQQNxIQtBACEFAkAgCUEESQ0AIAAgBmohByAJQfwAcSEIQQAhBQNAIAcgBWoiAkEoaiABIAVqIgotAAA6AAAgAkEpaiAKQQFqLQAAOgAAIAJBKmogCkECai0AADoAACACQStqIApBA2otAAA6AAAgCCAFQQRqIgVHDQALCwJAIAtFDQAgASAFaiEBIAUgBmogAGpBKGohBQNAIAUgAS0AADoAACABQQFqIQEgBUEBaiEFIAtBf2oiCw0ACwsgAC0AaCEHCyAAIAcgCWo6AGggA0HAAGokAAveAwQFfwN+BX8GfiMAQdABayIBJAACQCAAe6ciAkEALQCQigEiA08NAEEALQCKigFBBHIhBCABQShqIQVBACkDmIkBIQBBACkDkIkBIQZBACkDiIkBIQdBACkDgIkBIQggAyEJA0AgASAANwMYIAEgBjcDECABIAc3AwggASAINwMAIAEgA0EFdCIDQdGJAWoiCikDADcDKCABIANB2YkBaiILKQMANwMwIAEgA0HhiQFqIgwpAwA3AzggASADQemJAWoiDSkDADcDQCABIANB8YkBaikDADcDSCABIANB+YkBaikDADcDUCABIANBgYoBaikDADcDWCADQYmKAWopAwAhDiABQcAAOgBoIAEgDjcDYCABQgA3AyAgASAEOgBpIAEgADcDiAEgASAGNwOAASABIAc3A3ggASAINwNwIAFBkAFqIAFB8ABqIAVBwABCACAEQf8BcRACIAEpA7ABIQ4gASkDkAEhDyABKQO4ASEQIAEpA5gBIREgASkDwAEhEiABKQOgASETIA0gASkDyAEgASkDqAGFNwMAIAwgEiAThTcDACALIBAgEYU3AwAgCiAOIA+FNwMAIAlBf2oiCUH/AXEiAyACSw0AC0EAIAk6AJCKAQsgAUHQAWokAAvHCQIKfwV+IwBB4AJrIgUkAAJAAkAgAUGACEsNACAFIAA2AvwBIAVB/AFqIAFBgAhGIgZBECACQQEgA0EBQQIgBBABIAZBCnQiByABTw0BIAVB4ABqIgZCADcDACAFQdgAaiIIQgA3AwAgBUHQAGoiCUIANwMAIAVByABqIgpCADcDACAFQcAAaiILQgA3AwAgBUE4aiIMQgA3AwAgBUEwaiINQgA3AwAgBSADOgBqIAVCADcDKCAFQQA7AWggBUEAKQOAiQE3AwAgBUEAKQOIiQE3AwggBUEAKQOQiQE3AxAgBUEAKQOYiQE3AxggBSABQYAIRiIOrSACfDcDICAFIAAgB2pBACABIA4bEAQgBUGIAWpBMGogDSkDADcDACAFQYgBakE4aiAMKQMANwMAIAUgBSkDACIPNwOIASAFIAUpAwgiEDcDkAEgBSAFKQMQIhE3A5gBIAUgBSkDGCISNwOgASAFIAUpAyg3A7ABIAUtAGohACAFLQBpIQcgBSkDICECIAUtAGghASAFQYgBakHAAGogCykDADcDACAFQYgBakHIAGogCikDADcDACAFQYgBakHQAGogCSkDADcDACAFQYgBakHYAGogCCkDADcDACAFQYgBakHgAGogBikDADcDACAFIAE6APABIAUgAjcDqAEgBSAAIAdFckECciIAOgDxASAFIBI3A5gCIAUgETcDkAIgBSAQNwOIAiAFIA83A4ACIAVBoAJqIAVBgAJqIAVBsAFqIAEgAiAAQf8BcRACIAUpA8ACIQIgBSkDoAIhDyAFKQPIAiEQIAUpA6gCIREgBSkD0AIhEiAFKQOwAiETIAQgDkEFdGoiASAFKQPYAiAFKQO4AoU3AxggASASIBOFNwMQIAEgECARhTcDCCABIAIgD4U3AwBBAkEBIA4bIQYMAQsgAEIBIAFBf2pBCnZBAXKteUI/hYYiD6dBCnQiDiACIAMgBRAGIQcgACAOaiABIA5rIA9C////AYMgAnwgAyAFQcAAQSAgDkGACEsbahAGIQECQCAHQQFHDQAgBCAFKQMANwMAIAQgBSkDCDcDCCAEIAUpAxA3AxAgBCAFKQMYNwMYIAQgBSkDIDcDICAEIAUpAyg3AyggBCAFKQMwNwMwIAQgBSkDODcDOEECIQYMAQtBACEGQQAhAAJAIAEgB2oiCUECSQ0AIAlBfmoiCkEBdkEBaiIGQQNxIQ5BACEHAkAgCkEGSQ0AIAZB/P///wdxIQhBACEHIAVBiAFqIQEgBSEAA0AgASAANgIAIAFBDGogAEHAAWo2AgAgAUEIaiAAQYABajYCACABQQRqIABBwABqNgIAIABBgAJqIQAgAUEQaiEBIAggB0EEaiIHRw0ACwsgCkF+cSEIAkAgDkUNACAFIAdBBnRqIQEgBUGIAWogB0ECdGohAANAIAAgATYCACABQcAAaiEBIABBBGohACAOQX9qIg4NAAsLIAhBAmohAAsgBUGIAWogBkEBQgBBACADQQRyQQBBACAEEAEgACAJTw0AIAQgBkEFdGoiASAFIAZBBnRqIgApAwA3AwAgASAAKQMINwMIIAEgACkDEDcDECABIAApAxg3AxggBkEBaiEGCyAFQeACaiQAIAYLrRAIAn8EfgF/AX4EfwR+BH8EfiMAQfABayIBJAACQCAARQ0AAkBBAC0AkIoBIgINACABQTBqQQApA9CJATcDACABQThqQQApA9iJATcDACABQQApA6CJASIDNwMAIAFBACkDqIkBIgQ3AwggAUEAKQOwiQEiBTcDECABQQApA7iJASIGNwMYIAFBACkDyIkBNwMoQQAtAIqKASECQQAtAImKASEHQQApA8CJASEIQQAtAIiKASEJIAFBwABqQQApA+CJATcDACABQcgAakEAKQPoiQE3AwAgAUHQAGpBACkD8IkBNwMAIAFB2ABqQQApA/iJATcDACABQeAAakEAKQOAigE3AwAgASAJOgBoIAEgCDcDICABIAIgB0VyIgJBAnI6AGkgAUEoaiEKQgAhCEGACSELIAJBCnJB/wFxIQwDQCABQbABaiABIAogCUH/AXEgCCAMEAIgASABKQPQASINIAEpA7ABhTcDcCABIAEpA9gBIg4gASkDuAGFNwN4IAEgASkD4AEiDyABKQPAAYU3A4ABIAEgASkD6AEiECAGhTcDqAEgASAPIAWFNwOgASABIA4gBIU3A5gBIAEgDSADhTcDkAEgASAQIAEpA8gBhTcDiAEgAEHAACAAQcAASRsiEUF/aiESAkACQCARQQdxIhMNACABQfAAaiECIAshByARIRQMAQsgEUH4AHEhFCABQfAAaiECIAshBwNAIAcgAi0AADoAACAHQQFqIQcgAkEBaiECIBNBf2oiEw0ACwsCQCASQQdJDQADQCAHIAIpAAA3AAAgB0EIaiEHIAJBCGohAiAUQXhqIhQNAAsLIAhCAXwhCCALIBFqIQsgACARayIADQAMAgsLAkACQAJAQQAtAImKASIHQQZ0QQBBAC0AiIoBIhFrRg0AIAEgEToAaCABQQApA4CKATcDYCABQQApA/iJATcDWCABQQApA/CJATcDUCABQQApA+iJATcDSCABQQApA+CJATcDQCABQQApA9iJATcDOCABQQApA9CJATcDMCABQQApA8iJATcDKCABQQApA8CJASIINwMgIAFBACkDuIkBIgM3AxggAUEAKQOwiQEiBDcDECABQQApA6iJASIFNwMIIAFBACkDoIkBIgY3AwAgAUEALQCKigEiEyAHRXJBAnIiCzoAaSATQQRyIRNBACkDmIkBIQ1BACkDkIkBIQ5BACkDiIkBIQ9BACkDgIkBIRAMAQtBwAAhESABQcAAOgBoQgAhCCABQgA3AyAgAUEAKQOYiQEiDTcDGCABQQApA5CJASIONwMQIAFBACkDiIkBIg83AwggAUEAKQOAiQEiEDcDACABQQAtAIqKAUEEciITOgBpIAEgAkF+aiICQQV0IgdByYoBaikDADcDYCABIAdBwYoBaikDADcDWCABIAdBuYoBaikDADcDUCABIAdBsYoBaikDADcDSCABIAdBqYoBaikDADcDQCABIAdBoYoBaikDADcDOCABIAdBmYoBaikDADcDMCABIAdBkYoBaikDADcDKCATIQsgECEGIA8hBSAOIQQgDSEDIAJFDQELIAJBf2oiB0EFdCIUQZGKAWopAwAhFSAUQZmKAWopAwAhFiAUQaGKAWopAwAhFyAUQamKAWopAwAhGCABIAM3A4gBIAEgBDcDgAEgASAFNwN4IAEgBjcDcCABQbABaiABQfAAaiABQShqIhQgESAIIAtB/wFxEAIgASATOgBpIAFBwAA6AGggASAYNwNAIAEgFzcDOCABIBY3AzAgASAVNwMoIAFCADcDICABIA03AxggASAONwMQIAEgDzcDCCABIBA3AwAgASABKQPoASABKQPIAYU3A2AgASABKQPgASABKQPAAYU3A1ggASABKQPYASABKQO4AYU3A1AgASABKQPQASABKQOwAYU3A0ggB0UNACACQQV0QemJAWohAiATQf8BcSERA0AgAkFoaikDACEIIAJBcGopAwAhAyACQXhqKQMAIQQgAikDACEFIAEgDTcDiAEgASAONwOAASABIA83A3ggASAQNwNwIAFBsAFqIAFB8ABqIBRBwABCACAREAIgASATOgBpIAFBwAA6AGggASAFNwNAIAEgBDcDOCABIAM3AzAgASAINwMoIAFCADcDICABIA03AxggASAONwMQIAEgDzcDCCABIBA3AwAgASABKQPoASABKQPIAYU3A2AgASABKQPgASABKQPAAYU3A1ggASABKQPYASABKQO4AYU3A1AgASABKQPQASABKQOwAYU3A0ggAkFgaiECIAdBf2oiBw0ACwsgAUEoaiEJQgAhCEGACSELIBNBCHJB/wFxIQoDQCABQbABaiABIAlBwAAgCCAKEAIgASABKQPQASIDIAEpA7ABhTcDcCABIAEpA9gBIgQgASkDuAGFNwN4IAEgASkD4AEiBSABKQPAAYU3A4ABIAEgDSABKQPoASIGhTcDqAEgASAOIAWFNwOgASABIA8gBIU3A5gBIAEgECADhTcDkAEgASAGIAEpA8gBhTcDiAEgAEHAACAAQcAASRsiEUF/aiESAkACQCARQQdxIhMNACABQfAAaiECIAshByARIRQMAQsgEUH4AHEhFCABQfAAaiECIAshBwNAIAcgAi0AADoAACAHQQFqIQcgAkEBaiECIBNBf2oiEw0ACwsCQCASQQdJDQADQCAHIAIpAAA3AAAgB0EIaiEHIAJBCGohAiAUQXhqIhQNAAsLIAhCAXwhCCALIBFqIQsgACARayIADQALCyABQfABaiQAC6MCAQR+AkACQCAAQSBGDQBCq7OP/JGjs/DbACEBQv+kuYjFkdqCm38hAkLy5rvjo6f9p6V/IQNC58yn0NbQ67O7fyEEQQAhAAwBC0EAKQOYCSEBQQApA5AJIQJBACkDiAkhA0EAKQOACSEEQRAhAAtBACAAOgCKigFBAEIANwOAigFBAEIANwP4iQFBAEIANwPwiQFBAEIANwPoiQFBAEIANwPgiQFBAEIANwPYiQFBAEIANwPQiQFBAEIANwPIiQFBAEIANwPAiQFBACABNwO4iQFBACACNwOwiQFBACADNwOoiQFBACAENwOgiQFBACABNwOYiQFBACACNwOQiQFBACADNwOIiQFBACAENwOAiQFBAEEAOgCQigFBAEEAOwGIigELBgAgABADCwYAIAAQBwsGAEGAiQELqwIBBH4CQAJAIAFBIEYNAEKrs4/8kaOz8NsAIQNC/6S5iMWR2oKbfyEEQvLmu+Ojp/2npX8hBULnzKfQ1tDrs7t/IQZBACEBDAELQQApA5gJIQNBACkDkAkhBEEAKQOICSEFQQApA4AJIQZBECEBC0EAIAE6AIqKAUEAQgA3A4CKAUEAQgA3A/iJAUEAQgA3A/CJAUEAQgA3A+iJAUEAQgA3A+CJAUEAQgA3A9iJAUEAQgA3A9CJAUEAQgA3A8iJAUEAQgA3A8CJAUEAIAM3A7iJAUEAIAQ3A7CJAUEAIAU3A6iJAUEAIAY3A6CJAUEAIAM3A5iJAUEAIAQ3A5CJAUEAIAU3A4iJAUEAIAY3A4CJAUEAQQA6AJCKAUEAQQA7AYiKASAAEAMgAhAHCwsLAQBBgAgLBHgHAAA=";
  var hash$h = "215d875f";
  var wasmJson$h = {
    name: name$h,
    data: data$h,
    hash: hash$h
  };
  var mutex$i = new Mutex();
  var wasmCache$i = null;
  function validateBits$2(bits) {
    if (!Number.isInteger(bits) || bits < 8 || bits % 8 !== 0) {
      return new Error("Invalid variant! Valid values: 8, 16, ...");
    }
    return null;
  }
  /**
   * Calculates BLAKE3 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param bits Number of output bits, which has to be a number
   *             divisible by 8. Defaults to 256.
   * @param key Optional key (string, Buffer or TypedArray). Length should be 32 bytes.
   * @returns Computed hash as a hexadecimal string
   */
  function blake3(data) {
    var bits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 256;
    var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    if (validateBits$2(bits)) {
      return Promise.reject(validateBits$2(bits));
    }
    var keyBuffer = null;
    var initParam = 0; // key is empty by default
    if (key !== null) {
      keyBuffer = getUInt8Buffer(key);
      if (keyBuffer.length !== 32) {
        return Promise.reject(new Error("Key length must be exactly 32 bytes"));
      }
      initParam = 32;
    }
    var hashLength = bits / 8;
    var digestParam = hashLength;
    if (wasmCache$i === null || wasmCache$i.hashLength !== hashLength) {
      return lockedCreate(mutex$i, wasmJson$h, hashLength).then(function (wasm) {
        wasmCache$i = wasm;
        if (initParam === 32) {
          wasmCache$i.writeMemory(keyBuffer);
        }
        return wasmCache$i.calculate(data, initParam, digestParam);
      });
    }
    try {
      if (initParam === 32) {
        wasmCache$i.writeMemory(keyBuffer);
      }
      var _hash4 = wasmCache$i.calculate(data, initParam, digestParam);
      return Promise.resolve(_hash4);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new BLAKE3 hash instance
   * @param bits Number of output bits, which has to be a number
   *             divisible by 8. Defaults to 256.
   * @param key Optional key (string, Buffer or TypedArray). Length should be 32 bytes.
   */
  function createBLAKE3() {
    var bits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 256;
    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    if (validateBits$2(bits)) {
      return Promise.reject(validateBits$2(bits));
    }
    var keyBuffer = null;
    var initParam = 0; // key is empty by default
    if (key !== null) {
      keyBuffer = getUInt8Buffer(key);
      if (keyBuffer.length !== 32) {
        return Promise.reject(new Error("Key length must be exactly 32 bytes"));
      }
      initParam = 32;
    }
    var outputSize = bits / 8;
    var digestParam = outputSize;
    return WASMInterface(wasmJson$h, outputSize).then(function (wasm) {
      if (initParam === 32) {
        wasm.writeMemory(keyBuffer);
      }
      wasm.init(initParam);
      var obj = {
        init: initParam === 32 ? function () {
          wasm.writeMemory(keyBuffer);
          wasm.init(initParam);
          return obj;
        } : function () {
          wasm.init(initParam);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType, digestParam);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: outputSize
      };
      return obj;
    });
  }
  var name$g = "crc32";
  var data$g = "AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwUEAQECAgYOAn8BQZDJBQt/AEGACAsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQAAgtIYXNoX1VwZGF0ZQADCkhhc2hfRmluYWwABA1IYXNoX0dldFN0YXRlAAUOSGFzaF9DYWxjdWxhdGUABgpTVEFURV9TSVpFAwEKkggHBQBBgAkLwwMBA39BgIkBIQFBACECA0AgAUEAQQBBAEEAQQBBAEEAQQAgAkEBcWsgAHEgAkEBdnMiA0EBcWsgAHEgA0EBdnMiA0EBcWsgAHEgA0EBdnMiA0EBcWsgAHEgA0EBdnMiA0EBcWsgAHEgA0EBdnMiA0EBcWsgAHEgA0EBdnMiA0EBcWsgAHEgA0EBdnMiA0EBcWsgAHEgA0EBdnM2AgAgAUEEaiEBIAJBAWoiAkGAAkcNAAtBACEAA0AgAEGEkQFqIABBhIkBaigCACICQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEmQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYShAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhKkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEsQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYS5AWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhMEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzNgIAIABBBGoiAEH8B0cNAAsLJwACQEEAKAKAyQEgAEYNACAAEAFBACAANgKAyQELQQBBADYChMkBC4gDAQN/QQAoAoTJAUF/cyEBQYAJIQICQCAAQQhJDQBBgAkhAgNAIAJBBGooAgAiA0EOdkH8B3FBgJEBaigCACADQRZ2QfwHcUGAiQFqKAIAcyADQQZ2QfwHcUGAmQFqKAIAcyADQf8BcUECdEGAoQFqKAIAcyACKAIAIAFzIgFBFnZB/AdxQYCpAWooAgBzIAFBDnZB/AdxQYCxAWooAgBzIAFBBnZB/AdxQYC5AWooAgBzIAFB/wFxQQJ0QYDBAWooAgBzIQEgAkEIaiECIABBeGoiAEEHSw0ACwsCQCAARQ0AAkACQCAAQQFxDQAgACEDDAELIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiEDCyAAQQFGDQADQCABQf8BcSACLQAAc0ECdEGAiQFqKAIAIAFBCHZzIgFB/wFxIAJBAWotAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQJqIQIgA0F+aiIDDQALC0EAIAFBf3M2AoTJAQsyAQF/QQBBACgChMkBIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyNgKACQsGAEGEyQELWQACQEEAKAKAyQEgAUYNACABEAFBACABNgKAyQELQQBBADYChMkBIAAQA0EAQQAoAoTJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCgAkLCwsBAEGACAsEBAAAAA==";
  var hash$g = "d2eba587";
  var wasmJson$g = {
    name: name$g,
    data: data$g,
    hash: hash$g
  };
  var mutex$h = new Mutex();
  var wasmCache$h = null;
  function validatePoly(poly) {
    if (!Number.isInteger(poly) || poly < 0 || poly > 0xffffffff) {
      return new Error("Polynomial must be a valid 32-bit long unsigned integer");
    }
    return null;
  }
  /**
   * Calculates CRC-32 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param polynomial Input polynomial (defaults to 0xedb88320, for CRC32C use 0x82f63b78)
   * @returns Computed hash as a hexadecimal string
   */
  function crc32(data) {
    var polynomial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0xedb88320;
    if (validatePoly(polynomial)) {
      return Promise.reject(validatePoly(polynomial));
    }
    if (wasmCache$h === null) {
      return lockedCreate(mutex$h, wasmJson$g, 4).then(function (wasm) {
        wasmCache$h = wasm;
        return wasmCache$h.calculate(data, polynomial);
      });
    }
    try {
      var _hash5 = wasmCache$h.calculate(data, polynomial);
      return Promise.resolve(_hash5);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new CRC-32 hash instance
   * @param polynomial Input polynomial (defaults to 0xedb88320, for CRC32C use 0x82f63b78)
   */
  function createCRC32() {
    var polynomial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0xedb88320;
    if (validatePoly(polynomial)) {
      return Promise.reject(validatePoly(polynomial));
    }
    return WASMInterface(wasmJson$g, 4).then(function (wasm) {
      wasm.init(polynomial);
      var obj = {
        init: function init() {
          wasm.init(polynomial);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 4,
        digestSize: 4
      };
      return obj;
    });
  }
  var name$f = "crc64";
  var data$f = "AGFzbQEAAAABDANgAAF/YAAAYAF/AAMHBgABAgEAAQUEAQECAgYOAn8BQZCJBgt/AEGACAsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQAAQtIYXNoX1VwZGF0ZQACCkhhc2hfRmluYWwAAw1IYXNoX0dldFN0YXRlAAQOSGFzaF9DYWxjdWxhdGUABQpTVEFURV9TSVpFAwEKgwgGBQBBgAkL9QMDAX4BfwJ+AkBBACkDgIkCQQApA4AJIgBRDQBBgIkBIQFCACECA0AgAUIAQgBCAEIAQgBCAEIAQgAgAkIBg30gAIMgAkIBiIUiA0IBg30gAIMgA0IBiIUiA0IBg30gAIMgA0IBiIUiA0IBg30gAIMgA0IBiIUiA0IBg30gAIMgA0IBiIUiA0IBg30gAIMgA0IBiIUiA0IBg30gAIMgA0IBiIUiA0IBg30gAIMgA0IBiIU3AwAgAUEIaiEBIAJCAXwiAkKAAlINAAtBACEBA0AgAUGImQFqIAFBiIkBaikDACICp0H/AXFBA3RBgIkBaikDACACQgiIhSICNwMAIAFBiKkBaiACp0H/AXFBA3RBgIkBaikDACACQgiIhSICNwMAIAFBiLkBaiACp0H/AXFBA3RBgIkBaikDACACQgiIhSICNwMAIAFBiMkBaiACp0H/AXFBA3RBgIkBaikDACACQgiIhSICNwMAIAFBiNkBaiACp0H/AXFBA3RBgIkBaikDACACQgiIhSICNwMAIAFBiOkBaiACp0H/AXFBA3RBgIkBaikDACACQgiIhSICNwMAIAFBiPkBaiACp0H/AXFBA3RBgIkBaikDACACQgiIhTcDACABQQhqIgFB+A9HDQALQQAgADcDgIkCC0EAQgA3A4iJAguUAwIBfgJ/QQApA4iJAkJ/hSEBQYAJIQICQCAAQQhJDQBBgAkhAgNAIAIpAwAgAYUiAUIwiKdB/wFxQQN0QYCZAWopAwAgAUI4iKdBA3RBgIkBaikDAIUgAUIoiKdB/wFxQQN0QYCpAWopAwCFIAFCIIinQf8BcUEDdEGAuQFqKQMAhSABpyIDQRV2QfgPcUGAyQFqKQMAhSADQQ12QfgPcUGA2QFqKQMAhSADQQV2QfgPcUGA6QFqKQMAhSADQf8BcUEDdEGA+QFqKQMAhSEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAAJAAkAgAEEBcQ0AIAAhAwwBCyABQv8BgyACMQAAhadBA3RBgIkBaikDACABQgiIhSEBIAJBAWohAiAAQX9qIQMLIABBAUYNAANAIAFC/wGDIAIxAACFp0EDdEGAiQFqKQMAIAFCCIiFIgFC/wGDIAJBAWoxAACFp0EDdEGAiQFqKQMAIAFCCIiFIQEgAkECaiECIANBfmoiAw0ACwtBACABQn+FNwOIiQILZAEBfkEAQQApA4iJAiIAQjiGIABCgP4Dg0IohoQgAEKAgPwHg0IYhiAAQoCAgPgPg0IIhoSEIABCCIhCgICA+A+DIABCGIhCgID8B4OEIABCKIhCgP4DgyAAQjiIhISENwOACQsGAEGIiQILAgALCwsBAEGACAsECAAAAA==";
  var hash$f = "c5ac6c16";
  var wasmJson$f = {
    name: name$f,
    data: data$f,
    hash: hash$f
  };
  var mutex$g = new Mutex();
  var wasmCache$g = null;
  var polyBuffer = new Uint8Array(8);
  function parsePoly(poly) {
    var errText = "Polynomial must be provided as a 16 char long hex string";
    if (typeof poly !== "string" || poly.length !== 16) {
      return {
        hi: 0,
        lo: 0,
        err: new Error(errText)
      };
    }
    var hi = Number("0x".concat(poly.slice(0, 8)));
    var lo = Number("0x".concat(poly.slice(8)));
    if (Number.isNaN(hi) || Number.isNaN(lo)) {
      return {
        hi: hi,
        lo: lo,
        err: new Error(errText)
      };
    }
    return {
      hi: hi,
      lo: lo,
      err: null
    };
  }
  function writePoly(arr, lo, hi) {
    // write in little-endian format
    var buffer = new DataView(arr);
    buffer.setUint32(0, lo, true);
    buffer.setUint32(4, hi, true);
  }
  /**
   * Calculates CRC-64 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param polynomial Input polynomial (defaults to 'c96c5795d7870f42' - ECMA)
   * @returns Computed hash as a hexadecimal string
   */
  function crc64(data) {
    var polynomial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "c96c5795d7870f42";
    var _parsePoly = parsePoly(polynomial),
      hi = _parsePoly.hi,
      lo = _parsePoly.lo,
      err = _parsePoly.err;
    if (err !== null) {
      return Promise.reject(err);
    }
    if (wasmCache$g === null) {
      return lockedCreate(mutex$g, wasmJson$f, 8).then(function (wasm) {
        wasmCache$g = wasm;
        writePoly(polyBuffer.buffer, lo, hi);
        wasmCache$g.writeMemory(polyBuffer);
        return wasmCache$g.calculate(data);
      });
    }
    try {
      writePoly(polyBuffer.buffer, lo, hi);
      wasmCache$g.writeMemory(polyBuffer);
      var _hash6 = wasmCache$g.calculate(data);
      return Promise.resolve(_hash6);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new CRC-64 hash instance
   * @param polynomial Input polynomial (defaults to 'c96c5795d7870f42' - ECMA)
   */
  function createCRC64() {
    var polynomial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "c96c5795d7870f42";
    var _parsePoly2 = parsePoly(polynomial),
      hi = _parsePoly2.hi,
      lo = _parsePoly2.lo,
      err = _parsePoly2.err;
    if (err !== null) {
      return Promise.reject(err);
    }
    return WASMInterface(wasmJson$f, 8).then(function (wasm) {
      var instanceBuffer = new Uint8Array(8);
      writePoly(instanceBuffer.buffer, lo, hi);
      wasm.writeMemory(instanceBuffer);
      wasm.init();
      var obj = {
        init: function init() {
          wasm.writeMemory(instanceBuffer);
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 8,
        digestSize: 8
      };
      return obj;
    });
  }
  var name$e = "md4";
  var data$e = "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";
  var hash$e = "bd8ce7c7";
  var wasmJson$e = {
    name: name$e,
    data: data$e,
    hash: hash$e
  };
  var mutex$f = new Mutex();
  var wasmCache$f = null;
  /**
   * Calculates MD4 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function md4(data) {
    if (wasmCache$f === null) {
      return lockedCreate(mutex$f, wasmJson$e, 16).then(function (wasm) {
        wasmCache$f = wasm;
        return wasmCache$f.calculate(data);
      });
    }
    try {
      var _hash7 = wasmCache$f.calculate(data);
      return Promise.resolve(_hash7);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new MD4 hash instance
   */
  function createMD4() {
    return WASMInterface(wasmJson$e, 16).then(function (wasm) {
      wasm.init();
      var obj = {
        init: function init() {
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 16
      };
      return obj;
    });
  }
  var name$d = "md5";
  var data$d = "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";
  var hash$d = "e6508e4b";
  var wasmJson$d = {
    name: name$d,
    data: data$d,
    hash: hash$d
  };
  var mutex$e = new Mutex();
  var wasmCache$e = null;
  /**
   * Calculates MD5 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function md5(data) {
    if (wasmCache$e === null) {
      return lockedCreate(mutex$e, wasmJson$d, 16).then(function (wasm) {
        wasmCache$e = wasm;
        return wasmCache$e.calculate(data);
      });
    }
    try {
      var _hash8 = wasmCache$e.calculate(data);
      return Promise.resolve(_hash8);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new MD5 hash instance
   */
  function createMD5() {
    return WASMInterface(wasmJson$d, 16).then(function (wasm) {
      wasm.init();
      var obj = {
        init: function init() {
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 16
      };
      return obj;
    });
  }
  var name$c = "sha1";
  var data$c = "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";
  var hash$c = "6b530c24";
  var wasmJson$c = {
    name: name$c,
    data: data$c,
    hash: hash$c
  };
  var mutex$d = new Mutex();
  var wasmCache$d = null;
  /**
   * Calculates SHA-1 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function sha1(data) {
    if (wasmCache$d === null) {
      return lockedCreate(mutex$d, wasmJson$c, 20).then(function (wasm) {
        wasmCache$d = wasm;
        return wasmCache$d.calculate(data);
      });
    }
    try {
      var _hash9 = wasmCache$d.calculate(data);
      return Promise.resolve(_hash9);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new SHA-1 hash instance
   */
  function createSHA1() {
    return WASMInterface(wasmJson$c, 20).then(function (wasm) {
      wasm.init();
      var obj = {
        init: function init() {
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 20
      };
      return obj;
    });
  }
  var name$b = "sha3";
  var data$b = "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";
  var hash$b = "fb24e536";
  var wasmJson$b = {
    name: name$b,
    data: data$b,
    hash: hash$b
  };
  var mutex$c = new Mutex();
  var wasmCache$c = null;
  function validateBits$1(bits) {
    if (![224, 256, 384, 512].includes(bits)) {
      return new Error("Invalid variant! Valid values: 224, 256, 384, 512");
    }
    return null;
  }
  /**
   * Calculates SHA-3 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param bits Number of output bits. Valid values: 224, 256, 384, 512
   * @returns Computed hash as a hexadecimal string
   */
  function sha3(data) {
    var bits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 512;
    if (validateBits$1(bits)) {
      return Promise.reject(validateBits$1(bits));
    }
    var hashLength = bits / 8;
    if (wasmCache$c === null || wasmCache$c.hashLength !== hashLength) {
      return lockedCreate(mutex$c, wasmJson$b, hashLength).then(function (wasm) {
        wasmCache$c = wasm;
        return wasmCache$c.calculate(data, bits, 0x06);
      });
    }
    try {
      var _hash0 = wasmCache$c.calculate(data, bits, 0x06);
      return Promise.resolve(_hash0);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new SHA-3 hash instance
   * @param bits Number of output bits. Valid values: 224, 256, 384, 512
   */
  function createSHA3() {
    var bits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 512;
    if (validateBits$1(bits)) {
      return Promise.reject(validateBits$1(bits));
    }
    var outputSize = bits / 8;
    return WASMInterface(wasmJson$b, outputSize).then(function (wasm) {
      wasm.init(bits);
      var obj = {
        init: function init() {
          wasm.init(bits);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType, 0x06);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 200 - 2 * outputSize,
        digestSize: outputSize
      };
      return obj;
    });
  }
  var mutex$b = new Mutex();
  var wasmCache$b = null;
  function validateBits(bits) {
    if (![224, 256, 384, 512].includes(bits)) {
      return new Error("Invalid variant! Valid values: 224, 256, 384, 512");
    }
    return null;
  }
  /**
   * Calculates Keccak hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param bits Number of output bits. Valid values: 224, 256, 384, 512
   * @returns Computed hash as a hexadecimal string
   */
  function keccak(data) {
    var bits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 512;
    if (validateBits(bits)) {
      return Promise.reject(validateBits(bits));
    }
    var hashLength = bits / 8;
    if (wasmCache$b === null || wasmCache$b.hashLength !== hashLength) {
      return lockedCreate(mutex$b, wasmJson$b, hashLength).then(function (wasm) {
        wasmCache$b = wasm;
        return wasmCache$b.calculate(data, bits, 0x01);
      });
    }
    try {
      var _hash1 = wasmCache$b.calculate(data, bits, 0x01);
      return Promise.resolve(_hash1);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new Keccak hash instance
   * @param bits Number of output bits. Valid values: 224, 256, 384, 512
   */
  function createKeccak() {
    var bits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 512;
    if (validateBits(bits)) {
      return Promise.reject(validateBits(bits));
    }
    var outputSize = bits / 8;
    return WASMInterface(wasmJson$b, outputSize).then(function (wasm) {
      wasm.init(bits);
      var obj = {
        init: function init() {
          wasm.init(bits);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType, 0x01);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 200 - 2 * outputSize,
        digestSize: outputSize
      };
      return obj;
    });
  }
  var name$a = "sha256";
  var data$a = "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c2pBx6KerX1qIhkgASADcyACcSABIANxcyABQR53IAFBE3dzIAFBCndzaiAaaiICaiIJIBMgEnNxIBJzaiAJQRp3IAlBFXdzIAlBB3dzakHRxqk2aiIaIAIgAXMgA3EgAiABcXMgAkEedyACQRN3cyACQQp3c2ogGGoiA2oiESAJIBNzcSATc2ogEUEadyARQRV3cyARQQd3c2pB59KkoQFqIhggAyACcyABcSADIAJxcyADQR53IANBE3dzIANBCndzaiAUaiIBaiISIBEgCXNxIAlzaiASQRp3IBJBFXdzIBJBB3dzakGFldy9AmoiFCABIANzIAJxIAEgA3FzIAFBHncgAUETd3MgAUEKd3NqIBdqIgJqIhMgI2ogJiASaiAiIBFqICUgCWogEyASIBFzcSARc2ogE0EadyATQRV3cyATQQd3c2pBuMLs8AJqIhcgAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAZaiIDaiIJIBMgEnNxIBJzaiAJQRp3IAlBFXdzIAlBB3dzakH827HpBGoiGSADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBpqIgFqIhEgCSATc3EgE3NqIBFBGncgEUEVd3MgEUEHd3NqQZOa4JkFaiIaIAEgA3MgAnEgASADcXMgAUEedyABQRN3cyABQQp3c2ogGGoiAmoiEiARIAlzcSAJc2ogEkEadyASQRV3cyASQQd3c2pB1OapqAZqIhggAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAUaiIDaiITaiAoIBJqICQgEWogJyAJaiATIBIgEXNxIBFzaiATQRp3IBNBFXdzIBNBB3dzakG7laizB2oiFCADIAJzIAFxIAMgAnFzIANBHncgA0ETd3MgA0EKd3NqIBdqIgFqIgkgEyASc3EgEnNqIAlBGncgCUEVd3MgCUEHd3NqQa6Si454aiIXIAEgA3MgAnEgASADcXMgAUEedyABQRN3cyABQQp3c2ogGWoiAmoiESAJIBNzcSATc2ogEUEadyARQRV3cyARQQd3c2pBhdnIk3lqIhkgAiABcyADcSACIAFxcyACQR53IAJBE3dzIAJBCndzaiAaaiIDaiISIBEgCXNxIAlzaiASQRp3IBJBFXdzIBJBB3dzakGh0f+VemoiGiADIAJz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";
  var hash$a = "8c18dd94";
  var wasmJson$a = {
    name: name$a,
    data: data$a,
    hash: hash$a
  };
  var mutex$a = new Mutex();
  var wasmCache$a = null;
  /**
   * Calculates SHA-2 (SHA-224) hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function sha224(data) {
    if (wasmCache$a === null) {
      return lockedCreate(mutex$a, wasmJson$a, 28).then(function (wasm) {
        wasmCache$a = wasm;
        return wasmCache$a.calculate(data, 224);
      });
    }
    try {
      var _hash10 = wasmCache$a.calculate(data, 224);
      return Promise.resolve(_hash10);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new SHA-2 (SHA-224) hash instance
   */
  function createSHA224() {
    return WASMInterface(wasmJson$a, 28).then(function (wasm) {
      wasm.init(224);
      var obj = {
        init: function init() {
          wasm.init(224);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 28
      };
      return obj;
    });
  }
  var mutex$9 = new Mutex();
  var wasmCache$9 = null;
  /**
   * Calculates SHA-2 (SHA-256) hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function sha256(data) {
    if (wasmCache$9 === null) {
      return lockedCreate(mutex$9, wasmJson$a, 32).then(function (wasm) {
        wasmCache$9 = wasm;
        return wasmCache$9.calculate(data, 256);
      });
    }
    try {
      var _hash11 = wasmCache$9.calculate(data, 256);
      return Promise.resolve(_hash11);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new SHA-2 (SHA-256) hash instance
   */
  function createSHA256() {
    return WASMInterface(wasmJson$a, 32).then(function (wasm) {
      wasm.init(256);
      var obj = {
        init: function init() {
          wasm.init(256);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 32
      };
      return obj;
    });
  }
  var name$9 = "sha512";
  var data$9 = "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";
  var hash$9 = "f2e40eb1";
  var wasmJson$9 = {
    name: name$9,
    data: data$9,
    hash: hash$9
  };
  var mutex$8 = new Mutex();
  var wasmCache$8 = null;
  /**
   * Calculates SHA-2 (SHA-384) hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function sha384(data) {
    if (wasmCache$8 === null) {
      return lockedCreate(mutex$8, wasmJson$9, 48).then(function (wasm) {
        wasmCache$8 = wasm;
        return wasmCache$8.calculate(data, 384);
      });
    }
    try {
      var _hash12 = wasmCache$8.calculate(data, 384);
      return Promise.resolve(_hash12);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new SHA-2 (SHA-384) hash instance
   */
  function createSHA384() {
    return WASMInterface(wasmJson$9, 48).then(function (wasm) {
      wasm.init(384);
      var obj = {
        init: function init() {
          wasm.init(384);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 128,
        digestSize: 48
      };
      return obj;
    });
  }
  var mutex$7 = new Mutex();
  var wasmCache$7 = null;
  /**
   * Calculates SHA-2 (SHA-512) hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function sha512(data) {
    if (wasmCache$7 === null) {
      return lockedCreate(mutex$7, wasmJson$9, 64).then(function (wasm) {
        wasmCache$7 = wasm;
        return wasmCache$7.calculate(data, 512);
      });
    }
    try {
      var _hash13 = wasmCache$7.calculate(data, 512);
      return Promise.resolve(_hash13);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new SHA-2 (SHA-512) hash instance
   */
  function createSHA512() {
    return WASMInterface(wasmJson$9, 64).then(function (wasm) {
      wasm.init(512);
      var obj = {
        init: function init() {
          wasm.init(512);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 128,
        digestSize: 64
      };
      return obj;
    });
  }
  var name$8 = "xxhash32";
  var data$8 = "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";
  var hash$8 = "4bb12485";
  var wasmJson$8 = {
    name: name$8,
    data: data$8,
    hash: hash$8
  };
  var mutex$6 = new Mutex();
  var wasmCache$6 = null;
  function validateSeed$3(seed) {
    if (!Number.isInteger(seed) || seed < 0 || seed > 0xffffffff) {
      return new Error("Seed must be a valid 32-bit long unsigned integer.");
    }
    return null;
  }
  /**
   * Calculates xxHash32 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param seed Number used to initialize the internal state of the algorithm (defaults to 0)
   * @returns Computed hash as a hexadecimal string
   */
  function xxhash32(data) {
    var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    if (validateSeed$3(seed)) {
      return Promise.reject(validateSeed$3(seed));
    }
    if (wasmCache$6 === null) {
      return lockedCreate(mutex$6, wasmJson$8, 4).then(function (wasm) {
        wasmCache$6 = wasm;
        return wasmCache$6.calculate(data, seed);
      });
    }
    try {
      var _hash14 = wasmCache$6.calculate(data, seed);
      return Promise.resolve(_hash14);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new xxHash32 hash instance
   * @param data Input data (string, Buffer or TypedArray)
   * @param seed Number used to initialize the internal state of the algorithm (defaults to 0)
   */
  function createXXHash32() {
    var seed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    if (validateSeed$3(seed)) {
      return Promise.reject(validateSeed$3(seed));
    }
    return WASMInterface(wasmJson$8, 4).then(function (wasm) {
      wasm.init(seed);
      var obj = {
        init: function init() {
          wasm.init(seed);
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 16,
        digestSize: 4
      };
      return obj;
    });
  }
  var name$7 = "xxhash64";
  var data$7 = "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";
  var hash$7 = "177fbfa3";
  var wasmJson$7 = {
    name: name$7,
    data: data$7,
    hash: hash$7
  };
  var mutex$5 = new Mutex();
  var wasmCache$5 = null;
  var seedBuffer$2 = new Uint8Array(8);
  function validateSeed$2(seed) {
    if (!Number.isInteger(seed) || seed < 0 || seed > 0xffffffff) {
      return new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high).");
    }
    return null;
  }
  function writeSeed$2(arr, low, high) {
    // write in little-endian format
    var buffer = new DataView(arr);
    buffer.setUint32(0, low, true);
    buffer.setUint32(4, high, true);
  }
  /**
   * Calculates xxHash64 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param seedLow Lower 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @param seedHigh Higher 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @returns Computed hash as a hexadecimal string
   */
  function xxhash64(data) {
    var seedLow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var seedHigh = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
    if (validateSeed$2(seedLow)) {
      return Promise.reject(validateSeed$2(seedLow));
    }
    if (validateSeed$2(seedHigh)) {
      return Promise.reject(validateSeed$2(seedHigh));
    }
    if (wasmCache$5 === null) {
      return lockedCreate(mutex$5, wasmJson$7, 8).then(function (wasm) {
        wasmCache$5 = wasm;
        writeSeed$2(seedBuffer$2.buffer, seedLow, seedHigh);
        wasmCache$5.writeMemory(seedBuffer$2);
        return wasmCache$5.calculate(data);
      });
    }
    try {
      writeSeed$2(seedBuffer$2.buffer, seedLow, seedHigh);
      wasmCache$5.writeMemory(seedBuffer$2);
      var _hash15 = wasmCache$5.calculate(data);
      return Promise.resolve(_hash15);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new xxHash64 hash instance
   * @param seedLow Lower 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @param seedHigh Higher 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   */
  function createXXHash64() {
    var seedLow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    var seedHigh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    if (validateSeed$2(seedLow)) {
      return Promise.reject(validateSeed$2(seedLow));
    }
    if (validateSeed$2(seedHigh)) {
      return Promise.reject(validateSeed$2(seedHigh));
    }
    return WASMInterface(wasmJson$7, 8).then(function (wasm) {
      var instanceBuffer = new Uint8Array(8);
      writeSeed$2(instanceBuffer.buffer, seedLow, seedHigh);
      wasm.writeMemory(instanceBuffer);
      wasm.init();
      var obj = {
        init: function init() {
          wasm.writeMemory(instanceBuffer);
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 32,
        digestSize: 8
      };
      return obj;
    });
  }
  var name$6 = "xxhash3";
  var data$6 = "AGFzbQEAAAABNAhgAAF/YAR/f39/AGAHf39/f39/fwBgBH9+fn4BfmAEf39/fgF+YAN/f34BfmAAAGABfwADDg0AAQIDBAUFBQYHBgAGBQQBAQICBg4CfwFBwI4FC38AQcAJCwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAAIC0hhc2hfVXBkYXRlAAkKSGFzaF9GaW5hbAAKDUhhc2hfR2V0U3RhdGUACw5IYXNoX0NhbGN1bGF0ZQAMClNUQVRFX1NJWkUDAQr6QQ0FAEGACgvkAwMPfgF/AX4CQCADRQ0AIAApAzAhBCAAKQM4IQUgACkDICEGIAApAyghByAAKQMQIQggACkDGCEJIAApAwAhCiAAKQMIIQsDQCAFIAFBMGopAwAiDHwgAkE4aikDACABQThqKQMAIg2FIgVCIIggBUL/////D4N+fCEFIAcgAUEgaikDACIOfCACQShqKQMAIAFBKGopAwAiD4UiB0IgiCAHQv////8Pg358IQcgCSABQRBqKQMAIhB8IAJBGGopAwAgAUEYaikDACIRhSIJQiCIIAlC/////w+DfnwhCSALIAEpAwAiEnwgAkEIaiITKQMAIAFBCGopAwAiFIUiC0IgiCALQv////8Pg358IQsgAkEwaikDACAMhSIMQiCIIAxC/////w+DfiAEfCANfCEEIAJBIGopAwAgDoUiDEIgiCAMQv////8Pg34gBnwgD3whBiACQRBqKQMAIBCFIgxCIIggDEL/////D4N+IAh8IBF8IQggAikDACAShSIMQiCIIAxC/////w+DfiAKfCAUfCEKIAFBwABqIQEgEyECIANBf2oiAw0ACyAAIAk3AxggACAKNwMAIAAgCzcDCCAAIAc3AyggACAINwMQIAAgBTcDOCAAIAY3AyAgACAENwMwCwveAgIBfwF+AkAgBCACIAEoAgAiB2siAkkNACAAIAMgBSAHQQN0aiACEAEgACAFIAZqIgcpAwAgACkDACIIQi+IhSAIhUKx893xCX43AwAgACAHKQMIIAApAwgiCEIviIUgCIVCsfPd8Ql+NwMIIAAgBykDECAAKQMQIghCL4iFIAiFQrHz3fEJfjcDECAAIAcpAxggACkDGCIIQi+IhSAIhUKx893xCX43AxggACAHKQMgIAApAyAiCEIviIUgCIVCsfPd8Ql+NwMgIAAgBykDKCAAKQMoIghCL4iFIAiFQrHz3fEJfjcDKCAAIAcpAzAgACkDMCIIQi+IhSAIhUKx893xCX43AzAgACAHKQM4IAApAzgiCEIviIUgCIVCsfPd8Ql+NwM4IAAgAyACQQZ0aiAFIAQgAmsiBxABIAEgBzYCAA8LIAAgAyAFIAdBA3RqIAQQASABIAcgBGo2AgALhQEBAX8gAiABhSADpyIEQRh0IARBgP4DcUEIdHIgBEEIdkGA/gNxIARBGHZycq1CIIYgA4V9QQA1AoCMAUIghiAAQfyLAWo1AgCEhSIDQjGJIANCGImFIAOFQqW+4/TRjIfZn39+IgNCI4ggAK18IAOFQqW+4/TRjIfZn39+IgNCHIggA4ULZwAgAiABc60gA3wiA0IhiEEALQCAjAFBEHQgAEEIdHIgAEEBdkGAjAFqLQAAQRh0ciAAQf+LAWotAAByrYUgA4VCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhQuJAwEEfgJAIABBCUkNAEEAKQOAjAEgASkDICABKQMYhSACfIUiA0I4hiADQoD+A4NCKIaEIANCgID8B4NCGIYgA0KAgID4D4NCCIaEhCADQgiIQoCAgPgPgyADQhiIQoCA/AeDhCADQiiIQoD+A4MgA0I4iISEhCAArXwgAEH4iwFqKQMAIAEpAzAgASkDKIUgAn2FIgJ8IAJC/////w+DIgQgA0IgiCIFfiIGQv////8PgyACQiCIIgIgA0L/////D4MiA358IAQgA34iA0IgiHwiBEIghiADQv////8Pg4QgBkIgiCACIAV+fCAEQiCIfIV8IgNCJYggA4VC+fPd8ZnymasWfiIDQiCIIAOFDwsCQCAAQQRJDQAgACABQQhqKQMAIAFBEGopAwAgAhADDwsCQCAARQ0AIAAgASgCACABQQRqKAIAIAIQBA8LIAEpAzggASkDQIUgAoUiA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC94IAQZ+IACtQoeVr6+Ytt6bnn9+IQMCQCAAQSFJDQACQCAAQcEASQ0AAkAgAEHhAEkNACABKQNoIAJ9QQApA7iMAYUiBEL/////D4MiBSABKQNgIAJ8QQApA7CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDeCACfSAAQciLAWopAwCFIgNC/////w+DIgQgASkDcCACfCAAQcCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQNIIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQNAIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDWCACfSAAQdiLAWopAwCFIgNC/////w+DIgQgASkDUCACfCAAQdCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMoIAJ9QQApA5iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA5CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDOCACfSAAQeiLAWopAwCFIgNC/////w+DIgQgASkDMCACfCAAQeCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMIIAJ9QQApA4iMAYUiBEL/////D4MiBSABKQMAIAJ8QQApA4CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDGCACfSAAQfiLAWopAwCFIgNC/////w+DIgQgASkDECACfCAAQfCLAWopAwCFIgJCIIgiBX4iBkL/////D4MgA0IgiCIDIAJC/////w+DIgJ+fCAEIAJ+IgJCIIh8IgRCIIYgAkL/////D4OEIAZCIIggAyAFfnwgBEIgiHyFfCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQv8CgQBfwV+An8BfkEAIQMgASkDeCACfUEAKQP4jAGFIgRC/////w+DIgUgASkDcCACfEEAKQPwjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpA2ggAn1BACkD6IwBhSIEQv////8PgyIFIAEpA2AgAnxBACkD4IwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQNYIAJ9QQApA9iMAYUiBEL/////D4MiBSABKQNQIAJ8QQApA9CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDSCACfUEAKQPIjAGFIgRC/////w+DIgUgASkDQCACfEEAKQPAjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAzggAn1BACkDuIwBhSIEQv////8PgyIFIAEpAzAgAnxBACkDsIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQMoIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDGCACfUEAKQOYjAGFIgRC/////w+DIgUgASkDECACfEEAKQOQjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAwggAn1BACkDiIwBhSIEQv////8PgyIFIAEpAwAgAnxBACkDgIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSAArUKHla+vmLbem55/fnx8fHx8fHx8IgRCJYggBIVC+fPd8ZnymasWfiIEQiCIIASFIQQCQCAAQZABSA0AIABBBHZBeGohCQNAIAEgA2oiCkELaikDACACfSADQYiNAWopAwCFIgVC/////w+DIgYgCkEDaikDACACfCADQYCNAWopAwCFIgdCIIgiCH4iC0L/////D4MgBUIgiCIFIAdC/////w+DIgd+fCAGIAd+IgZCIIh8IgdCIIYgBkL/////D4OEIAtCIIggBSAIfnwgB0IgiHyFIAR8IQQgA0EQaiEDIAlBf2oiCQ0ACwsgASkDfyACfSAAQfiLAWopAwCFIgVC/////w+DIgYgASkDdyACfCAAQfCLAWopAwCFIgJCIIgiB34iCEL/////D4MgBUIgiCIFIAJC/////w+DIgJ+fCAGIAJ+IgJCIIh8IgZCIIYgAkL/////D4OEIAhCIIggBSAHfnwgBkIgiHyFIAR8IgJCJYggAoVC+fPd8ZnymasWfiICQiCIIAKFC98FAgF+AX8CQAJAQQApA4AKIgBQRQ0AQYAIIQFCACEADAELAkBBACkDoI4BIABSDQBBACEBDAELQQAhAUEAQq+v79e895Kg/gAgAH03A/iLAUEAIABCxZbr+djShYIofDcD8IsBQQBCj/Hjja2P9JhOIAB9NwPoiwFBACAAQqus+MXV79HQfHw3A+CLAUEAQtOt1LKShbW0nn8gAH03A9iLAUEAIABCl5r0jvWWvO3JAHw3A9CLAUEAQsWDgv2v/8SxayAAfTcDyIsBQQAgAELqi7OdyOb09UN8NwPAiwFBAELIv/rLnJveueQAIAB9NwO4iwFBACAAQoqjgd/Ume2sMXw3A7CLAUEAQvm57738+MKnHSAA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QQApA4CKATcDACACQQApA4iKATcDCCACQQApA5CKATcDECACQQApA5iKATcDGCACQQApA6CKATcDICACQQApA6iKATcDKCACQQApA7CKASIFNwMwIAJBACkDuIoBIgY3AzgCQAJAQQAoAoCOASIHQcAASQ0AIAJBACgCiI4BNgJAIAIgAkHAAGpBACgCmI4BQYCMASAHQX9qQQZ2IANBACgCnI4BIgAQAiADIABqIgBBeWopAwAhCCAAKQMJIQkgACkDGSEKIAApAykhCyAHQcCLAWopAwAhBSAAKQMBIQwgB0HIiwFqKQMAIQYgB0HQiwFqKQMAIQ0gACkDESEOIAdB2IsBaikDACEPIAdB4IsBaikDACEQIAApAyEhESAHQeiLAWopAwAhEiACKQMAIRMgAikDECEUIAIpAyAhFSACKQMwIRYgAikDCCEXIAIpAxghGCACKQMoIRkgAiACKQM4IAdB8IsBaikDACIafCAAKQMxIAdB+IsBaikDACIbhSIcQiCIIBxC/////w+Dfnw3AzggGSAQfCARIBKFIhFCIIggEUL/////D4N+fCERIBggDXwgDiAPhSIOQiCIIA5C/////w+DfnwhDiAXIAV8IAwgBoUiDEIgiCAMQv////8Pg358IQwgGyAWIAsgGoUiC0IgiCALQv////8Pg358fCELIBIgFSAKIBCFIhBCIIggEEL/////D4N+fHwhECAPIBQgCSANhSINQiCIIA1C/////w+Dfnx8IRIgBiATIAggBYUiBUIgiCAFQv////8Pg358fCEIDAELIAdBwI0BaiEdQcAAIAdrIR4gAkHAAGohAAJAAkACQCAHQThNDQAgHiEfDAELAkACQEE4IAdrQQN2QQFqQQdxIh8NACACQcAAaiEAIB4hHwwBCyACQcAAaiEAIB9BA3QiICEfA0AgACAdKQMANwMAIABBCGohACAdQQhqIR0gH0F4aiIfDQALQcAAIAcgIGprIR8LAkAgBw0AA0AgACAdKQMANwMAIABBCGogHUEIaikDADcDACAAQRBqIB1BEGopAwA3AwAgAEEYaiAdQRhqKQMANwMAIABBIGogHUEgaikDADcDACAAQShqIB1BKGopAwA3AwAgAEEwaiAdQTBqKQMANwMAIABBOGogHUE4aikDADcDACAAQcAAaiEAIB1BwABqIR0gH0FAaiIfQQdLDQALCyAfRQ0BCyAfQX9qISECQCAfQQdxIiBFDQAgH0F4cSEfA0AgACAdLQAAOgAAIABBAWohACAdQQFqIR0gIEF/aiIgDQALCyAhQQdJDQADQCAAIB0pAAA3AAAgAEEIaiEAIB1BCGohHSAfQXhqIh8NAAsLIAJBwABqIB5qIR1BgIwBIQACQAJAAkAgB0EISQ0AAkAgB0E4akEDdkEBakEHcSIfDQAMAgsgH0EDdCEgQYCMASEAA0AgHSAAKQMANwMAIB1BCGohHSAAQQhqIQAgH0F/aiIfDQALIAcgIGshBwsgB0UNAQJAAkAgB0EHcSIgDQAgByEfDAELIAdBeHEhHwNAIB0gAC0AADoAACAdQQFqIR0gAEEBaiEAICBBf2oiIA0ACwsgB0EISQ0BCwNAIB0gACkAADcAACAdQQhqIR0gAEEIaiEAIB9BeGoiHw0ACwsgA0EAKAKcjgFqIgBBeWopAwAhCiAAKQMJIRMgACkDGSEUIAApAykhCyAAKQMBIQwgACkDESEOIAApAyEhESACKQMAIRUgAikDECEWIAIpAyAhFyACKQMIIRggAikDQCENIAIpA0ghDyACKQMYIRkgAikDUCESIAIpA1ghCCACKQMoIRogAikDYCEQIAIpA2ghCSACIAYgAikDcCIbfCAAKQMxIAIpA3giBoUiHEIgiCAcQv////8Pg358NwM4IBogEHwgESAJhSIRQiCIIBFC/////w+DfnwhESAZIBJ8IA4gCIUiDkIgiCAOQv////8Pg358IQ4gGCANfCAMIA+FIgxCIIggDEL/////D4N+fCEMIAYgCyAbhSILQiCIIAtC/////w+DfiAFfHwhCyAJIBcgFCAQhSIFQiCIIAVC/////w+Dfnx8IRAgCCAWIBMgEoUiBUIgiCAFQv////8Pg358fCESIA8gFSAKIA2FIgVCIIggBUL/////D4N+fHwhCAsgAykDQyACKQM4hSIFQv////8PgyIGIAMpAzsgC4UiC0IgiCINfiIPQv////8PgyAFQiCIIgUgC0L/////D4MiC358IAYgC34iBkIgiHwiC0IghiAGQv////8Pg4QgD0IgiCAFIA1+fCALQiCIfIUgAykDMyARhSIFQv////8PgyIGIAMpAysgEIUiC0IgiCINfiIPQv////8PgyAFQiCIIgUgC0L/////D4MiC358IAYgC34iBkIgiHwiC0IghiAGQv////8Pg4QgD0IgiCAFIA1+fCALQiCIfIUgAykDIyAOhSIFQv////8PgyIGIAMpAxsgEoUiC0IgiCINfiIPQv////8PgyAFQiCIIgUgC0L/////D4MiC358IAYgC34iBkIgiHwiC0IghiAGQv////8Pg4QgD0IgiCAFIA1+fCALQiCIfIUgAykDEyAMhSIFQv////8PgyIGIAMpAwsgCIUiC0IgiCINfiIPQv////8PgyAFQiCIIgUgC0L/////D4MiC358IAYgC34iBkIgiHwiC0IghiAGQv////8Pg4QgD0IgiCAFIA1+fCALQiCIfIUgBEKHla+vmLbem55/fnx8fHwiBEIliCAEhUL5893xmfKZqxZ+IgRCIIggBIUhBAwBCyAEpyEAAkBBACkDoI4BIgRQDQACQCAAQRBLDQAgAEGACCAEEAUhBAwCCwJAIABBgAFLDQAgAEGACCAEEAYhBAwCCyAAQYAIIAQQByEEDAELAkAgAEEQSw0AIAAgA0IAEAUhBAwBCwJAIABBgAFLDQAgACADQgAQBiEEDAELIAAgA0IAEAchBAtBACAEQjiGIARCgP4Dg0IohoQgBEKAgPwHg0IYhiAEQoCAgPgPg0IIhoSEIARCCIhCgICA+A+DIARCGIhCgID8B4OEIARCKIhCgP4DgyAEQjiIhISENwOACiABJAALBgBBgIoBCwIACwvMAQEAQYAIC8QBuP5sOSOkS758AYEs9yGtHN7UbemDkJfbckCkpLezZx/LeeZOzMDleIJa0H3M/3IhuAhGdPdDJI7gNZDmgTomTDwoUruRwwDLiNBlixtTLqNxZEiXog35TjgZ70ap3qzYqPp2P+OcND/53LvHxwtPHYpR4EvNtFkxyJ9+ydl4c2TqxayDNNPrw8WBoP/6E2PrFw3dUbfw2knTFlUmKdRonisWvlh9R6H8j/i40XrQMc5FyzqPlRYEKK/X+8q7S0B+QAIAAA==";
  var hash$6 = "5a2fbdbb";
  var wasmJson$6 = {
    name: name$6,
    data: data$6,
    hash: hash$6
  };
  var mutex$4 = new Mutex();
  var wasmCache$4 = null;
  var seedBuffer$1 = new Uint8Array(8);
  function validateSeed$1(seed) {
    if (!Number.isInteger(seed) || seed < 0 || seed > 0xffffffff) {
      return new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high).");
    }
    return null;
  }
  function writeSeed$1(arr, low, high) {
    // write in little-endian format
    var buffer = new DataView(arr);
    buffer.setUint32(0, low, true);
    buffer.setUint32(4, high, true);
  }
  /**
   * Calculates xxHash3 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param seedLow Lower 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @param seedHigh Higher 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @returns Computed hash as a hexadecimal string
   */
  function xxhash3(data) {
    var seedLow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var seedHigh = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
    if (validateSeed$1(seedLow)) {
      return Promise.reject(validateSeed$1(seedLow));
    }
    if (validateSeed$1(seedHigh)) {
      return Promise.reject(validateSeed$1(seedHigh));
    }
    if (wasmCache$4 === null) {
      return lockedCreate(mutex$4, wasmJson$6, 8).then(function (wasm) {
        wasmCache$4 = wasm;
        writeSeed$1(seedBuffer$1.buffer, seedLow, seedHigh);
        wasmCache$4.writeMemory(seedBuffer$1);
        return wasmCache$4.calculate(data);
      });
    }
    try {
      writeSeed$1(seedBuffer$1.buffer, seedLow, seedHigh);
      wasmCache$4.writeMemory(seedBuffer$1);
      var _hash16 = wasmCache$4.calculate(data);
      return Promise.resolve(_hash16);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new xxHash3 hash instance
   * @param seedLow Lower 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @param seedHigh Higher 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   */
  function createXXHash3() {
    var seedLow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    var seedHigh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    if (validateSeed$1(seedLow)) {
      return Promise.reject(validateSeed$1(seedLow));
    }
    if (validateSeed$1(seedHigh)) {
      return Promise.reject(validateSeed$1(seedHigh));
    }
    return WASMInterface(wasmJson$6, 8).then(function (wasm) {
      var instanceBuffer = new Uint8Array(8);
      writeSeed$1(instanceBuffer.buffer, seedLow, seedHigh);
      wasm.writeMemory(instanceBuffer);
      wasm.init();
      var obj = {
        init: function init() {
          wasm.writeMemory(instanceBuffer);
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 512,
        digestSize: 8
      };
      return obj;
    });
  }
  var name$5 = "xxhash128";
  var data$5 = "AGFzbQEAAAABKwdgAAF/YAR/f39/AGAHf39/f39/fwBgA39/fgF+YAR/f39+AGAAAGABfwADDQwAAQIDBAQEBQYFAAUFBAEBAgIGDgJ/AUHAjgULfwBBwAkLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAcLSGFzaF9VcGRhdGUACApIYXNoX0ZpbmFsAAkNSGFzaF9HZXRTdGF0ZQAKDkhhc2hfQ2FsY3VsYXRlAAsKU1RBVEVfU0laRQMBCqBNDAUAQYAKC+QDAw9+AX8BfgJAIANFDQAgACkDMCEEIAApAzghBSAAKQMgIQYgACkDKCEHIAApAxAhCCAAKQMYIQkgACkDACEKIAApAwghCwNAIAUgAUEwaikDACIMfCACQThqKQMAIAFBOGopAwAiDYUiBUIgiCAFQv////8Pg358IQUgByABQSBqKQMAIg58IAJBKGopAwAgAUEoaikDACIPhSIHQiCIIAdC/////w+DfnwhByAJIAFBEGopAwAiEHwgAkEYaikDACABQRhqKQMAIhGFIglCIIggCUL/////D4N+fCEJIAsgASkDACISfCACQQhqIhMpAwAgAUEIaikDACIUhSILQiCIIAtC/////w+DfnwhCyACQTBqKQMAIAyFIgxCIIggDEL/////D4N+IAR8IA18IQQgAkEgaikDACAOhSIMQiCIIAxC/////w+DfiAGfCAPfCEGIAJBEGopAwAgEIUiDEIgiCAMQv////8Pg34gCHwgEXwhCCACKQMAIBKFIgxCIIggDEL/////D4N+IAp8IBR8IQogAUHAAGohASATIQIgA0F/aiIDDQALIAAgCTcDGCAAIAo3AwAgACALNwMIIAAgBzcDKCAAIAg3AxAgACAFNwM4IAAgBjcDICAAIAQ3AzALC94CAgF/AX4CQCAEIAIgASgCACIHayICSQ0AIAAgAyAFIAdBA3RqIAIQASAAIAUgBmoiBykDACAAKQMAIghCL4iFIAiFQrHz3fEJfjcDACAAIAcpAwggACkDCCIIQi+IhSAIhUKx893xCX43AwggACAHKQMQIAApAxAiCEIviIUgCIVCsfPd8Ql+NwMQIAAgBykDGCAAKQMYIghCL4iFIAiFQrHz3fEJfjcDGCAAIAcpAyAgACkDICIIQi+IhSAIhUKx893xCX43AyAgACAHKQMoIAApAygiCEIviIUgCIVCsfPd8Ql+NwMoIAAgBykDMCAAKQMwIghCL4iFIAiFQrHz3fEJfjcDMCAAIAcpAzggACkDOCIIQi+IhSAIhUKx893xCX43AzggACADIAJBBnRqIAUgBCACayIHEAEgASAHNgIADwsgACADIAUgB0EDdGogBBABIAEgByAEajYCAAvtAwEFfiABKQM4IAApAziFIgNC/////w+DIgQgASkDMCAAKQMwhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMoIAApAyiFIgNC/////w+DIgQgASkDICAAKQMghSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMYIAApAxiFIgNC/////w+DIgQgASkDECAAKQMQhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMIIAApAwiFIgNC/////w+DIgQgASkDACAAKQMAhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSACfHx8fCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQu6CAIFfgN/AkAgAUEJSQ0AIAAgAUH4iwFqKQMAIgQgAikDOCACKQMwhSADfIUiBUL/////D4NC95Svrwh+IAVCgICAgHCDfEEAKQOAjAEgAikDKCACKQMghSADfYUgBIUiA0IgiCIEQrHz3fEJfnwgBEKHla+vCH4iBEIgiHwgBEL/////D4MgA0L/////D4MiA0Kx893xCX58IANCh5Wvrwh+IgRCIIh8IgVCIIh8IgNCOIYgA0KA/gODQiiGhCADQoCA/AeDQhiGIANCgICA+A+DQgiGhIQgA0IIiEKAgID4D4MgA0IYiEKAgPwHg4QgA0IoiEKA/gODIANCOIiEhIQgBEL/////D4MgAUF/aq1CNoaEIAVCIIZ8hSIEQiCIIgVCz9bTvgJ+IgZC/////w+DIARC/////w+DIgRCvdzKlQx+fCAEQs/W074CfiIEQiCIfCIHQiCGIghCJYggCCAEQv////8Pg4SFQvnz3fGZ8pmrFn4iBEIgiCAEhTcDACAAIAVCvdzKlQx+IANCz9bTvtLHq9lCfnwgBkIgiHwgB0IgiHwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4U3AwgPCwJAIAFBBEkNACAAIAIpAxggAikDEIUgA6ciAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnKtQiCGIAOFfCABQfyLAWo1AgBCIIZBADUCgIwBhIUiA0IgiCIEIAFBAnRBh5Wvr3hqrSIFfiIGQiCIIARCsfPd8Ql+fCAGQv////8PgyADQv////8PgyIDQrHz3fEJfnwgAyAFfiIDQiCIfCIEQiCIfCAEQiCGIANC/////w+DhCIEQgGGfCIDQiWIIAOFQvnz3fGZ8pmrFn4iBUIgiCAFhTcDCCAAIANCA4ggBIUiA0IjiCADhUKlvuP00YyH2Z9/fiIDQhyIIAOFNwMADwsCQCABRQ0AIAAgAigCBCACKAIAc60gA3wiBEIhiEEALQCAjAFBEHQgAUEIdHIiCSABQQF2QYCMAWotAABBGHRyIgogAUH/iwFqLQAAIgFyIguthSAEhULP1tO+0ser2UJ+IgRCHYggBIVC+fPd8Zn2masWfiIEQiCIIASFNwMAIAAgAigCDCACKAIIc60gA30iA0IhiCABQRh0IAtBgP4DcUEIdHIgCUEIdkGA/gNxIApBGHZyckENd62FIAOFQs/W077Sx6vZQn4iA0IdiCADhUL5893xmfaZqxZ+IgNCIIggA4U3AwgPCyAAIAIpA1AgAikDWIUgA4UiBEIhiCAEhULP1tO+0ser2UJ+IgRCHYggBIVC+fPd8Zn2masWfiIEQiCIIASFNwMIIAAgAikDQCACKQNIhSADhSIDQiGIIAOFQs/W077Sx6vZQn4iA0IdiCADhUL5893xmfaZqxZ+IgNCIIggA4U3AwALwwoBCn4gAa0iBEKHla+vmLbem55/fiEFAkACQCABQSFPDQBCACEGDAELQgAhBwJAIAFBwQBJDQBCACEHAkAgAUHhAEkNACACQfgAaikDACADfSABQciLAWopAwAiCIUiB0L/////D4MiCSACKQNwIAN8IAFBwIsBaikDACIKhSILQiCIIgx+Ig1CIIggB0IgiCIHIAx+fCANQv////8PgyAHIAtC/////w+DIgt+fCAJIAt+IgdCIIh8IglCIIh8QQApA7iMASILQQApA7CMASIMfIUgCUIghiAHQv////8Pg4SFIQcgAkHoAGopAwAgA30gC4UiCUL/////D4MiCyACKQNgIAN8IAyFIgxCIIgiDX4iBkL/////D4MgCUIgiCIJIAxC/////w+DIgx+fCALIAx+IgtCIIh8IgxCIIYgC0L/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAV8IAggCnyFIQULIAJB2ABqKQMAIAN9IAFB2IsBaikDACIIhSIJQv////8PgyIKIAIpA1AgA3wgAUHQiwFqKQMAIguFIgxCIIgiDX4iBkL/////D4MgCUIgiCIJIAxC/////w+DIgx+fCAKIAx+IgpCIIh8IgxCIIYgCkL/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAd8QQApA6iMASIJQQApA6CMASIKfIUhByACQcgAaikDACADfSAJhSIJQv////8PgyIMIAIpA0AgA3wgCoUiCkIgiCINfiIGQv////8PgyAJQiCIIgkgCkL/////D4MiCn58IAwgCn4iCkIgiHwiDEIghiAKQv////8Pg4QgBkIgiCAJIA1+fCAMQiCIfIUgBXwgCCALfIUhBQsgAkE4aikDACADfSABQeiLAWopAwAiCIUiCUL/////D4MiCiACKQMwIAN8IAFB4IsBaikDACILhSIMQiCIIg1+IgZC/////w+DIAlCIIgiCSAMQv////8PgyIMfnwgCiAMfiIKQiCIfCIMQiCGIApC/////w+DhCAGQiCIIAkgDX58IAxCIIh8hSAHfEEAKQOYjAEiB0EAKQOQjAEiCXyFIQYgAkEoaikDACADfSAHhSIHQv////8PgyIKIAIpAyAgA3wgCYUiCUIgiCIMfiINQv////8PgyAHQiCIIgcgCUL/////D4MiCX58IAogCX4iCUIgiHwiCkIghiAJQv////8Pg4QgDUIgiCAHIAx+fCAKQiCIfIUgBXwgCCALfIUhBQsgACACQRhqKQMAIAN9IAFB+IsBaikDACIHhSIIQv////8PgyIJIAIpAxAgA3wgAUHwiwFqKQMAIgqFIgtCIIgiDH4iDUL/////D4MgCEIgiCIIIAtC/////w+DIgt+fCAJIAt+IglCIIh8IgtCIIYgCUL/////D4OEIA1CIIggCCAMfnwgC0IgiHyFIAZ8QQApA4iMASIIQQApA4CMASIJfIUiCyACQQhqKQMAIAN9IAiFIghC/////w+DIgwgAikDACADfCAJhSIJQiCIIg1+IgZC/////w+DIAhCIIgiCCAJQv////8PgyIJfnwgDCAJfiIJQiCIfCIMQiCGIAlC/////w+DhCAGQiCIIAggDX58IAxCIIh8hSAFfCAHIAp8hSIFfCIHQiWIIAeFQvnz3fGZ8pmrFn4iB0IgiCAHhTcDACAAQgAgBUKHla+vmLbem55/fiAEIAN9Qs/W077Sx6vZQn58IAtC49zKlfzO8vWFf358IgNCJYggA4VC+fPd8ZnymasWfiIDQiCIIAOFfTcDCAuhDwMBfxR+An9BACEEIAJB+ABqKQMAIAN9QQApA/iMASIFhSIGQv////8PgyIHIAIpA3AgA3xBACkD8IwBIgiFIglCIIgiCn4iC0L/////D4MgBkIgiCIGIAlC/////w+DIgl+fCAHIAl+IgdCIIh8IglCIIYgB0L/////D4OEIAtCIIggBiAKfnwgCUIgiHyFIAJB2ABqKQMAIAN9QQApA9iMASIHhSIGQv////8PgyIJIAIpA1AgA3xBACkD0IwBIgqFIgtCIIgiDH4iDUL/////D4MgBkIgiCIGIAtC/////w+DIgt+fCAJIAt+IglCIIh8IgtCIIYgCUL/////D4OEIA1CIIggBiAMfnwgC0IgiHyFIAJBOGopAwAgA31BACkDuIwBIgmFIgZC/////w+DIgsgAikDMCADfEEAKQOwjAEiDIUiDUIgiCIOfiIPQv////8PgyAGQiCIIgYgDUL/////D4MiDX58IAsgDX4iC0IgiHwiDUIghiALQv////8Pg4QgD0IgiCAGIA5+fCANQiCIfIUgAkEYaikDACADfUEAKQOYjAEiC4UiBkL/////D4MiDSACKQMQIAN8QQApA5CMASIOhSIPQiCIIhB+IhFC/////w+DIAZCIIgiBiAPQv////8PgyIPfnwgDSAPfiINQiCIfCIPQiCGIA1C/////w+DhCARQiCIIAYgEH58IA9CIIh8hUEAKQOIjAEiDUEAKQOAjAEiD3yFfEEAKQOojAEiEEEAKQOgjAEiEXyFfEEAKQPIjAEiEkEAKQPAjAEiE3yFfEEAKQPojAEiFEEAKQPgjAEiFXyFIgZCJYggBoVC+fPd8ZnymasWfiIGQiCIIAaFIQYgAkHoAGopAwAgA30gFIUiFEL/////D4MiFiACKQNgIAN8IBWFIhVCIIgiF34iGEL/////D4MgFEIgiCIUIBVC/////w+DIhV+fCAWIBV+IhVCIIh8IhZCIIYgFUL/////D4OEIBhCIIggFCAXfnwgFkIgiHyFIAJByABqKQMAIAN9IBKFIhJC/////w+DIhQgAikDQCADfCAThSITQiCIIhV+IhZC/////w+DIBJCIIgiEiATQv////8PgyITfnwgFCATfiITQiCIfCIUQiCGIBNC/////w+DhCAWQiCIIBIgFX58IBRCIIh8hSACQShqKQMAIAN9IBCFIhBC/////w+DIhIgAikDICADfCARhSIRQiCIIhN+IhRC/////w+DIBBCIIgiECARQv////8PgyIRfnwgEiARfiIRQiCIfCISQiCGIBFC/////w+DhCAUQiCIIBAgE358IBJCIIh8hSACQQhqKQMAIAN9IA2FIg1C/////w+DIhAgAikDACADfCAPhSIPQiCIIhF+IhJC/////w+DIA1CIIgiDSAPQv////8PgyIPfnwgECAPfiIPQiCIfCIQQiCGIA9C/////w+DhCASQiCIIA0gEX58IBBCIIh8hSABrSIPQoeVr6+Ytt6bnn9+fCALIA58hXwgCSAMfIV8IAcgCnyFfCAFIAh8hSIFQiWIIAWFQvnz3fGZ8pmrFn4iBUIgiCAFhSEFAkAgAUGgAUgNACABQQV2QXxqIRkDQCACIARqIhpBG2opAwAgA30gBEGYjQFqKQMAIgeFIghC/////w+DIgkgGkETaikDACADfCAEQZCNAWopAwAiCoUiC0IgiCIMfiINQv////8PgyAIQiCIIgggC0L/////D4MiC358IAkgC34iCUIgiHwiC0IghiAJQv////8Pg4QgDUIgiCAIIAx+fCALQiCIfIUgBnwgBEGIjQFqKQMAIgggBEGAjQFqKQMAIgl8hSEGIBpBC2opAwAgA30gCIUiCEL/////D4MiCyAaQQNqKQMAIAN8IAmFIglCIIgiDH4iDUL/////D4MgCEIgiCIIIAlC/////w+DIgl+fCALIAl+IglCIIh8IgtCIIYgCUL/////D4OEIA1CIIggCCAMfnwgC0IgiHyFIAV8IAcgCnyFIQUgBEEgaiEEIBlBf2oiGQ0ACwsgACACQf8AaikDACADfCABQeiLAWopAwAiB4UiCEL/////D4MiCSACKQN3IAN9IAFB4IsBaikDACIKhSILQiCIIgx+Ig1C/////w+DIAhCIIgiCCALQv////8PgyILfnwgCSALfiIJQiCIfCILQiCGIAlC/////w+DhCANQiCIIAggDH58IAtCIIh8hSAGfCABQfiLAWopAwAiBiABQfCLAWopAwAiCHyFIgkgAkHvAGopAwAgA3wgBoUiBkL/////D4MiCyACKQNnIAN9IAiFIghCIIgiDH4iDUL/////D4MgBkIgiCIGIAhC/////w+DIgh+fCALIAh+IghCIIh8IgtCIIYgCEL/////D4OEIA1CIIggBiAMfnwgC0IgiHyFIAV8IAcgCnyFIgZ8IgVCJYggBYVC+fPd8ZnymasWfiIFQiCIIAWFNwMAIABCACAGQoeVr6+Ytt6bnn9+IA8gA31Cz9bTvtLHq9lCfnwgCULj3MqV/M7y9YV/fnwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4V9NwMIC98FAgF+AX8CQAJAQQApA4AKIgBQRQ0AQYAIIQFCACEADAELAkBBACkDoI4BIABSDQBBACEBDAELQQAhAUEAQq+v79e895Kg/gAgAH03A/iLAUEAIABCxZbr+djShYIofDcD8IsBQQBCj/Hjja2P9JhOIAB9NwPoiwFBACAAQqus+MXV79HQfHw3A+CLAUEAQtOt1LKShbW0nn8gAH03A9iLAUEAIABCl5r0jvWWvO3JAHw3A9CLAUEAQsWDgv2v/8SxayAAfTcDyIsBQQAgAELqi7OdyOb09UN8NwPAiwFBAELIv/rLnJveueQAIAB9NwO4iwFBACAAQoqjgd/Ume2sMXw3A7CLAUEAQvm57738+MKnHSAAfTcDqIsBQQAgAEKo9dv7s5ynmj98NwOgiwFBAEK4sry3lNW31lggAH03A5iLAUEAIABC8cihuqm0w/zOAHw3A5CLAUEAQoihl9u445SXo38gAH03A4iL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AkHAAGogDGohC0GAjAEhAAJAAkACQCAHQQhJDQACQCAHQThqQQN2QQFqQQdxIg0NAAwCCyANQQN0IQ5BgIwBIQADQCALIAApAwA3AwAgC0EIaiELIABBCGohACANQX9qIg0NAAsgByAOayEHCyAHRQ0BAkACQCAHQQdxIg4NACAHIQ0MAQsgB0F4cSENA0AgCyAALQAAOgAAIAtBAWohCyAAQQFqIQAgDkF/aiIODQALCyAHQQhJDQELA0AgCyAAKQAANwAAIAtBCGohCyAAQQhqIQAgDUF4aiINDQALCyACIAIpAwggAikDQCIIfCADQQAoApyOAWoiACkDASACKQNIIgmFIgpCIIggCkL/////D4N+fDcDCCACIAIpAxggAikDUCIKfCAAKQMRIAIpA1giEIUiEUIgiCARQv////8Pg358NwMYIAIgECAKIAApAwmFIgpCIIggCkL/////D4N+IAIpAxB8fDcDECACIAkgCCAAQXlqKQMAhSIIQiCIIAhC/////w+DfiACKQMAfHw3AwAgACkDGSEIIAIpAyAhCSACIAIpAyggAikDYCIKfCAAKQMhIAIpA2giEIUiEUIgiCARQv////8Pg358NwMoIAIgECAJIAggCoUiCEIgiCAIQv////8Pg358fDcDICACIAYgAikDcCIIfCAAKQMxIAIpA3giBoUiCUIgiCAJQv////8Pg358NwM4IAIgBiAIIAApAymFIghCIIggCEL/////D4N+IAV8fDcDMAsgAiACIANBC2ogBEKHla+vmLbem55/fhADNwNAIAIgAiADQQAoApyOAWpBdWogBELP1tO+0ser2UJ+Qn+FEAM3A0gMAQsgBKchAAJAQQApA6COASIEUA0AAkAgAEEQSw0AIAJBwABqIABBgAggBBAEDAILAkAgAEGAAUsNACACQcAAaiAAQYAIIAQQBQwCCyACQcAAaiAAQYAIIAQQBgwBCwJAIABBEEsNACACQcAAaiAAIANCABAEDAELAkAgAEGAAUsNACACQcAAaiAAIANCABAFDAELIAJBwABqIAAgA0IAEAYLQQAgAikDcDcDuApBACACKQNgNwOoCkEAIAIpA1A3A5gKQQAgAkH4AGopAwA3A8AKQQAgAkHoAGopAwA3A7AKQQAgAkHYAGopAwA3A6AKQQAgAikDSCIEQjiGIARCgP4Dg0IohoQgBEKAgPwHg0IYhiAEQoCAgPgPg0IIhoSEIARCCIhCgICA+A+DIARCGIhCgID8B4OEIARCKIhCgP4DgyAEQjiIhISEIgQ3A4AKQQAgBDcDkApBACACKQNAIgRCOIYgBEKA/gODQiiGhCAEQoCA/AeDQhiGIARCgICA+A+DQgiGhIQgBEIIiEKAgID4D4MgBEIYiEKAgPwHg4QgBEIoiEKA/gODIARCOIiEhIQ3A4gKIAEkAAsGAEGAigELAgALC8wBAQBBgAgLxAG4/mw5I6RLvnwBgSz3Ia0c3tRt6YOQl9tyQKSkt7NnH8t55k7MwOV4glrQfcz/ciG4CEZ090MkjuA1kOaBOiZMPChSu5HDAMuI0GWLG1Muo3FkSJeiDflOOBnvRqnerNio+nY/45w0P/ncu8fHC08dilHgS820WTHIn37J2XhzZOrFrIM00+vDxYGg//oTY+sXDd1Rt/DaSdMWVSYp1GieKxa+WH1HofyP+LjRetAxzkXLOo+VFgQor9f7yrtLQH5AAgAA";
  var hash$5 = "b9ab74e2";
  var wasmJson$5 = {
    name: name$5,
    data: data$5,
    hash: hash$5
  };
  var mutex$3 = new Mutex();
  var wasmCache$3 = null;
  var seedBuffer = new Uint8Array(8);
  function validateSeed(seed) {
    if (!Number.isInteger(seed) || seed < 0 || seed > 0xffffffff) {
      return new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high).");
    }
    return null;
  }
  function writeSeed(arr, low, high) {
    // write in little-endian format
    var buffer = new DataView(arr);
    buffer.setUint32(0, low, true);
    buffer.setUint32(4, high, true);
  }
  /**
   * Calculates xxHash128 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @param seedLow Lower 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @param seedHigh Higher 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @returns Computed hash as a hexadecimal string
   */
  function xxhash128(data) {
    var seedLow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var seedHigh = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
    if (validateSeed(seedLow)) {
      return Promise.reject(validateSeed(seedLow));
    }
    if (validateSeed(seedHigh)) {
      return Promise.reject(validateSeed(seedHigh));
    }
    if (wasmCache$3 === null) {
      return lockedCreate(mutex$3, wasmJson$5, 16).then(function (wasm) {
        wasmCache$3 = wasm;
        writeSeed(seedBuffer.buffer, seedLow, seedHigh);
        wasmCache$3.writeMemory(seedBuffer);
        return wasmCache$3.calculate(data);
      });
    }
    try {
      writeSeed(seedBuffer.buffer, seedLow, seedHigh);
      wasmCache$3.writeMemory(seedBuffer);
      var _hash17 = wasmCache$3.calculate(data);
      return Promise.resolve(_hash17);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new xxHash128 hash instance
   * @param seedLow Lower 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   * @param seedHigh Higher 32 bits of the number used to
   *  initialize the internal state of the algorithm (defaults to 0)
   */
  function createXXHash128() {
    var seedLow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    var seedHigh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    if (validateSeed(seedLow)) {
      return Promise.reject(validateSeed(seedLow));
    }
    if (validateSeed(seedHigh)) {
      return Promise.reject(validateSeed(seedHigh));
    }
    return WASMInterface(wasmJson$5, 16).then(function (wasm) {
      var instanceBuffer = new Uint8Array(8);
      writeSeed(instanceBuffer.buffer, seedLow, seedHigh);
      wasm.writeMemory(instanceBuffer);
      wasm.init();
      var obj = {
        init: function init() {
          wasm.writeMemory(instanceBuffer);
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 512,
        digestSize: 16
      };
      return obj;
    });
  }
  var name$4 = "ripemd160";
  var data$4 = "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";
  var hash$4 = "6abbce74";
  var wasmJson$4 = {
    name: name$4,
    data: data$4,
    hash: hash$4
  };
  var mutex$2 = new Mutex();
  var wasmCache$2 = null;
  /**
   * Calculates RIPEMD-160 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function ripemd160(data) {
    if (wasmCache$2 === null) {
      return lockedCreate(mutex$2, wasmJson$4, 20).then(function (wasm) {
        wasmCache$2 = wasm;
        return wasmCache$2.calculate(data);
      });
    }
    try {
      var _hash18 = wasmCache$2.calculate(data);
      return Promise.resolve(_hash18);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new RIPEMD-160 hash instance
   */
  function createRIPEMD160() {
    return WASMInterface(wasmJson$4, 20).then(function (wasm) {
      wasm.init();
      var obj = {
        init: function init() {
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 20
      };
      return obj;
    });
  }
  function calculateKeyBuffer(hasher, key) {
    var blockSize = hasher.blockSize;
    var buf = getUInt8Buffer(key);
    if (buf.length > blockSize) {
      hasher.update(buf);
      var uintArr = hasher.digest("binary");
      hasher.init();
      return uintArr;
    }
    return new Uint8Array(buf.buffer, buf.byteOffset, buf.length);
  }
  function calculateHmac(hasher, key) {
    hasher.init();
    var blockSize = hasher.blockSize;
    var keyBuf = calculateKeyBuffer(hasher, key);
    var keyBuffer = new Uint8Array(blockSize);
    keyBuffer.set(keyBuf);
    var opad = new Uint8Array(blockSize);
    for (var _i4 = 0; _i4 < blockSize; _i4++) {
      var v = keyBuffer[_i4];
      opad[_i4] = v ^ 0x5c;
      keyBuffer[_i4] = v ^ 0x36;
    }
    hasher.update(keyBuffer);
    var obj = {
      init: function init() {
        hasher.init();
        hasher.update(keyBuffer);
        return obj;
      },
      update: function update(data) {
        hasher.update(data);
        return obj;
      },
      digest: function digest(outputType) {
        var uintArr = hasher.digest("binary");
        hasher.init();
        hasher.update(opad);
        hasher.update(uintArr);
        return hasher.digest(outputType);
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
      },
      save: function save() {
        throw new Error("save() not supported");
      },
      load: function load() {
        throw new Error("load() not supported");
      },
      blockSize: hasher.blockSize,
      digestSize: hasher.digestSize
    };
    return obj;
  }
  /**
   * Calculates HMAC hash
   * @param hash Hash algorithm to use. It has to be the return value of a function like createSHA1()
   * @param key Key (string, Buffer or TypedArray)
   */
  function createHMAC(hash, key) {
    if (!hash || !hash.then) {
      throw new Error('Invalid hash function is provided! Usage: createHMAC(createMD5(), "key").');
    }
    return hash.then(function (hasher) {
      return calculateHmac(hasher, key);
    });
  }
  function calculatePBKDF2(digest, salt, iterations, hashLength, outputType) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee10() {
      var DK, block1, block1View, saltBuffer, saltUIntBuffer, destPos, hLen, l, T, U, _i5, j, k, digestChars;
      return _regenerator["default"].wrap(function (_context10) {
        while (1) switch (_context10.prev = _context10.next) {
          case 0:
            DK = new Uint8Array(hashLength);
            block1 = new Uint8Array(salt.length + 4);
            block1View = new DataView(block1.buffer);
            saltBuffer = getUInt8Buffer(salt);
            saltUIntBuffer = new Uint8Array(saltBuffer.buffer, saltBuffer.byteOffset, saltBuffer.length);
            block1.set(saltUIntBuffer);
            destPos = 0;
            hLen = digest.digestSize;
            l = Math.ceil(hashLength / hLen);
            T = null;
            U = null;
            for (_i5 = 1; _i5 <= l; _i5++) {
              block1View.setUint32(salt.length, _i5);
              digest.init();
              digest.update(block1);
              T = digest.digest("binary");
              U = T.slice();
              for (j = 1; j < iterations; j++) {
                digest.init();
                digest.update(U);
                U = digest.digest("binary");
                for (k = 0; k < hLen; k++) {
                  T[k] ^= U[k];
                }
              }
              DK.set(T.subarray(0, hashLength - destPos), destPos);
              destPos += hLen;
            }
            if (!(outputType === "binary")) {
              _context10.next = 1;
              break;
            }
            return _context10.abrupt("return", DK);
          case 1:
            digestChars = new Uint8Array(hashLength * 2);
            return _context10.abrupt("return", getDigestHex(digestChars, DK, hashLength));
          case 2:
          case "end":
            return _context10.stop();
        }
      }, _callee10);
    }));
  }
  var validateOptions$2 = function validateOptions$2(options) {
    if (!options || (0, _typeof2["default"])(options) !== "object") {
      throw new Error("Invalid options parameter. It requires an object.");
    }
    if (!options.hashFunction || !options.hashFunction.then) {
      throw new Error('Invalid hash function is provided! Usage: pbkdf2("password", "salt", 1000, 32, createSHA1()).');
    }
    if (!Number.isInteger(options.iterations) || options.iterations < 1) {
      throw new Error("Iterations should be a positive number");
    }
    if (!Number.isInteger(options.hashLength) || options.hashLength < 1) {
      throw new Error("Hash length should be a positive number");
    }
    if (options.outputType === undefined) {
      options.outputType = "hex";
    }
    if (!["hex", "binary"].includes(options.outputType)) {
      throw new Error("Insupported output type ".concat(options.outputType, ". Valid values: ['hex', 'binary']"));
    }
  };
  /**
   * Generates a new PBKDF2 hash for the supplied password
   */
  function pbkdf2(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee11() {
      var hmac;
      return _regenerator["default"].wrap(function (_context11) {
        while (1) switch (_context11.prev = _context11.next) {
          case 0:
            validateOptions$2(options);
            _context11.next = 1;
            return createHMAC(options.hashFunction, options.password);
          case 1:
            hmac = _context11.sent;
            return _context11.abrupt("return", calculatePBKDF2(hmac, options.salt, options.iterations, options.hashLength, options.outputType));
          case 2:
          case "end":
            return _context11.stop();
        }
      }, _callee11);
    }));
  }
  var name$3 = "scrypt";
  var data$3 = "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cyICajYCOCAAIAAoAjwgAiAKakESdyAGc2o2AjwLvxIDFX8Bfg5/AkAgAkUNACAAQQd0IgNBQGoiBEEAKAKACCIFIAMgAmwiBmogAyABbGoiByADaiIIaiEJIAAgAkEHdCIKIAFBB3RqIgtsIQwgACALQYABamwhDSAAQQV0IgtBASALQQFLGyILQWBxIQ4gC0EBcSEPIAdBeGohECAHQXBqIREgB0FoaiESIAdBYGohEyAHQVhqIRQgB0FQaiEVIAdBSGohFiAHQUBqIRcgAa1Cf3whGCAEIAdqIRkgByAAQQh0IhpqIRsgACAKQYABamwhHCALQQRJIR1BACEeQQAhHwNAQQAoAoAIIiAgAyAfbGohIQJAIABFDQBBACEiAkAgHQ0AICAgHmohI0EAIQtBACEiA0AgByALaiIEICMgC2oiJCgCADYCACAEQQRqICRBBGooAgA2AgAgBEEIaiAkQQhqKAIANgIAIARBDGogJEEMaigCADYCACALQRBqIQsgDiAiQQRqIiJHDQALCyAPRQ0AIAcgIkECdCILaiAhIAtqKAIANgIACwJAIAFFDQBBACElIBwhIyAGISYDQCAFISQgACEiAkACQCAADQAgGyAXKQMANwMAIBsgFikDADcDCCAbIBUpAwA3AxAgGyAUKQMANwMYIBsgEykDADcDICAbIBIpAwA3AyggGyARKQMANwMwIBsgECkDADcDOAwBCwNAICQgJmoiCyAkIAxqIgQpAwA3AwAgC0EIaiAEQQhqKQMANwMAIAtBEGogBEEQaikDADcDACALQRhqIARBGGopAwA3AwAgC0EgaiAEQSBqKQMANwMAIAtBKGogBEEoaikDADcDACALQTBqIARBMGopAwA3AwAgC0E4aiAEQThqKQMANwMAIAtBwABqIARBwABqKQMANwMAIAtByABqIARByABqKQMANwMAIAtB0ABqIARB0ABqKQMANwMAIAtB2ABqIARB2ABqKQMANwMAIAtB4ABqIARB4ABqKQMANwMAIAtB6ABqIARB6ABqKQMANwMAIAtB8ABqIARB8ABqKQMANwMAIAtB+ABqIARB+ABqKQMANwMAICRBgAFqISQgIkF/aiIiDQALIAcgCCAbIAAQAiAFISQgACEiA0AgJCAjaiILICQgDWoiBCkDADcDACALQQhqIARBCGopAwA3AwAgC0EQaiAEQRBqKQMANwMAIAtBGGogBEEYaikDADcDACALQSBqIARBIGopAwA3AwAgC0EoaiAEQShqKQMANwMAIAtBMGogBEEwaikDADcDACALQThqIARBOGopAwA3AwAgC0HAAGogBEHAAGopAwA3AwAgC0HIAGogBEHIAGopAwA3AwAgC0HQAGogBEHQAGopAwA3AwAgC0HYAGogBEHYAGopAwA3AwAgC0HgAGogBEHgAGopAwA3AwAgC0HoAGogBEHoAGopAwA3AwAgC0HwAGogBEHwAGopAwA3AwAgC0H4AGogBEH4AGopAwA3AwAgJEGAAWohJCAiQX9qIiINAAsLIAggByAbIAAQAiAjIBpqISMgJiAaaiEmICVBAmoiJSABSQ0AC0EAISUDQAJAAkAgAA0AIBsgFykDADcDACAbIBYpAwA3AwggGyAVKQMANwMQIBsgFCkDADcDGCAbIBMpAwA3AyAgGyASKQMANwMoIBsgESkDADcDMCAbIBApAwA3AzgMAQsgACAKIBkpAgAgGIOnQQd0amwhJiAFISQgACEiA0AgJCAMaiILIAspAwAgJCAmaiIEKQMAhTcDACALQQhqIiMgIykDACAEQQhqKQMAhTcDACALQRBqIiMgIykDACAEQRBqKQMAhTcDACALQRhqIiMgIykDACAEQRhqKQMAhTcDACALQSBqIiMgIykDACAEQSBqKQMAhTcDACALQShqIiMgIykDACAEQShqKQMAhTcDACALQTBqIiMgIykDACAEQTBqKQMAhTcDACALQThqIiMgIykDACAEQThqKQMAhTcDACALQcAAaiIjICMpAwAgBEHAAGopAwCFNwMAIAtByABqIiMgIykDACAEQcgAaikDAIU3AwAgC0HQAGoiIyAjKQMAIARB0ABqKQMAhTcDACALQdgAaiIjICMpAwAgBEHYAGopAwCFNwMAIAtB4ABqIiMgIykDACAEQeAAaikDAIU3AwAgC0HoAGoiIyAjKQMAIARB6ABqKQMAhTcDACALQfAAaiIjICMpAwAgBEHwAGopAwCFNwMAIAtB+ABqIgsgCykDACAEQfgAaikDAIU3AwAgJEGAAWohJCAiQX9qIiINAAsgByAIIBsgABACIAAgCiAJKQIAIBiDp0EHdGpsISYgBSEkIAAhIgNAICQgDWoiCyALKQMAICQgJmoiBCkDAIU3AwAgC0EIaiIjICMpAwAgBEEIaikDAIU3AwAgC0EQaiIjICMpAwAgBEEQaikDAIU3AwAgC0EYaiIjICMpAwAgBEEYaikDAIU3AwAgC0EgaiIjICMpAwAgBEEgaikDAIU3AwAgC0EoaiIjICMpAwAgBEEoaikDAIU3AwAgC0EwaiIjICMpAwAgBEEwaikDAIU3AwAgC0E4aiIjICMpAwAgBEE4aikDAIU3AwAgC0HAAGoiIyAjKQMAIARBwABqKQMAhTcDACALQcgAaiIjICMpAwAgBEHIAGopAwCFNwMAIAtB0ABqIiMgIykDACAEQdAAaikDAIU3AwAgC0HYAGoiIyAjKQMAIARB2ABqKQMAhTcDACALQeAAaiIjICMpAwAgBEHgAGopAwCFNwMAIAtB6ABqIiMgIykDACAEQegAaikDAIU3AwAgC0HwAGoiIyAjKQMAIARB8ABqKQMAhTcDACALQfgAaiILIAspAwAgBEH4AGopAwCFNwMAICRBgAFqISQgIkF/aiIiDQALCyAIIAcgGyAAEAIgJUECaiIlIAFJDQALCwJAIABFDQBBACEiAkAgHQ0AICAgHmohI0EAIQtBACEiA0AgIyALaiIEIAcgC2oiJCgCADYCACAEQQRqICRBBGooAgA2AgAgBEEIaiAkQQhqKAIANgIAIARBDGogJEEMaigCADYCACALQRBqIQsgDiAiQQRqIiJHDQALCyAPRQ0AICEgIkECdCILaiAHIAtqKAIANgIACyAeIANqIR4gH0EBaiIfIAJHDQALCws=";
  var hash$3 = "b32721f8";
  var wasmJson$3 = {
    name: name$3,
    data: data$3,
    hash: hash$3
  };
  function scryptInternal(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee12() {
      var costFactor, blockSize, parallelism, hashLength, SHA256Hasher, blockData, scryptInterface, VSize, XYSize, expensiveSalt, outputData, _digestChars2;
      return _regenerator["default"].wrap(function (_context12) {
        while (1) switch (_context12.prev = _context12.next) {
          case 0:
            costFactor = options.costFactor, blockSize = options.blockSize, parallelism = options.parallelism, hashLength = options.hashLength;
            SHA256Hasher = createSHA256();
            _context12.next = 1;
            return pbkdf2({
              password: options.password,
              salt: options.salt,
              iterations: 1,
              hashLength: 128 * blockSize * parallelism,
              hashFunction: SHA256Hasher,
              outputType: "binary"
            });
          case 1:
            blockData = _context12.sent;
            _context12.next = 2;
            return WASMInterface(wasmJson$3, 0);
          case 2:
            scryptInterface = _context12.sent;
            // last block is for storing the temporary vectors
            VSize = 128 * blockSize * costFactor;
            XYSize = 256 * blockSize;
            scryptInterface.setMemorySize(blockData.length + VSize + XYSize);
            scryptInterface.writeMemory(blockData, 0);
            // mix blocks
            scryptInterface.getExports().scrypt(blockSize, costFactor, parallelism);
            expensiveSalt = scryptInterface.getMemory().subarray(0, 128 * blockSize * parallelism);
            _context12.next = 3;
            return pbkdf2({
              password: options.password,
              salt: expensiveSalt,
              iterations: 1,
              hashLength: hashLength,
              hashFunction: SHA256Hasher,
              outputType: "binary"
            });
          case 3:
            outputData = _context12.sent;
            if (!(options.outputType === "hex")) {
              _context12.next = 4;
              break;
            }
            _digestChars2 = new Uint8Array(hashLength * 2);
            return _context12.abrupt("return", getDigestHex(_digestChars2, outputData, hashLength));
          case 4:
            return _context12.abrupt("return", outputData);
          case 5:
          case "end":
            return _context12.stop();
        }
      }, _callee12);
    }));
  }
  var isPowerOfTwo = function isPowerOfTwo(v) {
    return v && !(v & v - 1);
  };
  var validateOptions$1 = function validateOptions$1(options) {
    if (!options || (0, _typeof2["default"])(options) !== "object") {
      throw new Error("Invalid options parameter. It requires an object.");
    }
    if (!Number.isInteger(options.blockSize) || options.blockSize < 1) {
      throw new Error("Block size should be a positive number");
    }
    if (!Number.isInteger(options.costFactor) || options.costFactor < 2 || !isPowerOfTwo(options.costFactor)) {
      throw new Error("Cost factor should be a power of 2, greater than 1");
    }
    if (!Number.isInteger(options.parallelism) || options.parallelism < 1) {
      throw new Error("Parallelism should be a positive number");
    }
    if (!Number.isInteger(options.hashLength) || options.hashLength < 1) {
      throw new Error("Hash length should be a positive number.");
    }
    if (options.outputType === undefined) {
      options.outputType = "hex";
    }
    if (!["hex", "binary"].includes(options.outputType)) {
      throw new Error("Insupported output type ".concat(options.outputType, ". Valid values: ['hex', 'binary']"));
    }
  };
  /**
   * Calculates hash using the scrypt password-based key derivation function
   * @returns Computed hash as a hexadecimal string or as
   *          Uint8Array depending on the outputType option
   */
  function scrypt(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee13() {
      return _regenerator["default"].wrap(function (_context13) {
        while (1) switch (_context13.prev = _context13.next) {
          case 0:
            validateOptions$1(options);
            return _context13.abrupt("return", scryptInternal(options));
          case 1:
          case "end":
            return _context13.stop();
        }
      }, _callee13);
    }));
  }
  var name$2 = "bcrypt";
  var data$2 = "AGFzbQEAAAABFwRgAAF/YAR/f39/AGADf39/AGABfwF/AwUEAAECAwUEAQECAgYIAX8BQZCrBQsHNAQGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAZiY3J5cHQAAg1iY3J5cHRfdmVyaWZ5AAMK9WAEBQBBgCsL21kEFH8Bfgh/AX4jAEHwAGshBCACQQA6AAIgAkGq4AA7AAACQCABLQAAQSpHDQAgAS0AAUEwRw0AIAJBMToAAQsCQCABLAAFIAEsAARBCmxqQfB7aiIFQQRJDQAgAS0AB0FgaiIGQd8ASw0AIAZBkAlqLQAAIgZBP0sNACABLQAIQWBqIgdB3wBLDQAgB0GQCWotAAAiB0E/Sw0AIAQgB0EEdiAGQQJ0cjoACCABLQAJQWBqIgZB3wBLDQAgBkGQCWotAAAiBkE/Sw0AIAQgBkECdiAHQQR0cjoACSABLQAKQWBqIgdB3wBLDQAgB0GQCWotAAAiB0E/Sw0AIAQgByAGQQZ0cjoACiABLQALQWBqIgZB3wBLDQAgBkGQCWotAAAiBkE/Sw0AIAEtAAxBYGoiB0HfAEsNACAHQZAJai0AACIHQT9LDQAgBCAHQQR2IAZBAnRyOgALIAEtAA1BYGoiBkHfAEsNACAGQZAJai0AACIGQT9LDQAgBCAGQQJ2IAdBBHRyOgAMIAEtAA5BYGoiB0HfAEsNACAHQZAJai0AACIHQT9LDQAgBCAHIAZBBnRyOgANIAEtAA9BYGoiBkHfAEsNACAGQZAJai0AACIGQT9LDQAgAS0AEEFgaiIHQd8ASw0AIAdBkAlqLQAAIgdBP0sNACAEIAdBBHYgBkECdHI6AA4gAS0AEUFgaiIGQd8ASw0AIAZBkAlqLQAAIgZBP0sNACAEIAZBAnYgB0EEdHI6AA8gAS0AEkFgaiIHQd8ASw0AIAdBkAlqLQAAIgdBP0sNACAEIAcgBkEGdHI6ABAgAS0AE0FgaiIGQd8ASw0AIAZBkAlqLQAAIgZBP0sNACABLQAUQWBqIgdB3wBLDQAgB0GQCWotAAAiB0E/Sw0AIAQgB0EEdiAGQQJ0cjoAESABLQAVQWBqIgZB3wBLDQAgBkGQCWotAAAiBkE/Sw0AIAQgBkECdiAHQQR0cjoAEiABLQAWQWBqIgdB3wBLDQAgB0GQCWotAAAiB0E/Sw0AIAQgByAGQQZ0cjoAEyABLQAXQWBqIgZB3wBLDQAgBkGQCWotAAAiBkE/Sw0AIAEtABhBYGoiB0HfAEsNACAHQZAJai0AACIHQT9LDQAgBCAHQQR2IAZBAnRyOgAUIAEtABlBYGoiBkHfAEsNACAGQZAJai0AACIGQT9LDQAgBCAGQQJ2IAdBBHRyOgAVIAEtABpBYGoiB0HfAEsNACAHQZAJai0AACIHQT9LDQAgBCAHIAZBBnRyOgAWIAEtABtBYGoiBkHfAEsNACAGQZAJai0AACIGQT9LDQAgAS0AHEFgaiIHQd8ASw0AIAdBkAlqLQAAIgdBP0sNAEEBIAV0IQggBCAHQQR2IAZBAnRyOgAXIAQgBCgCCCIFQRh0IAVBgP4DcUEIdHIgBUEIdkGA/gNxIAVBGHZyciIJNgIIIAQgBCgCDCIFQRh0IAVBgP4DcUEIdHIgBUEIdkGA/gNxIAVBGHZyciIKNgIMIAQgBCgCECIFQRh0IAVBgP4DcUEIdHIgBUEIdkGA/gNxIAVBGHZyciILNgIQIAQgBCgCFCIFQRh0IAVBgP4DcUEIdHIgBUEIdkGA/gNxIAVBGHZyciIMNgIUIARB6ABqIAEtAAJBnwdqLQAAIg1BAXFBAnRqIQ5BACEGQQAhB0EAIQ8gACEFA0AgBEIANwJoIAQgBS0AACIQNgJoIAQgBSwAACIRNgJsIAUtAAAhEiAEIBBBCHQiEDYCaCAEIBAgBUEBaiAAIBIbIgUtAAByIhA2AmggBCARQQh0IhE2AmwgBCARIAUsAAAiEnIiETYCbCAFLQAAIRMgBCAQQQh0IhA2AmggBCAQIAVBAWogACATGyIFLQAAciIQNgJoIAQgEUEIdCIRNgJsIAQgESAFLAAAIhNyIhE2AmwgBS0AACEUIAQgEEEIdCIQNgJoIAQgECAFQQFqIAAgFBsiBS0AAHIiEDYCaCAEIBFBCHQiETYCbCAEIBEgBSwAACIUciIRNgJsIAUtAAAhFSAEQSBqIAZqIA4oAgAiFjYCACAGQfApaiIXIBYgFygCAHM2AgAgESAQcyAHciEHIAVBAWogACAVGyEFIBQgEyAScnJBgAFxIA9yIQ8gBkEEaiIGQcgARw0AC0EAQQAoAvApIA9BCXQgDUEPdHFBgIAEIAdB//8DcSAHQRB2cmtxczYC8ClCACEYQX4hBkHwKSEHA0BBACgCrCpBACgCqCpBACgCpCpBACgCoCpBACgCnCpBACgCmCpBACgClCpBACgCkCpBACgCjCpBACgCiCpBACgChCpBACgCgCpBACgC/ClBACgC+ClBACgC9CkgBEEIaiAGQQJqIgZBAnFBAnRqKQMAIBiFIhhCIIinc0EAKALwKSAYp3MiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUH/AXFBAnRB8CFqKAIAIQ8gBUEGdkH8B3FB8BlqKAIAIRAgBUEWdkH8B3FB8AlqKAIAIREgBUEOdkH8B3FB8BFqKAIAIRJBACgCsCohE0EAQQAoArQqIAVzNgKAqwFBACATIA8gECARIBJqc2pzIABzNgKEqwEgB0EAKQOAqwEiGDcCACAHQQhqIQcgBkEQSQ0ACyAYQiCIpyEFIBinIQZB8AkhAANAQQAoAqwqQQAoAqgqQQAoAqQqQQAoAqAqQQAoApwqQQAoApgqQQAoApQqQQAoApAqQQAoAowqQQAoAogqQQAoAoQqQQAoAoAqQQAoAvwpQQAoAvgpIAVBACgC9ClzIAZBACgC8ClzIAtzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgDHMiBkEWdkH8B3FB8AlqKAIAIAZBDnZB/AdxQfARaigCAGogBkEGdkH8B3FB8BlqKAIAcyAGQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIAZzIgZBFnZB/AdxQfAJaigCACAGQQ52QfwHcUHwEWooAgBqIAZBBnZB/AdxQfAZaigCAHMgBkH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAGcyIGQRZ2QfwHcUHwCWooAgAgBkEOdkH8B3FB8BFqKAIAaiAGQQZ2QfwHcUHwGWooAgBzIAZB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgBnMiBkEWdkH8B3FB8AlqKAIAIAZBDnZB/AdxQfARaigCAGogBkEGdkH8B3FB8BlqKAIAcyAGQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIAZzIgZBFnZB/AdxQfAJaigCACAGQQ52QfwHcUHwEWooAgBqIAZBBnZB/AdxQfAZaigCAHMgBkH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAGcyIGQRZ2QfwHcUHwCWooAgAgBkEOdkH8B3FB8BFqKAIAaiAGQQZ2QfwHcUHwGWooAgBzIAZB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgBnMiBkEWdkH8B3FB8AlqKAIAIAZBDnZB/AdxQfARaigCAGogBkEGdkH8B3FB8BlqKAIAcyAGQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIAZzIgZB/wFxQQJ0QfAhaigCACEHIAZBBnZB/AdxQfAZaigCACEPIAZBFnZB/AdxQfAJaigCACEQIAZBDnZB/AdxQfARaigCACERQQAoArAqIRIgAEEAKAK0KiAGcyIGNgIAIABBBGogEiAHIA8gECARanNqcyAFcyIHNgIAQQAoAqwqQQAoAqgqQQAoAqQqQQAoAqAqQQAoApwqQQAoApgqQQAoApQqQQAoApAqQQAoAowqQQAoAogqQQAoAoQqQQAoAoAqQQAoAvwpQQAoAvgpQQAoAvQpIAlBACgC8ClzIAZzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgCnMgB3MiBkEWdkH8B3FB8AlqKAIAIAZBDnZB/AdxQfARaigCAGogBkEGdkH8B3FB8BlqKAIAcyAGQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIAZzIgZBFnZB/AdxQfAJaigCACAGQQ52QfwHcUHwEWooAgBqIAZBBnZB/AdxQfAZaigCAHMgBkH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAGcyIGQRZ2QfwHcUHwCWooAgAgBkEOdkH8B3FB8BFqKAIAaiAGQQZ2QfwHcUHwGWooAgBzIAZB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgBnMiBkEWdkH8B3FB8AlqKAIAIAZBDnZB/AdxQfARaigCAGogBkEGdkH8B3FB8BlqKAIAcyAGQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIAZzIgZBFnZB/AdxQfAJaigCACAGQQ52QfwHcUHwEWooAgBqIAZBBnZB/AdxQfAZaigCAHMgBkH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAGcyIGQRZ2QfwHcUHwCWooAgAgBkEOdkH8B3FB8BFqKAIAaiAGQQZ2QfwHcUHwGWooAgBzIAZB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgBnMiBkEWdkH8B3FB8AlqKAIAIAZBDnZB/AdxQfARaigCAGogBkEGdkH8B3FB8BlqKAIAcyAGQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIAZzIgZB/wFxQQJ0QfAhaigCACEHIAZBBnZB/AdxQfAZaigCACEPIAZBFnZB/AdxQfAJaigCACEQIAZBDnZB/AdxQfARaigCACERQQAoArAqIRIgAEEIakEAKAK0KiAGcyIGNgIAIABBDGogEiAHIA8gECARanNqcyAFcyIFNgIAIABBEGoiAEHsKUkNAAtBACAFNgKEqwFBACAGNgKAqwEgBCgCZCEUIAQoAmAhFSAEKAJcIRYgBCgCWCEXIAQoAlQhCSAEKAJQIQogBCgCTCELIAQoAkghDCAEKAJEIQ4gBCgCQCENIAQoAjwhGSAEKAI4IRogBCgCNCEbIAQoAjAhHCAEKAIsIR0gBCgCKCEeIAQoAiQhHyAEKAIgISAgBCkDECEhIAQpAwghGANAQQBBACgC8CkgIHM2AvApQQBBACgC9CkgH3M2AvQpQQBBACgC+CkgHnM2AvgpQQBBACgC/CkgHXM2AvwpQQBBACgCgCogHHM2AoAqQQBBACgChCogG3M2AoQqQQBBACgCiCogGnM2AogqQQBBACgCjCogGXM2AowqQQBBACgCkCogDXM2ApAqQQBBACgClCogDnM2ApQqQQBBACgCmCogDHM2ApgqQQBBACgCnCogC3M2ApwqQQBBACgCoCogCnM2AqAqQQBBACgCpCogCXM2AqQqQQBBACgCqCogF3M2AqgqQQBBACgCrCogFnM2AqwqQQBBACgCsCogFXM2ArAqQQBBACgCtCogFHM2ArQqQQEhEwNAQQAhAEEAQgA3A4CrAUHwKSEGQQAhBQNAQQAoAqwqQQAoAqgqQQAoAqQqQQAoAqAqQQAoApwqQQAoApgqQQAoApQqQQAoApAqQQAoAowqQQAoAogqQQAoAoQqQQAoAoAqQQAoAvwpQQAoAvgpQQAoAvQpIABzQQAoAvApIAVzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVB/wFxQQJ0QfAhaigCACEHIAVBBnZB/AdxQfAZaigCACEPIAVBFnZB/AdxQfAJaigCACEQIAVBDnZB/AdxQfARaigCACERQQAoArAqIRIgBkEAKAK0KiAFcyIFNgIAIAZBBGogEiAHIA8gECARanNqcyAAcyIANgIAIAZBCGoiBkG4KkkNAAtB8AkhBgNAQQAoAqwqQQAoAqgqQQAoAqQqQQAoAqAqQQAoApwqQQAoApgqQQAoApQqQQAoApAqQQAoAowqQQAoAogqQQAoAoQqQQAoAoAqQQAoAvwpQQAoAvgpQQAoAvQpIABzQQAoAvApIAVzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVB/wFxQQJ0QfAhaigCACEHIAVBBnZB/AdxQfAZaigCACEPIAVBFnZB/AdxQfAJaigCACEQIAVBDnZB/AdxQfARaigCACERQQAoArAqIRIgBkEAKAK0KiAFcyIFNgIAIAZBBGogEiAHIA8gECARanNqcyAAcyIANgIAIAZBCGoiBkHsKUkNAAtBACAANgKEqwFBACAFNgKAqwECQCATQQFxRQ0AQQAhE0EAQQApAvApIBiFNwLwKUEAQQApAvgpICGFNwL4KUEAQQApAoAqIBiFNwKAKkEAQQApAogqICGFNwKIKkEAQQApApAqIBiFNwKQKkEAQQApApgqICGFNwKYKkEAQQApAqAqIBiFNwKgKkEAQQApAqgqICGFNwKoKkEAQQApArAqIBiFNwKwKgwBCwsgCEF/aiIIDQALQQAoArQqIQ9BACgCsCohEEEAKAKsKiERQQAoAqgqIRJBACgCpCohE0EAKAKgKiEIQQAoApwqIRRBACgCmCohFUEAKAKUKiEWQQAoApAqIRdBACgCjCohCUEAKAKIKiEKQQAoAoQqIQtBACgCgCohDEEAKAL8KSEOQQAoAvgpIQ1BACgC9CkhGUEAKALwKSEaQQAhGwNAIBtBAnQiHEGgCGopAwAiGKchACAYQiCIpyEGQUAhBwNAIBAgESASIBMgCCAUIBUgFiAXIAkgCiALIAwgDiANIAYgGXMgACAacyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIgBBFnZB/AdxQfAJaigCACAAQQ52QfwHcUHwEWooAgBqIABBBnZB/AdxQfAZaigCAHMgAEH/AXFBAnRB8CFqKAIAanMgBXMiBUEWdkH8B3FB8AlqKAIAIAVBDnZB/AdxQfARaigCAGogBUEGdkH8B3FB8BlqKAIAcyAFQf8BcUECdEHwIWooAgBqcyAAcyIAQRZ2QfwHcUHwCWooAgAgAEEOdkH8B3FB8BFqKAIAaiAAQQZ2QfwHcUHwGWooAgBzIABB/wFxQQJ0QfAhaigCAGpzIAVzIgVBFnZB/AdxQfAJaigCACAFQQ52QfwHcUHwEWooAgBqIAVBBnZB/AdxQfAZaigCAHMgBUH/AXFBAnRB8CFqKAIAanMgAHMiAEEWdkH8B3FB8AlqKAIAIABBDnZB/AdxQfARaigCAGogAEEGdkH8B3FB8BlqKAIAcyAAQf8BcUECdEHwIWooAgBqcyAFcyIFQRZ2QfwHcUHwCWooAgAgBUEOdkH8B3FB8BFqKAIAaiAFQQZ2QfwHcUHwGWooAgBzIAVB/wFxQQJ0QfAhaigCAGpzIABzIQYgBSAPcyEAIAdBAWoiBw0AC0EAIAY2AoSrAUEAIAA2AoCrASAEQQhqIBxqQQApA4CrATcDACAbQQRJIQAgG0ECaiEbIAANAAsgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASwAHEHwCGotAABBMHFBwAhqLQAAOgAcIAQgBCgCCCIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZyciIPNgIIIAQgBCgCDCIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZyciIBNgIMIAQgBCgCECIAQRh0IABBgP4DcUEIdHIgAEEIdkGA/gNxIABBGHZyciIANgIQIAQgBCgCFCIFQRh0IAVBgP4DcUEIdHIgBUEIdkGA/gNxIAVBGHZyciIGNgIUIAQgBCgCGCIFQRh0IAVBgP4DcUEIdHIgBUEIdkGA/gNxIAVBGHZyciIFNgIYIAQgBCgCHCIHQRh0IAdBgP4DcUEIdHIgB0EIdkGA/gNxIAdBGHZyciIHNgIcAkACQCADDQAgAiAEKQMINwMAIAIgBCkDEDcDCCACIAQpAxg3AxAMAQsgAiAHQT9xQcAIai0AADoAOCACIAZBGnZBwAhqLQAAOgAxIAIgAEE/cUHACGotAAA6ACggAiAPQRp2QcAIai0AADoAISACIAQtAAgiBEECdkHACGotAAA6AB0gAiAHQQ52QTxxQcAIai0AADoAOyACIAdBCnZBP3FBwAhqLQAAOgA5IAIgBUESdkE/cUHACGotAAA6ADUgAiAFQQh2QT9xQcAIai0AADoANCACIAZBEHYiA0E/cUHACGotAAA6ADAgAiAGQfwBcUECdkHACGotAAA6AC0gAiAAQRh2QT9xQcAIai0AADoALCACIABBCnZBP3FBwAhqLQAAOgApIAIgAUESdkE/cUHACGotAAA6ACUgAiABQQh2QT9xQcAIai0AADoAJCACIA9BEHYiEEE/cUHACGotAAA6ACAgAiAHQQZ2QQNxIAVBFnZBPHFyQcAIai0AADoANyACIAVBDHZBMHEgBUEcdnJBwAhqLQAAOgA2IAIgBUECdEE8cSAFQQ52QQNxckHACGotAAA6ADMgAiAFQfABcUEEdiAGQRR2QTBxckHACGotAAA6ADIgAiAGQQR0QTBxIAZBDHZBD3FyQcAIai0AADoALiACIABBDnZBPHEgAEEednJBwAhqLQAAOgArIAIgAEEGdkEDcSABQRZ2QTxxckHACGotAAA6ACcgAiABQQx2QTBxIAFBHHZyQcAIai0AADoAJiACIAFBAnRBPHEgAUEOdkEDcXJBwAhqLQAAOgAjIAIgAUHwAXFBBHYgD0EUdkEwcXJBwAhqLQAAOgAiIAIgBEEEdEEwcSAPQQx2QQ9xckHACGotAAA6AB4gAiAHQRB2QfABcSAHQYAGcXJBBHZBwAhqLQAAOgA6IAIgA0HAAXEgBkGAHnFyQQZ2QcAIai0AADoALyACIABBEHZB8AFxIABBgAZxckEEdkHACGotAAA6ACogAiAQQcABcSAPQYAecXJBBnZBwAhqLQAAOgAfCyACQQA6ADwLC4YGAQZ/IwBB4ABrIgMkAEEAIQQgAEGQK2pBADoAACADQSQ6AEYgAyABQQpuIgBBMGo6AEQgA0Gk5ISjAjYCQCADIABB9gFsIAFqQTByOgBFIANBAC0AgCsiAUECdkHACGotAAA6AEcgA0EALQCCKyIAQT9xQcAIai0AADoASiADQQAtAIMrIgVBAnZBwAhqLQAAOgBLIANBAC0AhSsiBkE/cUHACGotAAA6AE4gA0EALQCBKyIHQQR2IAFBBHRBMHFyQcAIai0AADoASCADIABBBnYgB0ECdEE8cXJBwAhqLQAAOgBJIANBAC0AhCsiAUEEdiAFQQR0QTBxckHACGotAAA6AEwgAyAGQQZ2IAFBAnRBPHFyQcAIai0AADoATSADQQAtAIYrIgFBAnZBwAhqLQAAOgBPIANBAC0AiCsiAEE/cUHACGotAAA6AFIgA0EALQCJKyIFQQJ2QcAIai0AADoAUyADQQAtAIsrIgZBP3FBwAhqLQAAOgBWIANBAC0AjCsiB0ECdkHACGotAAA6AFcgA0EALQCHKyIIQQR2IAFBBHRBMHFyQcAIai0AADoAUCADIABBBnYgCEECdEE8cXJBwAhqLQAAOgBRIANBAC0AiisiAUEEdiAFQQR0QTBxckHACGotAAA6AFQgAyAGQQZ2IAFBAnRBPHFyQcAIai0AADoAVSADQQAtAI0rIgFBBHYgB0EEdEEwcXJBwAhqLQAAOgBYIANBADoAXSADQQAtAI4rIgBBP3FBwAhqLQAAOgBaIANBAC0AjysiBUECdkHACGotAAA6AFsgAyAAQQZ2IAFBAnRBPHFyQcAIai0AADoAWSADIAVBBHRBMHFBwAhqLQAAOgBcQZArIANBwABqIAMgAhABA0AgBEGAK2ogAyAEaiIBLQAAOgAAIARBgStqIAFBAWotAAA6AAAgBEGCK2ogAUECai0AADoAACAEQYMraiABQQNqLQAAOgAAIARBhCtqIAFBBGotAAA6AAAgBEEFaiIEQTxHDQALIANB4ABqJAALhwECAX8IfiMAQcAAayIBJAAgAEG8K2pBADoAAEG8K0GAKyABQQEQAUEAKQOkKyECIAEpAyQhA0EAKQOcKyEEIAEpAxwhBUEAKQOsKyEGIAEpAywhB0EAKQO0KyEIIAEpAzQhCSABQcAAaiQAIAUgBFIgAyACUmogByAGUmpBf0EAIAkgCFIbRgsLxyICAEGACAvwAQIEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQQAAAAAAAAAaHByT0JuYWVsb2hlU3JlZER5cmN0YnVvAAAAAAAAAAAuL0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5AAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQEBAAAE2Nzg5Ojs8PT4/QEBAQEBAQAIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobQEBAQEBAHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDVAQEBAQABB8AkLyCCmCzHRrLXfmNty/S+33xrQ7a/huJZ+JmpFkHy6mX8s8UeZoST3bJGz4vIBCBb8joXYIGljaU5XcaP+WKR+PZP0j3SVDVi2jnJYzYtx7koVgh2kVHu1WVrCOdUwnBNg8iojsNHF8IVgKBh5QcrvONu4sNx5jg4YOmCLDp5sPooesMF3FdcnSzG92i+veGBcYFXzJVXmlKtVqmKYSFdAFOhjajnKVbYQqyo0XMy0zuhBEa+GVKGT6XJ8ERTusyq8b2Ndxakr9jEYdBY+XM4ek4ebM7rWr1zPJGyBUzJ6d4aVKJhIjzuvuUtrG+i/xJMhKGbMCdhhkakh+2CsfEgygOxdXV2E77F1hekCIybciBtl64E+iSPFrJbT829tDzlC9IOCRAsuBCCEpErwyGlemx+eQmjGIZps6fZhnAxn8IjTq9KgUWpoL1TYKKcPlqMzUatsC+9u5Dt6E1DwO7qYKvt+HWXxoXYBrzk+WcpmiA5DghmG7oy0n29Fw6WEfb5eizvYdW/gcyDBhZ9EGkCmasFWYqrTTgZ3PzZy3/4bPQKbQiTX0DdIEgrQ0+oP25vA8UnJclMHexuZgNh51CX33uj2GlD+4ztMeba94GyXugbABLZPqcHEYJ9Awp5cXmMkahmvb/totVNsPuuyORNv7FI7H1H8bSyVMJtERYHMCb1erwTQ4779SjPeBygPZrNLLhlXqMvAD3TIRTlfC9Lb+9O5vcB5VQoyYBrGAKHWeXIsQP4ln2fMox/7+OmljvgiMtvfFnU8FWth/cgeUC+rUgWt+rU9MmCHI/1IezFTgt8APrtXXJ6gjG/KLlaHGttpF9/2qELVw/9+KMYyZ6xzVU+MsCdbachYyrtdo//hoBHwuJg9+hC4gyH9bLX8SlvT0S155FOaZUX4trxJjtKQl/tL2vLd4TN+y6RBE/ti6MbkztrKIO8BTHc2/p5+0LQf8StN2tuVmJGQrnGOreqg1ZNr0NGO0OAlx68vWzyOt5R1jvvi9o9kKxLyEriIiBzwDZCgXq1PHMOPaJHxz9GtwaizGCIvL3cXDr7+LXXqoR8Ciw/MoOXodG+11vOsGJniic7gT6i0t+AT/YE7xHzZqK3SZqJfFgV3lYAUc8yTdxQaIWUgreaG+rV39UJUx881nfsMr83roIk+e9MbQdZJfh6uLQ4lAF6zcSC7AGgir+C4V5s2ZCQeuQnwHZFjVaqm31mJQ8F4f1Na2aJbfSDFueUCdgMmg6nPlWJoGcgRQUpzTsotR7NKqRR7UgBRGxUpU5o/Vw/W5MabvHakYCsAdOaBtW+6CB/pG1dr7JbyFdkNKiFlY7a2+bnnLgU0/2RWhcVdLbBToY+fqZlHughqB4Vu6XB6S0Qps7UuCXXbIyYZxLCmbq1936dJuGDunGay7Y9xjKrs/xeaaWxSZFbhnrHCpQI2GSlMCXVAE1mgPjoY5JqYVD9lnUJb1uSPa9Y/95kHnNKh9TDo7+Y4LU3BXSXwhiDdTCbrcITG6YJjXsweAj9raAnJ77o+FBiXPKFwamuENX9ohuKgUgVTnLc3B1CqHIQHPlyu3n/sRH2OuPIWVzfaOrANDFDwBB8c8P+zAAIa9QyusnS1PFh6gyW9IQnc+ROR0fYvqXxzRzKUAUf1IoHl5Trc2sI3NHa1yKfd85pGYUSpDgPQDz7HyOxBHnWkmc044i8O6juhu4AyMbM+GDiLVE4IuW1PAw1Cb78ECvaQErgseXyXJHKweVavia+8H3ea3hAIk9kSrouzLj/P3B9yElUkcWsu5t0aUIfNhJ8YR1h6F9oIdLyan7yMfUvpOux67PodhdtmQwlj0sNkxEcYHO8I2RUyNztD3Ra6wiRDTaESUcRlKgIAlFDd5DoTnvjfcVVOMRDWd6yBmxkRX/FWNQRrx6PXOxgRPAmlJFnt5o/y+vvxlyy/up5uPBUecEXjhrFv6eoKXg6Gsyo+WhznH3f6Bj1OudxlKQ8d55nWiT6AJchmUnjJTC5qsxCcug4Vxnjq4pRTPPyl9C0KHqdO9/I9Kx02DyY5GWB5whkIpyNSthIT927+retmH8PqlUW844PIe6bRN3+xKP+MAe/dMsOlWmy+hSFYZQKYq2gPpc7uO5Uv26197yqEL25bKLYhFXBhByl1R93sEBWfYTCozBOWvWHrHv40A89jA6qQXHO1OaJwTAuentUU3qrLvIbM7qcsYmCrXKucboTzsq8ei2TK8L0ZuWkjoFC7WmUyWmhAs7QqPNXpnjH3uCHAGQtUm5mgX4d+mfeVqH09YpqIN/h3LeOXX5PtEYESaBYpiDUO1h/mx6Hf3paZulh4pYT1V2NyIhv/w4OblkbCGusKs81UMC5T5EjZjygxvG3v8utY6v/GNGHtKP5zPHzu2RRKXeO3ZOgUXRBC4BM+ILbi7kXqq6qjFU9s29BPy/pC9ELHtbtq7x07T2UFIc1Bnnke2MdNhYZqR0vkUGKBPfKhYs9GJo1boIOI/KO2x8HDJBV/knTLaQuKhEeFspJWAL9bCZ1IGa10sWIUAA6CIyqNQljq9VUMPvStHWFwPyOS8HIzQX6TjfHsX9bbOyJsWTfefGB07sun8oVAbjJ3zoSAB6aeUPgZVdjv6DWX2WGqp2mpwgYMxfyrBFrcyguALnpEnoQ0RcMFZ9X9yZ4eDtPbc9vNiFUQedpfZ0BDZ+NlNMTF2Dg+cZ74KD0g/23x5yE+FUo9sI8rn+Pm962D22haPen3QIGUHCZM9jQpaZT3IBVB99QCdi5r9LxoAKLUcSQI1Gr0IDO31LdDr2EAUC72OR5GRSSXdE8hFECIi78d/JVNr5G1ltPd9HBFL6Bm7Am8v4WXvQPQbax/BIXLMbMn65ZBOf1V5kcl2poKyqsleFAo9CkEU9qGLAr7bbbpYhTcaABpSNekwA5o7o2hJ6L+P0+MrYfoBuCMtbbW9Hp8Hs6q7F8305mjeM5CKmtANZ7+ILmF89mr1znui04SO/f6yR1WGG1LMWajJrKX4+p0+m46MkNb3ffnQWj7IHjKTvUK+5ez/tisVkBFJ5VIujo6U1WHjYMgt6lr/kuVltC8Z6hVWJoVoWMpqcwz2+GZVkoqpvklMT8cfvRefDEpkALo+P1wLycEXBW7gOMsKAVIFcGVIm3G5D8TwUjchg/H7sn5Bw8fBEGkeUdAF26IXetRXzLRwJvVj8G88mQ1EUE0eHslYJwqYKPo+N8bbGMfwrQSDp4y4QLRT2avFYHRyuCVI2vhkj4zYgskOyK5vu4OorKFmQ265owMct4o96ItRXgS0P2Ut5ViCH1k8PXM52+jSVT6SH2HJ/2dwx6NPvNBY0cKdP8umatubzo3/fj0YNwSqPjd66FM4RuZDWtu2xBVe8Y3LGdtO9RlJwTo0NzHDSnxo/8AzJIPObUL7Q9p+597Zpx9284Lz5Ggo14V2YgvE7skrVtRv3mUe+vWO3azLjk3eVkRzJfiJoAtMS70p61CaDsrasbMTHUSHPEueDdCEmrnUZK35ruhBlBj+0sYEGsa+u3KEdi9JT3Jw+HiWRZCRIYTEgpu7AzZKuqr1U5nr2RfqIbaiOm/vv7D5GRXgLydhsD38Ph7eGBNYANgRoP90bAfOPYErkV3zPw21zNrQoNxqx7wh0GAsF9eADy+V6B3JK7ovZlCRlVhLli/j/RYTqL93fI473T0wr2Jh8P5ZlN0jrPIVfJ1tLnZ/EZhJut6hN8di3kOaoTilV+RjlluRnBXtCCRVdWMTN4CyeGsC7nQBYK7SGKoEZ6pdHW2GX+3Cdyp4KEJLWYzRjLEAh9a6Iy+8AkloJlKEP5uHR09uRrfpKULD/KGoWnxaCiD2rfc/gY5V5vO4qFSf81PAV4RUPqDBqfEtQKgJ9DmDSeM+JpBhj93Bkxgw7UGqGEoehfw4Ib1wKpYYABifdww157mEWPqOCOU3cJTNBbCwlbuy7vetryQoX3863YdWc4J5AVviAF8Sz0KcjkkfJJ8X3LjhrmdTXK0W8Ea/Lie03hVVO21pfwI03w92MQPrU1e71Ae+OZhsdkUhaI8E1Fs58fVb8RO4VbOvyo2N8jG3TQymtcSgmOSjvoOZ+AAYEA3zjk6z/X60zd3wqsbLcVanmewXEI3o09AJ4LTvpu8mZ2OEdUVcw+/fhwt1nvEAMdrG4y3RZChIb6xbrK0bjZqL6tIV3lulLzSdqPGyMJJZe74D1N93o1GHQpz1cZN0EzbuzkpUEa6qegmlawE416+8NX6oZpRLWrijO9jIu6GmrjCicD2LiRDqgMepaTQ8py6YcCDTWrpm1AV5Y/WW2S6+aImKOE6OqeGlalL6WJV79PvL8fa91L3aW8EP1kK+ncVqeSAAYawh63mCZuT5T47Wv2Q6ZfXNJ7Zt/AsUYsrAjqs1ZZ9pn0B1j7P0SgtfXzPJZ8fm7jyrXK01lpM9Yhacawp4OalGeD9rLBHm/qT7Y3E0+jMVzsoKWbV+CguE3mRAV94VWB17UQOlveMXtPj1G0FFbpt9IglYaEDvfBkBRWe68OiV5A87BonlyoHOqmbbT8b9SFjHvtmnPUZ89wmKNkzdfX9VbGCNFYDuzy6ihF3USj42QrCZ1HMq1+SrcxRF+hNjtwwOGJYnTeR+SCTwpB66s57PvtkziFRMr5Pd37jtqhGPSnDaVPeSIDmE2QQCK6iJLJt3f0thWlmIQcJCkaas93ARWTP3mxYrsggHN33vltAjVgbfwHSzLvjtGt+aqLdRf9ZOkQKNT7VzbS8qM7qcruEZPquEmaNR288v2Pkm9KeXS9UG3fCrnBjTvaNDQ50VxNb53EWcvhdfVOvCMtAQMzitE5qRtI0hK8VASgEsOEdOpiVtJ+4Bkigbs6COz9vgqsgNUsdGgH4J3InsWAVYdw/k+creTq7vSVFNOE5iKBLec5Rt8kyL8m6H6B+yBzg9tHHvMMRAc/HquihSYeQGpq9T9TL3trQONoK1SrDOQNnNpHGfDH5jU8rseC3WZ73Orv1Q/8Z1fKcRdknLCKXvyr85hVx/JEPJRWUm2GT5frrnLbOWWSowtGouhJeB8G2DGoF42VQ0hBCpAPLDm7s4DvbmBa+oJhMZOl4MjKVH5/fktPgKzSg0x7ycYlBdAobjDSjSyBxvsXYMnbDjZ813y4vmZtHbwvmHfHjD1TaTOWR2Noez3lizm9+Ps1msRgWBR0s/cXSj4SZIvv2V/Mj9SN2MqYxNaiTAs3MVmKB8Ky163ValzYWbsxz0oiSYpbe0Em5gRuQUEwUVsZxvcfG5goUejIG0OFFmnvyw/1TqskAD6hi4r8lu/bSvTUFaRJxIgIEsnzPy7YrnHbNwD4RU9PjQBZgvas48K1HJZwgOLp2zkb3xaGvd2BgdSBO/suF2I3oirD5qnp+qvlMXMJIGYyK+wLkasMB+eHr1mn41JCg3lymLSUJP5/mCMIyYU63W+J3zuPfj1fmcsM6iGo/JNMIo4UuihkTRHNwAyI4CaTQMZ8pmPouCIlsTuzmIShFdxPQOM9mVL5sDOk0tymswN1QfMm11YQ/FwlHtdnVFpIb+3mJ";
  var hash$2 = "8bd8822d";
  var wasmJson$2 = {
    name: name$2,
    data: data$2,
    hash: hash$2
  };
  function bcryptInternal(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee14() {
      var costFactor, password, salt, bcryptInterface, passwordBuffer, shouldEncode, memory, _digestChars3;
      return _regenerator["default"].wrap(function (_context14) {
        while (1) switch (_context14.prev = _context14.next) {
          case 0:
            costFactor = options.costFactor, password = options.password, salt = options.salt;
            _context14.next = 1;
            return WASMInterface(wasmJson$2, 0);
          case 1:
            bcryptInterface = _context14.sent;
            bcryptInterface.writeMemory(getUInt8Buffer(salt), 0);
            passwordBuffer = getUInt8Buffer(password);
            bcryptInterface.writeMemory(passwordBuffer, 16);
            shouldEncode = options.outputType === "encoded" ? 1 : 0;
            bcryptInterface.getExports().bcrypt(passwordBuffer.length, costFactor, shouldEncode);
            memory = bcryptInterface.getMemory();
            if (!(options.outputType === "encoded")) {
              _context14.next = 2;
              break;
            }
            return _context14.abrupt("return", intArrayToString(memory, 60));
          case 2:
            if (!(options.outputType === "hex")) {
              _context14.next = 3;
              break;
            }
            _digestChars3 = new Uint8Array(24 * 2);
            return _context14.abrupt("return", getDigestHex(_digestChars3, memory, 24));
          case 3:
            return _context14.abrupt("return", memory.slice(0, 24));
          case 4:
          case "end":
            return _context14.stop();
        }
      }, _callee14);
    }));
  }
  var validateOptions = function validateOptions(options) {
    if (!options || (0, _typeof2["default"])(options) !== "object") {
      throw new Error("Invalid options parameter. It requires an object.");
    }
    if (!Number.isInteger(options.costFactor) || options.costFactor < 4 || options.costFactor > 31) {
      throw new Error("Cost factor should be a number between 4 and 31");
    }
    options.password = getUInt8Buffer(options.password);
    if (options.password.length < 1) {
      throw new Error("Password should be at least 1 byte long");
    }
    if (options.password.length > 72) {
      throw new Error("Password should be at most 72 bytes long");
    }
    options.salt = getUInt8Buffer(options.salt);
    if (options.salt.length !== 16) {
      throw new Error("Salt should be 16 bytes long");
    }
    if (options.outputType === undefined) {
      options.outputType = "encoded";
    }
    if (!["hex", "binary", "encoded"].includes(options.outputType)) {
      throw new Error("Insupported output type ".concat(options.outputType, ". Valid values: ['hex', 'binary', 'encoded']"));
    }
  };
  /**
   * Calculates hash using the bcrypt password-hashing function
   * @returns Computed hash
   */
  function bcrypt(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee15() {
      return _regenerator["default"].wrap(function (_context15) {
        while (1) switch (_context15.prev = _context15.next) {
          case 0:
            validateOptions(options);
            return _context15.abrupt("return", bcryptInternal(options));
          case 1:
          case "end":
            return _context15.stop();
        }
      }, _callee15);
    }));
  }
  var validateHashCharacters = function validateHashCharacters(hash) {
    if (!/^\$2[axyb]\$[0-3][0-9]\$[./A-Za-z0-9]{53}$/.test(hash)) {
      return false;
    }
    if (hash[4] === "0" && Number(hash[5]) < 4) {
      return false;
    }
    if (hash[4] === "3" && Number(hash[5]) > 1) {
      return false;
    }
    return true;
  };
  var validateVerifyOptions = function validateVerifyOptions(options) {
    if (!options || (0, _typeof2["default"])(options) !== "object") {
      throw new Error("Invalid options parameter. It requires an object.");
    }
    if (options.hash === undefined || typeof options.hash !== "string") {
      throw new Error("Hash should be specified");
    }
    if (options.hash.length !== 60) {
      throw new Error("Hash should be 60 bytes long");
    }
    if (!validateHashCharacters(options.hash)) {
      throw new Error("Invalid hash");
    }
    options.password = getUInt8Buffer(options.password);
    if (options.password.length < 1) {
      throw new Error("Password should be at least 1 byte long");
    }
    if (options.password.length > 72) {
      throw new Error("Password should be at most 72 bytes long");
    }
  };
  /**
   * Verifies password using bcrypt password-hashing function
   * @returns True if the encoded hash matches the password
   */
  function bcryptVerify(options) {
    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regenerator["default"].mark(function _callee16() {
      var hash, password, bcryptInterface, passwordBuffer;
      return _regenerator["default"].wrap(function (_context16) {
        while (1) switch (_context16.prev = _context16.next) {
          case 0:
            validateVerifyOptions(options);
            hash = options.hash, password = options.password;
            _context16.next = 1;
            return WASMInterface(wasmJson$2, 0);
          case 1:
            bcryptInterface = _context16.sent;
            bcryptInterface.writeMemory(getUInt8Buffer(hash), 0);
            passwordBuffer = getUInt8Buffer(password);
            bcryptInterface.writeMemory(passwordBuffer, 60);
            return _context16.abrupt("return", !!bcryptInterface.getExports().bcrypt_verify(passwordBuffer.length));
          case 2:
          case "end":
            return _context16.stop();
        }
      }, _callee16);
    }));
  }
  var name$1 = "whirlpool";
  var data$1 = "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";
  var hash$1 = "8d8f6035";
  var wasmJson$1 = {
    name: name$1,
    data: data$1,
    hash: hash$1
  };
  var mutex$1 = new Mutex();
  var wasmCache$1 = null;
  /**
   * Calculates Whirlpool hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function whirlpool(data) {
    if (wasmCache$1 === null) {
      return lockedCreate(mutex$1, wasmJson$1, 64).then(function (wasm) {
        wasmCache$1 = wasm;
        return wasmCache$1.calculate(data);
      });
    }
    try {
      var _hash19 = wasmCache$1.calculate(data);
      return Promise.resolve(_hash19);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new Whirlpool hash instance
   */
  function createWhirlpool() {
    return WASMInterface(wasmJson$1, 64).then(function (wasm) {
      wasm.init();
      var obj = {
        init: function init() {
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 64
      };
      return obj;
    });
  }
  var name = "sm3";
  var data = "AGFzbQEAAAABDANgAAF/YAAAYAF/AAMIBwABAgIBAAIFBAEBAgIGDgJ/AUHwiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAELSGFzaF9VcGRhdGUAAgpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCtodBwUAQYAJC1EAQQBCzdy3nO7Jw/2wfzcCoIkBQQBCvOG8y6qVzpgWNwKYiQFBAELXhZG5gcCBxVo3ApCJAUEAQu+sgJyX16yKyQA3AoiJAUEAQgA3AoCJAQvvAwEIfwJAIABFDQBBACEBQQBBACgCgIkBIgIgAGoiAzYCgIkBIAJBP3EhBAJAIAMgAk8NAEEAQQAoAoSJAUEBajYChIkBC0GACSECAkAgBEUNAAJAIABBwAAgBGsiBU8NACAEIQEMAQsgBEE/cyEGIARBqIkBaiECQYAJIQMCQAJAIAVBB3EiBw0AIAUhCAwBCyAHIQgDQCACIAMtAAA6AAAgAkEBaiECIANBAWohAyAIQX9qIggNAAtBwAAgByAEamshCAsCQCAGQQdJDQADQCACIAMpAAA3AAAgAkEIaiECIANBCGohAyAIQXhqIggNAAsLQaiJARADIAVBgAlqIQIgACAFayEACwJAIABBwABJDQADQCACEAMgAkHAAGohAiAAQUBqIgBBP0sNAAsLIABFDQAgAUGoiQFqIQMCQAJAIABBB3EiCA0AIAAhBAwBCyAAQThxIQQDQCADIAItAAA6AAAgA0EBaiEDIAJBAWohAiAIQX9qIggNAAsLIABBCEkNAANAIAMgAi0AADoAACADIAItAAE6AAEgAyACLQACOgACIAMgAi0AAzoAAyADIAItAAQ6AAQgAyACLQAFOgAFIAMgAi0ABjoABiADIAItAAc6AAcgA0EIaiEDIAJBCGohAiAEQXhqIgQNAAsLC+wLARl/IwBBkAJrIgEkACABIAAoAhgiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiAzYCGCABIAAoAhQiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiBDYCFCABIAAoAggiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiBTYCCCABIAAoAhAiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiBjYCECABIAAoAiAiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiBzYCICABIAAoAgQiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCDYCBCABIAAoAgwiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCTYCDCABIAAoAhwiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCjYCHCABIAAoAgAiAkEYdCACQYD+A3FBCHRyIAJBCHZBgP4DcSACQRh2cnIiCzYCACAAKAIkIQIgASAAKAI0IgxBGHQgDEGA/gNxQQh0ciAMQQh2QYD+A3EgDEEYdnJyIg02AjQgASAAKAIoIgxBGHQgDEGA/gNxQQh0ciAMQQh2QYD+A3EgDEEYdnJyIg42AiggASALIA1BD3dzIApzIgxBF3cgDEEPd3MgCUEHd3MgDnMgDHMiCjYCQCABIAAoAjgiDEEYdCAMQYD+A3FBCHRyIAxBCHZBgP4DcSAMQRh2cnIiCzYCOCABIAAoAiwiDEEYdCAMQYD+A3FBCHRyIAxBCHZBgP4DcSAMQRh2cnIiDzYCLCABIAggC0EPd3MgB3MiDEEXdyAMQQ93cyAGQQd3cyAPcyAMczYCRCABIAAoAjwiDEEYdCAMQYD+A3FBCHRyIAxBCHZBgP4DcSAMQRh2cnIiDDYCPCABIAJBGHQgAkGA/gNxQQh0ciACQQh2QYD+A3EgAkEYdnJyIgI2AiQgASAAKAIwIgBBGHQgAEGA/gNxQQh0ciAAQQh2QYD+A3EgAEEYdnJyIgY2AjAgASAFIAxBD3dzIAJzIgBBF3cgAEEPd3MgBEEHd3MgBnMgAHM2AkggASAOIApBD3dzIAlzIgBBF3cgAEEPd3MgA0EHd3MgDXMgAHM2AkxBACEGQSAhByABIQxBACgCiIkBIhAhCUEAKAKkiQEiESEPQQAoAqCJASISIQ1BACgCnIkBIhMhCEEAKAKYiQEiFCEOQQAoApSJASIVIRZBACgCkIkBIhchA0EAKAKMiQEiGCELA0AgCCAOIgJzIA0iBHMgD2ogCSIAQQx3Ig0gAmpBmYqxzgcgB3ZBmYqxzgcgBnRyakEHdyIPaiAMKAIAIhlqIglBEXcgCUEJd3MgCXMhDiADIgUgC3MgAHMgFmogDyANc2ogDEEQaigCACAZc2ohCSAMQQRqIQwgB0F/aiEHIAhBE3chDSALQQl3IQMgBCEPIAIhCCAFIRYgACELIAZBAWoiBkEQRw0AC0EAIQZBECEHA0AgASAGaiIMQdAAaiAMQThqKAIAIAxBLGooAgAgDEEQaigCAHMgDEHEAGooAgAiFkEPd3MiCEEXd3MgCEEPd3MgDEEcaigCAEEHd3MgCHMiGTYCACANIg8gDiIMQX9zcSACIAxxciAEaiAJIghBDHciDSAMakGKu57UByAHd2pBB3ciBGogCmoiCUERdyAJQQl3cyAJcyEOIAggAyILIABycSALIABxciAFaiAEIA1zaiAZIApzaiEJIAZBBGohBiACQRN3IQ0gAEEJdyEDIBYhCiAPIQQgDCECIAshBSAIIQAgB0EBaiIHQcAARw0AC0EAIA8gEXM2AqSJAUEAIA0gEnM2AqCJAUEAIAwgE3M2ApyJAUEAIA4gFHM2ApiJAUEAIAsgFXM2ApSJAUEAIAMgF3M2ApCJAUEAIAggGHM2AoyJAUEAIAkgEHM2AoiJASABQZACaiQAC4ILAQp/IwBBEGsiACQAIABBACgCgIkBIgFBG3QgAUELdEGAgPwHcXIgAUEFdkGA/gNxIAFBA3RBGHZycjYCDCAAQQAoAoSJASICQQN0IgMgAUEddnIiBEEYdCAEQYD+A3FBCHRyIAJBBXZBgP4DcSADQRh2cnI2AggCQEE4QfgAIAFBP3EiBUE4SRsgBWsiA0UNAEEAIAMgAWoiATYCgIkBAkAgASADTw0AQQAgAkEBajYChIkBC0GQCCEBQQAhBgJAIAVFDQACQCADQcAAIAVrIgdPDQAgBSEGDAELIAVBP3MhCCAFQaiJAWohAUGQCCECAkACQCAHQQdxIgkNACAHIQQMAQsgCSEEA0AgASACLQAAOgAAIAFBAWohASACQQFqIQIgBEF/aiIEDQALQcAAIAkgBWprIQQLAkAgCEEHSQ0AA0AgASACKQAANwAAIAFBCGohASACQQhqIQIgBEF4aiIEDQALC0GoiQEQAyAHQZAIaiEBIAMgB2shAwsCQCADQcAASQ0AA0AgARADIAFBwABqIQEgA0FAaiIDQT9LDQALCyADRQ0AIAZBqIkBaiECAkACQCADQQdxIgQNACADIQUMAQsgA0E4cSEFA0AgAiABLQAAOgAAIAJBAWohAiABQQFqIQEgBEF/aiIEDQALCyADQQhJDQADQCACIAEtAAA6AAAgAiABLQABOgABIAIgAS0AAjoAAiACIAEtAAM6AAMgAiABLQAEOgAEIAIgAS0ABToABSACIAEtAAY6AAYgAiABLQAHOgAHIAJBCGohAiABQQhqIQEgBUF4aiIFDQALC0EAQQAoAoCJASICQQhqNgKAiQEgAkE/cSEBAkAgAkF4SQ0AQQBBACgChIkBQQFqNgKEiQELAkACQAJAAkAgAQ0AQQAhAQwBCyABQThJDQAgAUGoiQFqIAAtAAg6AAACQCABQT9GDQAgAUGpiQFqIAAtAAk6AAAgAUE+Rg0AIAFBqokBaiAALQAKOgAAIAFBPUYNACABQauJAWogAC0ACzoAACABQTxGDQAgAUGsiQFqIAAtAAw6AAAgAUE7Rg0AIAFBrYkBaiAALQANOgAAIAFBOkYNACABQa6JAWogAC0ADjoAACABQTlGDQAgAUGviQFqIAAtAA86AABBqIkBEAMMAwtBqIkBEAMgAkEHcSIERQ0CIAFBR2ohBSAAQQhqQcAAIAFraiECIAFBSGohBkGoiQEhASAEIQMDQCABIAItAAA6AAAgAUEBaiEBIAJBAWohAiADQX9qIgMNAAsgBUEHSQ0CIAYgBGshAwwBCyABQaiJAWohASAAQQhqIQJBCCEDCwNAIAEgAikAADcAACABQQhqIQEgAkEIaiECIANBeGoiAw0ACwtBAEEAKAKIiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AoAJQQBBACgCjIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKECUEAQQAoApCJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYCiAlBAEEAKAKUiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2AowJQQBBACgCmIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKQCUEAQQAoApyJASIBQRh0IAFBgP4DcUEIdHIgAUEIdkGA/gNxIAFBGHZycjYClAlBAEEAKAKgiQEiAUEYdCABQYD+A3FBCHRyIAFBCHZBgP4DcSABQRh2cnI2ApgJQQBBACgCpIkBIgFBGHQgAUGA/gNxQQh0ciABQQh2QYD+A3EgAUEYdnJyNgKcCSAAQRBqJAALBgBBgIkBC5UCAQR/QQBCzdy3nO7Jw/2wfzcCoIkBQQBCvOG8y6qVzpgWNwKYiQFBAELXhZG5gcCBxVo3ApCJAUEAQu+sgJyX16yKyQA3AoiJAUEAQgA3AoCJAQJAIABFDQBBACAANgKAiQFBgAkhAQJAIABBwABJDQBBgAkhAQNAIAEQAyABQcAAaiEBIABBQGoiAEE/Sw0ACyAARQ0BCyAAQX9qIQICQAJAIABBB3EiAw0AQaiJASEEDAELIABBeHEhAEGoiQEhBANAIAQgAS0AADoAACAEQQFqIQQgAUEBaiEBIANBf2oiAw0ACwsgAkEHSQ0AA0AgBCABKQAANwAAIARBCGohBCABQQhqIQEgAEF4aiIADQALCxAECwtRAgBBgAgLBGgAAAAAQZAIC0CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
  var hash = "b6fb4b8e";
  var wasmJson = {
    name: name,
    data: data,
    hash: hash
  };
  var mutex = new Mutex();
  var wasmCache = null;
  /**
   * Calculates SM3 hash
   * @param data Input data (string, Buffer or TypedArray)
   * @returns Computed hash as a hexadecimal string
   */
  function sm3(data) {
    if (wasmCache === null) {
      return lockedCreate(mutex, wasmJson, 32).then(function (wasm) {
        wasmCache = wasm;
        return wasmCache.calculate(data);
      });
    }
    try {
      var _hash20 = wasmCache.calculate(data);
      return Promise.resolve(_hash20);
    } catch (err) {
      return Promise.reject(err);
    }
  }
  /**
   * Creates a new SM3 hash instance
   */
  function createSM3() {
    return WASMInterface(wasmJson, 32).then(function (wasm) {
      wasm.init();
      var obj = {
        init: function init() {
          wasm.init();
          return obj;
        },
        update: function update(data) {
          wasm.update(data);
          return obj;
        },
        // biome-ignore lint/suspicious/noExplicitAny: Conflict with IHasher type
        digest: function digest(outputType) {
          return wasm.digest(outputType);
        },
        save: function save() {
          return wasm.save();
        },
        load: function load(data) {
          wasm.load(data);
          return obj;
        },
        blockSize: 64,
        digestSize: 32
      };
      return obj;
    });
  }
  exports.adler32 = adler32;
  exports.argon2Verify = argon2Verify;
  exports.argon2d = argon2d;
  exports.argon2i = argon2i;
  exports.argon2id = argon2id;
  exports.bcrypt = bcrypt;
  exports.bcryptVerify = bcryptVerify;
  exports.blake2b = blake2b;
  exports.blake2s = blake2s;
  exports.blake3 = blake3;
  exports.crc32 = crc32;
  exports.crc64 = crc64;
  exports.createAdler32 = createAdler32;
  exports.createBLAKE2b = createBLAKE2b;
  exports.createBLAKE2s = createBLAKE2s;
  exports.createBLAKE3 = createBLAKE3;
  exports.createCRC32 = createCRC32;
  exports.createCRC64 = createCRC64;
  exports.createHMAC = createHMAC;
  exports.createKeccak = createKeccak;
  exports.createMD4 = createMD4;
  exports.createMD5 = createMD5;
  exports.createRIPEMD160 = createRIPEMD160;
  exports.createSHA1 = createSHA1;
  exports.createSHA224 = createSHA224;
  exports.createSHA256 = createSHA256;
  exports.createSHA3 = createSHA3;
  exports.createSHA384 = createSHA384;
  exports.createSHA512 = createSHA512;
  exports.createSM3 = createSM3;
  exports.createWhirlpool = createWhirlpool;
  exports.createXXHash128 = createXXHash128;
  exports.createXXHash3 = createXXHash3;
  exports.createXXHash32 = createXXHash32;
  exports.createXXHash64 = createXXHash64;
  exports.keccak = keccak;
  exports.md4 = md4;
  exports.md5 = md5;
  exports.pbkdf2 = pbkdf2;
  exports.ripemd160 = ripemd160;
  exports.scrypt = scrypt;
  exports.sha1 = sha1;
  exports.sha224 = sha224;
  exports.sha256 = sha256;
  exports.sha3 = sha3;
  exports.sha384 = sha384;
  exports.sha512 = sha512;
  exports.sm3 = sm3;
  exports.whirlpool = whirlpool;
  exports.xxhash128 = xxhash128;
  exports.xxhash3 = xxhash3;
  exports.xxhash32 = xxhash32;
  exports.xxhash64 = xxhash64;
});
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@babel/runtime/helpers/classCallCheck":79,"@babel/runtime/helpers/createClass":81,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/toConsumableArray":110,"@babel/runtime/helpers/typeof":113,"@babel/runtime/regenerator":116}],193:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clear = clear;
exports.createStore = createStore;
exports.del = del;
exports.delMany = delMany;
exports.entries = entries;
exports.get = get;
exports.getMany = getMany;
exports.keys = keys;
exports.promisifyRequest = promisifyRequest;
exports.set = set;
exports.setMany = setMany;
exports.update = update;
exports.values = values;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
function promisifyRequest(request) {
  return new Promise(function (resolve, reject) {
    // @ts-ignore - file size hacks
    request.oncomplete = request.onsuccess = function () {
      return resolve(request.result);
    };
    // @ts-ignore - file size hacks
    request.onabort = request.onerror = function () {
      return reject(request.error);
    };
  });
}
function createStore(dbName, storeName) {
  var dbp;
  var getDB = function getDB() {
    if (dbp) return dbp;
    var request = indexedDB.open(dbName);
    request.onupgradeneeded = function () {
      return request.result.createObjectStore(storeName);
    };
    dbp = promisifyRequest(request);
    dbp.then(function (db) {
      // It seems like Safari sometimes likes to just close the connection.
      // It's supposed to fire this event when that happens. Let's hope it does!
      db.onclose = function () {
        return dbp = undefined;
      };
    }, function () {});
    return dbp;
  };
  return function (txMode, callback) {
    return getDB().then(function (db) {
      return callback(db.transaction(storeName, txMode).objectStore(storeName));
    });
  };
}
var defaultGetStoreFunc;
function defaultGetStore() {
  if (!defaultGetStoreFunc) {
    defaultGetStoreFunc = createStore('keyval-store', 'keyval');
  }
  return defaultGetStoreFunc;
}
/**
 * Get a value by its key.
 *
 * @param key
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function get(key) {
  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();
  return customStore('readonly', function (store) {
    return promisifyRequest(store.get(key));
  });
}
/**
 * Set a value with a key.
 *
 * @param key
 * @param value
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function set(key, value) {
  var customStore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetStore();
  return customStore('readwrite', function (store) {
    store.put(value, key);
    return promisifyRequest(store.transaction);
  });
}
/**
 * Set multiple values at once. This is faster than calling set() multiple times.
 * It's also atomic – if one of the pairs can't be added, none will be added.
 *
 * @param entries Array of entries, where each entry is an array of `[key, value]`.
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function setMany(entries) {
  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();
  return customStore('readwrite', function (store) {
    entries.forEach(function (entry) {
      return store.put(entry[1], entry[0]);
    });
    return promisifyRequest(store.transaction);
  });
}
/**
 * Get multiple values by their keys
 *
 * @param keys
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function getMany(keys) {
  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();
  return customStore('readonly', function (store) {
    return Promise.all(keys.map(function (key) {
      return promisifyRequest(store.get(key));
    }));
  });
}
/**
 * Update a value. This lets you see the old value and update it as an atomic operation.
 *
 * @param key
 * @param updater A callback that takes the old value and returns a new value.
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function update(key, updater) {
  var customStore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetStore();
  return customStore('readwrite', function (store) {
    return (
      // Need to create the promise manually.
      // If I try to chain promises, the transaction closes in browsers
      // that use a promise polyfill (IE10/11).
      new Promise(function (resolve, reject) {
        store.get(key).onsuccess = function () {
          try {
            store.put(updater(this.result), key);
            resolve(promisifyRequest(store.transaction));
          } catch (err) {
            reject(err);
          }
        };
      })
    );
  });
}
/**
 * Delete a particular key from the store.
 *
 * @param key
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function del(key) {
  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();
  return customStore('readwrite', function (store) {
    store["delete"](key);
    return promisifyRequest(store.transaction);
  });
}
/**
 * Delete multiple keys at once.
 *
 * @param keys List of keys to delete.
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function delMany(keys) {
  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();
  return customStore('readwrite', function (store) {
    keys.forEach(function (key) {
      return store["delete"](key);
    });
    return promisifyRequest(store.transaction);
  });
}
/**
 * Clear all values in the store.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function clear() {
  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();
  return customStore('readwrite', function (store) {
    store.clear();
    return promisifyRequest(store.transaction);
  });
}
function eachCursor(store, callback) {
  store.openCursor().onsuccess = function () {
    if (!this.result) return;
    callback(this.result);
    this.result["continue"]();
  };
  return promisifyRequest(store.transaction);
}
/**
 * Get all keys in the store.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function keys() {
  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();
  return customStore('readonly', function (store) {
    // Fast path for modern browsers
    if (store.getAllKeys) {
      return promisifyRequest(store.getAllKeys());
    }
    var items = [];
    return eachCursor(store, function (cursor) {
      return items.push(cursor.key);
    }).then(function () {
      return items;
    });
  });
}
/**
 * Get all values in the store.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function values() {
  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();
  return customStore('readonly', function (store) {
    // Fast path for modern browsers
    if (store.getAll) {
      return promisifyRequest(store.getAll());
    }
    var items = [];
    return eachCursor(store, function (cursor) {
      return items.push(cursor.value);
    }).then(function () {
      return items;
    });
  });
}
/**
 * Get all entries in the store. Each entry is an array of `[key, value]`.
 *
 * @param customStore Method to get a custom store. Use with caution (see the docs).
 */
function entries() {
  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();
  return customStore('readonly', function (store) {
    // Fast path for modern browsers
    // (although, hopefully we'll get a simpler path some day)
    if (store.getAll && store.getAllKeys) {
      return Promise.all([promisifyRequest(store.getAllKeys()), promisifyRequest(store.getAll())]).then(function (_ref) {
        var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
          keys = _ref2[0],
          values = _ref2[1];
        return keys.map(function (key, i) {
          return [key, values[i]];
        });
      });
    }
    var items = [];
    return customStore('readonly', function (store) {
      return eachCursor(store, function (cursor) {
        return items.push([cursor.key, cursor.value]);
      }).then(function () {
        return items;
      });
    });
  });
}
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107}],194:[function(require,module,exports){
"use strict";

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m;
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var nBits = -7;
  var i = isLE ? nBytes - 1 : 0;
  var d = isLE ? -1 : 1;
  var s = buffer[offset + i];
  i += d;
  e = s & (1 << -nBits) - 1;
  s >>= -nBits;
  nBits += eLen;
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}
  m = e & (1 << -nBits) - 1;
  e >>= -nBits;
  nBits += mLen;
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}
  if (e === 0) {
    e = 1 - eBias;
  } else if (e === eMax) {
    return m ? NaN : (s ? -1 : 1) * Infinity;
  } else {
    m = m + Math.pow(2, mLen);
    e = e - eBias;
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
};
exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c;
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
  var i = isLE ? 0 : nBytes - 1;
  var d = isLE ? 1 : -1;
  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
  value = Math.abs(value);
  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0;
    e = eMax;
  } else {
    e = Math.floor(Math.log(value) / Math.LN2);
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--;
      c *= 2;
    }
    if (e + eBias >= 1) {
      value += rt / c;
    } else {
      value += rt * Math.pow(2, 1 - eBias);
    }
    if (value * c >= 2) {
      e++;
      c /= 2;
    }
    if (e + eBias >= eMax) {
      m = 0;
      e = eMax;
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen);
      e = e + eBias;
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
      e = 0;
    }
  }
  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}
  e = e << mLen | m;
  eLen += mLen;
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}
  buffer[offset + i - d] |= s * 128;
};
},{}],195:[function(require,module,exports){
'use strict';

var loader = require('./lib/loader');
var dumper = require('./lib/dumper');
function renamed(from, to) {
  return function () {
    throw new Error('Function yaml.' + from + ' is removed in js-yaml 4. ' + 'Use yaml.' + to + ' instead, which is now safe by default.');
  };
}
module.exports.Type = require('./lib/type');
module.exports.Schema = require('./lib/schema');
module.exports.FAILSAFE_SCHEMA = require('./lib/schema/failsafe');
module.exports.JSON_SCHEMA = require('./lib/schema/json');
module.exports.CORE_SCHEMA = require('./lib/schema/core');
module.exports.DEFAULT_SCHEMA = require('./lib/schema/default');
module.exports.load = loader.load;
module.exports.loadAll = loader.loadAll;
module.exports.dump = dumper.dump;
module.exports.YAMLException = require('./lib/exception');

// Re-export all types in case user wants to create custom schema
module.exports.types = {
  binary: require('./lib/type/binary'),
  "float": require('./lib/type/float'),
  map: require('./lib/type/map'),
  "null": require('./lib/type/null'),
  pairs: require('./lib/type/pairs'),
  set: require('./lib/type/set'),
  timestamp: require('./lib/type/timestamp'),
  bool: require('./lib/type/bool'),
  "int": require('./lib/type/int'),
  merge: require('./lib/type/merge'),
  omap: require('./lib/type/omap'),
  seq: require('./lib/type/seq'),
  str: require('./lib/type/str')
};

// Removed functions from JS-YAML 3.0.x
module.exports.safeLoad = renamed('safeLoad', 'load');
module.exports.safeLoadAll = renamed('safeLoadAll', 'loadAll');
module.exports.safeDump = renamed('safeDump', 'dump');
},{"./lib/dumper":197,"./lib/exception":198,"./lib/loader":199,"./lib/schema":200,"./lib/schema/core":201,"./lib/schema/default":202,"./lib/schema/failsafe":203,"./lib/schema/json":204,"./lib/type":206,"./lib/type/binary":207,"./lib/type/bool":208,"./lib/type/float":209,"./lib/type/int":210,"./lib/type/map":211,"./lib/type/merge":212,"./lib/type/null":213,"./lib/type/omap":214,"./lib/type/pairs":215,"./lib/type/seq":216,"./lib/type/set":217,"./lib/type/str":218,"./lib/type/timestamp":219}],196:[function(require,module,exports){
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
function isNothing(subject) {
  return typeof subject === 'undefined' || subject === null;
}
function isObject(subject) {
  return (0, _typeof2["default"])(subject) === 'object' && subject !== null;
}
function toArray(sequence) {
  if (Array.isArray(sequence)) return sequence;else if (isNothing(sequence)) return [];
  return [sequence];
}
function extend(target, source) {
  var index, length, key, sourceKeys;
  if (source) {
    sourceKeys = Object.keys(source);
    for (index = 0, length = sourceKeys.length; index < length; index += 1) {
      key = sourceKeys[index];
      target[key] = source[key];
    }
  }
  return target;
}
function repeat(string, count) {
  var result = '',
    cycle;
  for (cycle = 0; cycle < count; cycle += 1) {
    result += string;
  }
  return result;
}
function isNegativeZero(number) {
  return number === 0 && Number.NEGATIVE_INFINITY === 1 / number;
}
module.exports.isNothing = isNothing;
module.exports.isObject = isObject;
module.exports.toArray = toArray;
module.exports.repeat = repeat;
module.exports.isNegativeZero = isNegativeZero;
module.exports.extend = extend;
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],197:[function(require,module,exports){
'use strict';

/*eslint-disable no-use-before-define*/
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var common = require('./common');
var YAMLException = require('./exception');
var DEFAULT_SCHEMA = require('./schema/default');
var _toString = Object.prototype.toString;
var _hasOwnProperty = Object.prototype.hasOwnProperty;
var CHAR_BOM = 0xFEFF;
var CHAR_TAB = 0x09; /* Tab */
var CHAR_LINE_FEED = 0x0A; /* LF */
var CHAR_CARRIAGE_RETURN = 0x0D; /* CR */
var CHAR_SPACE = 0x20; /* Space */
var CHAR_EXCLAMATION = 0x21; /* ! */
var CHAR_DOUBLE_QUOTE = 0x22; /* " */
var CHAR_SHARP = 0x23; /* # */
var CHAR_PERCENT = 0x25; /* % */
var CHAR_AMPERSAND = 0x26; /* & */
var CHAR_SINGLE_QUOTE = 0x27; /* ' */
var CHAR_ASTERISK = 0x2A; /* * */
var CHAR_COMMA = 0x2C; /* , */
var CHAR_MINUS = 0x2D; /* - */
var CHAR_COLON = 0x3A; /* : */
var CHAR_EQUALS = 0x3D; /* = */
var CHAR_GREATER_THAN = 0x3E; /* > */
var CHAR_QUESTION = 0x3F; /* ? */
var CHAR_COMMERCIAL_AT = 0x40; /* @ */
var CHAR_LEFT_SQUARE_BRACKET = 0x5B; /* [ */
var CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */
var CHAR_GRAVE_ACCENT = 0x60; /* ` */
var CHAR_LEFT_CURLY_BRACKET = 0x7B; /* { */
var CHAR_VERTICAL_LINE = 0x7C; /* | */
var CHAR_RIGHT_CURLY_BRACKET = 0x7D; /* } */

var ESCAPE_SEQUENCES = {};
ESCAPE_SEQUENCES[0x00] = '\\0';
ESCAPE_SEQUENCES[0x07] = '\\a';
ESCAPE_SEQUENCES[0x08] = '\\b';
ESCAPE_SEQUENCES[0x09] = '\\t';
ESCAPE_SEQUENCES[0x0A] = '\\n';
ESCAPE_SEQUENCES[0x0B] = '\\v';
ESCAPE_SEQUENCES[0x0C] = '\\f';
ESCAPE_SEQUENCES[0x0D] = '\\r';
ESCAPE_SEQUENCES[0x1B] = '\\e';
ESCAPE_SEQUENCES[0x22] = '\\"';
ESCAPE_SEQUENCES[0x5C] = '\\\\';
ESCAPE_SEQUENCES[0x85] = '\\N';
ESCAPE_SEQUENCES[0xA0] = '\\_';
ESCAPE_SEQUENCES[0x2028] = '\\L';
ESCAPE_SEQUENCES[0x2029] = '\\P';
var DEPRECATED_BOOLEANS_SYNTAX = ['y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON', 'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'];
var DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;
function compileStyleMap(schema, map) {
  var result, keys, index, length, tag, style, type;
  if (map === null) return {};
  result = {};
  keys = Object.keys(map);
  for (index = 0, length = keys.length; index < length; index += 1) {
    tag = keys[index];
    style = String(map[tag]);
    if (tag.slice(0, 2) === '!!') {
      tag = 'tag:yaml.org,2002:' + tag.slice(2);
    }
    type = schema.compiledTypeMap['fallback'][tag];
    if (type && _hasOwnProperty.call(type.styleAliases, style)) {
      style = type.styleAliases[style];
    }
    result[tag] = style;
  }
  return result;
}
function encodeHex(character) {
  var string, handle, length;
  string = character.toString(16).toUpperCase();
  if (character <= 0xFF) {
    handle = 'x';
    length = 2;
  } else if (character <= 0xFFFF) {
    handle = 'u';
    length = 4;
  } else if (character <= 0xFFFFFFFF) {
    handle = 'U';
    length = 8;
  } else {
    throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');
  }
  return '\\' + handle + common.repeat('0', length - string.length) + string;
}
var QUOTING_TYPE_SINGLE = 1,
  QUOTING_TYPE_DOUBLE = 2;
function State(options) {
  this.schema = options['schema'] || DEFAULT_SCHEMA;
  this.indent = Math.max(1, options['indent'] || 2);
  this.noArrayIndent = options['noArrayIndent'] || false;
  this.skipInvalid = options['skipInvalid'] || false;
  this.flowLevel = common.isNothing(options['flowLevel']) ? -1 : options['flowLevel'];
  this.styleMap = compileStyleMap(this.schema, options['styles'] || null);
  this.sortKeys = options['sortKeys'] || false;
  this.lineWidth = options['lineWidth'] || 80;
  this.noRefs = options['noRefs'] || false;
  this.noCompatMode = options['noCompatMode'] || false;
  this.condenseFlow = options['condenseFlow'] || false;
  this.quotingType = options['quotingType'] === '"' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;
  this.forceQuotes = options['forceQuotes'] || false;
  this.replacer = typeof options['replacer'] === 'function' ? options['replacer'] : null;
  this.implicitTypes = this.schema.compiledImplicit;
  this.explicitTypes = this.schema.compiledExplicit;
  this.tag = null;
  this.result = '';
  this.duplicates = [];
  this.usedDuplicates = null;
}

// Indents every line in a string. Empty lines (\n only) are not indented.
function indentString(string, spaces) {
  var ind = common.repeat(' ', spaces),
    position = 0,
    next = -1,
    result = '',
    line,
    length = string.length;
  while (position < length) {
    next = string.indexOf('\n', position);
    if (next === -1) {
      line = string.slice(position);
      position = length;
    } else {
      line = string.slice(position, next + 1);
      position = next + 1;
    }
    if (line.length && line !== '\n') result += ind;
    result += line;
  }
  return result;
}
function generateNextLine(state, level) {
  return '\n' + common.repeat(' ', state.indent * level);
}
function testImplicitResolving(state, str) {
  var index, length, type;
  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {
    type = state.implicitTypes[index];
    if (type.resolve(str)) {
      return true;
    }
  }
  return false;
}

// [33] s-white ::= s-space | s-tab
function isWhitespace(c) {
  return c === CHAR_SPACE || c === CHAR_TAB;
}

// Returns true if the character can be printed without escaping.
// From YAML 1.2: "any allowed characters known to be non-printable
// should also be escaped. [However,] This isn’t mandatory"
// Derived from nb-char - \t - #x85 - #xA0 - #x2028 - #x2029.
function isPrintable(c) {
  return 0x00020 <= c && c <= 0x00007E || 0x000A1 <= c && c <= 0x00D7FF && c !== 0x2028 && c !== 0x2029 || 0x0E000 <= c && c <= 0x00FFFD && c !== CHAR_BOM || 0x10000 <= c && c <= 0x10FFFF;
}

// [34] ns-char ::= nb-char - s-white
// [27] nb-char ::= c-printable - b-char - c-byte-order-mark
// [26] b-char  ::= b-line-feed | b-carriage-return
// Including s-white (for some reason, examples doesn't match specs in this aspect)
// ns-char ::= c-printable - b-line-feed - b-carriage-return - c-byte-order-mark
function isNsCharOrWhitespace(c) {
  return isPrintable(c) && c !== CHAR_BOM
  // - b-char
  && c !== CHAR_CARRIAGE_RETURN && c !== CHAR_LINE_FEED;
}

// [127]  ns-plain-safe(c) ::= c = flow-out  ⇒ ns-plain-safe-out
//                             c = flow-in   ⇒ ns-plain-safe-in
//                             c = block-key ⇒ ns-plain-safe-out
//                             c = flow-key  ⇒ ns-plain-safe-in
// [128] ns-plain-safe-out ::= ns-char
// [129]  ns-plain-safe-in ::= ns-char - c-flow-indicator
// [130]  ns-plain-char(c) ::=  ( ns-plain-safe(c) - “:” - “#” )
//                            | ( /* An ns-char preceding */ “#” )
//                            | ( “:” /* Followed by an ns-plain-safe(c) */ )
function isPlainSafe(c, prev, inblock) {
  var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);
  var cIsNsChar = cIsNsCharOrWhitespace && !isWhitespace(c);
  return (
  // ns-plain-safe
  inblock ?
  // c = flow-in
  cIsNsCharOrWhitespace : cIsNsCharOrWhitespace
  // - c-flow-indicator
  && c !== CHAR_COMMA && c !== CHAR_LEFT_SQUARE_BRACKET && c !== CHAR_RIGHT_SQUARE_BRACKET && c !== CHAR_LEFT_CURLY_BRACKET && c !== CHAR_RIGHT_CURLY_BRACKET

  // ns-plain-char
  ) && c !== CHAR_SHARP // false on '#'
  && !(prev === CHAR_COLON && !cIsNsChar) // false on ': '
  || isNsCharOrWhitespace(prev) && !isWhitespace(prev) && c === CHAR_SHARP // change to true on '[^ ]#'
  || prev === CHAR_COLON && cIsNsChar; // change to true on ':[^ ]'
}

// Simplified test for values allowed as the first character in plain style.
function isPlainSafeFirst(c) {
  // Uses a subset of ns-char - c-indicator
  // where ns-char = nb-char - s-white.
  // No support of ( ( “?” | “:” | “-” ) /* Followed by an ns-plain-safe(c)) */ ) part
  return isPrintable(c) && c !== CHAR_BOM && !isWhitespace(c) // - s-white
  // - (c-indicator ::=
  // “-” | “?” | “:” | “,” | “[” | “]” | “{” | “}”
  && c !== CHAR_MINUS && c !== CHAR_QUESTION && c !== CHAR_COLON && c !== CHAR_COMMA && c !== CHAR_LEFT_SQUARE_BRACKET && c !== CHAR_RIGHT_SQUARE_BRACKET && c !== CHAR_LEFT_CURLY_BRACKET && c !== CHAR_RIGHT_CURLY_BRACKET
  // | “#” | “&” | “*” | “!” | “|” | “=” | “>” | “'” | “"”
  && c !== CHAR_SHARP && c !== CHAR_AMPERSAND && c !== CHAR_ASTERISK && c !== CHAR_EXCLAMATION && c !== CHAR_VERTICAL_LINE && c !== CHAR_EQUALS && c !== CHAR_GREATER_THAN && c !== CHAR_SINGLE_QUOTE && c !== CHAR_DOUBLE_QUOTE
  // | “%” | “@” | “`”)
  && c !== CHAR_PERCENT && c !== CHAR_COMMERCIAL_AT && c !== CHAR_GRAVE_ACCENT;
}

// Simplified test for values allowed as the last character in plain style.
function isPlainSafeLast(c) {
  // just not whitespace or colon, it will be checked to be plain character later
  return !isWhitespace(c) && c !== CHAR_COLON;
}

// Same as 'string'.codePointAt(pos), but works in older browsers.
function codePointAt(string, pos) {
  var first = string.charCodeAt(pos),
    second;
  if (first >= 0xD800 && first <= 0xDBFF && pos + 1 < string.length) {
    second = string.charCodeAt(pos + 1);
    if (second >= 0xDC00 && second <= 0xDFFF) {
      // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
      return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;
    }
  }
  return first;
}

// Determines whether block indentation indicator is required.
function needIndentIndicator(string) {
  var leadingSpaceRe = /^\n* /;
  return leadingSpaceRe.test(string);
}
var STYLE_PLAIN = 1,
  STYLE_SINGLE = 2,
  STYLE_LITERAL = 3,
  STYLE_FOLDED = 4,
  STYLE_DOUBLE = 5;

// Determines which scalar styles are possible and returns the preferred style.
// lineWidth = -1 => no limit.
// Pre-conditions: str.length > 0.
// Post-conditions:
//    STYLE_PLAIN or STYLE_SINGLE => no \n are in the string.
//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).
//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).
function chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType, quotingType, forceQuotes, inblock) {
  var i;
  var _char = 0;
  var prevChar = null;
  var hasLineBreak = false;
  var hasFoldableLine = false; // only checked if shouldTrackWidth
  var shouldTrackWidth = lineWidth !== -1;
  var previousLineBreak = -1; // count the first line correctly
  var plain = isPlainSafeFirst(codePointAt(string, 0)) && isPlainSafeLast(codePointAt(string, string.length - 1));
  if (singleLineOnly || forceQuotes) {
    // Case: no block styles.
    // Check for disallowed characters to rule out plain and single.
    for (i = 0; i < string.length; _char >= 0x10000 ? i += 2 : i++) {
      _char = codePointAt(string, i);
      if (!isPrintable(_char)) {
        return STYLE_DOUBLE;
      }
      plain = plain && isPlainSafe(_char, prevChar, inblock);
      prevChar = _char;
    }
  } else {
    // Case: block styles permitted.
    for (i = 0; i < string.length; _char >= 0x10000 ? i += 2 : i++) {
      _char = codePointAt(string, i);
      if (_char === CHAR_LINE_FEED) {
        hasLineBreak = true;
        // Check if any line can be folded.
        if (shouldTrackWidth) {
          hasFoldableLine = hasFoldableLine ||
          // Foldable line = too long, and not more-indented.
          i - previousLineBreak - 1 > lineWidth && string[previousLineBreak + 1] !== ' ';
          previousLineBreak = i;
        }
      } else if (!isPrintable(_char)) {
        return STYLE_DOUBLE;
      }
      plain = plain && isPlainSafe(_char, prevChar, inblock);
      prevChar = _char;
    }
    // in case the end is missing a \n
    hasFoldableLine = hasFoldableLine || shouldTrackWidth && i - previousLineBreak - 1 > lineWidth && string[previousLineBreak + 1] !== ' ';
  }
  // Although every style can represent \n without escaping, prefer block styles
  // for multiline, since they're more readable and they don't add empty lines.
  // Also prefer folding a super-long line.
  if (!hasLineBreak && !hasFoldableLine) {
    // Strings interpretable as another type have to be quoted;
    // e.g. the string 'true' vs. the boolean true.
    if (plain && !forceQuotes && !testAmbiguousType(string)) {
      return STYLE_PLAIN;
    }
    return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;
  }
  // Edge case: block indentation indicator can only have one digit.
  if (indentPerLevel > 9 && needIndentIndicator(string)) {
    return STYLE_DOUBLE;
  }
  // At this point we know block styles are valid.
  // Prefer literal style unless we want to fold.
  if (!forceQuotes) {
    return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;
  }
  return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;
}

// Note: line breaking/folding is implemented for only the folded style.
// NB. We drop the last trailing newline (if any) of a returned block scalar
//  since the dumper adds its own newline. This always works:
//    • No ending newline => unaffected; already using strip "-" chomping.
//    • Ending newline    => removed then restored.
//  Importantly, this keeps the "+" chomp indicator from gaining an extra line.
function writeScalar(state, string, level, iskey, inblock) {
  state.dump = function () {
    if (string.length === 0) {
      return state.quotingType === QUOTING_TYPE_DOUBLE ? '""' : "''";
    }
    if (!state.noCompatMode) {
      if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {
        return state.quotingType === QUOTING_TYPE_DOUBLE ? '"' + string + '"' : "'" + string + "'";
      }
    }
    var indent = state.indent * Math.max(1, level); // no 0-indent scalars
    // As indentation gets deeper, let the width decrease monotonically
    // to the lower bound min(state.lineWidth, 40).
    // Note that this implies
    //  state.lineWidth ≤ 40 + state.indent: width is fixed at the lower bound.
    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.
    // This behaves better than a constant minimum width which disallows narrower options,
    // or an indent threshold which causes the width to suddenly increase.
    var lineWidth = state.lineWidth === -1 ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);

    // Without knowing if keys are implicit/explicit, assume implicit for safety.
    var singleLineOnly = iskey
    // No block styles in flow mode.
    || state.flowLevel > -1 && level >= state.flowLevel;
    function testAmbiguity(string) {
      return testImplicitResolving(state, string);
    }
    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth, testAmbiguity, state.quotingType, state.forceQuotes && !iskey, inblock)) {
      case STYLE_PLAIN:
        return string;
      case STYLE_SINGLE:
        return "'" + string.replace(/'/g, "''") + "'";
      case STYLE_LITERAL:
        return '|' + blockHeader(string, state.indent) + dropEndingNewline(indentString(string, indent));
      case STYLE_FOLDED:
        return '>' + blockHeader(string, state.indent) + dropEndingNewline(indentString(foldString(string, lineWidth), indent));
      case STYLE_DOUBLE:
        return '"' + escapeString(string, lineWidth) + '"';
      default:
        throw new YAMLException('impossible error: invalid scalar style');
    }
  }();
}

// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.
function blockHeader(string, indentPerLevel) {
  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';

  // note the special case: the string '\n' counts as a "trailing" empty line.
  var clip = string[string.length - 1] === '\n';
  var keep = clip && (string[string.length - 2] === '\n' || string === '\n');
  var chomp = keep ? '+' : clip ? '' : '-';
  return indentIndicator + chomp + '\n';
}

// (See the note for writeScalar.)
function dropEndingNewline(string) {
  return string[string.length - 1] === '\n' ? string.slice(0, -1) : string;
}

// Note: a long line without a suitable break point will exceed the width limit.
// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.
function foldString(string, width) {
  // In folded style, $k$ consecutive newlines output as $k+1$ newlines—
  // unless they're before or after a more-indented line, or at the very
  // beginning or end, in which case $k$ maps to $k$.
  // Therefore, parse each chunk as newline(s) followed by a content line.
  var lineRe = /(\n+)([^\n]*)/g;

  // first line (possibly an empty line)
  var result = function () {
    var nextLF = string.indexOf('\n');
    nextLF = nextLF !== -1 ? nextLF : string.length;
    lineRe.lastIndex = nextLF;
    return foldLine(string.slice(0, nextLF), width);
  }();
  // If we haven't reached the first content line yet, don't add an extra \n.
  var prevMoreIndented = string[0] === '\n' || string[0] === ' ';
  var moreIndented;

  // rest of the lines
  var match;
  while (match = lineRe.exec(string)) {
    var prefix = match[1],
      line = match[2];
    moreIndented = line[0] === ' ';
    result += prefix + (!prevMoreIndented && !moreIndented && line !== '' ? '\n' : '') + foldLine(line, width);
    prevMoreIndented = moreIndented;
  }
  return result;
}

// Greedy line breaking.
// Picks the longest line under the limit each time,
// otherwise settles for the shortest line over the limit.
// NB. More-indented lines *cannot* be folded, as that would add an extra \n.
function foldLine(line, width) {
  if (line === '' || line[0] === ' ') return line;

  // Since a more-indented line adds a \n, breaks can't be followed by a space.
  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.
  var match;
  // start is an inclusive index. end, curr, and next are exclusive.
  var start = 0,
    end,
    curr = 0,
    next = 0;
  var result = '';

  // Invariants: 0 <= start <= length-1.
  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.
  // Inside the loop:
  //   A match implies length >= 2, so curr and next are <= length-2.
  while (match = breakRe.exec(line)) {
    next = match.index;
    // maintain invariant: curr - start <= width
    if (next - start > width) {
      end = curr > start ? curr : next; // derive end <= length-2
      result += '\n' + line.slice(start, end);
      // skip the space that was output as \n
      start = end + 1; // derive start <= length-1
    }
    curr = next;
  }

  // By the invariants, start <= length-1, so there is something left over.
  // It is either the whole string or a part starting from non-whitespace.
  result += '\n';
  // Insert a break if the remainder is too long and there is a break available.
  if (line.length - start > width && curr > start) {
    result += line.slice(start, curr) + '\n' + line.slice(curr + 1);
  } else {
    result += line.slice(start);
  }
  return result.slice(1); // drop extra \n joiner
}

// Escapes a double-quoted string.
function escapeString(string) {
  var result = '';
  var _char2 = 0;
  var escapeSeq;
  for (var i = 0; i < string.length; _char2 >= 0x10000 ? i += 2 : i++) {
    _char2 = codePointAt(string, i);
    escapeSeq = ESCAPE_SEQUENCES[_char2];
    if (!escapeSeq && isPrintable(_char2)) {
      result += string[i];
      if (_char2 >= 0x10000) result += string[i + 1];
    } else {
      result += escapeSeq || encodeHex(_char2);
    }
  }
  return result;
}
function writeFlowSequence(state, level, object) {
  var _result = '',
    _tag = state.tag,
    index,
    length,
    value;
  for (index = 0, length = object.length; index < length; index += 1) {
    value = object[index];
    if (state.replacer) {
      value = state.replacer.call(object, String(index), value);
    }

    // Write only valid elements, put null instead of invalid elements.
    if (writeNode(state, level, value, false, false) || typeof value === 'undefined' && writeNode(state, level, null, false, false)) {
      if (_result !== '') _result += ',' + (!state.condenseFlow ? ' ' : '');
      _result += state.dump;
    }
  }
  state.tag = _tag;
  state.dump = '[' + _result + ']';
}
function writeBlockSequence(state, level, object, compact) {
  var _result = '',
    _tag = state.tag,
    index,
    length,
    value;
  for (index = 0, length = object.length; index < length; index += 1) {
    value = object[index];
    if (state.replacer) {
      value = state.replacer.call(object, String(index), value);
    }

    // Write only valid elements, put null instead of invalid elements.
    if (writeNode(state, level + 1, value, true, true, false, true) || typeof value === 'undefined' && writeNode(state, level + 1, null, true, true, false, true)) {
      if (!compact || _result !== '') {
        _result += generateNextLine(state, level);
      }
      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {
        _result += '-';
      } else {
        _result += '- ';
      }
      _result += state.dump;
    }
  }
  state.tag = _tag;
  state.dump = _result || '[]'; // Empty sequence if no valid values.
}
function writeFlowMapping(state, level, object) {
  var _result = '',
    _tag = state.tag,
    objectKeyList = Object.keys(object),
    index,
    length,
    objectKey,
    objectValue,
    pairBuffer;
  for (index = 0, length = objectKeyList.length; index < length; index += 1) {
    pairBuffer = '';
    if (_result !== '') pairBuffer += ', ';
    if (state.condenseFlow) pairBuffer += '"';
    objectKey = objectKeyList[index];
    objectValue = object[objectKey];
    if (state.replacer) {
      objectValue = state.replacer.call(object, objectKey, objectValue);
    }
    if (!writeNode(state, level, objectKey, false, false)) {
      continue; // Skip this pair because of invalid key;
    }
    if (state.dump.length > 1024) pairBuffer += '? ';
    pairBuffer += state.dump + (state.condenseFlow ? '"' : '') + ':' + (state.condenseFlow ? '' : ' ');
    if (!writeNode(state, level, objectValue, false, false)) {
      continue; // Skip this pair because of invalid value.
    }
    pairBuffer += state.dump;

    // Both key and value are valid.
    _result += pairBuffer;
  }
  state.tag = _tag;
  state.dump = '{' + _result + '}';
}
function writeBlockMapping(state, level, object, compact) {
  var _result = '',
    _tag = state.tag,
    objectKeyList = Object.keys(object),
    index,
    length,
    objectKey,
    objectValue,
    explicitPair,
    pairBuffer;

  // Allow sorting keys so that the output file is deterministic
  if (state.sortKeys === true) {
    // Default sorting
    objectKeyList.sort();
  } else if (typeof state.sortKeys === 'function') {
    // Custom sort function
    objectKeyList.sort(state.sortKeys);
  } else if (state.sortKeys) {
    // Something is wrong
    throw new YAMLException('sortKeys must be a boolean or a function');
  }
  for (index = 0, length = objectKeyList.length; index < length; index += 1) {
    pairBuffer = '';
    if (!compact || _result !== '') {
      pairBuffer += generateNextLine(state, level);
    }
    objectKey = objectKeyList[index];
    objectValue = object[objectKey];
    if (state.replacer) {
      objectValue = state.replacer.call(object, objectKey, objectValue);
    }
    if (!writeNode(state, level + 1, objectKey, true, true, true)) {
      continue; // Skip this pair because of invalid key.
    }
    explicitPair = state.tag !== null && state.tag !== '?' || state.dump && state.dump.length > 1024;
    if (explicitPair) {
      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {
        pairBuffer += '?';
      } else {
        pairBuffer += '? ';
      }
    }
    pairBuffer += state.dump;
    if (explicitPair) {
      pairBuffer += generateNextLine(state, level);
    }
    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {
      continue; // Skip this pair because of invalid value.
    }
    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {
      pairBuffer += ':';
    } else {
      pairBuffer += ': ';
    }
    pairBuffer += state.dump;

    // Both key and value are valid.
    _result += pairBuffer;
  }
  state.tag = _tag;
  state.dump = _result || '{}'; // Empty mapping if no valid pairs.
}
function detectType(state, object, explicit) {
  var _result, typeList, index, length, type, style;
  typeList = explicit ? state.explicitTypes : state.implicitTypes;
  for (index = 0, length = typeList.length; index < length; index += 1) {
    type = typeList[index];
    if ((type.instanceOf || type.predicate) && (!type.instanceOf || (0, _typeof2["default"])(object) === 'object' && object instanceof type.instanceOf) && (!type.predicate || type.predicate(object))) {
      if (explicit) {
        if (type.multi && type.representName) {
          state.tag = type.representName(object);
        } else {
          state.tag = type.tag;
        }
      } else {
        state.tag = '?';
      }
      if (type.represent) {
        style = state.styleMap[type.tag] || type.defaultStyle;
        if (_toString.call(type.represent) === '[object Function]') {
          _result = type.represent(object, style);
        } else if (_hasOwnProperty.call(type.represent, style)) {
          _result = type.represent[style](object, style);
        } else {
          throw new YAMLException('!<' + type.tag + '> tag resolver accepts not "' + style + '" style');
        }
        state.dump = _result;
      }
      return true;
    }
  }
  return false;
}

// Serializes `object` and writes it to global `result`.
// Returns true on success, or false on invalid object.
//
function writeNode(state, level, object, block, compact, iskey, isblockseq) {
  state.tag = null;
  state.dump = object;
  if (!detectType(state, object, false)) {
    detectType(state, object, true);
  }
  var type = _toString.call(state.dump);
  var inblock = block;
  var tagStr;
  if (block) {
    block = state.flowLevel < 0 || state.flowLevel > level;
  }
  var objectOrArray = type === '[object Object]' || type === '[object Array]',
    duplicateIndex,
    duplicate;
  if (objectOrArray) {
    duplicateIndex = state.duplicates.indexOf(object);
    duplicate = duplicateIndex !== -1;
  }
  if (state.tag !== null && state.tag !== '?' || duplicate || state.indent !== 2 && level > 0) {
    compact = false;
  }
  if (duplicate && state.usedDuplicates[duplicateIndex]) {
    state.dump = '*ref_' + duplicateIndex;
  } else {
    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {
      state.usedDuplicates[duplicateIndex] = true;
    }
    if (type === '[object Object]') {
      if (block && Object.keys(state.dump).length !== 0) {
        writeBlockMapping(state, level, state.dump, compact);
        if (duplicate) {
          state.dump = '&ref_' + duplicateIndex + state.dump;
        }
      } else {
        writeFlowMapping(state, level, state.dump);
        if (duplicate) {
          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;
        }
      }
    } else if (type === '[object Array]') {
      if (block && state.dump.length !== 0) {
        if (state.noArrayIndent && !isblockseq && level > 0) {
          writeBlockSequence(state, level - 1, state.dump, compact);
        } else {
          writeBlockSequence(state, level, state.dump, compact);
        }
        if (duplicate) {
          state.dump = '&ref_' + duplicateIndex + state.dump;
        }
      } else {
        writeFlowSequence(state, level, state.dump);
        if (duplicate) {
          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;
        }
      }
    } else if (type === '[object String]') {
      if (state.tag !== '?') {
        writeScalar(state, state.dump, level, iskey, inblock);
      }
    } else if (type === '[object Undefined]') {
      return false;
    } else {
      if (state.skipInvalid) return false;
      throw new YAMLException('unacceptable kind of an object to dump ' + type);
    }
    if (state.tag !== null && state.tag !== '?') {
      // Need to encode all characters except those allowed by the spec:
      //
      // [35] ns-dec-digit    ::=  [#x30-#x39] /* 0-9 */
      // [36] ns-hex-digit    ::=  ns-dec-digit
      //                         | [#x41-#x46] /* A-F */ | [#x61-#x66] /* a-f */
      // [37] ns-ascii-letter ::=  [#x41-#x5A] /* A-Z */ | [#x61-#x7A] /* a-z */
      // [38] ns-word-char    ::=  ns-dec-digit | ns-ascii-letter | “-”
      // [39] ns-uri-char     ::=  “%” ns-hex-digit ns-hex-digit | ns-word-char | “#”
      //                         | “;” | “/” | “?” | “:” | “@” | “&” | “=” | “+” | “$” | “,”
      //                         | “_” | “.” | “!” | “~” | “*” | “'” | “(” | “)” | “[” | “]”
      //
      // Also need to encode '!' because it has special meaning (end of tag prefix).
      //
      tagStr = encodeURI(state.tag[0] === '!' ? state.tag.slice(1) : state.tag).replace(/!/g, '%21');
      if (state.tag[0] === '!') {
        tagStr = '!' + tagStr;
      } else if (tagStr.slice(0, 18) === 'tag:yaml.org,2002:') {
        tagStr = '!!' + tagStr.slice(18);
      } else {
        tagStr = '!<' + tagStr + '>';
      }
      state.dump = tagStr + ' ' + state.dump;
    }
  }
  return true;
}
function getDuplicateReferences(object, state) {
  var objects = [],
    duplicatesIndexes = [],
    index,
    length;
  inspectNode(object, objects, duplicatesIndexes);
  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {
    state.duplicates.push(objects[duplicatesIndexes[index]]);
  }
  state.usedDuplicates = new Array(length);
}
function inspectNode(object, objects, duplicatesIndexes) {
  var objectKeyList, index, length;
  if (object !== null && (0, _typeof2["default"])(object) === 'object') {
    index = objects.indexOf(object);
    if (index !== -1) {
      if (duplicatesIndexes.indexOf(index) === -1) {
        duplicatesIndexes.push(index);
      }
    } else {
      objects.push(object);
      if (Array.isArray(object)) {
        for (index = 0, length = object.length; index < length; index += 1) {
          inspectNode(object[index], objects, duplicatesIndexes);
        }
      } else {
        objectKeyList = Object.keys(object);
        for (index = 0, length = objectKeyList.length; index < length; index += 1) {
          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);
        }
      }
    }
  }
}
function dump(input, options) {
  options = options || {};
  var state = new State(options);
  if (!state.noRefs) getDuplicateReferences(input, state);
  var value = input;
  if (state.replacer) {
    value = state.replacer.call({
      '': value
    }, '', value);
  }
  if (writeNode(state, 0, value, true, true)) return state.dump + '\n';
  return '';
}
module.exports.dump = dump;
},{"./common":196,"./exception":198,"./schema/default":202,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],198:[function(require,module,exports){
// YAML error class. http://stackoverflow.com/questions/8458984
//
'use strict';

function formatError(exception, compact) {
  var where = '',
    message = exception.reason || '(unknown reason)';
  if (!exception.mark) return message;
  if (exception.mark.name) {
    where += 'in "' + exception.mark.name + '" ';
  }
  where += '(' + (exception.mark.line + 1) + ':' + (exception.mark.column + 1) + ')';
  if (!compact && exception.mark.snippet) {
    where += '\n\n' + exception.mark.snippet;
  }
  return message + ' ' + where;
}
function YAMLException(reason, mark) {
  // Super constructor
  Error.call(this);
  this.name = 'YAMLException';
  this.reason = reason;
  this.mark = mark;
  this.message = formatError(this, false);

  // Include stack trace in error object
  if (Error.captureStackTrace) {
    // Chrome and NodeJS
    Error.captureStackTrace(this, this.constructor);
  } else {
    // FF, IE 10+ and Safari 6+. Fallback for others
    this.stack = new Error().stack || '';
  }
}

// Inherit from Error
YAMLException.prototype = Object.create(Error.prototype);
YAMLException.prototype.constructor = YAMLException;
YAMLException.prototype.toString = function toString(compact) {
  return this.name + ': ' + formatError(this, compact);
};
module.exports = YAMLException;
},{}],199:[function(require,module,exports){
'use strict';

/*eslint-disable max-len,no-use-before-define*/
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var common = require('./common');
var YAMLException = require('./exception');
var makeSnippet = require('./snippet');
var DEFAULT_SCHEMA = require('./schema/default');
var _hasOwnProperty = Object.prototype.hasOwnProperty;
var CONTEXT_FLOW_IN = 1;
var CONTEXT_FLOW_OUT = 2;
var CONTEXT_BLOCK_IN = 3;
var CONTEXT_BLOCK_OUT = 4;
var CHOMPING_CLIP = 1;
var CHOMPING_STRIP = 2;
var CHOMPING_KEEP = 3;
var PATTERN_NON_PRINTABLE = /[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;
var PATTERN_NON_ASCII_LINE_BREAKS = /[\x85\u2028\u2029]/;
var PATTERN_FLOW_INDICATORS = /[,\[\]\{\}]/;
var PATTERN_TAG_HANDLE = /^(?:!|!!|![a-z\-]+!)$/i;
var PATTERN_TAG_URI = /^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;
function _class(obj) {
  return Object.prototype.toString.call(obj);
}
function is_EOL(c) {
  return c === 0x0A /* LF */ || c === 0x0D /* CR */;
}
function is_WHITE_SPACE(c) {
  return c === 0x09 /* Tab */ || c === 0x20 /* Space */;
}
function is_WS_OR_EOL(c) {
  return c === 0x09 /* Tab */ || c === 0x20 /* Space */ || c === 0x0A /* LF */ || c === 0x0D /* CR */;
}
function is_FLOW_INDICATOR(c) {
  return c === 0x2C /* , */ || c === 0x5B /* [ */ || c === 0x5D /* ] */ || c === 0x7B /* { */ || c === 0x7D /* } */;
}
function fromHexCode(c) {
  var lc;
  if (0x30 /* 0 */ <= c && c <= 0x39 /* 9 */) {
    return c - 0x30;
  }

  /*eslint-disable no-bitwise*/
  lc = c | 0x20;
  if (0x61 /* a */ <= lc && lc <= 0x66 /* f */) {
    return lc - 0x61 + 10;
  }
  return -1;
}
function escapedHexLen(c) {
  if (c === 0x78 /* x */) {
    return 2;
  }
  if (c === 0x75 /* u */) {
    return 4;
  }
  if (c === 0x55 /* U */) {
    return 8;
  }
  return 0;
}
function fromDecimalCode(c) {
  if (0x30 /* 0 */ <= c && c <= 0x39 /* 9 */) {
    return c - 0x30;
  }
  return -1;
}
function simpleEscapeSequence(c) {
  /* eslint-disable indent */
  return c === 0x30 /* 0 */ ? '\x00' : c === 0x61 /* a */ ? '\x07' : c === 0x62 /* b */ ? '\x08' : c === 0x74 /* t */ ? '\x09' : c === 0x09 /* Tab */ ? '\x09' : c === 0x6E /* n */ ? '\x0A' : c === 0x76 /* v */ ? '\x0B' : c === 0x66 /* f */ ? '\x0C' : c === 0x72 /* r */ ? '\x0D' : c === 0x65 /* e */ ? '\x1B' : c === 0x20 /* Space */ ? ' ' : c === 0x22 /* " */ ? '\x22' : c === 0x2F /* / */ ? '/' : c === 0x5C /* \ */ ? '\x5C' : c === 0x4E /* N */ ? '\x85' : c === 0x5F /* _ */ ? '\xA0' : c === 0x4C /* L */ ? "\u2028" : c === 0x50 /* P */ ? "\u2029" : '';
}
function charFromCodepoint(c) {
  if (c <= 0xFFFF) {
    return String.fromCharCode(c);
  }
  // Encode UTF-16 surrogate pair
  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF
  return String.fromCharCode((c - 0x010000 >> 10) + 0xD800, (c - 0x010000 & 0x03FF) + 0xDC00);
}
var simpleEscapeCheck = new Array(256); // integer, for fast access
var simpleEscapeMap = new Array(256);
for (var i = 0; i < 256; i++) {
  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;
  simpleEscapeMap[i] = simpleEscapeSequence(i);
}
function State(input, options) {
  this.input = input;
  this.filename = options['filename'] || null;
  this.schema = options['schema'] || DEFAULT_SCHEMA;
  this.onWarning = options['onWarning'] || null;
  // (Hidden) Remove? makes the loader to expect YAML 1.1 documents
  // if such documents have no explicit %YAML directive
  this.legacy = options['legacy'] || false;
  this.json = options['json'] || false;
  this.listener = options['listener'] || null;
  this.implicitTypes = this.schema.compiledImplicit;
  this.typeMap = this.schema.compiledTypeMap;
  this.length = input.length;
  this.position = 0;
  this.line = 0;
  this.lineStart = 0;
  this.lineIndent = 0;

  // position of first leading tab in the current line,
  // used to make sure there are no tabs in the indentation
  this.firstTabInLine = -1;
  this.documents = [];

  /*
  this.version;
  this.checkLineBreaks;
  this.tagMap;
  this.anchorMap;
  this.tag;
  this.anchor;
  this.kind;
  this.result;*/
}
function generateError(state, message) {
  var mark = {
    name: state.filename,
    buffer: state.input.slice(0, -1),
    // omit trailing \0
    position: state.position,
    line: state.line,
    column: state.position - state.lineStart
  };
  mark.snippet = makeSnippet(mark);
  return new YAMLException(message, mark);
}
function throwError(state, message) {
  throw generateError(state, message);
}
function throwWarning(state, message) {
  if (state.onWarning) {
    state.onWarning.call(null, generateError(state, message));
  }
}
var directiveHandlers = {
  YAML: function handleYamlDirective(state, name, args) {
    var match, major, minor;
    if (state.version !== null) {
      throwError(state, 'duplication of %YAML directive');
    }
    if (args.length !== 1) {
      throwError(state, 'YAML directive accepts exactly one argument');
    }
    match = /^([0-9]+)\.([0-9]+)$/.exec(args[0]);
    if (match === null) {
      throwError(state, 'ill-formed argument of the YAML directive');
    }
    major = parseInt(match[1], 10);
    minor = parseInt(match[2], 10);
    if (major !== 1) {
      throwError(state, 'unacceptable YAML version of the document');
    }
    state.version = args[0];
    state.checkLineBreaks = minor < 2;
    if (minor !== 1 && minor !== 2) {
      throwWarning(state, 'unsupported YAML version of the document');
    }
  },
  TAG: function handleTagDirective(state, name, args) {
    var handle, prefix;
    if (args.length !== 2) {
      throwError(state, 'TAG directive accepts exactly two arguments');
    }
    handle = args[0];
    prefix = args[1];
    if (!PATTERN_TAG_HANDLE.test(handle)) {
      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');
    }
    if (_hasOwnProperty.call(state.tagMap, handle)) {
      throwError(state, 'there is a previously declared suffix for "' + handle + '" tag handle');
    }
    if (!PATTERN_TAG_URI.test(prefix)) {
      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');
    }
    try {
      prefix = decodeURIComponent(prefix);
    } catch (err) {
      throwError(state, 'tag prefix is malformed: ' + prefix);
    }
    state.tagMap[handle] = prefix;
  }
};
function captureSegment(state, start, end, checkJson) {
  var _position, _length, _character, _result;
  if (start < end) {
    _result = state.input.slice(start, end);
    if (checkJson) {
      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {
        _character = _result.charCodeAt(_position);
        if (!(_character === 0x09 || 0x20 <= _character && _character <= 0x10FFFF)) {
          throwError(state, 'expected valid JSON character');
        }
      }
    } else if (PATTERN_NON_PRINTABLE.test(_result)) {
      throwError(state, 'the stream contains non-printable characters');
    }
    state.result += _result;
  }
}
function mergeMappings(state, destination, source, overridableKeys) {
  var sourceKeys, key, index, quantity;
  if (!common.isObject(source)) {
    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');
  }
  sourceKeys = Object.keys(source);
  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {
    key = sourceKeys[index];
    if (!_hasOwnProperty.call(destination, key)) {
      destination[key] = source[key];
      overridableKeys[key] = true;
    }
  }
}
function storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startLineStart, startPos) {
  var index, quantity;

  // The output is a plain object here, so keys can only be strings.
  // We need to convert keyNode to a string, but doing so can hang the process
  // (deeply nested arrays that explode exponentially using aliases).
  if (Array.isArray(keyNode)) {
    keyNode = Array.prototype.slice.call(keyNode);
    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {
      if (Array.isArray(keyNode[index])) {
        throwError(state, 'nested arrays are not supported inside keys');
      }
      if ((0, _typeof2["default"])(keyNode) === 'object' && _class(keyNode[index]) === '[object Object]') {
        keyNode[index] = '[object Object]';
      }
    }
  }

  // Avoid code execution in load() via toString property
  // (still use its own toString for arrays, timestamps,
  // and whatever user schema extensions happen to have @@toStringTag)
  if ((0, _typeof2["default"])(keyNode) === 'object' && _class(keyNode) === '[object Object]') {
    keyNode = '[object Object]';
  }
  keyNode = String(keyNode);
  if (_result === null) {
    _result = {};
  }
  if (keyTag === 'tag:yaml.org,2002:merge') {
    if (Array.isArray(valueNode)) {
      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {
        mergeMappings(state, _result, valueNode[index], overridableKeys);
      }
    } else {
      mergeMappings(state, _result, valueNode, overridableKeys);
    }
  } else {
    if (!state.json && !_hasOwnProperty.call(overridableKeys, keyNode) && _hasOwnProperty.call(_result, keyNode)) {
      state.line = startLine || state.line;
      state.lineStart = startLineStart || state.lineStart;
      state.position = startPos || state.position;
      throwError(state, 'duplicated mapping key');
    }

    // used for this specific key only because Object.defineProperty is slow
    if (keyNode === '__proto__') {
      Object.defineProperty(_result, keyNode, {
        configurable: true,
        enumerable: true,
        writable: true,
        value: valueNode
      });
    } else {
      _result[keyNode] = valueNode;
    }
    delete overridableKeys[keyNode];
  }
  return _result;
}
function readLineBreak(state) {
  var ch;
  ch = state.input.charCodeAt(state.position);
  if (ch === 0x0A /* LF */) {
    state.position++;
  } else if (ch === 0x0D /* CR */) {
    state.position++;
    if (state.input.charCodeAt(state.position) === 0x0A /* LF */) {
      state.position++;
    }
  } else {
    throwError(state, 'a line break is expected');
  }
  state.line += 1;
  state.lineStart = state.position;
  state.firstTabInLine = -1;
}
function skipSeparationSpace(state, allowComments, checkIndent) {
  var lineBreaks = 0,
    ch = state.input.charCodeAt(state.position);
  while (ch !== 0) {
    while (is_WHITE_SPACE(ch)) {
      if (ch === 0x09 /* Tab */ && state.firstTabInLine === -1) {
        state.firstTabInLine = state.position;
      }
      ch = state.input.charCodeAt(++state.position);
    }
    if (allowComments && ch === 0x23 /* # */) {
      do {
        ch = state.input.charCodeAt(++state.position);
      } while (ch !== 0x0A /* LF */ && ch !== 0x0D /* CR */ && ch !== 0);
    }
    if (is_EOL(ch)) {
      readLineBreak(state);
      ch = state.input.charCodeAt(state.position);
      lineBreaks++;
      state.lineIndent = 0;
      while (ch === 0x20 /* Space */) {
        state.lineIndent++;
        ch = state.input.charCodeAt(++state.position);
      }
    } else {
      break;
    }
  }
  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {
    throwWarning(state, 'deficient indentation');
  }
  return lineBreaks;
}
function testDocumentSeparator(state) {
  var _position = state.position,
    ch;
  ch = state.input.charCodeAt(_position);

  // Condition state.position === state.lineStart is tested
  // in parent on each call, for efficiency. No needs to test here again.
  if ((ch === 0x2D /* - */ || ch === 0x2E /* . */) && ch === state.input.charCodeAt(_position + 1) && ch === state.input.charCodeAt(_position + 2)) {
    _position += 3;
    ch = state.input.charCodeAt(_position);
    if (ch === 0 || is_WS_OR_EOL(ch)) {
      return true;
    }
  }
  return false;
}
function writeFoldedLines(state, count) {
  if (count === 1) {
    state.result += ' ';
  } else if (count > 1) {
    state.result += common.repeat('\n', count - 1);
  }
}
function readPlainScalar(state, nodeIndent, withinFlowCollection) {
  var preceding,
    following,
    captureStart,
    captureEnd,
    hasPendingContent,
    _line,
    _lineStart,
    _lineIndent,
    _kind = state.kind,
    _result = state.result,
    ch;
  ch = state.input.charCodeAt(state.position);
  if (is_WS_OR_EOL(ch) || is_FLOW_INDICATOR(ch) || ch === 0x23 /* # */ || ch === 0x26 /* & */ || ch === 0x2A /* * */ || ch === 0x21 /* ! */ || ch === 0x7C /* | */ || ch === 0x3E /* > */ || ch === 0x27 /* ' */ || ch === 0x22 /* " */ || ch === 0x25 /* % */ || ch === 0x40 /* @ */ || ch === 0x60 /* ` */) {
    return false;
  }
  if (ch === 0x3F /* ? */ || ch === 0x2D /* - */) {
    following = state.input.charCodeAt(state.position + 1);
    if (is_WS_OR_EOL(following) || withinFlowCollection && is_FLOW_INDICATOR(following)) {
      return false;
    }
  }
  state.kind = 'scalar';
  state.result = '';
  captureStart = captureEnd = state.position;
  hasPendingContent = false;
  while (ch !== 0) {
    if (ch === 0x3A /* : */) {
      following = state.input.charCodeAt(state.position + 1);
      if (is_WS_OR_EOL(following) || withinFlowCollection && is_FLOW_INDICATOR(following)) {
        break;
      }
    } else if (ch === 0x23 /* # */) {
      preceding = state.input.charCodeAt(state.position - 1);
      if (is_WS_OR_EOL(preceding)) {
        break;
      }
    } else if (state.position === state.lineStart && testDocumentSeparator(state) || withinFlowCollection && is_FLOW_INDICATOR(ch)) {
      break;
    } else if (is_EOL(ch)) {
      _line = state.line;
      _lineStart = state.lineStart;
      _lineIndent = state.lineIndent;
      skipSeparationSpace(state, false, -1);
      if (state.lineIndent >= nodeIndent) {
        hasPendingContent = true;
        ch = state.input.charCodeAt(state.position);
        continue;
      } else {
        state.position = captureEnd;
        state.line = _line;
        state.lineStart = _lineStart;
        state.lineIndent = _lineIndent;
        break;
      }
    }
    if (hasPendingContent) {
      captureSegment(state, captureStart, captureEnd, false);
      writeFoldedLines(state, state.line - _line);
      captureStart = captureEnd = state.position;
      hasPendingContent = false;
    }
    if (!is_WHITE_SPACE(ch)) {
      captureEnd = state.position + 1;
    }
    ch = state.input.charCodeAt(++state.position);
  }
  captureSegment(state, captureStart, captureEnd, false);
  if (state.result) {
    return true;
  }
  state.kind = _kind;
  state.result = _result;
  return false;
}
function readSingleQuotedScalar(state, nodeIndent) {
  var ch, captureStart, captureEnd;
  ch = state.input.charCodeAt(state.position);
  if (ch !== 0x27 /* ' */) {
    return false;
  }
  state.kind = 'scalar';
  state.result = '';
  state.position++;
  captureStart = captureEnd = state.position;
  while ((ch = state.input.charCodeAt(state.position)) !== 0) {
    if (ch === 0x27 /* ' */) {
      captureSegment(state, captureStart, state.position, true);
      ch = state.input.charCodeAt(++state.position);
      if (ch === 0x27 /* ' */) {
        captureStart = state.position;
        state.position++;
        captureEnd = state.position;
      } else {
        return true;
      }
    } else if (is_EOL(ch)) {
      captureSegment(state, captureStart, captureEnd, true);
      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));
      captureStart = captureEnd = state.position;
    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {
      throwError(state, 'unexpected end of the document within a single quoted scalar');
    } else {
      state.position++;
      captureEnd = state.position;
    }
  }
  throwError(state, 'unexpected end of the stream within a single quoted scalar');
}
function readDoubleQuotedScalar(state, nodeIndent) {
  var captureStart, captureEnd, hexLength, hexResult, tmp, ch;
  ch = state.input.charCodeAt(state.position);
  if (ch !== 0x22 /* " */) {
    return false;
  }
  state.kind = 'scalar';
  state.result = '';
  state.position++;
  captureStart = captureEnd = state.position;
  while ((ch = state.input.charCodeAt(state.position)) !== 0) {
    if (ch === 0x22 /* " */) {
      captureSegment(state, captureStart, state.position, true);
      state.position++;
      return true;
    } else if (ch === 0x5C /* \ */) {
      captureSegment(state, captureStart, state.position, true);
      ch = state.input.charCodeAt(++state.position);
      if (is_EOL(ch)) {
        skipSeparationSpace(state, false, nodeIndent);

        // TODO: rework to inline fn with no type cast?
      } else if (ch < 256 && simpleEscapeCheck[ch]) {
        state.result += simpleEscapeMap[ch];
        state.position++;
      } else if ((tmp = escapedHexLen(ch)) > 0) {
        hexLength = tmp;
        hexResult = 0;
        for (; hexLength > 0; hexLength--) {
          ch = state.input.charCodeAt(++state.position);
          if ((tmp = fromHexCode(ch)) >= 0) {
            hexResult = (hexResult << 4) + tmp;
          } else {
            throwError(state, 'expected hexadecimal character');
          }
        }
        state.result += charFromCodepoint(hexResult);
        state.position++;
      } else {
        throwError(state, 'unknown escape sequence');
      }
      captureStart = captureEnd = state.position;
    } else if (is_EOL(ch)) {
      captureSegment(state, captureStart, captureEnd, true);
      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));
      captureStart = captureEnd = state.position;
    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {
      throwError(state, 'unexpected end of the document within a double quoted scalar');
    } else {
      state.position++;
      captureEnd = state.position;
    }
  }
  throwError(state, 'unexpected end of the stream within a double quoted scalar');
}
function readFlowCollection(state, nodeIndent) {
  var readNext = true,
    _line,
    _lineStart,
    _pos,
    _tag = state.tag,
    _result,
    _anchor = state.anchor,
    following,
    terminator,
    isPair,
    isExplicitPair,
    isMapping,
    overridableKeys = Object.create(null),
    keyNode,
    keyTag,
    valueNode,
    ch;
  ch = state.input.charCodeAt(state.position);
  if (ch === 0x5B /* [ */) {
    terminator = 0x5D; /* ] */
    isMapping = false;
    _result = [];
  } else if (ch === 0x7B /* { */) {
    terminator = 0x7D; /* } */
    isMapping = true;
    _result = {};
  } else {
    return false;
  }
  if (state.anchor !== null) {
    state.anchorMap[state.anchor] = _result;
  }
  ch = state.input.charCodeAt(++state.position);
  while (ch !== 0) {
    skipSeparationSpace(state, true, nodeIndent);
    ch = state.input.charCodeAt(state.position);
    if (ch === terminator) {
      state.position++;
      state.tag = _tag;
      state.anchor = _anchor;
      state.kind = isMapping ? 'mapping' : 'sequence';
      state.result = _result;
      return true;
    } else if (!readNext) {
      throwError(state, 'missed comma between flow collection entries');
    } else if (ch === 0x2C /* , */) {
      // "flow collection entries can never be completely empty", as per YAML 1.2, section 7.4
      throwError(state, "expected the node content, but found ','");
    }
    keyTag = keyNode = valueNode = null;
    isPair = isExplicitPair = false;
    if (ch === 0x3F /* ? */) {
      following = state.input.charCodeAt(state.position + 1);
      if (is_WS_OR_EOL(following)) {
        isPair = isExplicitPair = true;
        state.position++;
        skipSeparationSpace(state, true, nodeIndent);
      }
    }
    _line = state.line; // Save the current line.
    _lineStart = state.lineStart;
    _pos = state.position;
    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);
    keyTag = state.tag;
    keyNode = state.result;
    skipSeparationSpace(state, true, nodeIndent);
    ch = state.input.charCodeAt(state.position);
    if ((isExplicitPair || state.line === _line) && ch === 0x3A /* : */) {
      isPair = true;
      ch = state.input.charCodeAt(++state.position);
      skipSeparationSpace(state, true, nodeIndent);
      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);
      valueNode = state.result;
    }
    if (isMapping) {
      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);
    } else if (isPair) {
      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));
    } else {
      _result.push(keyNode);
    }
    skipSeparationSpace(state, true, nodeIndent);
    ch = state.input.charCodeAt(state.position);
    if (ch === 0x2C /* , */) {
      readNext = true;
      ch = state.input.charCodeAt(++state.position);
    } else {
      readNext = false;
    }
  }
  throwError(state, 'unexpected end of the stream within a flow collection');
}
function readBlockScalar(state, nodeIndent) {
  var captureStart,
    folding,
    chomping = CHOMPING_CLIP,
    didReadContent = false,
    detectedIndent = false,
    textIndent = nodeIndent,
    emptyLines = 0,
    atMoreIndented = false,
    tmp,
    ch;
  ch = state.input.charCodeAt(state.position);
  if (ch === 0x7C /* | */) {
    folding = false;
  } else if (ch === 0x3E /* > */) {
    folding = true;
  } else {
    return false;
  }
  state.kind = 'scalar';
  state.result = '';
  while (ch !== 0) {
    ch = state.input.charCodeAt(++state.position);
    if (ch === 0x2B /* + */ || ch === 0x2D /* - */) {
      if (CHOMPING_CLIP === chomping) {
        chomping = ch === 0x2B /* + */ ? CHOMPING_KEEP : CHOMPING_STRIP;
      } else {
        throwError(state, 'repeat of a chomping mode identifier');
      }
    } else if ((tmp = fromDecimalCode(ch)) >= 0) {
      if (tmp === 0) {
        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');
      } else if (!detectedIndent) {
        textIndent = nodeIndent + tmp - 1;
        detectedIndent = true;
      } else {
        throwError(state, 'repeat of an indentation width identifier');
      }
    } else {
      break;
    }
  }
  if (is_WHITE_SPACE(ch)) {
    do {
      ch = state.input.charCodeAt(++state.position);
    } while (is_WHITE_SPACE(ch));
    if (ch === 0x23 /* # */) {
      do {
        ch = state.input.charCodeAt(++state.position);
      } while (!is_EOL(ch) && ch !== 0);
    }
  }
  while (ch !== 0) {
    readLineBreak(state);
    state.lineIndent = 0;
    ch = state.input.charCodeAt(state.position);
    while ((!detectedIndent || state.lineIndent < textIndent) && ch === 0x20 /* Space */) {
      state.lineIndent++;
      ch = state.input.charCodeAt(++state.position);
    }
    if (!detectedIndent && state.lineIndent > textIndent) {
      textIndent = state.lineIndent;
    }
    if (is_EOL(ch)) {
      emptyLines++;
      continue;
    }

    // End of the scalar.
    if (state.lineIndent < textIndent) {
      // Perform the chomping.
      if (chomping === CHOMPING_KEEP) {
        state.result += common.repeat('\n', didReadContent ? 1 + emptyLines : emptyLines);
      } else if (chomping === CHOMPING_CLIP) {
        if (didReadContent) {
          // i.e. only if the scalar is not empty.
          state.result += '\n';
        }
      }

      // Break this `while` cycle and go to the funciton's epilogue.
      break;
    }

    // Folded style: use fancy rules to handle line breaks.
    if (folding) {
      // Lines starting with white space characters (more-indented lines) are not folded.
      if (is_WHITE_SPACE(ch)) {
        atMoreIndented = true;
        // except for the first content line (cf. Example 8.1)
        state.result += common.repeat('\n', didReadContent ? 1 + emptyLines : emptyLines);

        // End of more-indented block.
      } else if (atMoreIndented) {
        atMoreIndented = false;
        state.result += common.repeat('\n', emptyLines + 1);

        // Just one line break - perceive as the same line.
      } else if (emptyLines === 0) {
        if (didReadContent) {
          // i.e. only if we have already read some scalar content.
          state.result += ' ';
        }

        // Several line breaks - perceive as different lines.
      } else {
        state.result += common.repeat('\n', emptyLines);
      }

      // Literal style: just add exact number of line breaks between content lines.
    } else {
      // Keep all line breaks except the header line break.
      state.result += common.repeat('\n', didReadContent ? 1 + emptyLines : emptyLines);
    }
    didReadContent = true;
    detectedIndent = true;
    emptyLines = 0;
    captureStart = state.position;
    while (!is_EOL(ch) && ch !== 0) {
      ch = state.input.charCodeAt(++state.position);
    }
    captureSegment(state, captureStart, state.position, false);
  }
  return true;
}
function readBlockSequence(state, nodeIndent) {
  var _line,
    _tag = state.tag,
    _anchor = state.anchor,
    _result = [],
    following,
    detected = false,
    ch;

  // there is a leading tab before this token, so it can't be a block sequence/mapping;
  // it can still be flow sequence/mapping or a scalar
  if (state.firstTabInLine !== -1) return false;
  if (state.anchor !== null) {
    state.anchorMap[state.anchor] = _result;
  }
  ch = state.input.charCodeAt(state.position);
  while (ch !== 0) {
    if (state.firstTabInLine !== -1) {
      state.position = state.firstTabInLine;
      throwError(state, 'tab characters must not be used in indentation');
    }
    if (ch !== 0x2D /* - */) {
      break;
    }
    following = state.input.charCodeAt(state.position + 1);
    if (!is_WS_OR_EOL(following)) {
      break;
    }
    detected = true;
    state.position++;
    if (skipSeparationSpace(state, true, -1)) {
      if (state.lineIndent <= nodeIndent) {
        _result.push(null);
        ch = state.input.charCodeAt(state.position);
        continue;
      }
    }
    _line = state.line;
    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);
    _result.push(state.result);
    skipSeparationSpace(state, true, -1);
    ch = state.input.charCodeAt(state.position);
    if ((state.line === _line || state.lineIndent > nodeIndent) && ch !== 0) {
      throwError(state, 'bad indentation of a sequence entry');
    } else if (state.lineIndent < nodeIndent) {
      break;
    }
  }
  if (detected) {
    state.tag = _tag;
    state.anchor = _anchor;
    state.kind = 'sequence';
    state.result = _result;
    return true;
  }
  return false;
}
function readBlockMapping(state, nodeIndent, flowIndent) {
  var following,
    allowCompact,
    _line,
    _keyLine,
    _keyLineStart,
    _keyPos,
    _tag = state.tag,
    _anchor = state.anchor,
    _result = {},
    overridableKeys = Object.create(null),
    keyTag = null,
    keyNode = null,
    valueNode = null,
    atExplicitKey = false,
    detected = false,
    ch;

  // there is a leading tab before this token, so it can't be a block sequence/mapping;
  // it can still be flow sequence/mapping or a scalar
  if (state.firstTabInLine !== -1) return false;
  if (state.anchor !== null) {
    state.anchorMap[state.anchor] = _result;
  }
  ch = state.input.charCodeAt(state.position);
  while (ch !== 0) {
    if (!atExplicitKey && state.firstTabInLine !== -1) {
      state.position = state.firstTabInLine;
      throwError(state, 'tab characters must not be used in indentation');
    }
    following = state.input.charCodeAt(state.position + 1);
    _line = state.line; // Save the current line.

    //
    // Explicit notation case. There are two separate blocks:
    // first for the key (denoted by "?") and second for the value (denoted by ":")
    //
    if ((ch === 0x3F /* ? */ || ch === 0x3A /* : */) && is_WS_OR_EOL(following)) {
      if (ch === 0x3F /* ? */) {
        if (atExplicitKey) {
          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);
          keyTag = keyNode = valueNode = null;
        }
        detected = true;
        atExplicitKey = true;
        allowCompact = true;
      } else if (atExplicitKey) {
        // i.e. 0x3A/* : */ === character after the explicit key.
        atExplicitKey = false;
        allowCompact = true;
      } else {
        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');
      }
      state.position += 1;
      ch = following;

      //
      // Implicit notation case. Flow-style node as the key first, then ":", and the value.
      //
    } else {
      _keyLine = state.line;
      _keyLineStart = state.lineStart;
      _keyPos = state.position;
      if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {
        // Neither implicit nor explicit notation.
        // Reading is done. Go to the epilogue.
        break;
      }
      if (state.line === _line) {
        ch = state.input.charCodeAt(state.position);
        while (is_WHITE_SPACE(ch)) {
          ch = state.input.charCodeAt(++state.position);
        }
        if (ch === 0x3A /* : */) {
          ch = state.input.charCodeAt(++state.position);
          if (!is_WS_OR_EOL(ch)) {
            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');
          }
          if (atExplicitKey) {
            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);
            keyTag = keyNode = valueNode = null;
          }
          detected = true;
          atExplicitKey = false;
          allowCompact = false;
          keyTag = state.tag;
          keyNode = state.result;
        } else if (detected) {
          throwError(state, 'can not read an implicit mapping pair; a colon is missed');
        } else {
          state.tag = _tag;
          state.anchor = _anchor;
          return true; // Keep the result of `composeNode`.
        }
      } else if (detected) {
        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');
      } else {
        state.tag = _tag;
        state.anchor = _anchor;
        return true; // Keep the result of `composeNode`.
      }
    }

    //
    // Common reading code for both explicit and implicit notations.
    //
    if (state.line === _line || state.lineIndent > nodeIndent) {
      if (atExplicitKey) {
        _keyLine = state.line;
        _keyLineStart = state.lineStart;
        _keyPos = state.position;
      }
      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {
        if (atExplicitKey) {
          keyNode = state.result;
        } else {
          valueNode = state.result;
        }
      }
      if (!atExplicitKey) {
        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);
        keyTag = keyNode = valueNode = null;
      }
      skipSeparationSpace(state, true, -1);
      ch = state.input.charCodeAt(state.position);
    }
    if ((state.line === _line || state.lineIndent > nodeIndent) && ch !== 0) {
      throwError(state, 'bad indentation of a mapping entry');
    } else if (state.lineIndent < nodeIndent) {
      break;
    }
  }

  //
  // Epilogue.
  //

  // Special case: last mapping's node contains only the key in explicit notation.
  if (atExplicitKey) {
    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);
  }

  // Expose the resulting mapping.
  if (detected) {
    state.tag = _tag;
    state.anchor = _anchor;
    state.kind = 'mapping';
    state.result = _result;
  }
  return detected;
}
function readTagProperty(state) {
  var _position,
    isVerbatim = false,
    isNamed = false,
    tagHandle,
    tagName,
    ch;
  ch = state.input.charCodeAt(state.position);
  if (ch !== 0x21 /* ! */) return false;
  if (state.tag !== null) {
    throwError(state, 'duplication of a tag property');
  }
  ch = state.input.charCodeAt(++state.position);
  if (ch === 0x3C /* < */) {
    isVerbatim = true;
    ch = state.input.charCodeAt(++state.position);
  } else if (ch === 0x21 /* ! */) {
    isNamed = true;
    tagHandle = '!!';
    ch = state.input.charCodeAt(++state.position);
  } else {
    tagHandle = '!';
  }
  _position = state.position;
  if (isVerbatim) {
    do {
      ch = state.input.charCodeAt(++state.position);
    } while (ch !== 0 && ch !== 0x3E /* > */);
    if (state.position < state.length) {
      tagName = state.input.slice(_position, state.position);
      ch = state.input.charCodeAt(++state.position);
    } else {
      throwError(state, 'unexpected end of the stream within a verbatim tag');
    }
  } else {
    while (ch !== 0 && !is_WS_OR_EOL(ch)) {
      if (ch === 0x21 /* ! */) {
        if (!isNamed) {
          tagHandle = state.input.slice(_position - 1, state.position + 1);
          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {
            throwError(state, 'named tag handle cannot contain such characters');
          }
          isNamed = true;
          _position = state.position + 1;
        } else {
          throwError(state, 'tag suffix cannot contain exclamation marks');
        }
      }
      ch = state.input.charCodeAt(++state.position);
    }
    tagName = state.input.slice(_position, state.position);
    if (PATTERN_FLOW_INDICATORS.test(tagName)) {
      throwError(state, 'tag suffix cannot contain flow indicator characters');
    }
  }
  if (tagName && !PATTERN_TAG_URI.test(tagName)) {
    throwError(state, 'tag name cannot contain such characters: ' + tagName);
  }
  try {
    tagName = decodeURIComponent(tagName);
  } catch (err) {
    throwError(state, 'tag name is malformed: ' + tagName);
  }
  if (isVerbatim) {
    state.tag = tagName;
  } else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {
    state.tag = state.tagMap[tagHandle] + tagName;
  } else if (tagHandle === '!') {
    state.tag = '!' + tagName;
  } else if (tagHandle === '!!') {
    state.tag = 'tag:yaml.org,2002:' + tagName;
  } else {
    throwError(state, 'undeclared tag handle "' + tagHandle + '"');
  }
  return true;
}
function readAnchorProperty(state) {
  var _position, ch;
  ch = state.input.charCodeAt(state.position);
  if (ch !== 0x26 /* & */) return false;
  if (state.anchor !== null) {
    throwError(state, 'duplication of an anchor property');
  }
  ch = state.input.charCodeAt(++state.position);
  _position = state.position;
  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {
    ch = state.input.charCodeAt(++state.position);
  }
  if (state.position === _position) {
    throwError(state, 'name of an anchor node must contain at least one character');
  }
  state.anchor = state.input.slice(_position, state.position);
  return true;
}
function readAlias(state) {
  var _position, alias, ch;
  ch = state.input.charCodeAt(state.position);
  if (ch !== 0x2A /* * */) return false;
  ch = state.input.charCodeAt(++state.position);
  _position = state.position;
  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {
    ch = state.input.charCodeAt(++state.position);
  }
  if (state.position === _position) {
    throwError(state, 'name of an alias node must contain at least one character');
  }
  alias = state.input.slice(_position, state.position);
  if (!_hasOwnProperty.call(state.anchorMap, alias)) {
    throwError(state, 'unidentified alias "' + alias + '"');
  }
  state.result = state.anchorMap[alias];
  skipSeparationSpace(state, true, -1);
  return true;
}
function composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {
  var allowBlockStyles,
    allowBlockScalars,
    allowBlockCollections,
    indentStatus = 1,
    // 1: this>parent, 0: this=parent, -1: this<parent
    atNewLine = false,
    hasContent = false,
    typeIndex,
    typeQuantity,
    typeList,
    type,
    flowIndent,
    blockIndent;
  if (state.listener !== null) {
    state.listener('open', state);
  }
  state.tag = null;
  state.anchor = null;
  state.kind = null;
  state.result = null;
  allowBlockStyles = allowBlockScalars = allowBlockCollections = CONTEXT_BLOCK_OUT === nodeContext || CONTEXT_BLOCK_IN === nodeContext;
  if (allowToSeek) {
    if (skipSeparationSpace(state, true, -1)) {
      atNewLine = true;
      if (state.lineIndent > parentIndent) {
        indentStatus = 1;
      } else if (state.lineIndent === parentIndent) {
        indentStatus = 0;
      } else if (state.lineIndent < parentIndent) {
        indentStatus = -1;
      }
    }
  }
  if (indentStatus === 1) {
    while (readTagProperty(state) || readAnchorProperty(state)) {
      if (skipSeparationSpace(state, true, -1)) {
        atNewLine = true;
        allowBlockCollections = allowBlockStyles;
        if (state.lineIndent > parentIndent) {
          indentStatus = 1;
        } else if (state.lineIndent === parentIndent) {
          indentStatus = 0;
        } else if (state.lineIndent < parentIndent) {
          indentStatus = -1;
        }
      } else {
        allowBlockCollections = false;
      }
    }
  }
  if (allowBlockCollections) {
    allowBlockCollections = atNewLine || allowCompact;
  }
  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {
    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {
      flowIndent = parentIndent;
    } else {
      flowIndent = parentIndent + 1;
    }
    blockIndent = state.position - state.lineStart;
    if (indentStatus === 1) {
      if (allowBlockCollections && (readBlockSequence(state, blockIndent) || readBlockMapping(state, blockIndent, flowIndent)) || readFlowCollection(state, flowIndent)) {
        hasContent = true;
      } else {
        if (allowBlockScalars && readBlockScalar(state, flowIndent) || readSingleQuotedScalar(state, flowIndent) || readDoubleQuotedScalar(state, flowIndent)) {
          hasContent = true;
        } else if (readAlias(state)) {
          hasContent = true;
          if (state.tag !== null || state.anchor !== null) {
            throwError(state, 'alias node should not have any properties');
          }
        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {
          hasContent = true;
          if (state.tag === null) {
            state.tag = '?';
          }
        }
        if (state.anchor !== null) {
          state.anchorMap[state.anchor] = state.result;
        }
      }
    } else if (indentStatus === 0) {
      // Special case: block sequences are allowed to have same indentation level as the parent.
      // http://www.yaml.org/spec/1.2/spec.html#id2799784
      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);
    }
  }
  if (state.tag === null) {
    if (state.anchor !== null) {
      state.anchorMap[state.anchor] = state.result;
    }
  } else if (state.tag === '?') {
    // Implicit resolving is not allowed for non-scalar types, and '?'
    // non-specific tag is only automatically assigned to plain scalars.
    //
    // We only need to check kind conformity in case user explicitly assigns '?'
    // tag, for example like this: "!<?> [0]"
    //
    if (state.result !== null && state.kind !== 'scalar') {
      throwError(state, 'unacceptable node kind for !<?> tag; it should be "scalar", not "' + state.kind + '"');
    }
    for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {
      type = state.implicitTypes[typeIndex];
      if (type.resolve(state.result)) {
        // `state.result` updated in resolver if matched
        state.result = type.construct(state.result);
        state.tag = type.tag;
        if (state.anchor !== null) {
          state.anchorMap[state.anchor] = state.result;
        }
        break;
      }
    }
  } else if (state.tag !== '!') {
    if (_hasOwnProperty.call(state.typeMap[state.kind || 'fallback'], state.tag)) {
      type = state.typeMap[state.kind || 'fallback'][state.tag];
    } else {
      // looking for multi type
      type = null;
      typeList = state.typeMap.multi[state.kind || 'fallback'];
      for (typeIndex = 0, typeQuantity = typeList.length; typeIndex < typeQuantity; typeIndex += 1) {
        if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {
          type = typeList[typeIndex];
          break;
        }
      }
    }
    if (!type) {
      throwError(state, 'unknown tag !<' + state.tag + '>');
    }
    if (state.result !== null && type.kind !== state.kind) {
      throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be "' + type.kind + '", not "' + state.kind + '"');
    }
    if (!type.resolve(state.result, state.tag)) {
      // `state.result` updated in resolver if matched
      throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');
    } else {
      state.result = type.construct(state.result, state.tag);
      if (state.anchor !== null) {
        state.anchorMap[state.anchor] = state.result;
      }
    }
  }
  if (state.listener !== null) {
    state.listener('close', state);
  }
  return state.tag !== null || state.anchor !== null || hasContent;
}
function readDocument(state) {
  var documentStart = state.position,
    _position,
    directiveName,
    directiveArgs,
    hasDirectives = false,
    ch;
  state.version = null;
  state.checkLineBreaks = state.legacy;
  state.tagMap = Object.create(null);
  state.anchorMap = Object.create(null);
  while ((ch = state.input.charCodeAt(state.position)) !== 0) {
    skipSeparationSpace(state, true, -1);
    ch = state.input.charCodeAt(state.position);
    if (state.lineIndent > 0 || ch !== 0x25 /* % */) {
      break;
    }
    hasDirectives = true;
    ch = state.input.charCodeAt(++state.position);
    _position = state.position;
    while (ch !== 0 && !is_WS_OR_EOL(ch)) {
      ch = state.input.charCodeAt(++state.position);
    }
    directiveName = state.input.slice(_position, state.position);
    directiveArgs = [];
    if (directiveName.length < 1) {
      throwError(state, 'directive name must not be less than one character in length');
    }
    while (ch !== 0) {
      while (is_WHITE_SPACE(ch)) {
        ch = state.input.charCodeAt(++state.position);
      }
      if (ch === 0x23 /* # */) {
        do {
          ch = state.input.charCodeAt(++state.position);
        } while (ch !== 0 && !is_EOL(ch));
        break;
      }
      if (is_EOL(ch)) break;
      _position = state.position;
      while (ch !== 0 && !is_WS_OR_EOL(ch)) {
        ch = state.input.charCodeAt(++state.position);
      }
      directiveArgs.push(state.input.slice(_position, state.position));
    }
    if (ch !== 0) readLineBreak(state);
    if (_hasOwnProperty.call(directiveHandlers, directiveName)) {
      directiveHandlers[directiveName](state, directiveName, directiveArgs);
    } else {
      throwWarning(state, 'unknown document directive "' + directiveName + '"');
    }
  }
  skipSeparationSpace(state, true, -1);
  if (state.lineIndent === 0 && state.input.charCodeAt(state.position) === 0x2D /* - */ && state.input.charCodeAt(state.position + 1) === 0x2D /* - */ && state.input.charCodeAt(state.position + 2) === 0x2D /* - */) {
    state.position += 3;
    skipSeparationSpace(state, true, -1);
  } else if (hasDirectives) {
    throwError(state, 'directives end mark is expected');
  }
  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);
  skipSeparationSpace(state, true, -1);
  if (state.checkLineBreaks && PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {
    throwWarning(state, 'non-ASCII line breaks are interpreted as content');
  }
  state.documents.push(state.result);
  if (state.position === state.lineStart && testDocumentSeparator(state)) {
    if (state.input.charCodeAt(state.position) === 0x2E /* . */) {
      state.position += 3;
      skipSeparationSpace(state, true, -1);
    }
    return;
  }
  if (state.position < state.length - 1) {
    throwError(state, 'end of the stream or a document separator is expected');
  } else {
    return;
  }
}
function loadDocuments(input, options) {
  input = String(input);
  options = options || {};
  if (input.length !== 0) {
    // Add tailing `\n` if not exists
    if (input.charCodeAt(input.length - 1) !== 0x0A /* LF */ && input.charCodeAt(input.length - 1) !== 0x0D /* CR */) {
      input += '\n';
    }

    // Strip BOM
    if (input.charCodeAt(0) === 0xFEFF) {
      input = input.slice(1);
    }
  }
  var state = new State(input, options);
  var nullpos = input.indexOf('\0');
  if (nullpos !== -1) {
    state.position = nullpos;
    throwError(state, 'null byte is not allowed in input');
  }

  // Use 0 as string terminator. That significantly simplifies bounds check.
  state.input += '\0';
  while (state.input.charCodeAt(state.position) === 0x20 /* Space */) {
    state.lineIndent += 1;
    state.position += 1;
  }
  while (state.position < state.length - 1) {
    readDocument(state);
  }
  return state.documents;
}
function loadAll(input, iterator, options) {
  if (iterator !== null && (0, _typeof2["default"])(iterator) === 'object' && typeof options === 'undefined') {
    options = iterator;
    iterator = null;
  }
  var documents = loadDocuments(input, options);
  if (typeof iterator !== 'function') {
    return documents;
  }
  for (var index = 0, length = documents.length; index < length; index += 1) {
    iterator(documents[index]);
  }
}
function load(input, options) {
  var documents = loadDocuments(input, options);
  if (documents.length === 0) {
    /*eslint-disable no-undefined*/
    return undefined;
  } else if (documents.length === 1) {
    return documents[0];
  }
  throw new YAMLException('expected a single document in the stream, but found more');
}
module.exports.loadAll = loadAll;
module.exports.load = load;
},{"./common":196,"./exception":198,"./schema/default":202,"./snippet":205,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],200:[function(require,module,exports){
'use strict';

/*eslint-disable max-len*/
var YAMLException = require('./exception');
var Type = require('./type');
function compileList(schema, name) {
  var result = [];
  schema[name].forEach(function (currentType) {
    var newIndex = result.length;
    result.forEach(function (previousType, previousIndex) {
      if (previousType.tag === currentType.tag && previousType.kind === currentType.kind && previousType.multi === currentType.multi) {
        newIndex = previousIndex;
      }
    });
    result[newIndex] = currentType;
  });
  return result;
}
function compileMap(/* lists... */
) {
  var result = {
      scalar: {},
      sequence: {},
      mapping: {},
      fallback: {},
      multi: {
        scalar: [],
        sequence: [],
        mapping: [],
        fallback: []
      }
    },
    index,
    length;
  function collectType(type) {
    if (type.multi) {
      result.multi[type.kind].push(type);
      result.multi['fallback'].push(type);
    } else {
      result[type.kind][type.tag] = result['fallback'][type.tag] = type;
    }
  }
  for (index = 0, length = arguments.length; index < length; index += 1) {
    arguments[index].forEach(collectType);
  }
  return result;
}
function Schema(definition) {
  return this.extend(definition);
}
Schema.prototype.extend = function extend(definition) {
  var implicit = [];
  var explicit = [];
  if (definition instanceof Type) {
    // Schema.extend(type)
    explicit.push(definition);
  } else if (Array.isArray(definition)) {
    // Schema.extend([ type1, type2, ... ])
    explicit = explicit.concat(definition);
  } else if (definition && (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {
    // Schema.extend({ explicit: [ type1, type2, ... ], implicit: [ type1, type2, ... ] })
    if (definition.implicit) implicit = implicit.concat(definition.implicit);
    if (definition.explicit) explicit = explicit.concat(definition.explicit);
  } else {
    throw new YAMLException('Schema.extend argument should be a Type, [ Type ], ' + 'or a schema definition ({ implicit: [...], explicit: [...] })');
  }
  implicit.forEach(function (type) {
    if (!(type instanceof Type)) {
      throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');
    }
    if (type.loadKind && type.loadKind !== 'scalar') {
      throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');
    }
    if (type.multi) {
      throw new YAMLException('There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.');
    }
  });
  explicit.forEach(function (type) {
    if (!(type instanceof Type)) {
      throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');
    }
  });
  var result = Object.create(Schema.prototype);
  result.implicit = (this.implicit || []).concat(implicit);
  result.explicit = (this.explicit || []).concat(explicit);
  result.compiledImplicit = compileList(result, 'implicit');
  result.compiledExplicit = compileList(result, 'explicit');
  result.compiledTypeMap = compileMap(result.compiledImplicit, result.compiledExplicit);
  return result;
};
module.exports = Schema;
},{"./exception":198,"./type":206}],201:[function(require,module,exports){
// Standard YAML's Core schema.
// http://www.yaml.org/spec/1.2/spec.html#id2804923
//
// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.
// So, Core schema has no distinctions from JSON schema is JS-YAML.

'use strict';

module.exports = require('./json');
},{"./json":204}],202:[function(require,module,exports){
// JS-YAML's default schema for `safeLoad` function.
// It is not described in the YAML specification.
//
// This schema is based on standard YAML's Core schema and includes most of
// extra types described at YAML tag repository. (http://yaml.org/type/)

'use strict';

module.exports = require('./core').extend({
  implicit: [require('../type/timestamp'), require('../type/merge')],
  explicit: [require('../type/binary'), require('../type/omap'), require('../type/pairs'), require('../type/set')]
});
},{"../type/binary":207,"../type/merge":212,"../type/omap":214,"../type/pairs":215,"../type/set":217,"../type/timestamp":219,"./core":201}],203:[function(require,module,exports){
// Standard YAML's Failsafe schema.
// http://www.yaml.org/spec/1.2/spec.html#id2802346

'use strict';

var Schema = require('../schema');
module.exports = new Schema({
  explicit: [require('../type/str'), require('../type/seq'), require('../type/map')]
});
},{"../schema":200,"../type/map":211,"../type/seq":216,"../type/str":218}],204:[function(require,module,exports){
// Standard YAML's JSON schema.
// http://www.yaml.org/spec/1.2/spec.html#id2803231
//
// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.
// So, this schema is not such strict as defined in the YAML specification.
// It allows numbers in binary notaion, use `Null` and `NULL` as `null`, etc.

'use strict';

module.exports = require('./failsafe').extend({
  implicit: [require('../type/null'), require('../type/bool'), require('../type/int'), require('../type/float')]
});
},{"../type/bool":208,"../type/float":209,"../type/int":210,"../type/null":213,"./failsafe":203}],205:[function(require,module,exports){
'use strict';

var common = require('./common');

// get snippet for a single line, respecting maxLength
function getLine(buffer, lineStart, lineEnd, position, maxLineLength) {
  var head = '';
  var tail = '';
  var maxHalfLength = Math.floor(maxLineLength / 2) - 1;
  if (position - lineStart > maxHalfLength) {
    head = ' ... ';
    lineStart = position - maxHalfLength + head.length;
  }
  if (lineEnd - position > maxHalfLength) {
    tail = ' ...';
    lineEnd = position + maxHalfLength - tail.length;
  }
  return {
    str: head + buffer.slice(lineStart, lineEnd).replace(/\t/g, '→') + tail,
    pos: position - lineStart + head.length // relative position
  };
}
function padStart(string, max) {
  return common.repeat(' ', max - string.length) + string;
}
function makeSnippet(mark, options) {
  options = Object.create(options || null);
  if (!mark.buffer) return null;
  if (!options.maxLength) options.maxLength = 79;
  if (typeof options.indent !== 'number') options.indent = 1;
  if (typeof options.linesBefore !== 'number') options.linesBefore = 3;
  if (typeof options.linesAfter !== 'number') options.linesAfter = 2;
  var re = /\r?\n|\r|\0/g;
  var lineStarts = [0];
  var lineEnds = [];
  var match;
  var foundLineNo = -1;
  while (match = re.exec(mark.buffer)) {
    lineEnds.push(match.index);
    lineStarts.push(match.index + match[0].length);
    if (mark.position <= match.index && foundLineNo < 0) {
      foundLineNo = lineStarts.length - 2;
    }
  }
  if (foundLineNo < 0) foundLineNo = lineStarts.length - 1;
  var result = '',
    i,
    line;
  var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;
  var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);
  for (i = 1; i <= options.linesBefore; i++) {
    if (foundLineNo - i < 0) break;
    line = getLine(mark.buffer, lineStarts[foundLineNo - i], lineEnds[foundLineNo - i], mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]), maxLineLength);
    result = common.repeat(' ', options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) + ' | ' + line.str + '\n' + result;
  }
  line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);
  result += common.repeat(' ', options.indent) + padStart((mark.line + 1).toString(), lineNoLength) + ' | ' + line.str + '\n';
  result += common.repeat('-', options.indent + lineNoLength + 3 + line.pos) + '^' + '\n';
  for (i = 1; i <= options.linesAfter; i++) {
    if (foundLineNo + i >= lineEnds.length) break;
    line = getLine(mark.buffer, lineStarts[foundLineNo + i], lineEnds[foundLineNo + i], mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]), maxLineLength);
    result += common.repeat(' ', options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) + ' | ' + line.str + '\n';
  }
  return result.replace(/\n$/, '');
}
module.exports = makeSnippet;
},{"./common":196}],206:[function(require,module,exports){
'use strict';

var YAMLException = require('./exception');
var TYPE_CONSTRUCTOR_OPTIONS = ['kind', 'multi', 'resolve', 'construct', 'instanceOf', 'predicate', 'represent', 'representName', 'defaultStyle', 'styleAliases'];
var YAML_NODE_KINDS = ['scalar', 'sequence', 'mapping'];
function compileStyleAliases(map) {
  var result = {};
  if (map !== null) {
    Object.keys(map).forEach(function (style) {
      map[style].forEach(function (alias) {
        result[String(alias)] = style;
      });
    });
  }
  return result;
}
function Type(tag, options) {
  options = options || {};
  Object.keys(options).forEach(function (name) {
    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {
      throw new YAMLException('Unknown option "' + name + '" is met in definition of "' + tag + '" YAML type.');
    }
  });

  // TODO: Add tag format check.
  this.options = options; // keep original options in case user wants to extend this type later
  this.tag = tag;
  this.kind = options['kind'] || null;
  this.resolve = options['resolve'] || function () {
    return true;
  };
  this.construct = options['construct'] || function (data) {
    return data;
  };
  this.instanceOf = options['instanceOf'] || null;
  this.predicate = options['predicate'] || null;
  this.represent = options['represent'] || null;
  this.representName = options['representName'] || null;
  this.defaultStyle = options['defaultStyle'] || null;
  this.multi = options['multi'] || false;
  this.styleAliases = compileStyleAliases(options['styleAliases'] || null);
  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {
    throw new YAMLException('Unknown kind "' + this.kind + '" is specified for "' + tag + '" YAML type.');
  }
}
module.exports = Type;
},{"./exception":198}],207:[function(require,module,exports){
'use strict';

/*eslint-disable no-bitwise*/
var Type = require('../type');

// [ 64, 65, 66 ] -> [ padding, CR, LF ]
var BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r';
function resolveYamlBinary(data) {
  if (data === null) return false;
  var code,
    idx,
    bitlen = 0,
    max = data.length,
    map = BASE64_MAP;

  // Convert one by one.
  for (idx = 0; idx < max; idx++) {
    code = map.indexOf(data.charAt(idx));

    // Skip CR/LF
    if (code > 64) continue;

    // Fail on illegal characters
    if (code < 0) return false;
    bitlen += 6;
  }

  // If there are any bits left, source was corrupted
  return bitlen % 8 === 0;
}
function constructYamlBinary(data) {
  var idx,
    tailbits,
    input = data.replace(/[\r\n=]/g, ''),
    // remove CR/LF & padding to simplify scan
    max = input.length,
    map = BASE64_MAP,
    bits = 0,
    result = [];

  // Collect by 6*4 bits (3 bytes)

  for (idx = 0; idx < max; idx++) {
    if (idx % 4 === 0 && idx) {
      result.push(bits >> 16 & 0xFF);
      result.push(bits >> 8 & 0xFF);
      result.push(bits & 0xFF);
    }
    bits = bits << 6 | map.indexOf(input.charAt(idx));
  }

  // Dump tail

  tailbits = max % 4 * 6;
  if (tailbits === 0) {
    result.push(bits >> 16 & 0xFF);
    result.push(bits >> 8 & 0xFF);
    result.push(bits & 0xFF);
  } else if (tailbits === 18) {
    result.push(bits >> 10 & 0xFF);
    result.push(bits >> 2 & 0xFF);
  } else if (tailbits === 12) {
    result.push(bits >> 4 & 0xFF);
  }
  return new Uint8Array(result);
}
function representYamlBinary(object /*, style*/) {
  var result = '',
    bits = 0,
    idx,
    tail,
    max = object.length,
    map = BASE64_MAP;

  // Convert every three bytes to 4 ASCII characters.

  for (idx = 0; idx < max; idx++) {
    if (idx % 3 === 0 && idx) {
      result += map[bits >> 18 & 0x3F];
      result += map[bits >> 12 & 0x3F];
      result += map[bits >> 6 & 0x3F];
      result += map[bits & 0x3F];
    }
    bits = (bits << 8) + object[idx];
  }

  // Dump tail

  tail = max % 3;
  if (tail === 0) {
    result += map[bits >> 18 & 0x3F];
    result += map[bits >> 12 & 0x3F];
    result += map[bits >> 6 & 0x3F];
    result += map[bits & 0x3F];
  } else if (tail === 2) {
    result += map[bits >> 10 & 0x3F];
    result += map[bits >> 4 & 0x3F];
    result += map[bits << 2 & 0x3F];
    result += map[64];
  } else if (tail === 1) {
    result += map[bits >> 2 & 0x3F];
    result += map[bits << 4 & 0x3F];
    result += map[64];
    result += map[64];
  }
  return result;
}
function isBinary(obj) {
  return Object.prototype.toString.call(obj) === '[object Uint8Array]';
}
module.exports = new Type('tag:yaml.org,2002:binary', {
  kind: 'scalar',
  resolve: resolveYamlBinary,
  construct: constructYamlBinary,
  predicate: isBinary,
  represent: representYamlBinary
});
},{"../type":206}],208:[function(require,module,exports){
'use strict';

var Type = require('../type');
function resolveYamlBoolean(data) {
  if (data === null) return false;
  var max = data.length;
  return max === 4 && (data === 'true' || data === 'True' || data === 'TRUE') || max === 5 && (data === 'false' || data === 'False' || data === 'FALSE');
}
function constructYamlBoolean(data) {
  return data === 'true' || data === 'True' || data === 'TRUE';
}
function isBoolean(object) {
  return Object.prototype.toString.call(object) === '[object Boolean]';
}
module.exports = new Type('tag:yaml.org,2002:bool', {
  kind: 'scalar',
  resolve: resolveYamlBoolean,
  construct: constructYamlBoolean,
  predicate: isBoolean,
  represent: {
    lowercase: function lowercase(object) {
      return object ? 'true' : 'false';
    },
    uppercase: function uppercase(object) {
      return object ? 'TRUE' : 'FALSE';
    },
    camelcase: function camelcase(object) {
      return object ? 'True' : 'False';
    }
  },
  defaultStyle: 'lowercase'
});
},{"../type":206}],209:[function(require,module,exports){
'use strict';

var common = require('../common');
var Type = require('../type');
var YAML_FLOAT_PATTERN = new RegExp(
// 2.5e4, 2.5 and integers
'^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +
// .2e4, .2
// special case, seems not from spec
'|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +
// .inf
'|[-+]?\\.(?:inf|Inf|INF)' +
// .nan
'|\\.(?:nan|NaN|NAN))$');
function resolveYamlFloat(data) {
  if (data === null) return false;
  if (!YAML_FLOAT_PATTERN.test(data) ||
  // Quick hack to not allow integers end with `_`
  // Probably should update regexp & check speed
  data[data.length - 1] === '_') {
    return false;
  }
  return true;
}
function constructYamlFloat(data) {
  var value, sign;
  value = data.replace(/_/g, '').toLowerCase();
  sign = value[0] === '-' ? -1 : 1;
  if ('+-'.indexOf(value[0]) >= 0) {
    value = value.slice(1);
  }
  if (value === '.inf') {
    return sign === 1 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;
  } else if (value === '.nan') {
    return NaN;
  }
  return sign * parseFloat(value, 10);
}
var SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;
function representYamlFloat(object, style) {
  var res;
  if (isNaN(object)) {
    switch (style) {
      case 'lowercase':
        return '.nan';
      case 'uppercase':
        return '.NAN';
      case 'camelcase':
        return '.NaN';
    }
  } else if (Number.POSITIVE_INFINITY === object) {
    switch (style) {
      case 'lowercase':
        return '.inf';
      case 'uppercase':
        return '.INF';
      case 'camelcase':
        return '.Inf';
    }
  } else if (Number.NEGATIVE_INFINITY === object) {
    switch (style) {
      case 'lowercase':
        return '-.inf';
      case 'uppercase':
        return '-.INF';
      case 'camelcase':
        return '-.Inf';
    }
  } else if (common.isNegativeZero(object)) {
    return '-0.0';
  }
  res = object.toString(10);

  // JS stringifier can build scientific format without dots: 5e-100,
  // while YAML requres dot: 5.e-100. Fix it with simple hack

  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;
}
function isFloat(object) {
  return Object.prototype.toString.call(object) === '[object Number]' && (object % 1 !== 0 || common.isNegativeZero(object));
}
module.exports = new Type('tag:yaml.org,2002:float', {
  kind: 'scalar',
  resolve: resolveYamlFloat,
  construct: constructYamlFloat,
  predicate: isFloat,
  represent: representYamlFloat,
  defaultStyle: 'lowercase'
});
},{"../common":196,"../type":206}],210:[function(require,module,exports){
'use strict';

var common = require('../common');
var Type = require('../type');
function isHexCode(c) {
  return 0x30 /* 0 */ <= c && c <= 0x39 /* 9 */ || 0x41 /* A */ <= c && c <= 0x46 /* F */ || 0x61 /* a */ <= c && c <= 0x66 /* f */;
}
function isOctCode(c) {
  return 0x30 /* 0 */ <= c && c <= 0x37 /* 7 */;
}
function isDecCode(c) {
  return 0x30 /* 0 */ <= c && c <= 0x39 /* 9 */;
}
function resolveYamlInteger(data) {
  if (data === null) return false;
  var max = data.length,
    index = 0,
    hasDigits = false,
    ch;
  if (!max) return false;
  ch = data[index];

  // sign
  if (ch === '-' || ch === '+') {
    ch = data[++index];
  }
  if (ch === '0') {
    // 0
    if (index + 1 === max) return true;
    ch = data[++index];

    // base 2, base 8, base 16

    if (ch === 'b') {
      // base 2
      index++;
      for (; index < max; index++) {
        ch = data[index];
        if (ch === '_') continue;
        if (ch !== '0' && ch !== '1') return false;
        hasDigits = true;
      }
      return hasDigits && ch !== '_';
    }
    if (ch === 'x') {
      // base 16
      index++;
      for (; index < max; index++) {
        ch = data[index];
        if (ch === '_') continue;
        if (!isHexCode(data.charCodeAt(index))) return false;
        hasDigits = true;
      }
      return hasDigits && ch !== '_';
    }
    if (ch === 'o') {
      // base 8
      index++;
      for (; index < max; index++) {
        ch = data[index];
        if (ch === '_') continue;
        if (!isOctCode(data.charCodeAt(index))) return false;
        hasDigits = true;
      }
      return hasDigits && ch !== '_';
    }
  }

  // base 10 (except 0)

  // value should not start with `_`;
  if (ch === '_') return false;
  for (; index < max; index++) {
    ch = data[index];
    if (ch === '_') continue;
    if (!isDecCode(data.charCodeAt(index))) {
      return false;
    }
    hasDigits = true;
  }

  // Should have digits and should not end with `_`
  if (!hasDigits || ch === '_') return false;
  return true;
}
function constructYamlInteger(data) {
  var value = data,
    sign = 1,
    ch;
  if (value.indexOf('_') !== -1) {
    value = value.replace(/_/g, '');
  }
  ch = value[0];
  if (ch === '-' || ch === '+') {
    if (ch === '-') sign = -1;
    value = value.slice(1);
    ch = value[0];
  }
  if (value === '0') return 0;
  if (ch === '0') {
    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);
    if (value[1] === 'x') return sign * parseInt(value.slice(2), 16);
    if (value[1] === 'o') return sign * parseInt(value.slice(2), 8);
  }
  return sign * parseInt(value, 10);
}
function isInteger(object) {
  return Object.prototype.toString.call(object) === '[object Number]' && object % 1 === 0 && !common.isNegativeZero(object);
}
module.exports = new Type('tag:yaml.org,2002:int', {
  kind: 'scalar',
  resolve: resolveYamlInteger,
  construct: constructYamlInteger,
  predicate: isInteger,
  represent: {
    binary: function binary(obj) {
      return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1);
    },
    octal: function octal(obj) {
      return obj >= 0 ? '0o' + obj.toString(8) : '-0o' + obj.toString(8).slice(1);
    },
    decimal: function decimal(obj) {
      return obj.toString(10);
    },
    /* eslint-disable max-len */
    hexadecimal: function hexadecimal(obj) {
      return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() : '-0x' + obj.toString(16).toUpperCase().slice(1);
    }
  },
  defaultStyle: 'decimal',
  styleAliases: {
    binary: [2, 'bin'],
    octal: [8, 'oct'],
    decimal: [10, 'dec'],
    hexadecimal: [16, 'hex']
  }
});
},{"../common":196,"../type":206}],211:[function(require,module,exports){
'use strict';

var Type = require('../type');
module.exports = new Type('tag:yaml.org,2002:map', {
  kind: 'mapping',
  construct: function construct(data) {
    return data !== null ? data : {};
  }
});
},{"../type":206}],212:[function(require,module,exports){
'use strict';

var Type = require('../type');
function resolveYamlMerge(data) {
  return data === '<<' || data === null;
}
module.exports = new Type('tag:yaml.org,2002:merge', {
  kind: 'scalar',
  resolve: resolveYamlMerge
});
},{"../type":206}],213:[function(require,module,exports){
'use strict';

var Type = require('../type');
function resolveYamlNull(data) {
  if (data === null) return true;
  var max = data.length;
  return max === 1 && data === '~' || max === 4 && (data === 'null' || data === 'Null' || data === 'NULL');
}
function constructYamlNull() {
  return null;
}
function isNull(object) {
  return object === null;
}
module.exports = new Type('tag:yaml.org,2002:null', {
  kind: 'scalar',
  resolve: resolveYamlNull,
  construct: constructYamlNull,
  predicate: isNull,
  represent: {
    canonical: function canonical() {
      return '~';
    },
    lowercase: function lowercase() {
      return 'null';
    },
    uppercase: function uppercase() {
      return 'NULL';
    },
    camelcase: function camelcase() {
      return 'Null';
    },
    empty: function empty() {
      return '';
    }
  },
  defaultStyle: 'lowercase'
});
},{"../type":206}],214:[function(require,module,exports){
'use strict';

var Type = require('../type');
var _hasOwnProperty = Object.prototype.hasOwnProperty;
var _toString = Object.prototype.toString;
function resolveYamlOmap(data) {
  if (data === null) return true;
  var objectKeys = [],
    index,
    length,
    pair,
    pairKey,
    pairHasKey,
    object = data;
  for (index = 0, length = object.length; index < length; index += 1) {
    pair = object[index];
    pairHasKey = false;
    if (_toString.call(pair) !== '[object Object]') return false;
    for (pairKey in pair) {
      if (_hasOwnProperty.call(pair, pairKey)) {
        if (!pairHasKey) pairHasKey = true;else return false;
      }
    }
    if (!pairHasKey) return false;
    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);else return false;
  }
  return true;
}
function constructYamlOmap(data) {
  return data !== null ? data : [];
}
module.exports = new Type('tag:yaml.org,2002:omap', {
  kind: 'sequence',
  resolve: resolveYamlOmap,
  construct: constructYamlOmap
});
},{"../type":206}],215:[function(require,module,exports){
'use strict';

var Type = require('../type');
var _toString = Object.prototype.toString;
function resolveYamlPairs(data) {
  if (data === null) return true;
  var index,
    length,
    pair,
    keys,
    result,
    object = data;
  result = new Array(object.length);
  for (index = 0, length = object.length; index < length; index += 1) {
    pair = object[index];
    if (_toString.call(pair) !== '[object Object]') return false;
    keys = Object.keys(pair);
    if (keys.length !== 1) return false;
    result[index] = [keys[0], pair[keys[0]]];
  }
  return true;
}
function constructYamlPairs(data) {
  if (data === null) return [];
  var index,
    length,
    pair,
    keys,
    result,
    object = data;
  result = new Array(object.length);
  for (index = 0, length = object.length; index < length; index += 1) {
    pair = object[index];
    keys = Object.keys(pair);
    result[index] = [keys[0], pair[keys[0]]];
  }
  return result;
}
module.exports = new Type('tag:yaml.org,2002:pairs', {
  kind: 'sequence',
  resolve: resolveYamlPairs,
  construct: constructYamlPairs
});
},{"../type":206}],216:[function(require,module,exports){
'use strict';

var Type = require('../type');
module.exports = new Type('tag:yaml.org,2002:seq', {
  kind: 'sequence',
  construct: function construct(data) {
    return data !== null ? data : [];
  }
});
},{"../type":206}],217:[function(require,module,exports){
'use strict';

var Type = require('../type');
var _hasOwnProperty = Object.prototype.hasOwnProperty;
function resolveYamlSet(data) {
  if (data === null) return true;
  var key,
    object = data;
  for (key in object) {
    if (_hasOwnProperty.call(object, key)) {
      if (object[key] !== null) return false;
    }
  }
  return true;
}
function constructYamlSet(data) {
  return data !== null ? data : {};
}
module.exports = new Type('tag:yaml.org,2002:set', {
  kind: 'mapping',
  resolve: resolveYamlSet,
  construct: constructYamlSet
});
},{"../type":206}],218:[function(require,module,exports){
'use strict';

var Type = require('../type');
module.exports = new Type('tag:yaml.org,2002:str', {
  kind: 'scalar',
  construct: function construct(data) {
    return data !== null ? data : '';
  }
});
},{"../type":206}],219:[function(require,module,exports){
'use strict';

var Type = require('../type');
var YAML_DATE_REGEXP = new RegExp('^([0-9][0-9][0-9][0-9])' +
// [1] year
'-([0-9][0-9])' +
// [2] month
'-([0-9][0-9])$'); // [3] day

var YAML_TIMESTAMP_REGEXP = new RegExp('^([0-9][0-9][0-9][0-9])' +
// [1] year
'-([0-9][0-9]?)' +
// [2] month
'-([0-9][0-9]?)' +
// [3] day
'(?:[Tt]|[ \\t]+)' +
// ...
'([0-9][0-9]?)' +
// [4] hour
':([0-9][0-9])' +
// [5] minute
':([0-9][0-9])' +
// [6] second
'(?:\\.([0-9]*))?' +
// [7] fraction
'(?:[ \\t]*(Z|([-+])([0-9][0-9]?)' +
// [8] tz [9] tz_sign [10] tz_hour
'(?::([0-9][0-9]))?))?$'); // [11] tz_minute

function resolveYamlTimestamp(data) {
  if (data === null) return false;
  if (YAML_DATE_REGEXP.exec(data) !== null) return true;
  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;
  return false;
}
function constructYamlTimestamp(data) {
  var match,
    year,
    month,
    day,
    hour,
    minute,
    second,
    fraction = 0,
    delta = null,
    tz_hour,
    tz_minute,
    date;
  match = YAML_DATE_REGEXP.exec(data);
  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);
  if (match === null) throw new Error('Date resolve error');

  // match: [1] year [2] month [3] day

  year = +match[1];
  month = +match[2] - 1; // JS month starts with 0
  day = +match[3];
  if (!match[4]) {
    // no hour
    return new Date(Date.UTC(year, month, day));
  }

  // match: [4] hour [5] minute [6] second [7] fraction

  hour = +match[4];
  minute = +match[5];
  second = +match[6];
  if (match[7]) {
    fraction = match[7].slice(0, 3);
    while (fraction.length < 3) {
      // milli-seconds
      fraction += '0';
    }
    fraction = +fraction;
  }

  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute

  if (match[9]) {
    tz_hour = +match[10];
    tz_minute = +(match[11] || 0);
    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds
    if (match[9] === '-') delta = -delta;
  }
  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));
  if (delta) date.setTime(date.getTime() - delta);
  return date;
}
function representYamlTimestamp(object /*, style*/) {
  return object.toISOString();
}
module.exports = new Type('tag:yaml.org,2002:timestamp', {
  kind: 'scalar',
  resolve: resolveYamlTimestamp,
  construct: constructYamlTimestamp,
  instanceOf: Date,
  represent: representYamlTimestamp
});
},{"../type":206}],220:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global["justified-paragraphs"] = factory());
})(void 0, function () {
  'use strict';

  function index() {
    return {
      extensions: [{
        name: 'alignedParagraphs',
        level: 'block',
        start: function start(src) {
          var _src$match;
          return (_src$match = src.match(/(?:-:|:-|-:) {1}/m)) === null || _src$match === void 0 ? void 0 : _src$match.index;
        },
        // Hint to Marked.js to stop and check for a match
        tokenizer: function tokenizer(src, tokens) {
          var alignedParagraphClasses = [];
          alignedParagraphClasses[2] = 'Left';
          alignedParagraphClasses[4] = 'Right';
          alignedParagraphClasses[6] = 'Center';
          var regex = new RegExp("^(((:-))|((-:))|((:-:))) .+(\\n(([^\\n].*\\n)*(\\n|$))|$)", "ygm");
          var match = regex.exec(src);
          if (match !== null && match !== void 0 && match.length) {
            var _match$, _match$2, _match$3;
            var whichAlign;
            if ((_match$ = match[2]) !== null && _match$ !== void 0 && _match$.length) whichAlign = 2;
            if ((_match$2 = match[4]) !== null && _match$2 !== void 0 && _match$2.length) whichAlign = 4;
            if ((_match$3 = match[6]) !== null && _match$3 !== void 0 && _match$3.length) whichAlign = 6;
            return {
              type: 'alignedParagraphs',
              // Should match "name" above
              raw: match[0],
              // Text to consume from the source
              length: match[whichAlign].length,
              text: match[0].slice(match[whichAlign].length),
              alignment: alignedParagraphClasses[whichAlign],
              tokens: this.lexer.inlineTokens(match[0].slice(match[whichAlign].length + 1))
            };
          }
        },
        renderer: function renderer(token) {
          return "<p align=\"".concat(token.alignment, "\">").concat(this.parser.parseInline(token.tokens), "</p>");
        }
      }]
    };
  }
  return index;
});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],221:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global["definition-lists"] = factory());
})(void 0, function () {
  'use strict';

  function index() {
    return {
      extensions: [{
        name: 'definitionListsSingleLine',
        level: 'block',
        start: function start(src) {
          var _src$match;
          return (_src$match = src.match(/\n[^\n]*?::[^\n]*/m)) === null || _src$match === void 0 ? void 0 : _src$match.index;
        },
        // Hint to Marked.js to stop and check for a match
        tokenizer: function tokenizer(src, tokens) {
          var _this = this;
          var regex = new RegExp("^([^\\n]*?)::([^\\n]*)(?:\\n|$)", "ym");
          var match;
          var endIndex = 0;
          var definitions = [];
          var _loop = function _loop() {
            var originalLine = match[0]; // This line and below to handle conflict with emojis
            var firstLine = originalLine; // Remove in V4 when definitionListsInline updated to
            _this.lexer.inlineTokens(firstLine.trim()) // require spaces around `::`
            .filter(function (t) {
              return t.type == 'emoji';
            }).map(function (emoji) {
              return firstLine = firstLine.replace(emoji.raw, 'x'.repeat(emoji.raw.length));
            });
            var newMatch = new RegExp("^([^\\n]*?)::([^\\n]*)(?:\\n|$)", "ym").exec(firstLine);
            if (newMatch) {
              definitions.push({
                dt: _this.lexer.inlineTokens(originalLine.slice(0, newMatch[1].length).trim()),
                dd: _this.lexer.inlineTokens(originalLine.slice(newMatch[1].length + 2).trim())
              });
            } // End of emoji hack.
            endIndex = regex.lastIndex;
          };
          while (match = regex.exec(src)) {
            _loop();
          }
          if (definitions.length) {
            return {
              type: 'definitionListsSingleLine',
              raw: src.slice(0, endIndex),
              definitions: definitions
            };
          }
        },
        renderer: function renderer(token) {
          var _this2 = this;
          return "<dl>".concat(token.definitions.reduce(function (html, def) {
            return "".concat(html, "<dt>").concat(_this2.parser.parseInline(def.dt), "</dt>") + "<dd>".concat(_this2.parser.parseInline(def.dd), "</dd>\n");
          }, ''), "</dl>");
        }
      }, {
        name: 'definitionListsMultiLine',
        level: 'block',
        start: function start(src) {
          var _src$match2;
          return (_src$match2 = src.match(/\n[^\n]*\n::[^:\n]/m)) === null || _src$match2 === void 0 ? void 0 : _src$match2.index;
        },
        // Hint to Marked.js to stop and check for a match
        tokenizer: function tokenizer(src, tokens) {
          var regex = new RegExp("(\\n?\\n?(?!::)[^\\n]+?(?=\\n::[^:\\n]))|\\n::([^:\\n](?:.|\\n)*?(?=(?:\\n::)|(?:\\n\\n)|$))", "y");
          var match;
          var endIndex = 0;
          var definitions = [];
          while (match = regex.exec(src)) {
            if (match[1]) {
              var _this$lexer$blockToke;
              if (((_this$lexer$blockToke = this.lexer.blockTokens(match[1].trim())[0]) === null || _this$lexer$blockToke === void 0 ? void 0 : _this$lexer$blockToke.type) !== 'paragraph')
                // DT must not be another block-level token besides <p>
                break;
              definitions.push({
                dt: this.lexer.inlineTokens(match[1].trim()),
                dds: []
              });
            }
            if (match[2] && definitions.length) {
              definitions[definitions.length - 1].dds.push(this.lexer.inlineTokens(match[2].trim().replace(/\s/g, ' ')));
            }
            endIndex = regex.lastIndex;
          }
          if (definitions.length) {
            return {
              type: 'definitionListsMultiLine',
              raw: src.slice(0, endIndex),
              definitions: definitions
            };
          }
        },
        renderer: function renderer(token) {
          var _this3 = this;
          var returnVal = "<dl>";
          token.definitions.forEach(function (def) {
            var dds = def.dds.map(function (s) {
              return "\n<dd>".concat(_this3.parser.parseInline(s).trim(), "</dd>");
            }).join('');
            returnVal += "<dt>".concat(_this3.parser.parseInline(def.dt), "</dt>").concat(dds, "\n");
          });
          returnVal = returnVal.trim();
          return "".concat(returnVal, "</dl>");
        }
      }]
    };
  }
  return index;
});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],222:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.markedEmoji = {}));
})(void 0, function (exports) {
  'use strict';

  var defaultOptions = {
    // emojis: {}, required
    renderer: undefined
  };
  function markedEmoji(options) {
    options = _objectSpread(_objectSpread({}, defaultOptions), options);
    if (!options.emojis) {
      throw new Error('Must provide emojis to markedEmoji');
    }
    var emojiNames = Object.keys(options.emojis).map(function (e) {
      return e.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }).join('|');
    var emojiRegex = new RegExp(":(".concat(emojiNames, "):"));
    var tokenizerRule = new RegExp("^".concat(emojiRegex.source));
    return {
      extensions: [{
        name: 'emoji',
        level: 'inline',
        start: function start(src) {
          var _src$match;
          return (_src$match = src.match(emojiRegex)) === null || _src$match === void 0 ? void 0 : _src$match.index;
        },
        tokenizer: function tokenizer(src, tokens) {
          var match = tokenizerRule.exec(src);
          if (!match) {
            return;
          }
          var name = match[1];
          var emoji = options.emojis[name];
          if (!emoji) {
            return;
          }
          return {
            type: 'emoji',
            raw: match[0],
            name: name,
            emoji: emoji
          };
        },
        renderer: function renderer(token) {
          if (options.renderer) {
            return options.renderer(token);
          }
          return "<img alt=\"".concat(token.name, "\" src=\"").concat(token.emoji, "\" class=\"marked-emoji-img\">");
        }
      }]
    };
  }
  exports.markedEmoji = markedEmoji;
});
},{"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],223:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global["extended-tables"] = factory());
})(void 0, function () {
  'use strict';

  function index() {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref$interruptPattern = _ref.interruptPatterns,
      interruptPatterns = _ref$interruptPattern === void 0 ? [] : _ref$interruptPattern,
      _ref$skipEmptyRows = _ref.skipEmptyRows,
      skipEmptyRows = _ref$skipEmptyRows === void 0 ? true : _ref$skipEmptyRows;
    return {
      extensions: [{
        name: 'spanTable',
        level: 'block',
        // Is this a block-level or inline-level tokenizer?
        start: function start(src) {
          var _src$match;
          return (_src$match = src.match(/\n *([^\n ].*\|.*)\n/m)) === null || _src$match === void 0 ? void 0 : _src$match.index;
        },
        // Hint to Marked.js to stop and check for a match
        tokenizer: function tokenizer(src, tokens) {
          // const regex = this.tokenizer.rules.block.table;
          var regexString = '^ *([^\\n ].*\\|.*\\n(?: *[^\\s].*\\n)*?)' // Header
          + ' {0,3}(?:\\| *)?(:?-+(?: *(?:100|[1-9][0-9]?%) *-+)?:? *(?:\\| *:?-+(?: *(?:100|[1-9][0-9]?%) *-+)?:? *)*)(?:\\| *)?' // Align
          + '(?:\\n((?:(?! *\\n| {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})' // Cells
          + '(?:\\n+|$)| {0,3}#{1,6}(?:\\s|$)| {0,3}>| {4}[^\\n]| {0,3}(?:`{3,}' + '(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n| {0,3}(?:[*+-]|1[.)]) |' + '<\\/?(?:address|article|aside|base|basefont|blockquote|body' + '|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt' + '|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]' + '|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem' + '|meta|nav|noframes|ol|optgroup|option|p|param|section|source' + '|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)' + '(?: +|\\n|\\/?>)|<(?:script|pre|style|textarea|!--)endRegex).*(?:\\n|$))*)\\n*|$)'; // Cells

          regexString = regexString.replace('endRegex', interruptPatterns.map(function (str) {
            return "|(?:".concat(str, ")");
          }).join(''));
          var widthRegex = / *(?:100|[1-9][0-9]?%) */g;
          var regex = new RegExp(regexString);
          var cap = regex.exec(src);
          if (cap) {
            var _cap$;
            var item = {
              type: 'spanTable',
              header: cap[1].replace(/\n$/, '').split('\n'),
              align: cap[2].replace(widthRegex, '').replace(/^ *|\| *$/g, '').split(/ *\| */),
              rows: (_cap$ = cap[3]) !== null && _cap$ !== void 0 && _cap$.trim() ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : [],
              width: cap[2].replace(/:/g, '').replace(/-+| /g, '').split('|')
            };

            // Get first header row to determine how many columns
            item.header[0] = splitCells(item.header[0]);
            var colCount = item.header[0].reduce(function (length, header) {
              return length + header.colspan;
            }, 0);
            if (colCount === item.align.length) {
              item.raw = cap[0];
              var i, j, k, row;

              // Get alignment row (:---:)
              var l = item.align.length;
              for (i = 0; i < l; i++) {
                if (/^ *-+: *$/.test(item.align[i])) {
                  item.align[i] = 'right';
                } else if (/^ *:-+: *$/.test(item.align[i])) {
                  item.align[i] = 'center';
                } else if (/^ *:-+ *$/.test(item.align[i])) {
                  item.align[i] = 'left';
                } else {
                  item.align[i] = null;
                }
              }

              // Get any remaining header rows
              l = item.header.length;
              for (i = 1; i < l; i++) {
                item.header[i] = splitCells(item.header[i], colCount, item.header[i - 1], skipEmptyRows);
              }

              // Get main table cells
              l = item.rows.length;
              for (i = 0; i < l; i++) {
                item.rows[i] = splitCells(item.rows[i], colCount, item.rows[i - 1], skipEmptyRows);
              }

              // header child tokens
              l = item.header.length;
              for (j = 0; j < l; j++) {
                row = item.header[j];
                for (k = 0; k < row.length; k++) {
                  row[k].tokens = [];
                  this.lexer.inline(row[k].text, row[k].tokens);
                }
              }

              // cell child tokens
              l = item.rows.length;
              for (j = 0; j < l; j++) {
                row = item.rows[j];
                for (k = 0; k < row.length; k++) {
                  row[k].tokens = [];
                  this.lexer.inline(row[k].text, row[k].tokens);
                }
              }
              return item;
            }
          }
        },
        renderer: function renderer(token) {
          var i, j, row, cell, col, text;
          var output = '<table>';
          output += '<thead>';
          for (i = 0; i < token.header.length; i++) {
            row = token.header[i];
            var _col = 0;
            output += '<tr>';
            for (j = 0; j < row.length; j++) {
              cell = row[j];
              text = this.parser.parseInline(cell.tokens);
              output += getTableCell(text, cell, 'th', token.align[_col], token.width[_col]);
              _col += cell.colspan;
            }
            output += '</tr>';
          }
          output += '</thead>';
          if (token.rows.length) {
            output += '<tbody>';
            for (i = 0; i < token.rows.length; i++) {
              row = token.rows[i];
              col = 0;
              if (!row[0].emptyRow) {
                output += '<tr>';
                for (j = 0; j < row.length; j++) {
                  cell = row[j];
                  text = this.parser.parseInline(cell.tokens);
                  output += getTableCell(text, cell, 'td', token.align[col], token.width[col]);
                  col += cell.colspan;
                }
                output += '</tr>';
              }
            }
            output += '</tbody>';
          }
          output += '</table>';
          return output;
        }
      }]
    };
  }
  var getTableCell = function getTableCell(text, cell, type, align, width) {
    if (!cell.rowspan) {
      return '';
    }
    var tag = "<".concat(type) + "".concat(cell.colspan > 1 ? " colspan=".concat(cell.colspan) : '') + "".concat(cell.rowspan > 1 ? " rowspan=".concat(cell.rowspan) : '') + "".concat(align ? " align=".concat(align) : '') + "".concat(width ? " width=".concat(width) : '', ">");
    return "".concat(tag + text, "</").concat(type, ">\n");
  };
  var splitCells = function splitCells(tableRow, count) {
    var _cells$, _cells;
    var prevRow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
    var skipEmptyRows = arguments.length > 3 ? arguments[3] : undefined;
    var cells = (0, _toConsumableArray2["default"])(tableRow.trim().matchAll(/(?:[^|\\]|\\.?)+(?:\|+|$)/g)).map(function (x) {
      return x[0];
    });

    // Remove first/last cell in a row if whitespace only and no leading/trailing pipe
    if (!((_cells$ = cells[0]) !== null && _cells$ !== void 0 && _cells$.trim())) {
      cells.shift();
    }
    if (!((_cells = cells[cells.length - 1]) !== null && _cells !== void 0 && _cells.trim())) {
      cells.pop();
    }
    var numCols = 0;
    var i, j, trimmedCell, prevCell, prevCols;
    for (i = 0; i < cells.length; i++) {
      trimmedCell = cells[i].split(/\|+$/)[0];
      cells[i] = {
        rowspan: 1,
        colspan: Math.max(cells[i].length - trimmedCell.length, 1),
        text: trimmedCell.trim().replace(/\\\|/g, '|')
        // display escaped pipes as normal character
      };

      // Handle Rowspan
      if (trimmedCell.slice(-1) === '^' && prevRow.length) {
        // Find matching cell in previous row
        prevCols = 0;
        for (j = 0; j < prevRow.length; j++) {
          prevCell = prevRow[j];
          if (prevCols === numCols && prevCell.colspan === cells[i].colspan) {
            var _prevCell$rowSpanTarg;
            // merge into matching cell in previous row (the "target")
            cells[i].rowSpanTarget = (_prevCell$rowSpanTarg = prevCell.rowSpanTarget) !== null && _prevCell$rowSpanTarg !== void 0 ? _prevCell$rowSpanTarg : prevCell;
            cells[i].rowSpanTarget.text += " ".concat(cells[i].text.slice(0, -1));
            cells[i].rowSpanTarget.rowspan += 1;
            cells[i].rowspan = 0;
            break;
          }
          prevCols += prevCell.colspan;
          if (prevCols > numCols) {
            break;
          }
        }
      }
      numCols += cells[i].colspan;
    }

    // If all cells have been merged, flag as an empty row
    if (cells.length > 0 && skipEmptyRows && cells.length === cells.filter(function (cell) {
      return cell.rowspan === 0;
    }).length) {
      cells[0].emptyRow = true;
      for (i = 0; i < cells.length; i++) {
        cells[i].rowSpanTarget.rowspan -= 1;
      }
    }

    // Force main cell rows to match header column count
    if (numCols > count) {
      cells.splice(count);
    } else {
      while (numCols < count) {
        cells.push({
          rowspan: 1,
          colspan: 1,
          text: ''
        });
        numCols += 1;
      }
    }
    return cells;
  };
  return index;
});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/toConsumableArray":110,"@babel/runtime/helpers/typeof":113}],224:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _readOnlyError2 = _interopRequireDefault(require("@babel/runtime/helpers/readOnlyError"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.markedGfmHeadingId = {}));
})(void 0, function (exports) {
  'use strict';

  // This module is generated by `script/`.
  /* eslint-disable no-control-regex, no-misleading-character-class, no-useless-escape */
  var regex = /[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g;
  var own = Object.hasOwnProperty;

  /**
   * Slugger.
   */
  var BananaSlug = /*#__PURE__*/function () {
    /**
     * Create a new slug class.
     */
    function BananaSlug() {
      (0, _classCallCheck2["default"])(this, BananaSlug);
      /** @type {Record<string, number>} */
      // eslint-disable-next-line no-unused-expressions
      this.occurrences;
      this.reset();
    }

    /**
     * Generate a unique slug.
    *
    * Tracks previously generated slugs: repeated calls with the same value
    * will result in different slugs.
    * Use the `slug` function to get same slugs.
     *
     * @param  {string} value
     *   String of text to slugify
     * @param  {boolean} [maintainCase=false]
     *   Keep the current case, otherwise make all lowercase
     * @return {string}
     *   A unique slug string
     */
    return (0, _createClass2["default"])(BananaSlug, [{
      key: "slug",
      value: function slug(value, maintainCase) {
        var self = this;
        var result = _slug(value, maintainCase === true);
        var originalSlug = result;
        while (own.call(self.occurrences, result)) {
          self.occurrences[originalSlug]++;
          result = originalSlug + '-' + self.occurrences[originalSlug];
        }
        self.occurrences[result] = 0;
        return result;
      }

      /**
       * Reset - Forget all previous slugs
       *
       * @return void
       */
    }, {
      key: "reset",
      value: function reset() {
        this.occurrences = Object.create(null);
      }
    }]);
  }();
  /**
   * Generate a slug.
   *
   * Does not track previously generated slugs: repeated calls with the same value
   * will result in the exact same slug.
   * Use the `GithubSlugger` class to get unique slugs.
   *
   * @param  {string} value
   *   String of text to slugify
   * @param  {boolean} [maintainCase=false]
   *   Keep the current case, otherwise make all lowercase
   * @return {string}
   *   A unique slug string
   */
  function _slug(value, maintainCase) {
    if (typeof value !== 'string') return '';
    if (!maintainCase) value = value.toLowerCase();
    return value.replace(regex, '').replace(/ /g, '-');
  }
  var slugger = new BananaSlug();
  var headings = [];

  // unescape from marked helpers
  var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;
  /* istanbul ignore next */
  function unescape(html) {
    // explicitly match decimal, hex, and named HTML entities
    return html.replace(unescapeTest, function (_, n) {
      n = n.toLowerCase();
      if (n === 'colon') return ':';
      if (n.charAt(0) === '#') {
        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
      }
      return '';
    });
  }
  function gfmHeadingId() {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref$prefix = _ref.prefix,
      prefix = _ref$prefix === void 0 ? '' : _ref$prefix,
      _ref$globalSlugs = _ref.globalSlugs,
      globalSlugs = _ref$globalSlugs === void 0 ? false : _ref$globalSlugs;
    return {
      headerIds: false,
      // prevent deprecation warning; remove this once headerIds option is removed
      hooks: {
        preprocess: function preprocess(src) {
          if (!globalSlugs) {
            resetHeadings();
          }
          return src;
        }
      },
      useNewRenderer: true,
      renderer: {
        heading: function heading(_ref2) {
          var tokens = _ref2.tokens,
            depth = _ref2.depth;
          var text = this.parser.parseInline(tokens);
          var raw = unescape(text).trim().replace(/<[!\/a-z].*?>/gi, '');
          var level = depth;
          var id = "".concat(prefix).concat(slugger.slug(raw.toLowerCase()));
          var heading = {
            level: level,
            text: text,
            id: id,
            raw: raw
          };
          headings.push(heading);
          return "<h".concat(level, " id=\"").concat(id, "\">").concat(text, "</h").concat(level, ">\n");
        }
      }
    };
  }
  function getHeadingList() {
    return headings;
  }
  function resetHeadings() {
    headings = [];
    slugger = new BananaSlug();
  }
  exports.getHeadingList = getHeadingList;
  exports.gfmHeadingId = gfmHeadingId;
  exports.resetHeadings = resetHeadings;
  exports.unescape = unescape;
});
},{"@babel/runtime/helpers/classCallCheck":79,"@babel/runtime/helpers/createClass":81,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/readOnlyError":97,"@babel/runtime/helpers/typeof":113}],225:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global["nonbreaking-spaces"] = factory());
})(void 0, function () {
  'use strict';

  function index() {
    return {
      extensions: [{
        name: 'nonbreakingSpaces',
        level: 'inline',
        start: function start(src) {
          var _src$match;
          return (_src$match = src.match(/:>+/m)) === null || _src$match === void 0 ? void 0 : _src$match.index;
        },
        // Hint to Marked.js to stop and check for a match
        tokenizer: function tokenizer(src, tokens) {
          var regex = new RegExp(":(>+)", "ym");
          var match = regex.exec(src);
          if (match !== null && match !== void 0 && match.length) {
            return {
              type: 'nonbreakingSpaces',
              // Should match "name" above
              raw: match[0],
              // Text to consume from the source
              length: match[1].length
            };
          }
        },
        renderer: function renderer(token) {
          return '&nbsp;'.repeat(token.length).concat('');
        }
      }]
    };
  }
  return index;
});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],226:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.markedSmartypantsLite = {}));
})(void 0, function (exports) {
  'use strict';

  function markedSmartypantsLite() {
    return {
      tokenizer: {
        inlineText: function inlineText(src) {
          // don't escape inlineText
          var cap = this.rules.inline.text.exec(src);

          /* istanbul ignore next */
          if (!cap) {
            // should never happen
            return;
          }
          var text = cap[0]
          // em-dashes
          .replace(/---/g, "\u2014")
          // en-dashes
          .replace(/--/g, "\u2013")
          // opening singles
          .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018")
          // closing singles & apostrophes
          .replace(/'/g, "\u2019")
          // opening doubles
          .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C")
          // closing doubles
          .replace(/"/g, "\u201D")
          // ellipses
          .replace(/\.{3}/g, "\u2026");
          return {
            type: 'text',
            raw: cap[0],
            text: text
          };
        }
      }
    };
  }
  exports.markedSmartypantsLite = markedSmartypantsLite;
});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],227:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
(function (global, factory) {
  (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global["subsuper-text"] = factory());
})(void 0, function () {
  'use strict';

  function index() {
    return {
      extensions: [{
        name: 'subSuperText',
        level: 'inline',
        start: function start(src) {
          var _src$match;
          return (_src$match = src.match(/\^/m)) === null || _src$match === void 0 ? void 0 : _src$match.index;
        },
        // Hint to Marked.js to stop and check for a match
        tokenizer: function tokenizer(src, tokens) {
          var _match;
          var superRegex = /^\^(?!\s)(?=([^\n\^]*[^\s\^]))\1\^/m;
          var subRegex = /^\^\^(?!\s)(?=([^\n\^]*[^\s\^]))\1\^\^/m;
          var isSuper = false;
          var match = subRegex.exec(src);
          if (!match) {
            match = superRegex.exec(src);
            if (match) isSuper = true;
          }
          if ((_match = match) !== null && _match !== void 0 && _match.length) {
            return {
              type: 'subSuperText',
              // Should match "name" above
              raw: match[0],
              // Text to consume from the source
              tag: isSuper ? 'sup' : 'sub',
              tokens: this.lexer.inlineTokens(match[1])
            };
          }
        },
        renderer: function renderer(token) {
          return "<".concat(token.tag, ">").concat(this.parser.parseInline(token.tokens), "</").concat(token.tag, ">");
        }
      }]
    };
  }
  return index;
});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],228:[function(require,module,exports){
(function (global){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */

;
(function (root) {
  'use strict';

  /**
   * Block-Level Grammar
   */
  var block = {
    newline: /^\n+/,
    code: /^( {4}[^\n]+\n*)+/,
    fences: noop,
    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
    heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
    nptable: noop,
    blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
    list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
    html: /^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,
    def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
    table: noop,
    lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
    paragraph: /^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,
    text: /^[^\n]+/
  };
  block._label = /(?:\\[\[\]]|[^\[\]])+/;
  block._title = /(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;
  block.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();
  block.bullet = /(?:[*+-]|\d+\.)/;
  block.item = /^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;
  block.item = edit(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();
  block.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))').replace('def', '\\n+(?=' + block.def.source + ')').getRegex();
  block._tag = '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code' + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo' + '|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b';
  block.html = edit(block.html).replace('comment', /<!--[\s\S]*?-->/).replace('closed', /<(tag)[\s\S]+?<\/\1>/).replace('closing', /<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g, block._tag).getRegex();
  block.paragraph = edit(block.paragraph).replace('hr', block.hr).replace('heading', block.heading).replace('lheading', block.lheading).replace('tag', '<' + block._tag).getRegex();
  block.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();

  /**
   * Normal Block Grammar
   */

  block.normal = merge({}, block);

  /**
   * GFM Block Grammar
   */

  block.gfm = merge({}, block.normal, {
    fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,
    paragraph: /^/,
    heading: /^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/
  });
  block.gfm.paragraph = edit(block.paragraph).replace('(?!', '(?!' + block.gfm.fences.source.replace('\\1', '\\2') + '|' + block.list.source.replace('\\1', '\\3') + '|').getRegex();

  /**
   * GFM + Tables Block Grammar
   */

  block.tables = merge({}, block.gfm, {
    nptable: /^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,
    table: /^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/
  });

  /**
   * Block Lexer
   */

  function Lexer(options) {
    this.tokens = [];
    this.tokens.links = {};
    this.options = options || marked.defaults;
    this.rules = block.normal;
    if (this.options.gfm) {
      if (this.options.tables) {
        this.rules = block.tables;
      } else {
        this.rules = block.gfm;
      }
    }
  }

  /**
   * Expose Block Rules
   */

  Lexer.rules = block;

  /**
   * Static Lex Method
   */

  Lexer.lex = function (src, options) {
    var lexer = new Lexer(options);
    return lexer.lex(src);
  };

  /**
   * Preprocessing
   */

  Lexer.prototype.lex = function (src) {
    src = src.replace(/\r\n|\r/g, '\n').replace(/\t/g, '    ').replace(/\u00a0/g, ' ').replace(/\u2424/g, '\n');
    return this.token(src, true);
  };

  /**
   * Lexing
   */

  Lexer.prototype.token = function (src, top) {
    src = src.replace(/^ +$/gm, '');
    var next, loose, cap, bull, b, item, space, i, tag, l, isordered;
    while (src) {
      // newline
      if (cap = this.rules.newline.exec(src)) {
        src = src.substring(cap[0].length);
        if (cap[0].length > 1) {
          this.tokens.push({
            type: 'space'
          });
        }
      }

      // code
      if (cap = this.rules.code.exec(src)) {
        src = src.substring(cap[0].length);
        cap = cap[0].replace(/^ {4}/gm, '');
        this.tokens.push({
          type: 'code',
          text: !this.options.pedantic ? cap.replace(/\n+$/, '') : cap
        });
        continue;
      }

      // fences (gfm)
      if (cap = this.rules.fences.exec(src)) {
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: 'code',
          lang: cap[2],
          text: cap[3] || ''
        });
        continue;
      }

      // heading
      if (cap = this.rules.heading.exec(src)) {
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: 'heading',
          depth: cap[1].length,
          text: cap[2]
        });
        continue;
      }

      // table no leading pipe (gfm)
      if (top && (cap = this.rules.nptable.exec(src))) {
        src = src.substring(cap[0].length);
        item = {
          type: 'table',
          header: cap[1].replace(/^ *| *\| *$/g, '').split(/ *\| */),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3].replace(/\n$/, '').split('\n')
        };
        for (i = 0; i < item.align.length; i++) {
          if (/^ *-+: *$/.test(item.align[i])) {
            item.align[i] = 'right';
          } else if (/^ *:-+: *$/.test(item.align[i])) {
            item.align[i] = 'center';
          } else if (/^ *:-+ *$/.test(item.align[i])) {
            item.align[i] = 'left';
          } else {
            item.align[i] = null;
          }
        }
        for (i = 0; i < item.cells.length; i++) {
          item.cells[i] = item.cells[i].split(/ *\| */);
        }
        this.tokens.push(item);
        continue;
      }

      // hr
      if (cap = this.rules.hr.exec(src)) {
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: 'hr'
        });
        continue;
      }

      // blockquote
      if (cap = this.rules.blockquote.exec(src)) {
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: 'blockquote_start'
        });
        cap = cap[0].replace(/^ *> ?/gm, '');

        // Pass `top` to keep the current
        // "toplevel" state. This is exactly
        // how markdown.pl works.
        this.token(cap, top);
        this.tokens.push({
          type: 'blockquote_end'
        });
        continue;
      }

      // list
      if (cap = this.rules.list.exec(src)) {
        src = src.substring(cap[0].length);
        bull = cap[2];
        isordered = bull.length > 1;
        this.tokens.push({
          type: 'list_start',
          ordered: isordered,
          start: isordered ? +bull : ''
        });

        // Get each top-level item.
        cap = cap[0].match(this.rules.item);
        next = false;
        l = cap.length;
        i = 0;
        for (; i < l; i++) {
          item = cap[i];

          // Remove the list item's bullet
          // so it is seen as the next token.
          space = item.length;
          item = item.replace(/^ *([*+-]|\d+\.) +/, '');

          // Outdent whatever the
          // list item contains. Hacky.
          if (~item.indexOf('\n ')) {
            space -= item.length;
            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');
          }

          // Determine whether the next list item belongs here.
          // Backpedal if it does not belong in this list.
          if (this.options.smartLists && i !== l - 1) {
            b = block.bullet.exec(cap[i + 1])[0];
            if (bull !== b && !(bull.length > 1 && b.length > 1)) {
              src = cap.slice(i + 1).join('\n') + src;
              i = l - 1;
            }
          }

          // Determine whether item is loose or not.
          // Use: /(^|\n)(?! )[^\n]+\n\n(?!\s*$)/
          // for discount behavior.
          loose = next || /\n\n(?!\s*$)/.test(item);
          if (i !== l - 1) {
            next = item.charAt(item.length - 1) === '\n';
            if (!loose) loose = next;
          }
          this.tokens.push({
            type: loose ? 'loose_item_start' : 'list_item_start'
          });

          // Recurse.
          this.token(item, false);
          this.tokens.push({
            type: 'list_item_end'
          });
        }
        this.tokens.push({
          type: 'list_end'
        });
        continue;
      }

      // html
      if (cap = this.rules.html.exec(src)) {
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: this.options.sanitize ? 'paragraph' : 'html',
          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
          text: cap[0]
        });
        continue;
      }

      // def
      if (top && (cap = this.rules.def.exec(src))) {
        src = src.substring(cap[0].length);
        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);
        tag = cap[1].toLowerCase();
        if (!this.tokens.links[tag]) {
          this.tokens.links[tag] = {
            href: cap[2],
            title: cap[3]
          };
        }
        continue;
      }

      // table (gfm)
      if (top && (cap = this.rules.table.exec(src))) {
        src = src.substring(cap[0].length);
        item = {
          type: 'table',
          header: cap[1].replace(/^ *| *\| *$/g, '').split(/ *\| */),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3].replace(/(?: *\| *)?\n$/, '').split('\n')
        };
        for (i = 0; i < item.align.length; i++) {
          if (/^ *-+: *$/.test(item.align[i])) {
            item.align[i] = 'right';
          } else if (/^ *:-+: *$/.test(item.align[i])) {
            item.align[i] = 'center';
          } else if (/^ *:-+ *$/.test(item.align[i])) {
            item.align[i] = 'left';
          } else {
            item.align[i] = null;
          }
        }
        for (i = 0; i < item.cells.length; i++) {
          item.cells[i] = item.cells[i].replace(/^ *\| *| *\| *$/g, '').split(/ *\| */);
        }
        this.tokens.push(item);
        continue;
      }

      // lheading
      if (cap = this.rules.lheading.exec(src)) {
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: 'heading',
          depth: cap[2] === '=' ? 1 : 2,
          text: cap[1]
        });
        continue;
      }

      // top-level paragraph
      if (top && (cap = this.rules.paragraph.exec(src))) {
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: 'paragraph',
          text: cap[1].charAt(cap[1].length - 1) === '\n' ? cap[1].slice(0, -1) : cap[1]
        });
        continue;
      }

      // text
      if (cap = this.rules.text.exec(src)) {
        // Top-level should never reach here.
        src = src.substring(cap[0].length);
        this.tokens.push({
          type: 'text',
          text: cap[0]
        });
        continue;
      }
      if (src) {
        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));
      }
    }
    return this.tokens;
  };

  /**
   * Inline-Level Grammar
   */

  var inline = {
    escape: /^\\([\\`*{}\[\]()#+\-.!_>])/,
    autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
    url: noop,
    tag: /^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,
    link: /^!?\[(inside)\]\(href\)/,
    reflink: /^!?\[(inside)\]\s*\[([^\]]*)\]/,
    nolink: /^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,
    strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
    em: /^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,
    code: /^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,
    br: /^ {2,}\n(?!\s*$)/,
    del: noop,
    text: /^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/
  };
  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
  inline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();
  inline._inside = /(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/;
  inline._href = /\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;
  inline.link = edit(inline.link).replace('inside', inline._inside).replace('href', inline._href).getRegex();
  inline.reflink = edit(inline.reflink).replace('inside', inline._inside).getRegex();

  /**
   * Normal Inline Grammar
   */

  inline.normal = merge({}, inline);

  /**
   * Pedantic Inline Grammar
   */

  inline.pedantic = merge({}, inline.normal, {
    strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/
  });

  /**
   * GFM Inline Grammar
   */

  inline.gfm = merge({}, inline.normal, {
    escape: edit(inline.escape).replace('])', '~|])').getRegex(),
    url: edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace('email', inline._email).getRegex(),
    _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
    del: /^~~(?=\S)([\s\S]*?\S)~~/,
    text: edit(inline.text).replace(']|', '~]|').replace('|', '|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&\'*+/=?^_`{\\|}~-]+@|').getRegex()
  });

  /**
   * GFM + Line Breaks Inline Grammar
   */

  inline.breaks = merge({}, inline.gfm, {
    br: edit(inline.br).replace('{2,}', '*').getRegex(),
    text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()
  });

  /**
   * Inline Lexer & Compiler
   */

  function InlineLexer(links, options) {
    this.options = options || marked.defaults;
    this.links = links;
    this.rules = inline.normal;
    this.renderer = this.options.renderer || new Renderer();
    this.renderer.options = this.options;
    if (!this.links) {
      throw new Error('Tokens array requires a `links` property.');
    }
    if (this.options.gfm) {
      if (this.options.breaks) {
        this.rules = inline.breaks;
      } else {
        this.rules = inline.gfm;
      }
    } else if (this.options.pedantic) {
      this.rules = inline.pedantic;
    }
  }

  /**
   * Expose Inline Rules
   */

  InlineLexer.rules = inline;

  /**
   * Static Lexing/Compiling Method
   */

  InlineLexer.output = function (src, links, options) {
    var inline = new InlineLexer(links, options);
    return inline.output(src);
  };

  /**
   * Lexing/Compiling
   */

  InlineLexer.prototype.output = function (src) {
    var out = '',
      link,
      text,
      href,
      cap;
    while (src) {
      // escape
      if (cap = this.rules.escape.exec(src)) {
        src = src.substring(cap[0].length);
        out += cap[1];
        continue;
      }

      // autolink
      if (cap = this.rules.autolink.exec(src)) {
        src = src.substring(cap[0].length);
        if (cap[2] === '@') {
          text = escape(this.mangle(cap[1]));
          href = 'mailto:' + text;
        } else {
          text = escape(cap[1]);
          href = text;
        }
        out += this.renderer.link(href, null, text);
        continue;
      }

      // url (gfm)
      if (!this.inLink && (cap = this.rules.url.exec(src))) {
        cap[0] = this.rules._backpedal.exec(cap[0])[0];
        src = src.substring(cap[0].length);
        if (cap[2] === '@') {
          text = escape(cap[0]);
          href = 'mailto:' + text;
        } else {
          text = escape(cap[0]);
          if (cap[1] === 'www.') {
            href = 'http://' + text;
          } else {
            href = text;
          }
        }
        out += this.renderer.link(href, null, text);
        continue;
      }

      // tag
      if (cap = this.rules.tag.exec(src)) {
        if (!this.inLink && /^<a /i.test(cap[0])) {
          this.inLink = true;
        } else if (this.inLink && /^<\/a>/i.test(cap[0])) {
          this.inLink = false;
        }
        src = src.substring(cap[0].length);
        out += this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];
        continue;
      }

      // link
      if (cap = this.rules.link.exec(src)) {
        src = src.substring(cap[0].length);
        this.inLink = true;
        out += this.outputLink(cap, {
          href: cap[2],
          title: cap[3]
        });
        this.inLink = false;
        continue;
      }

      // reflink, nolink
      if ((cap = this.rules.reflink.exec(src)) || (cap = this.rules.nolink.exec(src))) {
        src = src.substring(cap[0].length);
        link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
        link = this.links[link.toLowerCase()];
        if (!link || !link.href) {
          out += cap[0].charAt(0);
          src = cap[0].substring(1) + src;
          continue;
        }
        this.inLink = true;
        out += this.outputLink(cap, link);
        this.inLink = false;
        continue;
      }

      // strong
      if (cap = this.rules.strong.exec(src)) {
        src = src.substring(cap[0].length);
        out += this.renderer.strong(this.output(cap[2] || cap[1]));
        continue;
      }

      // em
      if (cap = this.rules.em.exec(src)) {
        src = src.substring(cap[0].length);
        out += this.renderer.em(this.output(cap[2] || cap[1]));
        continue;
      }

      // code
      if (cap = this.rules.code.exec(src)) {
        src = src.substring(cap[0].length);
        out += this.renderer.codespan(escape(cap[2].trim(), true));
        continue;
      }

      // br
      if (cap = this.rules.br.exec(src)) {
        src = src.substring(cap[0].length);
        out += this.renderer.br();
        continue;
      }

      // del (gfm)
      if (cap = this.rules.del.exec(src)) {
        src = src.substring(cap[0].length);
        out += this.renderer.del(this.output(cap[1]));
        continue;
      }

      // text
      if (cap = this.rules.text.exec(src)) {
        src = src.substring(cap[0].length);
        out += this.renderer.text(escape(this.smartypants(cap[0])));
        continue;
      }
      if (src) {
        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));
      }
    }
    return out;
  };

  /**
   * Compile Link
   */

  InlineLexer.prototype.outputLink = function (cap, link) {
    var href = escape(link.href),
      title = link.title ? escape(link.title) : null;
    return cap[0].charAt(0) !== '!' ? this.renderer.link(href, title, this.output(cap[1])) : this.renderer.image(href, title, escape(cap[1]));
  };

  /**
   * Smartypants Transformations
   */

  InlineLexer.prototype.smartypants = function (text) {
    if (!this.options.smartypants) return text;
    return text
    // em-dashes
    .replace(/---/g, "\u2014")
    // en-dashes
    .replace(/--/g, "\u2013")
    // opening singles
    .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018")
    // closing singles & apostrophes
    .replace(/'/g, "\u2019")
    // opening doubles
    .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C")
    // closing doubles
    .replace(/"/g, "\u201D")
    // ellipses
    .replace(/\.{3}/g, "\u2026");
  };

  /**
   * Mangle Links
   */

  InlineLexer.prototype.mangle = function (text) {
    if (!this.options.mangle) return text;
    var out = '',
      l = text.length,
      i = 0,
      ch;
    for (; i < l; i++) {
      ch = text.charCodeAt(i);
      if (Math.random() > 0.5) {
        ch = 'x' + ch.toString(16);
      }
      out += '&#' + ch + ';';
    }
    return out;
  };

  /**
   * Renderer
   */

  function Renderer(options) {
    this.options = options || {};
  }
  Renderer.prototype.code = function (code, lang, escaped) {
    if (this.options.highlight) {
      var out = this.options.highlight(code, lang);
      if (out != null && out !== code) {
        escaped = true;
        code = out;
      }
    }
    if (!lang) {
      return '<pre><code>' + (escaped ? code : escape(code, true)) + '\n</code></pre>';
    }
    return '<pre><code class="' + this.options.langPrefix + escape(lang, true) + '">' + (escaped ? code : escape(code, true)) + '\n</code></pre>\n';
  };
  Renderer.prototype.blockquote = function (quote) {
    return '<blockquote>\n' + quote + '</blockquote>\n';
  };
  Renderer.prototype.html = function (html) {
    return html;
  };
  Renderer.prototype.heading = function (text, level, raw) {
    return '<h' + level + ' id="' + this.options.headerPrefix + raw.toLowerCase().replace(/[^\w]+/g, '-') + '">' + text + '</h' + level + '>\n';
  };
  Renderer.prototype.hr = function () {
    return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
  };
  Renderer.prototype.list = function (body, ordered, start) {
    var type = ordered ? 'ol' : 'ul',
      startatt = ordered && start !== 1 ? ' start="' + start + '"' : '';
    return '<' + type + startatt + '>\n' + body + '</' + type + '>\n';
  };
  Renderer.prototype.listitem = function (text) {
    return '<li>' + text + '</li>\n';
  };
  Renderer.prototype.paragraph = function (text) {
    return '<p>' + text + '</p>\n';
  };
  Renderer.prototype.table = function (header, body) {
    return '<table>\n' + '<thead>\n' + header + '</thead>\n' + '<tbody>\n' + body + '</tbody>\n' + '</table>\n';
  };
  Renderer.prototype.tablerow = function (content) {
    return '<tr>\n' + content + '</tr>\n';
  };
  Renderer.prototype.tablecell = function (content, flags) {
    var type = flags.header ? 'th' : 'td';
    var tag = flags.align ? '<' + type + ' style="text-align:' + flags.align + '">' : '<' + type + '>';
    return tag + content + '</' + type + '>\n';
  };

  // span level renderer
  Renderer.prototype.strong = function (text) {
    return '<strong>' + text + '</strong>';
  };
  Renderer.prototype.em = function (text) {
    return '<em>' + text + '</em>';
  };
  Renderer.prototype.codespan = function (text) {
    return '<code>' + text + '</code>';
  };
  Renderer.prototype.br = function () {
    return this.options.xhtml ? '<br/>' : '<br>';
  };
  Renderer.prototype.del = function (text) {
    return '<del>' + text + '</del>';
  };
  Renderer.prototype.link = function (href, title, text) {
    if (this.options.sanitize) {
      try {
        var prot = decodeURIComponent(unescape(href)).replace(/[^\w:]/g, '').toLowerCase();
      } catch (e) {
        return text;
      }
      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
        return text;
      }
    }
    if (this.options.baseUrl && !originIndependentUrl.test(href)) {
      href = resolveUrl(this.options.baseUrl, href);
    }
    var out = '<a href="' + href + '"';
    if (title) {
      out += ' title="' + title + '"';
    }
    out += '>' + text + '</a>';
    return out;
  };
  Renderer.prototype.image = function (href, title, text) {
    if (this.options.baseUrl && !originIndependentUrl.test(href)) {
      href = resolveUrl(this.options.baseUrl, href);
    }
    var out = '<img src="' + href + '" alt="' + text + '"';
    if (title) {
      out += ' title="' + title + '"';
    }
    out += this.options.xhtml ? '/>' : '>';
    return out;
  };
  Renderer.prototype.text = function (text) {
    return text;
  };

  /**
   * TextRenderer
   * returns only the textual part of the token
   */

  function TextRenderer() {}

  // no need for block level renderers

  TextRenderer.prototype.strong = TextRenderer.prototype.em = TextRenderer.prototype.codespan = TextRenderer.prototype.del = TextRenderer.prototype.text = function (text) {
    return text;
  };
  TextRenderer.prototype.link = TextRenderer.prototype.image = function (href, title, text) {
    return '' + text;
  };
  TextRenderer.prototype.br = function () {
    return '';
  };

  /**
   * Parsing & Compiling
   */

  function Parser(options) {
    this.tokens = [];
    this.token = null;
    this.options = options || marked.defaults;
    this.options.renderer = this.options.renderer || new Renderer();
    this.renderer = this.options.renderer;
    this.renderer.options = this.options;
  }

  /**
   * Static Parse Method
   */

  Parser.parse = function (src, options) {
    var parser = new Parser(options);
    return parser.parse(src);
  };

  /**
   * Parse Loop
   */

  Parser.prototype.parse = function (src) {
    this.inline = new InlineLexer(src.links, this.options);
    // use an InlineLexer with a TextRenderer to extract pure text
    this.inlineText = new InlineLexer(src.links, merge({}, this.options, {
      renderer: new TextRenderer()
    }));
    this.tokens = src.reverse();
    var out = '';
    while (this.next()) {
      out += this.tok();
    }
    return out;
  };

  /**
   * Next Token
   */

  Parser.prototype.next = function () {
    return this.token = this.tokens.pop();
  };

  /**
   * Preview Next Token
   */

  Parser.prototype.peek = function () {
    return this.tokens[this.tokens.length - 1] || 0;
  };

  /**
   * Parse Text Tokens
   */

  Parser.prototype.parseText = function () {
    var body = this.token.text;
    while (this.peek().type === 'text') {
      body += '\n' + this.next().text;
    }
    return this.inline.output(body);
  };

  /**
   * Parse Current Token
   */

  Parser.prototype.tok = function () {
    switch (this.token.type) {
      case 'space':
        {
          return '';
        }
      case 'hr':
        {
          return this.renderer.hr();
        }
      case 'heading':
        {
          return this.renderer.heading(this.inline.output(this.token.text), this.token.depth, unescape(this.inlineText.output(this.token.text)));
        }
      case 'code':
        {
          return this.renderer.code(this.token.text, this.token.lang, this.token.escaped);
        }
      case 'table':
        {
          var header = '',
            body = '',
            i,
            row,
            cell,
            j;

          // header
          cell = '';
          for (i = 0; i < this.token.header.length; i++) {
            cell += this.renderer.tablecell(this.inline.output(this.token.header[i]), {
              header: true,
              align: this.token.align[i]
            });
          }
          header += this.renderer.tablerow(cell);
          for (i = 0; i < this.token.cells.length; i++) {
            row = this.token.cells[i];
            cell = '';
            for (j = 0; j < row.length; j++) {
              cell += this.renderer.tablecell(this.inline.output(row[j]), {
                header: false,
                align: this.token.align[j]
              });
            }
            body += this.renderer.tablerow(cell);
          }
          return this.renderer.table(header, body);
        }
      case 'blockquote_start':
        {
          body = '';
          while (this.next().type !== 'blockquote_end') {
            body += this.tok();
          }
          return this.renderer.blockquote(body);
        }
      case 'list_start':
        {
          body = '';
          var ordered = this.token.ordered,
            start = this.token.start;
          while (this.next().type !== 'list_end') {
            body += this.tok();
          }
          return this.renderer.list(body, ordered, start);
        }
      case 'list_item_start':
        {
          body = '';
          while (this.next().type !== 'list_item_end') {
            body += this.token.type === 'text' ? this.parseText() : this.tok();
          }
          return this.renderer.listitem(body);
        }
      case 'loose_item_start':
        {
          body = '';
          while (this.next().type !== 'list_item_end') {
            body += this.tok();
          }
          return this.renderer.listitem(body);
        }
      case 'html':
        {
          var html = !this.token.pre && !this.options.pedantic ? this.inline.output(this.token.text) : this.token.text;
          return this.renderer.html(html);
        }
      case 'paragraph':
        {
          return this.renderer.paragraph(this.inline.output(this.token.text));
        }
      case 'text':
        {
          return this.renderer.paragraph(this.parseText());
        }
    }
  };

  /**
   * Helpers
   */

  function escape(html, encode) {
    return html.replace(!encode ? /&(?!#?\w+;)/g : /&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
  }
  function unescape(html) {
    // explicitly match decimal, hex, and named HTML entities
    return html.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig, function (_, n) {
      n = n.toLowerCase();
      if (n === 'colon') return ':';
      if (n.charAt(0) === '#') {
        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
      }
      return '';
    });
  }
  function edit(regex, opt) {
    regex = regex.source;
    opt = opt || '';
    return {
      replace: function replace(name, val) {
        val = val.source || val;
        val = val.replace(/(^|[^\[])\^/g, '$1');
        regex = regex.replace(name, val);
        return this;
      },
      getRegex: function getRegex() {
        return new RegExp(regex, opt);
      }
    };
  }
  function resolveUrl(base, href) {
    if (!baseUrls[' ' + base]) {
      // we can ignore everything in base after the last slash of its path component,
      // but we might need to add _that_
      // https://tools.ietf.org/html/rfc3986#section-3
      if (/^[^:]+:\/*[^/]*$/.test(base)) {
        baseUrls[' ' + base] = base + '/';
      } else {
        baseUrls[' ' + base] = base.replace(/[^/]*$/, '');
      }
    }
    base = baseUrls[' ' + base];
    if (href.slice(0, 2) === '//') {
      return base.replace(/:[\s\S]*/, ':') + href;
    } else if (href.charAt(0) === '/') {
      return base.replace(/(:\/*[^/]*)[\s\S]*/, '$1') + href;
    } else {
      return base + href;
    }
  }
  var baseUrls = {};
  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;
  function noop() {}
  noop.exec = noop;
  function merge(obj) {
    var i = 1,
      target,
      key;
    for (; i < arguments.length; i++) {
      target = arguments[i];
      for (key in target) {
        if (Object.prototype.hasOwnProperty.call(target, key)) {
          obj[key] = target[key];
        }
      }
    }
    return obj;
  }

  /**
   * Marked
   */

  function marked(src, opt, callback) {
    // throw error in case of non string input
    if (typeof src === 'undefined' || src === null) {
      throw new Error('marked(): input parameter is undefined or null');
    }
    if (typeof src !== 'string') {
      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');
    }
    if (callback || typeof opt === 'function') {
      if (!callback) {
        callback = opt;
        opt = null;
      }
      opt = merge({}, marked.defaults, opt || {});
      var highlight = opt.highlight,
        tokens,
        pending,
        i = 0;
      try {
        tokens = Lexer.lex(src, opt);
      } catch (e) {
        return callback(e);
      }
      pending = tokens.length;
      var done = function done(err) {
        if (err) {
          opt.highlight = highlight;
          return callback(err);
        }
        var out;
        try {
          out = Parser.parse(tokens, opt);
        } catch (e) {
          err = e;
        }
        opt.highlight = highlight;
        return err ? callback(err) : callback(null, out);
      };
      if (!highlight || highlight.length < 3) {
        return done();
      }
      delete opt.highlight;
      if (!pending) return done();
      for (; i < tokens.length; i++) {
        (function (token) {
          if (token.type !== 'code') {
            return --pending || done();
          }
          return highlight(token.text, token.lang, function (err, code) {
            if (err) return done(err);
            if (code == null || code === token.text) {
              return --pending || done();
            }
            token.text = code;
            token.escaped = true;
            --pending || done();
          });
        })(tokens[i]);
      }
      return;
    }
    try {
      if (opt) opt = merge({}, marked.defaults, opt);
      return Parser.parse(Lexer.lex(src, opt), opt);
    } catch (e) {
      e.message += '\nPlease report this to https://github.com/markedjs/marked.';
      if ((opt || marked.defaults).silent) {
        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';
      }
      throw e;
    }
  }

  /**
   * Options
   */

  marked.options = marked.setOptions = function (opt) {
    merge(marked.defaults, opt);
    return marked;
  };
  marked.defaults = {
    gfm: true,
    tables: true,
    breaks: false,
    pedantic: false,
    sanitize: false,
    sanitizer: null,
    mangle: true,
    smartLists: false,
    silent: false,
    highlight: null,
    langPrefix: 'lang-',
    smartypants: false,
    headerPrefix: '',
    renderer: new Renderer(),
    xhtml: false,
    baseUrl: null
  };

  /**
   * Expose
   */

  marked.Parser = Parser;
  marked.parser = Parser.parse;
  marked.Renderer = Renderer;
  marked.TextRenderer = TextRenderer;
  marked.Lexer = Lexer;
  marked.lexer = Lexer.lex;
  marked.InlineLexer = InlineLexer;
  marked.inlineLexer = InlineLexer.output;
  marked.parse = marked;
  if (typeof module !== 'undefined' && (typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) === 'object') {
    module.exports = marked;
  } else if (typeof define === 'function' && define.amd) {
    define(function () {
      return marked;
    });
  } else {
    root.marked = marked;
  }
})(void 0 || (typeof window !== 'undefined' ? window : global));
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],229:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _readOnlyError2 = _interopRequireDefault(require("@babel/runtime/helpers/readOnlyError"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
/**
 * marked v15.0.12 - a markdown parser
 * Copyright (c) 2011-2025, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */
(function (g, f) {
  if ((typeof exports === "undefined" ? "undefined" : (0, _typeof2["default"])(exports)) == "object" && (typeof module === "undefined" ? "undefined" : (0, _typeof2["default"])(module)) < "u") {
    module.exports = f();
  } else if ("function" == typeof define && define.amd) {
    define("marked", f);
  } else {
    g["marked"] = f();
  }
})((typeof globalThis === "undefined" ? "undefined" : (0, _typeof2["default"])(globalThis)) < "u" ? globalThis : (typeof self === "undefined" ? "undefined" : (0, _typeof2["default"])(self)) < "u" ? self : void 0, function () {
  var _Class3;
  var exports = {};
  var __exports = exports;
  var module = {
    exports: exports
  };
  "use strict";
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __export = function __export(target, all) {
    for (var name in all) __defProp(target, name, {
      get: all[name],
      enumerable: true
    });
  };
  var __copyProps = function __copyProps(to, from, except, desc) {
    if (from && (0, _typeof2["default"])(from) === "object" || typeof from === "function") {
      var _iterator = _createForOfIteratorHelper(__getOwnPropNames(from)),
        _step;
      try {
        var _loop = function _loop() {
          var key = _step.value;
          if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
            get: function get() {
              return from[key];
            },
            enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
          });
        };
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          _loop();
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
    return to;
  };
  var __toCommonJS = function __toCommonJS(mod) {
    return __copyProps(__defProp({}, "__esModule", {
      value: true
    }), mod);
  };

  // src/marked.ts
  var marked_exports = {};
  __export(marked_exports, {
    Hooks: function Hooks() {
      return _Hooks;
    },
    Lexer: function Lexer() {
      return _Lexer;
    },
    Marked: function Marked() {
      return _Marked;
    },
    Parser: function Parser() {
      return _Parser;
    },
    Renderer: function Renderer() {
      return _Renderer;
    },
    TextRenderer: function TextRenderer() {
      return _TextRenderer;
    },
    Tokenizer: function Tokenizer() {
      return _Tokenizer;
    },
    defaults: function defaults() {
      return _defaults;
    },
    getDefaults: function getDefaults() {
      return _getDefaults;
    },
    lexer: function lexer() {
      return _lexer;
    },
    marked: function marked() {
      return _marked;
    },
    options: function options() {
      return _options;
    },
    parse: function parse() {
      return _parse;
    },
    parseInline: function parseInline() {
      return _parseInline;
    },
    parser: function parser() {
      return _parser;
    },
    setOptions: function setOptions() {
      return _setOptions;
    },
    use: function use() {
      return _use;
    },
    walkTokens: function walkTokens() {
      return _walkTokens;
    }
  });
  module.exports = __toCommonJS(marked_exports);

  // src/defaults.ts
  function _getDefaults() {
    return {
      async: false,
      breaks: false,
      extensions: null,
      gfm: true,
      hooks: null,
      pedantic: false,
      renderer: null,
      silent: false,
      tokenizer: null,
      walkTokens: null
    };
  }
  var _defaults = _getDefaults();
  function changeDefaults(newDefaults) {
    _defaults = newDefaults;
  }

  // src/rules.ts
  var noopTest = {
    exec: function exec() {
      return null;
    }
  };
  function edit(regex) {
    var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var source = typeof regex === "string" ? regex : regex.source;
    var obj = {
      replace: function replace(name, val) {
        var valSource = typeof val === "string" ? val : val.source;
        valSource = valSource.replace(other.caret, "$1");
        source = source.replace(name, valSource);
        return obj;
      },
      getRegex: function getRegex() {
        return new RegExp(source, opt);
      }
    };
    return obj;
  }
  var other = {
    codeRemoveIndent: /^(?: {1,4}| {0,3}\t)/gm,
    outputLinkReplace: /\\([\[\]])/g,
    indentCodeCompensation: /^(\s+)(?:```)/,
    beginningSpace: /^\s+/,
    endingHash: /#$/,
    startingSpaceChar: /^ /,
    endingSpaceChar: / $/,
    nonSpaceChar: /[^ ]/,
    newLineCharGlobal: /\n/g,
    tabCharGlobal: /\t/g,
    multipleSpaceGlobal: /\s+/g,
    blankLine: /^[ \t]*$/,
    doubleBlankLine: /\n[ \t]*\n[ \t]*$/,
    blockquoteStart: /^ {0,3}>/,
    blockquoteSetextReplace: /\n {0,3}((?:=+|-+) *)(?=\n|$)/g,
    blockquoteSetextReplace2: /^ {0,3}>[ \t]?/gm,
    listReplaceTabs: /^\t+/,
    listReplaceNesting: /^ {1,4}(?=( {4})*[^ ])/g,
    listIsTask: /^\[[ xX]\] /,
    listReplaceTask: /^\[[ xX]\] +/,
    anyLine: /\n.*\n/,
    hrefBrackets: /^<(.*)>$/,
    tableDelimiter: /[:|]/,
    tableAlignChars: /^\||\| *$/g,
    tableRowBlankLine: /\n[ \t]*$/,
    tableAlignRight: /^ *-+: *$/,
    tableAlignCenter: /^ *:-+: *$/,
    tableAlignLeft: /^ *:-+ *$/,
    startATag: /^<a /i,
    endATag: /^<\/a>/i,
    startPreScriptTag: /^<(pre|code|kbd|script)(\s|>)/i,
    endPreScriptTag: /^<\/(pre|code|kbd|script)(\s|>)/i,
    startAngleBracket: /^</,
    endAngleBracket: />$/,
    pedanticHrefTitle: /^([^'"]*[^\s])\s+(['"])(.*)\2/,
    unicodeAlphaNumeric: /(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/,
    escapeTest: /[&<>"']/,
    escapeReplace: /[&<>"']/g,
    escapeTestNoEncode: /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,
    escapeReplaceNoEncode: /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,
    unescapeTest: /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,
    caret: /(^|[^\[])\^/g,
    percentDecode: /%25/g,
    findPipe: /\|/g,
    splitPipe: / \|/,
    slashPipe: /\\\|/g,
    carriageReturn: /\r\n|\r/g,
    spaceLine: /^ +$/gm,
    notSpaceStart: /^\S*/,
    endingNewline: /\n$/,
    listItemRegex: function listItemRegex(bull) {
      return new RegExp("^( {0,3}".concat(bull, ")((?:[\t ][^\\n]*)?(?:\\n|$))"));
    },
    nextBulletRegex: function nextBulletRegex(indent) {
      return new RegExp("^ {0,".concat(Math.min(3, indent - 1), "}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))"));
    },
    hrRegex: function hrRegex(indent) {
      return new RegExp("^ {0,".concat(Math.min(3, indent - 1), "}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"));
    },
    fencesBeginRegex: function fencesBeginRegex(indent) {
      return new RegExp("^ {0,".concat(Math.min(3, indent - 1), "}(?:```|~~~)"));
    },
    headingBeginRegex: function headingBeginRegex(indent) {
      return new RegExp("^ {0,".concat(Math.min(3, indent - 1), "}#"));
    },
    htmlBeginRegex: function htmlBeginRegex(indent) {
      return new RegExp("^ {0,".concat(Math.min(3, indent - 1), "}<(?:[a-z].*>|!--)"), "i");
    }
  };
  var newline = /^(?:[ \t]*(?:\n|$))+/;
  var blockCode = /^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/;
  var fences = /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/;
  var hr = /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/;
  var heading = /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/;
  var bullet = /(?:[*+-]|\d{1,9}[.)])/;
  var lheadingCore = /^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/;
  var lheading = edit(lheadingCore).replace(/bull/g, bullet).replace(/blockCode/g, /(?: {4}| {0,3}\t)/).replace(/fences/g, / {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g, / {0,3}>/).replace(/heading/g, / {0,3}#{1,6}/).replace(/html/g, / {0,3}<[^\n>]+>\n/).replace(/\|table/g, "").getRegex();
  var lheadingGfm = edit(lheadingCore).replace(/bull/g, bullet).replace(/blockCode/g, /(?: {4}| {0,3}\t)/).replace(/fences/g, / {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g, / {0,3}>/).replace(/heading/g, / {0,3}#{1,6}/).replace(/html/g, / {0,3}<[^\n>]+>\n/).replace(/table/g, / {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex();
  var _paragraph = /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/;
  var blockText = /^[^\n]+/;
  var _blockLabel = /(?!\s*\])(?:\\.|[^\[\]\\])+/;
  var def = edit(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label", _blockLabel).replace("title", /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex();
  var list = edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g, bullet).getRegex();
  var _tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
  var _comment = /<!--(?:-?>|[\s\S]*?(?:-->|$))/;
  var html = edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))", "i").replace("comment", _comment).replace("tag", _tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
  var paragraph = edit(_paragraph).replace("hr", hr).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("|lheading", "").replace("|table", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", _tag).getRegex();
  var blockquote = edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph", paragraph).getRegex();
  var blockNormal = {
    blockquote: blockquote,
    code: blockCode,
    def: def,
    fences: fences,
    heading: heading,
    hr: hr,
    html: html,
    lheading: lheading,
    list: list,
    newline: newline,
    paragraph: paragraph,
    table: noopTest,
    text: blockText
  };
  var gfmTable = edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr", hr).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("blockquote", " {0,3}>").replace("code", "(?: {4}| {0,3}	)[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", _tag).getRegex();
  var blockGfm = _objectSpread(_objectSpread({}, blockNormal), {}, {
    lheading: lheadingGfm,
    table: gfmTable,
    paragraph: edit(_paragraph).replace("hr", hr).replace("heading", " {0,3}#{1,6}(?:\\s|$)").replace("|lheading", "").replace("table", gfmTable).replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", _tag).getRegex()
  });
  var blockPedantic = _objectSpread(_objectSpread({}, blockNormal), {}, {
    html: edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment", _comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
    def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
    heading: /^(#{1,6})(.*)(?:\n+|$)/,
    fences: noopTest,
    // fences not supported
    lheading: /^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,
    paragraph: edit(_paragraph).replace("hr", hr).replace("heading", " *#{1,6} *[^\n]").replace("lheading", lheading).replace("|table", "").replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").replace("|tag", "").getRegex()
  });
  var escape = /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/;
  var inlineCode = /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/;
  var br = /^( {2,}|\\)\n(?!\s*$)/;
  var inlineText = /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/;
  var _punctuation = /(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBC2\uFD3E-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/;
  var _punctuationOrSpace = /(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBC2\uFD3E-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/;
  var _notPunctuationOrSpace = /(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C1-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2B96\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBC3-\uFD3D\uFD50-\uFDCE\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCFF\uDEB4-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDF77-\uDF7A\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8A-\uDE8E\uDEC7-\uDECD\uDEDD\uDEDE\uDEEA-\uDEEF\uDEF9-\uDEFF\uDF93\uDFF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/;
  var punctuation = edit(/^((?![*_])punctSpace)/, "u").replace(/punctSpace/g, _punctuationOrSpace).getRegex();
  var _punctuationGfmStrongEm = /(?!~)(?:[!-\/:-@\[-`\{-~\xA1-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBC2\uFD3E-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/;
  var _punctuationOrSpaceGfmStrongEm = /(?!~)(?:[\t-\r -\/:-@\[-`\{-~\xA0-\xA9\xAB\xAC\xAE-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u037E\u0384\u0385\u0387\u03F6\u0482\u055A-\u055F\u0589\u058A\u058D-\u058F\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060F\u061B\u061D-\u061F\u066A-\u066D\u06D4\u06DE\u06E9\u06FD\u06FE\u0700-\u070D\u07F6-\u07F9\u07FE\u07FF\u0830-\u083E\u085E\u0888\u0964\u0965\u0970\u09F2\u09F3\u09FA\u09FB\u09FD\u0A76\u0AF0\u0AF1\u0B70\u0BF3-\u0BFA\u0C77\u0C7F\u0C84\u0D4F\u0D79\u0DF4\u0E3F\u0E4F\u0E5A\u0E5B\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F85\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u104A-\u104F\u109E\u109F\u10FB\u1360-\u1368\u1390-\u1399\u1400\u166D\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DB\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200A\u2010-\u2029\u202F-\u205F\u207A-\u207E\u208A-\u208E\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2775\u2794-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAA77-\uAA79\uAADE\uAADF\uAAF0\uAAF1\uAB5B\uAB6A\uAB6B\uABEB\uFB29\uFBB2-\uFBC2\uFD3E-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD00-\uDD02\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDC77\uDC78\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEC8\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDD8E\uDD8F\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3F]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFD5-\uDFF1\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3F\uDF44\uDF45]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F[\uDC9C\uDC9F]|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD838[\uDD4F\uDEFF]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/;
  var _notPunctuationOrSpaceGfmStrongEm = /(?:(?:[\0-\x08\x0E-\x1F0-9A-Za-z\x7F-\x9F\xAA\xAD\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376-\u037D\u037F-\u0383\u0386\u0388-\u03F5\u03F7-\u0481\u0483-\u0559\u0560-\u0588\u058B\u058C\u0590-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7-\u05F2\u05F5-\u0605\u0610-\u061A\u061C\u0620-\u0669\u066E-\u06D3\u06D5-\u06DD\u06DF-\u06E8\u06EA-\u06FC\u06FF\u070E-\u07F5\u07FA-\u07FD\u0800-\u082F\u083F-\u085D\u085F-\u0887\u0889-\u0963\u0966-\u096F\u0971-\u09F1\u09F4-\u09F9\u09FC\u09FE-\u0A75\u0A77-\u0AEF\u0AF2-\u0B6F\u0B71-\u0BF2\u0BFB-\u0C76\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0D4E\u0D50-\u0D78\u0D7A-\u0DF3\u0DF5-\u0E3E\u0E40-\u0E4E\u0E50-\u0E59\u0E5C-\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F84\u0F86-\u0FBD\u0FC6\u0FCD\u0FDB-\u1049\u1050-\u109D\u10A0-\u10FA\u10FC-\u135F\u1369-\u138F\u139A-\u13FF\u1401-\u166C\u166F-\u167F\u1681-\u169A\u169D-\u16EA\u16EE-\u1734\u1737-\u17D3\u17D7\u17DC-\u17FF\u180B-\u193F\u1941-\u1943\u1946-\u19DD\u1A00-\u1A1D\u1A20-\u1A9F\u1AA7\u1AAE-\u1B4D\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BFB\u1C00-\u1C3A\u1C40-\u1C7D\u1C80-\u1CBF\u1CC8-\u1CD2\u1CD4-\u1FBC\u1FBE\u1FC2-\u1FCC\u1FD0-\u1FDC\u1FE0-\u1FEC\u1FF0-\u1FFC\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u2079\u207F-\u2089\u208F-\u209F\u20C1-\u20FF\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u218C-\u218F\u242A-\u243F\u244B-\u249B\u24EA-\u24FF\u2776-\u2793\u2B74\u2B75\u2B96\u2C00-\u2CE4\u2CEB-\u2CF8\u2CFD\u2D00-\u2D6F\u2D71-\u2DFF\u2E2F\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3040-\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u318F\u3192-\u3195\u31A0-\u31BF\u31E6-\u31EE\u31F0-\u31FF\u321F-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48F\uA4C7-\uA4FD\uA500-\uA60C\uA610-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA6F8-\uA6FF\uA717-\uA71F\uA722-\uA788\uA78B-\uA827\uA82C-\uA835\uA83A-\uA873\uA878-\uA8CD\uA8D0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA95E\uA960-\uA9C0\uA9CE-\uA9DD\uA9E0-\uAA5B\uAA60-\uAA76\uAA7A-\uAADD\uAAE0-\uAAEF\uAAF2-\uAB5A\uAB5C-\uAB69\uAB6C-\uABEA\uABEC-\uD7FF\uE000-\uFB28\uFB2A-\uFBB1\uFBC3-\uFD3D\uFD50-\uFDCE\uFDD0-\uFDFB\uFE00-\uFE0F\uFE1A-\uFE2F\uFE53\uFE67\uFE6C-\uFEFE\uFF00\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC00-\uDCFF\uDD03-\uDD36\uDD40-\uDD78\uDD8A\uDD8B\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFD-\uDF9E\uDFA0-\uDFCF\uDFD1-\uDFFF]|\uD801[\uDC00-\uDD6E\uDD70-\uDFFF]|\uD802[\uDC00-\uDC56\uDC58-\uDC76\uDC79-\uDD1E\uDD20-\uDD3E\uDD40-\uDE4F\uDE59-\uDE7E\uDE80-\uDEC7\uDEC9-\uDEEF\uDEF7-\uDF38\uDF40-\uDF98\uDF9D-\uDFFF]|\uD803[\uDC00-\uDD6D\uDD6F-\uDD8D\uDD90-\uDEAC\uDEAE-\uDF54\uDF5A-\uDF85\uDF8A-\uDFFF]|\uD804[\uDC00-\uDC46\uDC4E-\uDCBA\uDCBD\uDCC2-\uDD3F\uDD44-\uDD73\uDD76-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE0-\uDE37\uDE3E-\uDEA8\uDEAA-\uDFD3\uDFD6\uDFD9-\uDFFF]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5C\uDC5E-\uDCC5\uDCC7-\uDDC0\uDDD8-\uDE40\uDE44-\uDE5F\uDE6D-\uDEB8\uDEBA-\uDF3B\uDF40-\uDFFF]|\uD806[\uDC00-\uDC3A\uDC3C-\uDD43\uDD47-\uDDE1\uDDE3-\uDE3E\uDE47-\uDE99\uDE9D\uDEA3-\uDEFF\uDF0A-\uDFE0\uDFE2-\uDFFF]|\uD807[\uDC00-\uDC40\uDC46-\uDC6F\uDC72-\uDEF6\uDEF9-\uDF42\uDF50-\uDFD4\uDFF2-\uDFFE]|[\uD808\uD80A\uD80C-\uD819\uD81C-\uD82E\uD830-\uD832\uD837\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC00-\uDC6F\uDC75-\uDFFF]|\uD80B[\uDC00-\uDFF0\uDFF3-\uDFFF]|\uD81A[\uDC00-\uDE6D\uDE70-\uDEF4\uDEF6-\uDF36\uDF40-\uDF43\uDF46-\uDFFF]|\uD81B[\uDC00-\uDD6C\uDD70-\uDE96\uDE9B-\uDFE1\uDFE3-\uDFFF]|\uD82F[\uDC00-\uDC9B\uDC9D\uDC9E\uDCA0-\uDFFF]|\uD833[\uDCF0-\uDCFF\uDEB4-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDDEB-\uDDFF\uDE42-\uDE44\uDE46-\uDEFF\uDF57-\uDFFF]|\uD835[\uDC00-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE8C-\uDFFF]|\uD838[\uDC00-\uDD4E\uDD50-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDDFE\uDE00-\uDFFF]|\uD83A[\uDC00-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDD2D\uDD2F-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDD0C\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDF77-\uDF7A\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8A-\uDE8E\uDEC7-\uDECD\uDEDD\uDEDE\uDEEA-\uDEEF\uDEF9-\uDEFF\uDF93\uDFF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|~)/;
  var blockSkip = /\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g;
  var emStrongLDelimCore = /^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/;
  var emStrongLDelim = edit(emStrongLDelimCore, "u").replace(/punct/g, _punctuation).getRegex();
  var emStrongLDelimGfm = edit(emStrongLDelimCore, "u").replace(/punct/g, _punctuationGfmStrongEm).getRegex();
  var emStrongRDelimAstCore = "^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)";
  var emStrongRDelimAst = edit(emStrongRDelimAstCore, "gu").replace(/notPunctSpace/g, _notPunctuationOrSpace).replace(/punctSpace/g, _punctuationOrSpace).replace(/punct/g, _punctuation).getRegex();
  var emStrongRDelimAstGfm = edit(emStrongRDelimAstCore, "gu").replace(/notPunctSpace/g, _notPunctuationOrSpaceGfmStrongEm).replace(/punctSpace/g, _punctuationOrSpaceGfmStrongEm).replace(/punct/g, _punctuationGfmStrongEm).getRegex();
  var emStrongRDelimUnd = edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)", "gu").replace(/notPunctSpace/g, _notPunctuationOrSpace).replace(/punctSpace/g, _punctuationOrSpace).replace(/punct/g, _punctuation).getRegex();
  var anyPunctuation = edit(/\\(punct)/, "gu").replace(/punct/g, _punctuation).getRegex();
  var autolink = edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme", /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email", /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex();
  var _inlineComment = edit(_comment).replace("(?:-->|$)", "-->").getRegex();
  var tag = edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment", _inlineComment).replace("attribute", /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex();
  var _inlineLabel = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
  var link = edit(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label", _inlineLabel).replace("href", /<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title", /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex();
  var reflink = edit(/^!?\[(label)\]\[(ref)\]/).replace("label", _inlineLabel).replace("ref", _blockLabel).getRegex();
  var nolink = edit(/^!?\[(ref)\](?:\[\])?/).replace("ref", _blockLabel).getRegex();
  var reflinkSearch = edit("reflink|nolink(?!\\()", "g").replace("reflink", reflink).replace("nolink", nolink).getRegex();
  var inlineNormal = {
    _backpedal: noopTest,
    // only used for GFM url
    anyPunctuation: anyPunctuation,
    autolink: autolink,
    blockSkip: blockSkip,
    br: br,
    code: inlineCode,
    del: noopTest,
    emStrongLDelim: emStrongLDelim,
    emStrongRDelimAst: emStrongRDelimAst,
    emStrongRDelimUnd: emStrongRDelimUnd,
    escape: escape,
    link: link,
    nolink: nolink,
    punctuation: punctuation,
    reflink: reflink,
    reflinkSearch: reflinkSearch,
    tag: tag,
    text: inlineText,
    url: noopTest
  };
  var inlinePedantic = _objectSpread(_objectSpread({}, inlineNormal), {}, {
    link: edit(/^!?\[(label)\]\((.*?)\)/).replace("label", _inlineLabel).getRegex(),
    reflink: edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", _inlineLabel).getRegex()
  });
  var inlineGfm = _objectSpread(_objectSpread({}, inlineNormal), {}, {
    emStrongRDelimAst: emStrongRDelimAstGfm,
    emStrongLDelim: emStrongLDelimGfm,
    url: edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/, "i").replace("email", /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),
    _backpedal: /(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,
    del: /^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,
    text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
  });
  var inlineBreaks = _objectSpread(_objectSpread({}, inlineGfm), {}, {
    br: edit(br).replace("{2,}", "*").getRegex(),
    text: edit(inlineGfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex()
  });
  var block = {
    normal: blockNormal,
    gfm: blockGfm,
    pedantic: blockPedantic
  };
  var inline = {
    normal: inlineNormal,
    gfm: inlineGfm,
    breaks: inlineBreaks,
    pedantic: inlinePedantic
  };

  // src/helpers.ts
  var escapeReplacements = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#39;"
  };
  var getEscapeReplacement = function getEscapeReplacement(ch) {
    return escapeReplacements[ch];
  };
  function escape2(html2, encode) {
    if (encode) {
      if (other.escapeTest.test(html2)) {
        return html2.replace(other.escapeReplace, getEscapeReplacement);
      }
    } else {
      if (other.escapeTestNoEncode.test(html2)) {
        return html2.replace(other.escapeReplaceNoEncode, getEscapeReplacement);
      }
    }
    return html2;
  }
  function cleanUrl(href) {
    try {
      href = encodeURI(href).replace(other.percentDecode, "%");
    } catch (_unused) {
      return null;
    }
    return href;
  }
  function splitCells(tableRow, count) {
    var _cells$at;
    var row = tableRow.replace(other.findPipe, function (match, offset, str) {
        var escaped = false;
        var curr = offset;
        while (--curr >= 0 && str[curr] === "\\") escaped = !escaped;
        if (escaped) {
          return "|";
        } else {
          return " |";
        }
      }),
      cells = row.split(other.splitPipe);
    var i = 0;
    if (!cells[0].trim()) {
      cells.shift();
    }
    if (cells.length > 0 && !((_cells$at = cells.at(-1)) !== null && _cells$at !== void 0 && _cells$at.trim())) {
      cells.pop();
    }
    if (count) {
      if (cells.length > count) {
        cells.splice(count);
      } else {
        while (cells.length < count) cells.push("");
      }
    }
    for (; i < cells.length; i++) {
      cells[i] = cells[i].trim().replace(other.slashPipe, "|");
    }
    return cells;
  }
  function rtrim(str, c, invert) {
    var l = str.length;
    if (l === 0) {
      return "";
    }
    var suffLen = 0;
    while (suffLen < l) {
      var currChar = str.charAt(l - suffLen - 1);
      if (currChar === c && !invert) {
        suffLen++;
      } else if (currChar !== c && invert) {
        suffLen++;
      } else {
        break;
      }
    }
    return str.slice(0, l - suffLen);
  }
  function findClosingBracket(str, b) {
    if (str.indexOf(b[1]) === -1) {
      return -1;
    }
    var level = 0;
    for (var i = 0; i < str.length; i++) {
      if (str[i] === "\\") {
        i++;
      } else if (str[i] === b[0]) {
        level++;
      } else if (str[i] === b[1]) {
        level--;
        if (level < 0) {
          return i;
        }
      }
    }
    if (level > 0) {
      return -2;
    }
    return -1;
  }

  // src/Tokenizer.ts
  function outputLink(cap, link2, raw, lexer2, rules) {
    var href = link2.href;
    var title = link2.title || null;
    var text = cap[1].replace(rules.other.outputLinkReplace, "$1");
    lexer2.state.inLink = true;
    var token = {
      type: cap[0].charAt(0) === "!" ? "image" : "link",
      raw: raw,
      href: href,
      title: title,
      text: text,
      tokens: lexer2.inlineTokens(text)
    };
    lexer2.state.inLink = false;
    return token;
  }
  function indentCodeCompensation(raw, text, rules) {
    var matchIndentToCode = raw.match(rules.other.indentCodeCompensation);
    if (matchIndentToCode === null) {
      return text;
    }
    var indentToCode = matchIndentToCode[1];
    return text.split("\n").map(function (node) {
      var matchIndentInNode = node.match(rules.other.beginningSpace);
      if (matchIndentInNode === null) {
        return node;
      }
      var _matchIndentInNode = (0, _slicedToArray2["default"])(matchIndentInNode, 1),
        indentInNode = _matchIndentInNode[0];
      if (indentInNode.length >= indentToCode.length) {
        return node.slice(indentToCode.length);
      }
      return node;
    }).join("\n");
  }
  var _Tokenizer = /*#__PURE__*/function () {
    // set by the lexer
    function _Tokenizer(options2) {
      (0, _classCallCheck2["default"])(this, _Tokenizer);
      (0, _defineProperty2["default"])(this, "options", void 0);
      (0, _defineProperty2["default"])(this, "rules", void 0);
      // set by the lexer
      (0, _defineProperty2["default"])(this, "lexer", void 0);
      this.options = options2 || _defaults;
    }
    return (0, _createClass2["default"])(_Tokenizer, [{
      key: "space",
      value: function space(src) {
        var cap = this.rules.block.newline.exec(src);
        if (cap && cap[0].length > 0) {
          return {
            type: "space",
            raw: cap[0]
          };
        }
      }
    }, {
      key: "code",
      value: function code(src) {
        var cap = this.rules.block.code.exec(src);
        if (cap) {
          var text = cap[0].replace(this.rules.other.codeRemoveIndent, "");
          return {
            type: "code",
            raw: cap[0],
            codeBlockStyle: "indented",
            text: !this.options.pedantic ? rtrim(text, "\n") : text
          };
        }
      }
    }, {
      key: "fences",
      value: function fences(src) {
        var cap = this.rules.block.fences.exec(src);
        if (cap) {
          var raw = cap[0];
          var text = indentCodeCompensation(raw, cap[3] || "", this.rules);
          return {
            type: "code",
            raw: raw,
            lang: cap[2] ? cap[2].trim().replace(this.rules.inline.anyPunctuation, "$1") : cap[2],
            text: text
          };
        }
      }
    }, {
      key: "heading",
      value: function heading(src) {
        var cap = this.rules.block.heading.exec(src);
        if (cap) {
          var text = cap[2].trim();
          if (this.rules.other.endingHash.test(text)) {
            var trimmed = rtrim(text, "#");
            if (this.options.pedantic) {
              text = trimmed.trim();
            } else if (!trimmed || this.rules.other.endingSpaceChar.test(trimmed)) {
              text = trimmed.trim();
            }
          }
          return {
            type: "heading",
            raw: cap[0],
            depth: cap[1].length,
            text: text,
            tokens: this.lexer.inline(text)
          };
        }
      }
    }, {
      key: "hr",
      value: function hr(src) {
        var cap = this.rules.block.hr.exec(src);
        if (cap) {
          return {
            type: "hr",
            raw: rtrim(cap[0], "\n")
          };
        }
      }
    }, {
      key: "blockquote",
      value: function blockquote(src) {
        var cap = this.rules.block.blockquote.exec(src);
        if (cap) {
          var lines = rtrim(cap[0], "\n").split("\n");
          var raw = "";
          var text = "";
          var tokens = [];
          while (lines.length > 0) {
            var inBlockquote = false;
            var currentLines = [];
            var i = void 0;
            for (i = 0; i < lines.length; i++) {
              if (this.rules.other.blockquoteStart.test(lines[i])) {
                currentLines.push(lines[i]);
                inBlockquote = true;
              } else if (!inBlockquote) {
                currentLines.push(lines[i]);
              } else {
                break;
              }
            }
            lines = lines.slice(i);
            var currentRaw = currentLines.join("\n");
            var currentText = currentRaw.replace(this.rules.other.blockquoteSetextReplace, "\n    $1").replace(this.rules.other.blockquoteSetextReplace2, "");
            raw = raw ? "".concat(raw, "\n").concat(currentRaw) : currentRaw;
            text = text ? "".concat(text, "\n").concat(currentText) : currentText;
            var top = this.lexer.state.top;
            this.lexer.state.top = true;
            this.lexer.blockTokens(currentText, tokens, true);
            this.lexer.state.top = top;
            if (lines.length === 0) {
              break;
            }
            var lastToken = tokens.at(-1);
            if ((lastToken === null || lastToken === void 0 ? void 0 : lastToken.type) === "code") {
              break;
            } else if ((lastToken === null || lastToken === void 0 ? void 0 : lastToken.type) === "blockquote") {
              var oldToken = lastToken;
              var newText = oldToken.raw + "\n" + lines.join("\n");
              var newToken = this.blockquote(newText);
              tokens[tokens.length - 1] = newToken;
              raw = raw.substring(0, raw.length - oldToken.raw.length) + newToken.raw;
              text = text.substring(0, text.length - oldToken.text.length) + newToken.text;
              break;
            } else if ((lastToken === null || lastToken === void 0 ? void 0 : lastToken.type) === "list") {
              var _oldToken = lastToken;
              var _newText = _oldToken.raw + "\n" + lines.join("\n");
              var _newToken = this.list(_newText);
              tokens[tokens.length - 1] = _newToken;
              raw = raw.substring(0, raw.length - lastToken.raw.length) + _newToken.raw;
              text = text.substring(0, text.length - _oldToken.raw.length) + _newToken.raw;
              lines = _newText.substring(tokens.at(-1).raw.length).split("\n");
              continue;
            }
          }
          return {
            type: "blockquote",
            raw: raw,
            tokens: tokens,
            text: text
          };
        }
      }
    }, {
      key: "list",
      value: function list(src) {
        var _this = this;
        var cap = this.rules.block.list.exec(src);
        if (cap) {
          var bull = cap[1].trim();
          var isordered = bull.length > 1;
          var list2 = {
            type: "list",
            raw: "",
            ordered: isordered,
            start: isordered ? +bull.slice(0, -1) : "",
            loose: false,
            items: []
          };
          bull = isordered ? "\\d{1,9}\\".concat(bull.slice(-1)) : "\\".concat(bull);
          if (this.options.pedantic) {
            bull = isordered ? bull : "[*+-]";
          }
          var itemRegex = this.rules.other.listItemRegex(bull);
          var endsWithBlankLine = false;
          while (src) {
            var endEarly = false;
            var raw = "";
            var itemContents = "";
            if (!(cap = itemRegex.exec(src))) {
              break;
            }
            if (this.rules.block.hr.test(src)) {
              break;
            }
            raw = cap[0];
            src = src.substring(raw.length);
            var line = cap[2].split("\n", 1)[0].replace(this.rules.other.listReplaceTabs, function (t) {
              return " ".repeat(3 * t.length);
            });
            var nextLine = src.split("\n", 1)[0];
            var blankLine = !line.trim();
            var indent = 0;
            if (this.options.pedantic) {
              indent = 2;
              itemContents = line.trimStart();
            } else if (blankLine) {
              indent = cap[1].length + 1;
            } else {
              indent = cap[2].search(this.rules.other.nonSpaceChar);
              indent = indent > 4 ? 1 : indent;
              itemContents = line.slice(indent);
              indent += cap[1].length;
            }
            if (blankLine && this.rules.other.blankLine.test(nextLine)) {
              raw += nextLine + "\n";
              src = src.substring(nextLine.length + 1);
              endEarly = true;
            }
            if (!endEarly) {
              var nextBulletRegex = this.rules.other.nextBulletRegex(indent);
              var hrRegex = this.rules.other.hrRegex(indent);
              var fencesBeginRegex = this.rules.other.fencesBeginRegex(indent);
              var headingBeginRegex = this.rules.other.headingBeginRegex(indent);
              var htmlBeginRegex = this.rules.other.htmlBeginRegex(indent);
              while (src) {
                var rawLine = src.split("\n", 1)[0];
                var nextLineWithoutTabs = void 0;
                nextLine = rawLine;
                if (this.options.pedantic) {
                  nextLine = nextLine.replace(this.rules.other.listReplaceNesting, "  ");
                  nextLineWithoutTabs = nextLine;
                } else {
                  nextLineWithoutTabs = nextLine.replace(this.rules.other.tabCharGlobal, "    ");
                }
                if (fencesBeginRegex.test(nextLine)) {
                  break;
                }
                if (headingBeginRegex.test(nextLine)) {
                  break;
                }
                if (htmlBeginRegex.test(nextLine)) {
                  break;
                }
                if (nextBulletRegex.test(nextLine)) {
                  break;
                }
                if (hrRegex.test(nextLine)) {
                  break;
                }
                if (nextLineWithoutTabs.search(this.rules.other.nonSpaceChar) >= indent || !nextLine.trim()) {
                  itemContents += "\n" + nextLineWithoutTabs.slice(indent);
                } else {
                  if (blankLine) {
                    break;
                  }
                  if (line.replace(this.rules.other.tabCharGlobal, "    ").search(this.rules.other.nonSpaceChar) >= 4) {
                    break;
                  }
                  if (fencesBeginRegex.test(line)) {
                    break;
                  }
                  if (headingBeginRegex.test(line)) {
                    break;
                  }
                  if (hrRegex.test(line)) {
                    break;
                  }
                  itemContents += "\n" + nextLine;
                }
                if (!blankLine && !nextLine.trim()) {
                  blankLine = true;
                }
                raw += rawLine + "\n";
                src = src.substring(rawLine.length + 1);
                line = nextLineWithoutTabs.slice(indent);
              }
            }
            if (!list2.loose) {
              if (endsWithBlankLine) {
                list2.loose = true;
              } else if (this.rules.other.doubleBlankLine.test(raw)) {
                endsWithBlankLine = true;
              }
            }
            var istask = null;
            var ischecked = void 0;
            if (this.options.gfm) {
              istask = this.rules.other.listIsTask.exec(itemContents);
              if (istask) {
                ischecked = istask[0] !== "[ ] ";
                itemContents = itemContents.replace(this.rules.other.listReplaceTask, "");
              }
            }
            list2.items.push({
              type: "list_item",
              raw: raw,
              task: !!istask,
              checked: ischecked,
              loose: false,
              text: itemContents,
              tokens: []
            });
            list2.raw += raw;
          }
          var lastItem = list2.items.at(-1);
          if (lastItem) {
            lastItem.raw = lastItem.raw.trimEnd();
            lastItem.text = lastItem.text.trimEnd();
          } else {
            return;
          }
          list2.raw = list2.raw.trimEnd();
          for (var i = 0; i < list2.items.length; i++) {
            this.lexer.state.top = false;
            list2.items[i].tokens = this.lexer.blockTokens(list2.items[i].text, []);
            if (!list2.loose) {
              var spacers = list2.items[i].tokens.filter(function (t) {
                return t.type === "space";
              });
              var hasMultipleLineBreaks = spacers.length > 0 && spacers.some(function (t) {
                return _this.rules.other.anyLine.test(t.raw);
              });
              list2.loose = hasMultipleLineBreaks;
            }
          }
          if (list2.loose) {
            for (var _i = 0; _i < list2.items.length; _i++) {
              list2.items[_i].loose = true;
            }
          }
          return list2;
        }
      }
    }, {
      key: "html",
      value: function html(src) {
        var cap = this.rules.block.html.exec(src);
        if (cap) {
          var token = {
            type: "html",
            block: true,
            raw: cap[0],
            pre: cap[1] === "pre" || cap[1] === "script" || cap[1] === "style",
            text: cap[0]
          };
          return token;
        }
      }
    }, {
      key: "def",
      value: function def(src) {
        var cap = this.rules.block.def.exec(src);
        if (cap) {
          var tag2 = cap[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal, " ");
          var href = cap[2] ? cap[2].replace(this.rules.other.hrefBrackets, "$1").replace(this.rules.inline.anyPunctuation, "$1") : "";
          var title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline.anyPunctuation, "$1") : cap[3];
          return {
            type: "def",
            tag: tag2,
            raw: cap[0],
            href: href,
            title: title
          };
        }
      }
    }, {
      key: "table",
      value: function table(src) {
        var _cap$,
          _this2 = this;
        var cap = this.rules.block.table.exec(src);
        if (!cap) {
          return;
        }
        if (!this.rules.other.tableDelimiter.test(cap[2])) {
          return;
        }
        var headers = splitCells(cap[1]);
        var aligns = cap[2].replace(this.rules.other.tableAlignChars, "").split("|");
        var rows = (_cap$ = cap[3]) !== null && _cap$ !== void 0 && _cap$.trim() ? cap[3].replace(this.rules.other.tableRowBlankLine, "").split("\n") : [];
        var item = {
          type: "table",
          raw: cap[0],
          header: [],
          align: [],
          rows: []
        };
        if (headers.length !== aligns.length) {
          return;
        }
        var _iterator2 = _createForOfIteratorHelper(aligns),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var align = _step2.value;
            if (this.rules.other.tableAlignRight.test(align)) {
              item.align.push("right");
            } else if (this.rules.other.tableAlignCenter.test(align)) {
              item.align.push("center");
            } else if (this.rules.other.tableAlignLeft.test(align)) {
              item.align.push("left");
            } else {
              item.align.push(null);
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
        for (var i = 0; i < headers.length; i++) {
          item.header.push({
            text: headers[i],
            tokens: this.lexer.inline(headers[i]),
            header: true,
            align: item.align[i]
          });
        }
        var _iterator3 = _createForOfIteratorHelper(rows),
          _step3;
        try {
          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
            var row = _step3.value;
            item.rows.push(splitCells(row, item.header.length).map(function (cell, i) {
              return {
                text: cell,
                tokens: _this2.lexer.inline(cell),
                header: false,
                align: item.align[i]
              };
            }));
          }
        } catch (err) {
          _iterator3.e(err);
        } finally {
          _iterator3.f();
        }
        return item;
      }
    }, {
      key: "lheading",
      value: function lheading(src) {
        var cap = this.rules.block.lheading.exec(src);
        if (cap) {
          return {
            type: "heading",
            raw: cap[0],
            depth: cap[2].charAt(0) === "=" ? 1 : 2,
            text: cap[1],
            tokens: this.lexer.inline(cap[1])
          };
        }
      }
    }, {
      key: "paragraph",
      value: function paragraph(src) {
        var cap = this.rules.block.paragraph.exec(src);
        if (cap) {
          var text = cap[1].charAt(cap[1].length - 1) === "\n" ? cap[1].slice(0, -1) : cap[1];
          return {
            type: "paragraph",
            raw: cap[0],
            text: text,
            tokens: this.lexer.inline(text)
          };
        }
      }
    }, {
      key: "text",
      value: function text(src) {
        var cap = this.rules.block.text.exec(src);
        if (cap) {
          return {
            type: "text",
            raw: cap[0],
            text: cap[0],
            tokens: this.lexer.inline(cap[0])
          };
        }
      }
    }, {
      key: "escape",
      value: function escape(src) {
        var cap = this.rules.inline.escape.exec(src);
        if (cap) {
          return {
            type: "escape",
            raw: cap[0],
            text: cap[1]
          };
        }
      }
    }, {
      key: "tag",
      value: function tag(src) {
        var cap = this.rules.inline.tag.exec(src);
        if (cap) {
          if (!this.lexer.state.inLink && this.rules.other.startATag.test(cap[0])) {
            this.lexer.state.inLink = true;
          } else if (this.lexer.state.inLink && this.rules.other.endATag.test(cap[0])) {
            this.lexer.state.inLink = false;
          }
          if (!this.lexer.state.inRawBlock && this.rules.other.startPreScriptTag.test(cap[0])) {
            this.lexer.state.inRawBlock = true;
          } else if (this.lexer.state.inRawBlock && this.rules.other.endPreScriptTag.test(cap[0])) {
            this.lexer.state.inRawBlock = false;
          }
          return {
            type: "html",
            raw: cap[0],
            inLink: this.lexer.state.inLink,
            inRawBlock: this.lexer.state.inRawBlock,
            block: false,
            text: cap[0]
          };
        }
      }
    }, {
      key: "link",
      value: function link(src) {
        var cap = this.rules.inline.link.exec(src);
        if (cap) {
          var trimmedUrl = cap[2].trim();
          if (!this.options.pedantic && this.rules.other.startAngleBracket.test(trimmedUrl)) {
            if (!this.rules.other.endAngleBracket.test(trimmedUrl)) {
              return;
            }
            var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), "\\");
            if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {
              return;
            }
          } else {
            var lastParenIndex = findClosingBracket(cap[2], "()");
            if (lastParenIndex === -2) {
              return;
            }
            if (lastParenIndex > -1) {
              var start = cap[0].indexOf("!") === 0 ? 5 : 4;
              var linkLen = start + cap[1].length + lastParenIndex;
              cap[2] = cap[2].substring(0, lastParenIndex);
              cap[0] = cap[0].substring(0, linkLen).trim();
              cap[3] = "";
            }
          }
          var href = cap[2];
          var title = "";
          if (this.options.pedantic) {
            var link2 = this.rules.other.pedanticHrefTitle.exec(href);
            if (link2) {
              href = link2[1];
              title = link2[3];
            }
          } else {
            title = cap[3] ? cap[3].slice(1, -1) : "";
          }
          href = href.trim();
          if (this.rules.other.startAngleBracket.test(href)) {
            if (this.options.pedantic && !this.rules.other.endAngleBracket.test(trimmedUrl)) {
              href = href.slice(1);
            } else {
              href = href.slice(1, -1);
            }
          }
          return outputLink(cap, {
            href: href ? href.replace(this.rules.inline.anyPunctuation, "$1") : href,
            title: title ? title.replace(this.rules.inline.anyPunctuation, "$1") : title
          }, cap[0], this.lexer, this.rules);
        }
      }
    }, {
      key: "reflink",
      value: function reflink(src, links) {
        var cap;
        if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
          var linkString = (cap[2] || cap[1]).replace(this.rules.other.multipleSpaceGlobal, " ");
          var link2 = links[linkString.toLowerCase()];
          if (!link2) {
            var text = cap[0].charAt(0);
            return {
              type: "text",
              raw: text,
              text: text
            };
          }
          return outputLink(cap, link2, cap[0], this.lexer, this.rules);
        }
      }
    }, {
      key: "emStrong",
      value: function emStrong(src, maskedSrc) {
        var prevChar = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "";
        var match = this.rules.inline.emStrongLDelim.exec(src);
        if (!match) return;
        if (match[3] && prevChar.match(this.rules.other.unicodeAlphaNumeric)) return;
        var nextChar = match[1] || match[2] || "";
        if (!nextChar || !prevChar || this.rules.inline.punctuation.exec(prevChar)) {
          var lLength = (0, _toConsumableArray2["default"])(match[0]).length - 1;
          var rDelim,
            rLength,
            delimTotal = lLength,
            midDelimTotal = 0;
          var endReg = match[0][0] === "*" ? this.rules.inline.emStrongRDelimAst : this.rules.inline.emStrongRDelimUnd;
          endReg.lastIndex = 0;
          maskedSrc = maskedSrc.slice(-1 * src.length + lLength);
          while ((match = endReg.exec(maskedSrc)) != null) {
            rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];
            if (!rDelim) continue;
            rLength = (0, _toConsumableArray2["default"])(rDelim).length;
            if (match[3] || match[4]) {
              delimTotal += rLength;
              continue;
            } else if (match[5] || match[6]) {
              if (lLength % 3 && !((lLength + rLength) % 3)) {
                midDelimTotal += rLength;
                continue;
              }
            }
            delimTotal -= rLength;
            if (delimTotal > 0) continue;
            rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);
            var lastCharLength = (0, _toConsumableArray2["default"])(match[0])[0].length;
            var raw = src.slice(0, lLength + match.index + lastCharLength + rLength);
            if (Math.min(lLength, rLength) % 2) {
              var text2 = raw.slice(1, -1);
              return {
                type: "em",
                raw: raw,
                text: text2,
                tokens: this.lexer.inlineTokens(text2)
              };
            }
            var text = raw.slice(2, -2);
            return {
              type: "strong",
              raw: raw,
              text: text,
              tokens: this.lexer.inlineTokens(text)
            };
          }
        }
      }
    }, {
      key: "codespan",
      value: function codespan(src) {
        var cap = this.rules.inline.code.exec(src);
        if (cap) {
          var text = cap[2].replace(this.rules.other.newLineCharGlobal, " ");
          var hasNonSpaceChars = this.rules.other.nonSpaceChar.test(text);
          var hasSpaceCharsOnBothEnds = this.rules.other.startingSpaceChar.test(text) && this.rules.other.endingSpaceChar.test(text);
          if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
            text = text.substring(1, text.length - 1);
          }
          return {
            type: "codespan",
            raw: cap[0],
            text: text
          };
        }
      }
    }, {
      key: "br",
      value: function br(src) {
        var cap = this.rules.inline.br.exec(src);
        if (cap) {
          return {
            type: "br",
            raw: cap[0]
          };
        }
      }
    }, {
      key: "del",
      value: function del(src) {
        var cap = this.rules.inline.del.exec(src);
        if (cap) {
          return {
            type: "del",
            raw: cap[0],
            text: cap[2],
            tokens: this.lexer.inlineTokens(cap[2])
          };
        }
      }
    }, {
      key: "autolink",
      value: function autolink(src) {
        var cap = this.rules.inline.autolink.exec(src);
        if (cap) {
          var text, href;
          if (cap[2] === "@") {
            text = cap[1];
            href = "mailto:" + text;
          } else {
            text = cap[1];
            href = text;
          }
          return {
            type: "link",
            raw: cap[0],
            text: text,
            href: href,
            tokens: [{
              type: "text",
              raw: text,
              text: text
            }]
          };
        }
      }
    }, {
      key: "url",
      value: function url(src) {
        var cap;
        if (cap = this.rules.inline.url.exec(src)) {
          var text, href;
          if (cap[2] === "@") {
            text = cap[0];
            href = "mailto:" + text;
          } else {
            var prevCapZero;
            do {
              var _this$rules$inline$_b, _this$rules$inline$_b2;
              prevCapZero = cap[0];
              cap[0] = (_this$rules$inline$_b = (_this$rules$inline$_b2 = this.rules.inline._backpedal.exec(cap[0])) === null || _this$rules$inline$_b2 === void 0 ? void 0 : _this$rules$inline$_b2[0]) !== null && _this$rules$inline$_b !== void 0 ? _this$rules$inline$_b : "";
            } while (prevCapZero !== cap[0]);
            text = cap[0];
            if (cap[1] === "www.") {
              href = "http://" + cap[0];
            } else {
              href = cap[0];
            }
          }
          return {
            type: "link",
            raw: cap[0],
            text: text,
            href: href,
            tokens: [{
              type: "text",
              raw: text,
              text: text
            }]
          };
        }
      }
    }, {
      key: "inlineText",
      value: function inlineText(src) {
        var cap = this.rules.inline.text.exec(src);
        if (cap) {
          var escaped = this.lexer.state.inRawBlock;
          return {
            type: "text",
            raw: cap[0],
            text: cap[0],
            escaped: escaped
          };
        }
      }
    }]);
  }();

  // src/Lexer.ts
  var _Lexer = /*#__PURE__*/function () {
    function __Lexer(options2) {
      (0, _classCallCheck2["default"])(this, __Lexer);
      (0, _defineProperty2["default"])(this, "tokens", void 0);
      (0, _defineProperty2["default"])(this, "options", void 0);
      (0, _defineProperty2["default"])(this, "state", void 0);
      (0, _defineProperty2["default"])(this, "tokenizer", void 0);
      (0, _defineProperty2["default"])(this, "inlineQueue", void 0);
      this.tokens = [];
      this.tokens.links = /* @__PURE__ */Object.create(null);
      this.options = options2 || _defaults;
      this.options.tokenizer = this.options.tokenizer || new _Tokenizer();
      this.tokenizer = this.options.tokenizer;
      this.tokenizer.options = this.options;
      this.tokenizer.lexer = this;
      this.inlineQueue = [];
      this.state = {
        inLink: false,
        inRawBlock: false,
        top: true
      };
      var rules = {
        other: other,
        block: block.normal,
        inline: inline.normal
      };
      if (this.options.pedantic) {
        rules.block = block.pedantic;
        rules.inline = inline.pedantic;
      } else if (this.options.gfm) {
        rules.block = block.gfm;
        if (this.options.breaks) {
          rules.inline = inline.breaks;
        } else {
          rules.inline = inline.gfm;
        }
      }
      this.tokenizer.rules = rules;
    }
    /**
     * Expose Rules
     */
    return (0, _createClass2["default"])(__Lexer, [{
      key: "lex",
      value:
      /**
       * Preprocessing
       */
      function lex(src) {
        src = src.replace(other.carriageReturn, "\n");
        this.blockTokens(src, this.tokens);
        for (var i = 0; i < this.inlineQueue.length; i++) {
          var next = this.inlineQueue[i];
          this.inlineTokens(next.src, next.tokens);
        }
        this.inlineQueue = [];
        return this.tokens;
      }
    }, {
      key: "blockTokens",
      value: function blockTokens(src) {
        var _this3 = this;
        var tokens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var lastParagraphClipped = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
        if (this.options.pedantic) {
          src = src.replace(other.tabCharGlobal, "    ").replace(other.spaceLine, "");
        }
        var _loop2 = function _loop2() {
            var _this3$options$extens, _this3$options$extens2;
            var token;
            if ((_this3$options$extens = _this3.options.extensions) !== null && _this3$options$extens !== void 0 && (_this3$options$extens = _this3$options$extens.block) !== null && _this3$options$extens !== void 0 && _this3$options$extens.some(function (extTokenizer) {
              if (token = extTokenizer.call({
                lexer: _this3
              }, src, tokens)) {
                src = src.substring(token.raw.length);
                tokens.push(token);
                return true;
              }
              return false;
            })) {
              return 0; // continue
            }
            if (token = _this3.tokenizer.space(src)) {
              src = src.substring(token.raw.length);
              var lastToken = tokens.at(-1);
              if (token.raw.length === 1 && lastToken !== void 0) {
                lastToken.raw += "\n";
              } else {
                tokens.push(token);
              }
              return 0; // continue
            }
            if (token = _this3.tokenizer.code(src)) {
              src = src.substring(token.raw.length);
              var _lastToken = tokens.at(-1);
              if ((_lastToken === null || _lastToken === void 0 ? void 0 : _lastToken.type) === "paragraph" || (_lastToken === null || _lastToken === void 0 ? void 0 : _lastToken.type) === "text") {
                _lastToken.raw += "\n" + token.raw;
                _lastToken.text += "\n" + token.text;
                _this3.inlineQueue.at(-1).src = _lastToken.text;
              } else {
                tokens.push(token);
              }
              return 0; // continue
            }
            if (token = _this3.tokenizer.fences(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this3.tokenizer.heading(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this3.tokenizer.hr(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this3.tokenizer.blockquote(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this3.tokenizer.list(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this3.tokenizer.html(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this3.tokenizer.def(src)) {
              src = src.substring(token.raw.length);
              var _lastToken2 = tokens.at(-1);
              if ((_lastToken2 === null || _lastToken2 === void 0 ? void 0 : _lastToken2.type) === "paragraph" || (_lastToken2 === null || _lastToken2 === void 0 ? void 0 : _lastToken2.type) === "text") {
                _lastToken2.raw += "\n" + token.raw;
                _lastToken2.text += "\n" + token.raw;
                _this3.inlineQueue.at(-1).src = _lastToken2.text;
              } else if (!_this3.tokens.links[token.tag]) {
                _this3.tokens.links[token.tag] = {
                  href: token.href,
                  title: token.title
                };
              }
              return 0; // continue
            }
            if (token = _this3.tokenizer.table(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this3.tokenizer.lheading(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            var cutSrc = src;
            if ((_this3$options$extens2 = _this3.options.extensions) !== null && _this3$options$extens2 !== void 0 && _this3$options$extens2.startBlock) {
              var startIndex = Infinity;
              var tempSrc = src.slice(1);
              var tempStart;
              _this3.options.extensions.startBlock.forEach(function (getStartIndex) {
                tempStart = getStartIndex.call({
                  lexer: _this3
                }, tempSrc);
                if (typeof tempStart === "number" && tempStart >= 0) {
                  startIndex = Math.min(startIndex, tempStart);
                }
              });
              if (startIndex < Infinity && startIndex >= 0) {
                cutSrc = src.substring(0, startIndex + 1);
              }
            }
            if (_this3.state.top && (token = _this3.tokenizer.paragraph(cutSrc))) {
              var _lastToken3 = tokens.at(-1);
              if (lastParagraphClipped && (_lastToken3 === null || _lastToken3 === void 0 ? void 0 : _lastToken3.type) === "paragraph") {
                _lastToken3.raw += "\n" + token.raw;
                _lastToken3.text += "\n" + token.text;
                _this3.inlineQueue.pop();
                _this3.inlineQueue.at(-1).src = _lastToken3.text;
              } else {
                tokens.push(token);
              }
              lastParagraphClipped = cutSrc.length !== src.length;
              src = src.substring(token.raw.length);
              return 0; // continue
            }
            if (token = _this3.tokenizer.text(src)) {
              src = src.substring(token.raw.length);
              var _lastToken4 = tokens.at(-1);
              if ((_lastToken4 === null || _lastToken4 === void 0 ? void 0 : _lastToken4.type) === "text") {
                _lastToken4.raw += "\n" + token.raw;
                _lastToken4.text += "\n" + token.text;
                _this3.inlineQueue.pop();
                _this3.inlineQueue.at(-1).src = _lastToken4.text;
              } else {
                tokens.push(token);
              }
              return 0; // continue
            }
            if (src) {
              var errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
              if (_this3.options.silent) {
                console.error(errMsg);
                return 1; // break
              } else {
                throw new Error(errMsg);
              }
            }
          },
          _ret;
        while (src) {
          _ret = _loop2();
          if (_ret === 0) continue;
          if (_ret === 1) break;
        }
        this.state.top = true;
        return tokens;
      }
    }, {
      key: "inline",
      value: function inline(src) {
        var tokens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        this.inlineQueue.push({
          src: src,
          tokens: tokens
        });
        return tokens;
      }
      /**
       * Lexing/Compiling
       */
    }, {
      key: "inlineTokens",
      value: function inlineTokens(src) {
        var _this4 = this;
        var tokens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var maskedSrc = src;
        var match = null;
        if (this.tokens.links) {
          var links = Object.keys(this.tokens.links);
          if (links.length > 0) {
            while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {
              if (links.includes(match[0].slice(match[0].lastIndexOf("[") + 1, -1))) {
                maskedSrc = maskedSrc.slice(0, match.index) + "[" + "a".repeat(match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);
              }
            }
          }
        }
        while ((match = this.tokenizer.rules.inline.anyPunctuation.exec(maskedSrc)) != null) {
          maskedSrc = maskedSrc.slice(0, match.index) + "++" + maskedSrc.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);
        }
        while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {
          maskedSrc = maskedSrc.slice(0, match.index) + "[" + "a".repeat(match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
        }
        var keepPrevChar = false;
        var prevChar = "";
        var _loop3 = function _loop3() {
            var _this4$options$extens, _this4$options$extens2;
            if (!keepPrevChar) {
              prevChar = "";
            }
            keepPrevChar = false;
            var token;
            if ((_this4$options$extens = _this4.options.extensions) !== null && _this4$options$extens !== void 0 && (_this4$options$extens = _this4$options$extens.inline) !== null && _this4$options$extens !== void 0 && _this4$options$extens.some(function (extTokenizer) {
              if (token = extTokenizer.call({
                lexer: _this4
              }, src, tokens)) {
                src = src.substring(token.raw.length);
                tokens.push(token);
                return true;
              }
              return false;
            })) {
              return 0; // continue
            }
            if (token = _this4.tokenizer.escape(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this4.tokenizer.tag(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this4.tokenizer.link(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this4.tokenizer.reflink(src, _this4.tokens.links)) {
              src = src.substring(token.raw.length);
              var lastToken = tokens.at(-1);
              if (token.type === "text" && (lastToken === null || lastToken === void 0 ? void 0 : lastToken.type) === "text") {
                lastToken.raw += token.raw;
                lastToken.text += token.text;
              } else {
                tokens.push(token);
              }
              return 0; // continue
            }
            if (token = _this4.tokenizer.emStrong(src, maskedSrc, prevChar)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this4.tokenizer.codespan(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this4.tokenizer.br(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this4.tokenizer.del(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (token = _this4.tokenizer.autolink(src)) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            if (!_this4.state.inLink && (token = _this4.tokenizer.url(src))) {
              src = src.substring(token.raw.length);
              tokens.push(token);
              return 0; // continue
            }
            var cutSrc = src;
            if ((_this4$options$extens2 = _this4.options.extensions) !== null && _this4$options$extens2 !== void 0 && _this4$options$extens2.startInline) {
              var startIndex = Infinity;
              var tempSrc = src.slice(1);
              var tempStart;
              _this4.options.extensions.startInline.forEach(function (getStartIndex) {
                tempStart = getStartIndex.call({
                  lexer: _this4
                }, tempSrc);
                if (typeof tempStart === "number" && tempStart >= 0) {
                  startIndex = Math.min(startIndex, tempStart);
                }
              });
              if (startIndex < Infinity && startIndex >= 0) {
                cutSrc = src.substring(0, startIndex + 1);
              }
            }
            if (token = _this4.tokenizer.inlineText(cutSrc)) {
              src = src.substring(token.raw.length);
              if (token.raw.slice(-1) !== "_") {
                prevChar = token.raw.slice(-1);
              }
              keepPrevChar = true;
              var _lastToken5 = tokens.at(-1);
              if ((_lastToken5 === null || _lastToken5 === void 0 ? void 0 : _lastToken5.type) === "text") {
                _lastToken5.raw += token.raw;
                _lastToken5.text += token.text;
              } else {
                tokens.push(token);
              }
              return 0; // continue
            }
            if (src) {
              var errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
              if (_this4.options.silent) {
                console.error(errMsg);
                return 1; // break
              } else {
                throw new Error(errMsg);
              }
            }
          },
          _ret2;
        while (src) {
          _ret2 = _loop3();
          if (_ret2 === 0) continue;
          if (_ret2 === 1) break;
        }
        return tokens;
      }
    }], [{
      key: "rules",
      get: function get() {
        return {
          block: block,
          inline: inline
        };
      }
      /**
       * Static Lex Method
       */
    }, {
      key: "lex",
      value: function lex(src, options2) {
        var lexer2 = new __Lexer(options2);
        return lexer2.lex(src);
      }
      /**
       * Static Lex Inline Method
       */
    }, {
      key: "lexInline",
      value: function lexInline(src, options2) {
        var lexer2 = new __Lexer(options2);
        return lexer2.inlineTokens(src);
      }
    }]);
  }();

  // src/Renderer.ts
  var _Renderer = /*#__PURE__*/function () {
    // set by the parser
    function _Renderer(options2) {
      (0, _classCallCheck2["default"])(this, _Renderer);
      (0, _defineProperty2["default"])(this, "options", void 0);
      (0, _defineProperty2["default"])(this, "parser", void 0);
      this.options = options2 || _defaults;
    }
    return (0, _createClass2["default"])(_Renderer, [{
      key: "space",
      value: function space(token) {
        return "";
      }
    }, {
      key: "code",
      value: function code(_ref) {
        var _match;
        var text = _ref.text,
          lang = _ref.lang,
          escaped = _ref.escaped;
        var langString = (_match = (lang || "").match(other.notSpaceStart)) === null || _match === void 0 ? void 0 : _match[0];
        var code = text.replace(other.endingNewline, "") + "\n";
        if (!langString) {
          return "<pre><code>" + (escaped ? code : escape2(code, true)) + "</code></pre>\n";
        }
        return '<pre><code class="language-' + escape2(langString) + '">' + (escaped ? code : escape2(code, true)) + "</code></pre>\n";
      }
    }, {
      key: "blockquote",
      value: function blockquote(_ref2) {
        var tokens = _ref2.tokens;
        var body = this.parser.parse(tokens);
        return "<blockquote>\n".concat(body, "</blockquote>\n");
      }
    }, {
      key: "html",
      value: function html(_ref3) {
        var text = _ref3.text;
        return text;
      }
    }, {
      key: "heading",
      value: function heading(_ref4) {
        var tokens = _ref4.tokens,
          depth = _ref4.depth;
        return "<h".concat(depth, ">").concat(this.parser.parseInline(tokens), "</h").concat(depth, ">\n");
      }
    }, {
      key: "hr",
      value: function hr(token) {
        return "<hr>\n";
      }
    }, {
      key: "list",
      value: function list(token) {
        var ordered = token.ordered;
        var start = token.start;
        var body = "";
        for (var j = 0; j < token.items.length; j++) {
          var item = token.items[j];
          body += this.listitem(item);
        }
        var type = ordered ? "ol" : "ul";
        var startAttr = ordered && start !== 1 ? ' start="' + start + '"' : "";
        return "<" + type + startAttr + ">\n" + body + "</" + type + ">\n";
      }
    }, {
      key: "listitem",
      value: function listitem(item) {
        var itemBody = "";
        if (item.task) {
          var checkbox = this.checkbox({
            checked: !!item.checked
          });
          if (item.loose) {
            var _item$tokens$;
            if (((_item$tokens$ = item.tokens[0]) === null || _item$tokens$ === void 0 ? void 0 : _item$tokens$.type) === "paragraph") {
              item.tokens[0].text = checkbox + " " + item.tokens[0].text;
              if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === "text") {
                item.tokens[0].tokens[0].text = checkbox + " " + escape2(item.tokens[0].tokens[0].text);
                item.tokens[0].tokens[0].escaped = true;
              }
            } else {
              item.tokens.unshift({
                type: "text",
                raw: checkbox + " ",
                text: checkbox + " ",
                escaped: true
              });
            }
          } else {
            itemBody += checkbox + " ";
          }
        }
        itemBody += this.parser.parse(item.tokens, !!item.loose);
        return "<li>".concat(itemBody, "</li>\n");
      }
    }, {
      key: "checkbox",
      value: function checkbox(_ref5) {
        var checked = _ref5.checked;
        return "<input " + (checked ? 'checked="" ' : "") + 'disabled="" type="checkbox">';
      }
    }, {
      key: "paragraph",
      value: function paragraph(_ref6) {
        var tokens = _ref6.tokens;
        return "<p>".concat(this.parser.parseInline(tokens), "</p>\n");
      }
    }, {
      key: "table",
      value: function table(token) {
        var header = "";
        var cell = "";
        for (var j = 0; j < token.header.length; j++) {
          cell += this.tablecell(token.header[j]);
        }
        header += this.tablerow({
          text: cell
        });
        var body = "";
        for (var _j = 0; _j < token.rows.length; _j++) {
          var row = token.rows[_j];
          cell = "";
          for (var k = 0; k < row.length; k++) {
            cell += this.tablecell(row[k]);
          }
          body += this.tablerow({
            text: cell
          });
        }
        if (body) body = "<tbody>".concat(body, "</tbody>");
        return "<table>\n<thead>\n" + header + "</thead>\n" + body + "</table>\n";
      }
    }, {
      key: "tablerow",
      value: function tablerow(_ref7) {
        var text = _ref7.text;
        return "<tr>\n".concat(text, "</tr>\n");
      }
    }, {
      key: "tablecell",
      value: function tablecell(token) {
        var content = this.parser.parseInline(token.tokens);
        var type = token.header ? "th" : "td";
        var tag2 = token.align ? "<".concat(type, " align=\"").concat(token.align, "\">") : "<".concat(type, ">");
        return tag2 + content + "</".concat(type, ">\n");
      }
      /**
       * span level renderer
       */
    }, {
      key: "strong",
      value: function strong(_ref8) {
        var tokens = _ref8.tokens;
        return "<strong>".concat(this.parser.parseInline(tokens), "</strong>");
      }
    }, {
      key: "em",
      value: function em(_ref9) {
        var tokens = _ref9.tokens;
        return "<em>".concat(this.parser.parseInline(tokens), "</em>");
      }
    }, {
      key: "codespan",
      value: function codespan(_ref0) {
        var text = _ref0.text;
        return "<code>".concat(escape2(text, true), "</code>");
      }
    }, {
      key: "br",
      value: function br(token) {
        return "<br>";
      }
    }, {
      key: "del",
      value: function del(_ref1) {
        var tokens = _ref1.tokens;
        return "<del>".concat(this.parser.parseInline(tokens), "</del>");
      }
    }, {
      key: "link",
      value: function link(_ref10) {
        var href = _ref10.href,
          title = _ref10.title,
          tokens = _ref10.tokens;
        var text = this.parser.parseInline(tokens);
        var cleanHref = cleanUrl(href);
        if (cleanHref === null) {
          return text;
        }
        href = cleanHref;
        var out = '<a href="' + href + '"';
        if (title) {
          out += ' title="' + escape2(title) + '"';
        }
        out += ">" + text + "</a>";
        return out;
      }
    }, {
      key: "image",
      value: function image(_ref11) {
        var href = _ref11.href,
          title = _ref11.title,
          text = _ref11.text,
          tokens = _ref11.tokens;
        if (tokens) {
          text = this.parser.parseInline(tokens, this.parser.textRenderer);
        }
        var cleanHref = cleanUrl(href);
        if (cleanHref === null) {
          return escape2(text);
        }
        href = cleanHref;
        var out = "<img src=\"".concat(href, "\" alt=\"").concat(text, "\"");
        if (title) {
          out += " title=\"".concat(escape2(title), "\"");
        }
        out += ">";
        return out;
      }
    }, {
      key: "text",
      value: function text(token) {
        return "tokens" in token && token.tokens ? this.parser.parseInline(token.tokens) : "escaped" in token && token.escaped ? token.text : escape2(token.text);
      }
    }]);
  }();

  // src/TextRenderer.ts
  var _TextRenderer = /*#__PURE__*/function () {
    function _TextRenderer() {
      (0, _classCallCheck2["default"])(this, _TextRenderer);
    }
    return (0, _createClass2["default"])(_TextRenderer, [{
      key: "strong",
      value:
      // no need for block level renderers
      function strong(_ref12) {
        var text = _ref12.text;
        return text;
      }
    }, {
      key: "em",
      value: function em(_ref13) {
        var text = _ref13.text;
        return text;
      }
    }, {
      key: "codespan",
      value: function codespan(_ref14) {
        var text = _ref14.text;
        return text;
      }
    }, {
      key: "del",
      value: function del(_ref15) {
        var text = _ref15.text;
        return text;
      }
    }, {
      key: "html",
      value: function html(_ref16) {
        var text = _ref16.text;
        return text;
      }
    }, {
      key: "text",
      value: function text(_ref17) {
        var _text = _ref17.text;
        return _text;
      }
    }, {
      key: "link",
      value: function link(_ref18) {
        var text = _ref18.text;
        return "" + text;
      }
    }, {
      key: "image",
      value: function image(_ref19) {
        var text = _ref19.text;
        return "" + text;
      }
    }, {
      key: "br",
      value: function br() {
        return "";
      }
    }]);
  }();

  // src/Parser.ts
  var _Parser = /*#__PURE__*/function () {
    function __Parser(options2) {
      (0, _classCallCheck2["default"])(this, __Parser);
      (0, _defineProperty2["default"])(this, "options", void 0);
      (0, _defineProperty2["default"])(this, "renderer", void 0);
      (0, _defineProperty2["default"])(this, "textRenderer", void 0);
      this.options = options2 || _defaults;
      this.options.renderer = this.options.renderer || new _Renderer();
      this.renderer = this.options.renderer;
      this.renderer.options = this.options;
      this.renderer.parser = this;
      this.textRenderer = new _TextRenderer();
    }
    /**
     * Static Parse Method
     */
    return (0, _createClass2["default"])(__Parser, [{
      key: "parse",
      value:
      /**
       * Parse Loop
       */
      function parse(tokens) {
        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
        var out = "";
        for (var i = 0; i < tokens.length; i++) {
          var _this$options$extensi;
          var anyToken = tokens[i];
          if ((_this$options$extensi = this.options.extensions) !== null && _this$options$extensi !== void 0 && (_this$options$extensi = _this$options$extensi.renderers) !== null && _this$options$extensi !== void 0 && _this$options$extensi[anyToken.type]) {
            var genericToken = anyToken;
            var ret = this.options.extensions.renderers[genericToken.type].call({
              parser: this
            }, genericToken);
            if (ret !== false || !["space", "hr", "heading", "code", "table", "blockquote", "list", "html", "paragraph", "text"].includes(genericToken.type)) {
              out += ret || "";
              continue;
            }
          }
          var token = anyToken;
          switch (token.type) {
            case "space":
              {
                out += this.renderer.space(token);
                continue;
              }
            case "hr":
              {
                out += this.renderer.hr(token);
                continue;
              }
            case "heading":
              {
                out += this.renderer.heading(token);
                continue;
              }
            case "code":
              {
                out += this.renderer.code(token);
                continue;
              }
            case "table":
              {
                out += this.renderer.table(token);
                continue;
              }
            case "blockquote":
              {
                out += this.renderer.blockquote(token);
                continue;
              }
            case "list":
              {
                out += this.renderer.list(token);
                continue;
              }
            case "html":
              {
                out += this.renderer.html(token);
                continue;
              }
            case "paragraph":
              {
                out += this.renderer.paragraph(token);
                continue;
              }
            case "text":
              {
                var textToken = token;
                var body = this.renderer.text(textToken);
                while (i + 1 < tokens.length && tokens[i + 1].type === "text") {
                  textToken = tokens[++i];
                  body += "\n" + this.renderer.text(textToken);
                }
                if (top) {
                  out += this.renderer.paragraph({
                    type: "paragraph",
                    raw: body,
                    text: body,
                    tokens: [{
                      type: "text",
                      raw: body,
                      text: body,
                      escaped: true
                    }]
                  });
                } else {
                  out += body;
                }
                continue;
              }
            default:
              {
                var errMsg = 'Token with "' + token.type + '" type was not found.';
                if (this.options.silent) {
                  console.error(errMsg);
                  return "";
                } else {
                  throw new Error(errMsg);
                }
              }
          }
        }
        return out;
      }
      /**
       * Parse Inline Tokens
       */
    }, {
      key: "parseInline",
      value: function parseInline(tokens) {
        var renderer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.renderer;
        var out = "";
        for (var i = 0; i < tokens.length; i++) {
          var _this$options$extensi2;
          var anyToken = tokens[i];
          if ((_this$options$extensi2 = this.options.extensions) !== null && _this$options$extensi2 !== void 0 && (_this$options$extensi2 = _this$options$extensi2.renderers) !== null && _this$options$extensi2 !== void 0 && _this$options$extensi2[anyToken.type]) {
            var ret = this.options.extensions.renderers[anyToken.type].call({
              parser: this
            }, anyToken);
            if (ret !== false || !["escape", "html", "link", "image", "strong", "em", "codespan", "br", "del", "text"].includes(anyToken.type)) {
              out += ret || "";
              continue;
            }
          }
          var token = anyToken;
          switch (token.type) {
            case "escape":
              {
                out += renderer.text(token);
                break;
              }
            case "html":
              {
                out += renderer.html(token);
                break;
              }
            case "link":
              {
                out += renderer.link(token);
                break;
              }
            case "image":
              {
                out += renderer.image(token);
                break;
              }
            case "strong":
              {
                out += renderer.strong(token);
                break;
              }
            case "em":
              {
                out += renderer.em(token);
                break;
              }
            case "codespan":
              {
                out += renderer.codespan(token);
                break;
              }
            case "br":
              {
                out += renderer.br(token);
                break;
              }
            case "del":
              {
                out += renderer.del(token);
                break;
              }
            case "text":
              {
                out += renderer.text(token);
                break;
              }
            default:
              {
                var errMsg = 'Token with "' + token.type + '" type was not found.';
                if (this.options.silent) {
                  console.error(errMsg);
                  return "";
                } else {
                  throw new Error(errMsg);
                }
              }
          }
        }
        return out;
      }
    }], [{
      key: "parse",
      value: function parse(tokens, options2) {
        var parser2 = new __Parser(options2);
        return parser2.parse(tokens);
      }
      /**
       * Static Parse Inline Method
       */
    }, {
      key: "parseInline",
      value: function parseInline(tokens, options2) {
        var parser2 = new __Parser(options2);
        return parser2.parseInline(tokens);
      }
    }]);
  }();

  // src/Hooks.ts
  var _Hooks = (_Class3 = /*#__PURE__*/function () {
    function _Hooks(options2) {
      (0, _classCallCheck2["default"])(this, _Hooks);
      (0, _defineProperty2["default"])(this, "options", void 0);
      (0, _defineProperty2["default"])(this, "block", void 0);
      this.options = options2 || _defaults;
    }
    return (0, _createClass2["default"])(_Hooks, [{
      key: "preprocess",
      value:
      /**
       * Process markdown before marked
       */
      function preprocess(markdown) {
        return markdown;
      }
      /**
       * Process HTML after marked is finished
       */
    }, {
      key: "postprocess",
      value: function postprocess(html2) {
        return html2;
      }
      /**
       * Process all tokens before walk tokens
       */
    }, {
      key: "processAllTokens",
      value: function processAllTokens(tokens) {
        return tokens;
      }
      /**
       * Provide function to tokenize markdown
       */
    }, {
      key: "provideLexer",
      value: function provideLexer() {
        return this.block ? _Lexer.lex : _Lexer.lexInline;
      }
      /**
       * Provide function to parse tokens
       */
    }, {
      key: "provideParser",
      value: function provideParser() {
        return this.block ? _Parser.parse : _Parser.parseInline;
      }
    }]);
  }(), (0, _defineProperty2["default"])(_Class3, "passThroughHooks", /* @__PURE__ */new Set(["preprocess", "postprocess", "processAllTokens"])), _Class3);

  // src/Instance.ts
  var _Marked = /*#__PURE__*/function () {
    function _Marked() {
      (0, _classCallCheck2["default"])(this, _Marked);
      (0, _defineProperty2["default"])(this, "defaults", _getDefaults());
      (0, _defineProperty2["default"])(this, "options", this.setOptions);
      (0, _defineProperty2["default"])(this, "parse", this.parseMarkdown(true));
      (0, _defineProperty2["default"])(this, "parseInline", this.parseMarkdown(false));
      (0, _defineProperty2["default"])(this, "Parser", _Parser);
      (0, _defineProperty2["default"])(this, "Renderer", _Renderer);
      (0, _defineProperty2["default"])(this, "TextRenderer", _TextRenderer);
      (0, _defineProperty2["default"])(this, "Lexer", _Lexer);
      (0, _defineProperty2["default"])(this, "Tokenizer", _Tokenizer);
      (0, _defineProperty2["default"])(this, "Hooks", _Hooks);
      this.use.apply(this, arguments);
    }
    /**
     * Run callback for every token
     */
    return (0, _createClass2["default"])(_Marked, [{
      key: "walkTokens",
      value: function walkTokens(tokens, callback) {
        var _this5 = this;
        var values = [];
        var _iterator4 = _createForOfIteratorHelper(tokens),
          _step4;
        try {
          var _loop4 = function _loop4() {
            var token = _step4.value;
            values = values.concat(callback.call(_this5, token));
            switch (token.type) {
              case "table":
                {
                  var tableToken = token;
                  var _iterator5 = _createForOfIteratorHelper(tableToken.header),
                    _step5;
                  try {
                    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
                      var cell = _step5.value;
                      values = values.concat(_this5.walkTokens(cell.tokens, callback));
                    }
                  } catch (err) {
                    _iterator5.e(err);
                  } finally {
                    _iterator5.f();
                  }
                  var _iterator6 = _createForOfIteratorHelper(tableToken.rows),
                    _step6;
                  try {
                    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
                      var row = _step6.value;
                      var _iterator7 = _createForOfIteratorHelper(row),
                        _step7;
                      try {
                        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
                          var _cell = _step7.value;
                          values = values.concat(_this5.walkTokens(_cell.tokens, callback));
                        }
                      } catch (err) {
                        _iterator7.e(err);
                      } finally {
                        _iterator7.f();
                      }
                    }
                  } catch (err) {
                    _iterator6.e(err);
                  } finally {
                    _iterator6.f();
                  }
                  break;
                }
              case "list":
                {
                  var listToken = token;
                  values = values.concat(_this5.walkTokens(listToken.items, callback));
                  break;
                }
              default:
                {
                  var _this5$defaults$exten;
                  var genericToken = token;
                  if ((_this5$defaults$exten = _this5.defaults.extensions) !== null && _this5$defaults$exten !== void 0 && (_this5$defaults$exten = _this5$defaults$exten.childTokens) !== null && _this5$defaults$exten !== void 0 && _this5$defaults$exten[genericToken.type]) {
                    _this5.defaults.extensions.childTokens[genericToken.type].forEach(function (childTokens) {
                      var tokens2 = genericToken[childTokens].flat(Infinity);
                      values = values.concat(_this5.walkTokens(tokens2, callback));
                    });
                  } else if (genericToken.tokens) {
                    values = values.concat(_this5.walkTokens(genericToken.tokens, callback));
                  }
                }
            }
          };
          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
            _loop4();
          }
        } catch (err) {
          _iterator4.e(err);
        } finally {
          _iterator4.f();
        }
        return values;
      }
    }, {
      key: "use",
      value: function use() {
        var _this6 = this;
        var extensions = this.defaults.extensions || {
          renderers: {},
          childTokens: {}
        };
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        args.forEach(function (pack) {
          var opts = _objectSpread({}, pack);
          opts.async = _this6.defaults.async || opts.async || false;
          if (pack.extensions) {
            pack.extensions.forEach(function (ext) {
              if (!ext.name) {
                throw new Error("extension name required");
              }
              if ("renderer" in ext) {
                var prevRenderer = extensions.renderers[ext.name];
                if (prevRenderer) {
                  extensions.renderers[ext.name] = function () {
                    for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                      args2[_key2] = arguments[_key2];
                    }
                    var ret = ext.renderer.apply(this, args2);
                    if (ret === false) {
                      ret = prevRenderer.apply(this, args2);
                    }
                    return ret;
                  };
                } else {
                  extensions.renderers[ext.name] = ext.renderer;
                }
              }
              if ("tokenizer" in ext) {
                if (!ext.level || ext.level !== "block" && ext.level !== "inline") {
                  throw new Error("extension level must be 'block' or 'inline'");
                }
                var extLevel = extensions[ext.level];
                if (extLevel) {
                  extLevel.unshift(ext.tokenizer);
                } else {
                  extensions[ext.level] = [ext.tokenizer];
                }
                if (ext.start) {
                  if (ext.level === "block") {
                    if (extensions.startBlock) {
                      extensions.startBlock.push(ext.start);
                    } else {
                      extensions.startBlock = [ext.start];
                    }
                  } else if (ext.level === "inline") {
                    if (extensions.startInline) {
                      extensions.startInline.push(ext.start);
                    } else {
                      extensions.startInline = [ext.start];
                    }
                  }
                }
              }
              if ("childTokens" in ext && ext.childTokens) {
                extensions.childTokens[ext.name] = ext.childTokens;
              }
            });
            opts.extensions = extensions;
          }
          if (pack.renderer) {
            var renderer = _this6.defaults.renderer || new _Renderer(_this6.defaults);
            var _loop5 = function _loop5() {
              if (!(prop in renderer)) {
                throw new Error("renderer '".concat(prop, "' does not exist"));
              }
              if (["options", "parser"].includes(prop)) {
                return 1; // continue
              }
              var rendererProp = prop;
              var rendererFunc = pack.renderer[rendererProp];
              var prevRenderer = renderer[rendererProp];
              renderer[rendererProp] = function () {
                for (var _len3 = arguments.length, args2 = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
                  args2[_key3] = arguments[_key3];
                }
                var ret = rendererFunc.apply(renderer, args2);
                if (ret === false) {
                  ret = prevRenderer.apply(renderer, args2);
                }
                return ret || "";
              };
            };
            for (var prop in pack.renderer) {
              if (_loop5()) continue;
            }
            opts.renderer = renderer;
          }
          if (pack.tokenizer) {
            var tokenizer = _this6.defaults.tokenizer || new _Tokenizer(_this6.defaults);
            var _loop6 = function _loop6() {
              if (!(_prop in tokenizer)) {
                throw new Error("tokenizer '".concat(_prop, "' does not exist"));
              }
              if (["options", "rules", "lexer"].includes(_prop)) {
                return 1; // continue
              }
              var tokenizerProp = _prop;
              var tokenizerFunc = pack.tokenizer[tokenizerProp];
              var prevTokenizer = tokenizer[tokenizerProp];
              tokenizer[tokenizerProp] = function () {
                for (var _len4 = arguments.length, args2 = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
                  args2[_key4] = arguments[_key4];
                }
                var ret = tokenizerFunc.apply(tokenizer, args2);
                if (ret === false) {
                  ret = prevTokenizer.apply(tokenizer, args2);
                }
                return ret;
              };
            };
            for (var _prop in pack.tokenizer) {
              if (_loop6()) continue;
            }
            opts.tokenizer = tokenizer;
          }
          if (pack.hooks) {
            var hooks = _this6.defaults.hooks || new _Hooks();
            var _loop7 = function _loop7() {
              if (!(_prop2 in hooks)) {
                throw new Error("hook '".concat(_prop2, "' does not exist"));
              }
              if (["options", "block"].includes(_prop2)) {
                return 1; // continue
              }
              var hooksProp = _prop2;
              var hooksFunc = pack.hooks[hooksProp];
              var prevHook = hooks[hooksProp];
              if (_Hooks.passThroughHooks.has(_prop2)) {
                hooks[hooksProp] = function (arg) {
                  if (_this6.defaults.async) {
                    return Promise.resolve(hooksFunc.call(hooks, arg)).then(function (ret2) {
                      return prevHook.call(hooks, ret2);
                    });
                  }
                  var ret = hooksFunc.call(hooks, arg);
                  return prevHook.call(hooks, ret);
                };
              } else {
                hooks[hooksProp] = function () {
                  for (var _len5 = arguments.length, args2 = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
                    args2[_key5] = arguments[_key5];
                  }
                  var ret = hooksFunc.apply(hooks, args2);
                  if (ret === false) {
                    ret = prevHook.apply(hooks, args2);
                  }
                  return ret;
                };
              }
            };
            for (var _prop2 in pack.hooks) {
              if (_loop7()) continue;
            }
            opts.hooks = hooks;
          }
          if (pack.walkTokens) {
            var walkTokens2 = _this6.defaults.walkTokens;
            var packWalktokens = pack.walkTokens;
            opts.walkTokens = function (token) {
              var values = [];
              values.push(packWalktokens.call(this, token));
              if (walkTokens2) {
                values = values.concat(walkTokens2.call(this, token));
              }
              return values;
            };
          }
          _this6.defaults = _objectSpread(_objectSpread({}, _this6.defaults), opts);
        });
        return this;
      }
    }, {
      key: "setOptions",
      value: function setOptions(opt) {
        this.defaults = _objectSpread(_objectSpread({}, this.defaults), opt);
        return this;
      }
    }, {
      key: "lexer",
      value: function lexer(src, options2) {
        return _Lexer.lex(src, options2 !== null && options2 !== void 0 ? options2 : this.defaults);
      }
    }, {
      key: "parser",
      value: function parser(tokens, options2) {
        return _Parser.parse(tokens, options2 !== null && options2 !== void 0 ? options2 : this.defaults);
      }
    }, {
      key: "parseMarkdown",
      value: function parseMarkdown(blockType) {
        var _this7 = this;
        var parse2 = function parse2(src, options2) {
          var origOpt = _objectSpread({}, options2);
          var opt = _objectSpread(_objectSpread({}, _this7.defaults), origOpt);
          var throwError = _this7.onError(!!opt.silent, !!opt.async);
          if (_this7.defaults.async === true && origOpt.async === false) {
            return throwError(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));
          }
          if (typeof src === "undefined" || src === null) {
            return throwError(new Error("marked(): input parameter is undefined or null"));
          }
          if (typeof src !== "string") {
            return throwError(new Error("marked(): input parameter is of type " + Object.prototype.toString.call(src) + ", string expected"));
          }
          if (opt.hooks) {
            opt.hooks.options = opt;
            opt.hooks.block = blockType;
          }
          var lexer2 = opt.hooks ? opt.hooks.provideLexer() : blockType ? _Lexer.lex : _Lexer.lexInline;
          var parser2 = opt.hooks ? opt.hooks.provideParser() : blockType ? _Parser.parse : _Parser.parseInline;
          if (opt.async) {
            return Promise.resolve(opt.hooks ? opt.hooks.preprocess(src) : src).then(function (src2) {
              return lexer2(src2, opt);
            }).then(function (tokens) {
              return opt.hooks ? opt.hooks.processAllTokens(tokens) : tokens;
            }).then(function (tokens) {
              return opt.walkTokens ? Promise.all(_this7.walkTokens(tokens, opt.walkTokens)).then(function () {
                return tokens;
              }) : tokens;
            }).then(function (tokens) {
              return parser2(tokens, opt);
            }).then(function (html2) {
              return opt.hooks ? opt.hooks.postprocess(html2) : html2;
            })["catch"](throwError);
          }
          try {
            if (opt.hooks) {
              src = opt.hooks.preprocess(src);
            }
            var tokens = lexer2(src, opt);
            if (opt.hooks) {
              tokens = opt.hooks.processAllTokens(tokens);
            }
            if (opt.walkTokens) {
              _this7.walkTokens(tokens, opt.walkTokens);
            }
            var html2 = parser2(tokens, opt);
            if (opt.hooks) {
              html2 = opt.hooks.postprocess(html2);
            }
            return html2;
          } catch (e) {
            return throwError(e);
          }
        };
        return parse2;
      }
    }, {
      key: "onError",
      value: function onError(silent, async) {
        return function (e) {
          e.message += "\nPlease report this to https://github.com/markedjs/marked.";
          if (silent) {
            var msg = "<p>An error occurred:</p><pre>" + escape2(e.message + "", true) + "</pre>";
            if (async) {
              return Promise.resolve(msg);
            }
            return msg;
          }
          if (async) {
            return Promise.reject(e);
          }
          throw e;
        };
      }
    }]);
  }();

  // src/marked.ts
  var markedInstance = new _Marked();
  function _marked(src, opt) {
    return markedInstance.parse(src, opt);
  }
  _marked.options = _marked.setOptions = function (options2) {
    markedInstance.setOptions(options2);
    _marked.defaults = markedInstance.defaults;
    changeDefaults(_marked.defaults);
    return _marked;
  };
  _marked.getDefaults = _getDefaults;
  _marked.defaults = _defaults;
  _marked.use = function () {
    markedInstance.use.apply(markedInstance, arguments);
    _marked.defaults = markedInstance.defaults;
    changeDefaults(_marked.defaults);
    return _marked;
  };
  _marked.walkTokens = function (tokens, callback) {
    return markedInstance.walkTokens(tokens, callback);
  };
  _marked.parseInline = markedInstance.parseInline;
  _marked.Parser = _Parser;
  _marked.parser = _Parser.parse;
  _marked.Renderer = _Renderer;
  _marked.TextRenderer = _TextRenderer;
  _marked.Lexer = _Lexer;
  _marked.lexer = _Lexer.lex;
  _marked.Tokenizer = _Tokenizer;
  _marked.Hooks = _Hooks;
  _marked.parse = _marked;
  var _options = _marked.options;
  var _setOptions = _marked.setOptions;
  var _use = _marked.use;
  var _walkTokens = _marked.walkTokens;
  var _parseInline = _marked.parseInline;
  var _parse = _marked;
  var _parser = _Parser.parse;
  var _lexer = _Lexer.lex;
  if (__exports != exports) module.exports = exports;
  return module.exports;
});
},{"@babel/runtime/helpers/classCallCheck":79,"@babel/runtime/helpers/createClass":81,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/readOnlyError":97,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/toConsumableArray":110,"@babel/runtime/helpers/typeof":113}],230:[function(require,module,exports){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/

'use strict';

/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;
function toObject(val) {
  if (val === null || val === undefined) {
    throw new TypeError('Object.assign cannot be called with null or undefined');
  }
  return Object(val);
}
function shouldUseNative() {
  try {
    if (!Object.assign) {
      return false;
    }

    // Detect buggy property enumeration order in older V8 versions.

    // https://bugs.chromium.org/p/v8/issues/detail?id=4118
    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers
    test1[5] = 'de';
    if (Object.getOwnPropertyNames(test1)[0] === '5') {
      return false;
    }

    // https://bugs.chromium.org/p/v8/issues/detail?id=3056
    var test2 = {};
    for (var i = 0; i < 10; i++) {
      test2['_' + String.fromCharCode(i)] = i;
    }
    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
      return test2[n];
    });
    if (order2.join('') !== '0123456789') {
      return false;
    }

    // https://bugs.chromium.org/p/v8/issues/detail?id=3056
    var test3 = {};
    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
      test3[letter] = letter;
    });
    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {
      return false;
    }
    return true;
  } catch (err) {
    // We don't expect any of the above to throw, but better to be safe.
    return false;
  }
}
module.exports = shouldUseNative() ? Object.assign : function (target, source) {
  var from;
  var to = toObject(target);
  var symbols;
  for (var s = 1; s < arguments.length; s++) {
    from = Object(arguments[s]);
    for (var key in from) {
      if (hasOwnProperty.call(from, key)) {
        to[key] = from[key];
      }
    }
    if (getOwnPropertySymbols) {
      symbols = getOwnPropertySymbols(from);
      for (var i = 0; i < symbols.length; i++) {
        if (propIsEnumerable.call(from, symbols[i])) {
          to[symbols[i]] = from[symbols[i]];
        }
      }
    }
  }
  return to;
};
},{}],231:[function(require,module,exports){
"use strict";

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;
function defaultSetTimout() {
  throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout() {
  throw new Error('clearTimeout has not been defined');
}
(function () {
  try {
    if (typeof setTimeout === 'function') {
      cachedSetTimeout = setTimeout;
    } else {
      cachedSetTimeout = defaultSetTimout;
    }
  } catch (e) {
    cachedSetTimeout = defaultSetTimout;
  }
  try {
    if (typeof clearTimeout === 'function') {
      cachedClearTimeout = clearTimeout;
    } else {
      cachedClearTimeout = defaultClearTimeout;
    }
  } catch (e) {
    cachedClearTimeout = defaultClearTimeout;
  }
})();
function runTimeout(fun) {
  if (cachedSetTimeout === setTimeout) {
    //normal enviroments in sane situations
    return setTimeout(fun, 0);
  }
  // if setTimeout wasn't available but was latter defined
  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
    cachedSetTimeout = setTimeout;
    return setTimeout(fun, 0);
  }
  try {
    // when when somebody has screwed with setTimeout but no I.E. maddness
    return cachedSetTimeout(fun, 0);
  } catch (e) {
    try {
      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
      return cachedSetTimeout.call(null, fun, 0);
    } catch (e) {
      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
      return cachedSetTimeout.call(this, fun, 0);
    }
  }
}
function runClearTimeout(marker) {
  if (cachedClearTimeout === clearTimeout) {
    //normal enviroments in sane situations
    return clearTimeout(marker);
  }
  // if clearTimeout wasn't available but was latter defined
  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
    cachedClearTimeout = clearTimeout;
    return clearTimeout(marker);
  }
  try {
    // when when somebody has screwed with setTimeout but no I.E. maddness
    return cachedClearTimeout(marker);
  } catch (e) {
    try {
      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
      return cachedClearTimeout.call(null, marker);
    } catch (e) {
      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
      // Some versions of I.E. have different rules for clearTimeout vs setTimeout
      return cachedClearTimeout.call(this, marker);
    }
  }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;
function cleanUpNextTick() {
  if (!draining || !currentQueue) {
    return;
  }
  draining = false;
  if (currentQueue.length) {
    queue = currentQueue.concat(queue);
  } else {
    queueIndex = -1;
  }
  if (queue.length) {
    drainQueue();
  }
}
function drainQueue() {
  if (draining) {
    return;
  }
  var timeout = runTimeout(cleanUpNextTick);
  draining = true;
  var len = queue.length;
  while (len) {
    currentQueue = queue;
    queue = [];
    while (++queueIndex < len) {
      if (currentQueue) {
        currentQueue[queueIndex].run();
      }
    }
    queueIndex = -1;
    len = queue.length;
  }
  currentQueue = null;
  draining = false;
  runClearTimeout(timeout);
}
process.nextTick = function (fun) {
  var args = new Array(arguments.length - 1);
  if (arguments.length > 1) {
    for (var i = 1; i < arguments.length; i++) {
      args[i - 1] = arguments[i];
    }
  }
  queue.push(new Item(fun, args));
  if (queue.length === 1 && !draining) {
    runTimeout(drainQueue);
  }
};

// v8 likes predictible objects
function Item(fun, array) {
  this.fun = fun;
  this.array = array;
}
Item.prototype.run = function () {
  this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};
function noop() {}
process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;
process.listeners = function (name) {
  return [];
};
process.binding = function (name) {
  throw new Error('process.binding is not supported');
};
process.cwd = function () {
  return '/';
};
process.chdir = function (dir) {
  throw new Error('process.chdir is not supported');
};
process.umask = function () {
  return 0;
};
},{}],232:[function(require,module,exports){
(function (process){(function (){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var printWarning = function printWarning() {};
if (process.env.NODE_ENV !== 'production') {
  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');
  var loggedTypeFailures = {};
  var has = require('./lib/has');
  printWarning = function printWarning(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {/**/}
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if (process.env.NODE_ENV !== 'production') {
    for (var typeSpecName in typeSpecs) {
      if (has(typeSpecs, typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + (0, _typeof2["default"])(typeSpecs[typeSpecName]) + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + (0, _typeof2["default"])(error) + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');
        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;
          var stack = getStack ? getStack() : '';
          printWarning('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));
        }
      }
    }
  }
}

/**
 * Resets warning cache when testing.
 *
 * @private
 */
checkPropTypes.resetWarningCache = function () {
  if (process.env.NODE_ENV !== 'production') {
    loggedTypeFailures = {};
  }
};
module.exports = checkPropTypes;
}).call(this)}).call(this,require('_process'))
},{"./lib/ReactPropTypesSecret":236,"./lib/has":237,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113,"_process":231}],233:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');
function emptyFunction() {}
function emptyFunctionWithReset() {}
emptyFunctionWithReset.resetWarningCache = emptyFunction;
module.exports = function () {
  function shim(props, propName, componentName, location, propFullName, secret) {
    if (secret === ReactPropTypesSecret) {
      // It is still safe when called from React.
      return;
    }
    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');
    err.name = 'Invariant Violation';
    throw err;
  }
  ;
  shim.isRequired = shim;
  function getShim() {
    return shim;
  }
  ;
  // Important!
  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
  var ReactPropTypes = {
    array: shim,
    bigint: shim,
    bool: shim,
    func: shim,
    number: shim,
    object: shim,
    string: shim,
    symbol: shim,
    any: shim,
    arrayOf: getShim,
    element: shim,
    elementType: shim,
    instanceOf: getShim,
    node: shim,
    objectOf: getShim,
    oneOf: getShim,
    oneOfType: getShim,
    shape: getShim,
    exact: getShim,
    checkPropTypes: emptyFunctionWithReset,
    resetWarningCache: emptyFunction
  };
  ReactPropTypes.PropTypes = ReactPropTypes;
  return ReactPropTypes;
};
},{"./lib/ReactPropTypesSecret":236}],234:[function(require,module,exports){
(function (process){(function (){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var ReactIs = require('react-is');
var assign = require('object-assign');
var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');
var has = require('./lib/has');
var checkPropTypes = require('./checkPropTypes');
var printWarning = function printWarning() {};
if (process.env.NODE_ENV !== 'production') {
  printWarning = function printWarning(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}
function emptyFunctionThatReturnsNull() {
  return null;
}
module.exports = function (isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bigint: createPrimitiveTypeChecker('bigint'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),
    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    elementType: createElementTypeTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message, data) {
    this.message = message;
    this.data = data && (0, _typeof2["default"])(data) === 'object' ? data : {};
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;
  function createChainableTypeChecker(validate) {
    if (process.env.NODE_ENV !== 'production') {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;
      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');
          err.name = 'Invariant Violation';
          throw err;
        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (!manualPropTypeCallCache[cacheKey] &&
          // Avoid spamming the console because they are often not actionable except for lib authors
          manualPropTypeWarningCount < 3) {
            printWarning('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }
    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);
    return chainedCheckType;
  }
  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'), {
          expectedType: expectedType
        });
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }
  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function createElementTypeTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!ReactIs.isValidElementType(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
      if (process.env.NODE_ENV !== 'production') {
        if (arguments.length > 1) {
          printWarning('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');
        } else {
          printWarning('Invalid argument supplied to oneOf, expected an array.');
        }
      }
      return emptyFunctionThatReturnsNull;
    }
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }
      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
        var type = getPreciseType(value);
        if (type === 'symbol') {
          return String(value);
        }
        return value;
      });
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }
  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (has(propValue, key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;
      return emptyFunctionThatReturnsNull;
    }
    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');
        return emptyFunctionThatReturnsNull;
      }
    }
    function validate(props, propName, componentName, location, propFullName) {
      var expectedTypes = [];
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        var checkerResult = checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret);
        if (checkerResult == null) {
          return null;
        }
        if (checkerResult.data && has(checkerResult.data, 'expectedType')) {
          expectedTypes.push(checkerResult.data.expectedType);
        }
      }
      var expectedTypesMessage = expectedTypes.length > 0 ? ', expected one of type [' + expectedTypes.join(', ') + ']' : '';
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`' + expectedTypesMessage + '.'));
    }
    return createChainableTypeChecker(validate);
  }
  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function invalidValidatorError(componentName, location, propFullName, key, type) {
    return new PropTypeError((componentName || 'React class') + ': ' + location + ' type `' + propFullName + '.' + key + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + type + '`.');
  }
  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (typeof checker !== 'function') {
          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (has(shapeTypes, key) && typeof checker !== 'function') {
          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
        }
        if (!checker) {
          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }
  function isNode(propValue) {
    switch ((0, _typeof2["default"])(propValue)) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }
        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }
        return true;
      default:
        return false;
    }
  }
  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // falsy value can't be a Symbol
    if (!propValue) {
      return false;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }
    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = (0, _typeof2["default"])(propValue);
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }
  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
  ReactPropTypes.PropTypes = ReactPropTypes;
  return ReactPropTypes;
};
}).call(this)}).call(this,require('_process'))
},{"./checkPropTypes":232,"./lib/ReactPropTypesSecret":236,"./lib/has":237,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113,"_process":231,"object-assign":230,"react-is":240}],235:[function(require,module,exports){
(function (process){(function (){
"use strict";

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (process.env.NODE_ENV !== 'production') {
  var ReactIs = require('react-is');

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);
} else {
  // By explicitly using `prop-types` you are opting into new production behavior.
  // http://fb.me/prop-types-in-prod
  module.exports = require('./factoryWithThrowingShims')();
}
}).call(this)}).call(this,require('_process'))
},{"./factoryWithThrowingShims":233,"./factoryWithTypeCheckers":234,"_process":231,"react-is":240}],236:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';
module.exports = ReactPropTypesSecret;
},{}],237:[function(require,module,exports){
"use strict";

module.exports = Function.call.bind(Object.prototype.hasOwnProperty);
},{}],238:[function(require,module,exports){
(function (process){(function (){
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
if (process.env.NODE_ENV !== "production") {
  (function () {
    'use strict';

    // The Symbol used to tag the ReactElement-like types. If there is no native Symbol
    // nor polyfill, then a plain number is used for performance.
    var hasSymbol = typeof Symbol === 'function' && Symbol["for"];
    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol["for"]('react.element') : 0xeac7;
    var REACT_PORTAL_TYPE = hasSymbol ? Symbol["for"]('react.portal') : 0xeaca;
    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol["for"]('react.fragment') : 0xeacb;
    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol["for"]('react.strict_mode') : 0xeacc;
    var REACT_PROFILER_TYPE = hasSymbol ? Symbol["for"]('react.profiler') : 0xead2;
    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol["for"]('react.provider') : 0xeacd;
    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol["for"]('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary
    // (unstable) APIs that have been removed. Can we remove the symbols?

    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol["for"]('react.async_mode') : 0xeacf;
    var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol["for"]('react.concurrent_mode') : 0xeacf;
    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol["for"]('react.forward_ref') : 0xead0;
    var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol["for"]('react.suspense') : 0xead1;
    var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol["for"]('react.suspense_list') : 0xead8;
    var REACT_MEMO_TYPE = hasSymbol ? Symbol["for"]('react.memo') : 0xead3;
    var REACT_LAZY_TYPE = hasSymbol ? Symbol["for"]('react.lazy') : 0xead4;
    var REACT_BLOCK_TYPE = hasSymbol ? Symbol["for"]('react.block') : 0xead9;
    var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol["for"]('react.fundamental') : 0xead5;
    var REACT_RESPONDER_TYPE = hasSymbol ? Symbol["for"]('react.responder') : 0xead6;
    var REACT_SCOPE_TYPE = hasSymbol ? Symbol["for"]('react.scope') : 0xead7;
    function isValidElementType(type) {
      return typeof type === 'string' || typeof type === 'function' ||
      // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || (0, _typeof2["default"])(type) === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
    }
    function typeOf(object) {
      if ((0, _typeof2["default"])(object) === 'object' && object !== null) {
        var $$typeof = object.$$typeof;
        switch ($$typeof) {
          case REACT_ELEMENT_TYPE:
            var type = object.type;
            switch (type) {
              case REACT_ASYNC_MODE_TYPE:
              case REACT_CONCURRENT_MODE_TYPE:
              case REACT_FRAGMENT_TYPE:
              case REACT_PROFILER_TYPE:
              case REACT_STRICT_MODE_TYPE:
              case REACT_SUSPENSE_TYPE:
                return type;
              default:
                var $$typeofType = type && type.$$typeof;
                switch ($$typeofType) {
                  case REACT_CONTEXT_TYPE:
                  case REACT_FORWARD_REF_TYPE:
                  case REACT_LAZY_TYPE:
                  case REACT_MEMO_TYPE:
                  case REACT_PROVIDER_TYPE:
                    return $$typeofType;
                  default:
                    return $$typeof;
                }
            }
          case REACT_PORTAL_TYPE:
            return $$typeof;
        }
      }
      return undefined;
    } // AsyncMode is deprecated along with isAsyncMode

    var AsyncMode = REACT_ASYNC_MODE_TYPE;
    var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
    var ContextConsumer = REACT_CONTEXT_TYPE;
    var ContextProvider = REACT_PROVIDER_TYPE;
    var Element = REACT_ELEMENT_TYPE;
    var ForwardRef = REACT_FORWARD_REF_TYPE;
    var Fragment = REACT_FRAGMENT_TYPE;
    var Lazy = REACT_LAZY_TYPE;
    var Memo = REACT_MEMO_TYPE;
    var Portal = REACT_PORTAL_TYPE;
    var Profiler = REACT_PROFILER_TYPE;
    var StrictMode = REACT_STRICT_MODE_TYPE;
    var Suspense = REACT_SUSPENSE_TYPE;
    var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated

    function isAsyncMode(object) {
      {
        if (!hasWarnedAboutDeprecatedIsAsyncMode) {
          hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint

          console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');
        }
      }
      return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
    }
    function isConcurrentMode(object) {
      return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
    }
    function isContextConsumer(object) {
      return typeOf(object) === REACT_CONTEXT_TYPE;
    }
    function isContextProvider(object) {
      return typeOf(object) === REACT_PROVIDER_TYPE;
    }
    function isElement(object) {
      return (0, _typeof2["default"])(object) === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
    }
    function isForwardRef(object) {
      return typeOf(object) === REACT_FORWARD_REF_TYPE;
    }
    function isFragment(object) {
      return typeOf(object) === REACT_FRAGMENT_TYPE;
    }
    function isLazy(object) {
      return typeOf(object) === REACT_LAZY_TYPE;
    }
    function isMemo(object) {
      return typeOf(object) === REACT_MEMO_TYPE;
    }
    function isPortal(object) {
      return typeOf(object) === REACT_PORTAL_TYPE;
    }
    function isProfiler(object) {
      return typeOf(object) === REACT_PROFILER_TYPE;
    }
    function isStrictMode(object) {
      return typeOf(object) === REACT_STRICT_MODE_TYPE;
    }
    function isSuspense(object) {
      return typeOf(object) === REACT_SUSPENSE_TYPE;
    }
    exports.AsyncMode = AsyncMode;
    exports.ConcurrentMode = ConcurrentMode;
    exports.ContextConsumer = ContextConsumer;
    exports.ContextProvider = ContextProvider;
    exports.Element = Element;
    exports.ForwardRef = ForwardRef;
    exports.Fragment = Fragment;
    exports.Lazy = Lazy;
    exports.Memo = Memo;
    exports.Portal = Portal;
    exports.Profiler = Profiler;
    exports.StrictMode = StrictMode;
    exports.Suspense = Suspense;
    exports.isAsyncMode = isAsyncMode;
    exports.isConcurrentMode = isConcurrentMode;
    exports.isContextConsumer = isContextConsumer;
    exports.isContextProvider = isContextProvider;
    exports.isElement = isElement;
    exports.isForwardRef = isForwardRef;
    exports.isFragment = isFragment;
    exports.isLazy = isLazy;
    exports.isMemo = isMemo;
    exports.isPortal = isPortal;
    exports.isProfiler = isProfiler;
    exports.isStrictMode = isStrictMode;
    exports.isSuspense = isSuspense;
    exports.isValidElementType = isValidElementType;
    exports.typeOf = typeOf;
  })();
}
}).call(this)}).call(this,require('_process'))
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113,"_process":231}],239:[function(require,module,exports){
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var b = "function" === typeof Symbol && Symbol["for"],
  c = b ? Symbol["for"]("react.element") : 60103,
  d = b ? Symbol["for"]("react.portal") : 60106,
  e = b ? Symbol["for"]("react.fragment") : 60107,
  f = b ? Symbol["for"]("react.strict_mode") : 60108,
  g = b ? Symbol["for"]("react.profiler") : 60114,
  h = b ? Symbol["for"]("react.provider") : 60109,
  k = b ? Symbol["for"]("react.context") : 60110,
  l = b ? Symbol["for"]("react.async_mode") : 60111,
  m = b ? Symbol["for"]("react.concurrent_mode") : 60111,
  n = b ? Symbol["for"]("react.forward_ref") : 60112,
  p = b ? Symbol["for"]("react.suspense") : 60113,
  q = b ? Symbol["for"]("react.suspense_list") : 60120,
  r = b ? Symbol["for"]("react.memo") : 60115,
  t = b ? Symbol["for"]("react.lazy") : 60116,
  v = b ? Symbol["for"]("react.block") : 60121,
  w = b ? Symbol["for"]("react.fundamental") : 60117,
  x = b ? Symbol["for"]("react.responder") : 60118,
  y = b ? Symbol["for"]("react.scope") : 60119;
function z(a) {
  if ("object" === (0, _typeof2["default"])(a) && null !== a) {
    var u = a.$$typeof;
    switch (u) {
      case c:
        switch (a = a.type, a) {
          case l:
          case m:
          case e:
          case g:
          case f:
          case p:
            return a;
          default:
            switch (a = a && a.$$typeof, a) {
              case k:
              case n:
              case t:
              case r:
              case h:
                return a;
              default:
                return u;
            }
        }
      case d:
        return u;
    }
  }
}
function A(a) {
  return z(a) === m;
}
exports.AsyncMode = l;
exports.ConcurrentMode = m;
exports.ContextConsumer = k;
exports.ContextProvider = h;
exports.Element = c;
exports.ForwardRef = n;
exports.Fragment = e;
exports.Lazy = t;
exports.Memo = r;
exports.Portal = d;
exports.Profiler = g;
exports.StrictMode = f;
exports.Suspense = p;
exports.isAsyncMode = function (a) {
  return A(a) || z(a) === l;
};
exports.isConcurrentMode = A;
exports.isContextConsumer = function (a) {
  return z(a) === k;
};
exports.isContextProvider = function (a) {
  return z(a) === h;
};
exports.isElement = function (a) {
  return "object" === (0, _typeof2["default"])(a) && null !== a && a.$$typeof === c;
};
exports.isForwardRef = function (a) {
  return z(a) === n;
};
exports.isFragment = function (a) {
  return z(a) === e;
};
exports.isLazy = function (a) {
  return z(a) === t;
};
exports.isMemo = function (a) {
  return z(a) === r;
};
exports.isPortal = function (a) {
  return z(a) === d;
};
exports.isProfiler = function (a) {
  return z(a) === g;
};
exports.isStrictMode = function (a) {
  return z(a) === f;
};
exports.isSuspense = function (a) {
  return z(a) === p;
};
exports.isValidElementType = function (a) {
  return "string" === typeof a || "function" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || "object" === (0, _typeof2["default"])(a) && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);
};
exports.typeOf = z;
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113}],240:[function(require,module,exports){
(function (process){(function (){
'use strict';

if (process.env.NODE_ENV === 'production') {
  module.exports = require('./cjs/react-is.production.min.js');
} else {
  module.exports = require('./cjs/react-is.development.js');
}
}).call(this)}).call(this,require('_process'))
},{"./cjs/react-is.development.js":238,"./cjs/react-is.production.min.js":239,"_process":231}],241:[function(require,module,exports){
'use strict';

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault2(require("@babel/runtime/helpers/typeof"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }
  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();
var _react = require('react');
var _react2 = _interopRequireDefault(_react);
var _propTypes = require('prop-types');
var _propTypes2 = _interopRequireDefault(_propTypes);
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return call && ((0, _typeof2["default"])(call) === "object" || typeof call === "function") ? call : self;
}
function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (0, _typeof2["default"])(superClass));
  }
  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
} // eslint-disable-line no-unused-vars

var Content = function (_Component) {
  _inherits(Content, _Component);
  function Content() {
    _classCallCheck(this, Content);
    return _possibleConstructorReturn(this, (Content.__proto__ || Object.getPrototypeOf(Content)).apply(this, arguments));
  }
  _createClass(Content, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.props.contentDidMount();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.props.contentDidUpdate();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react.Children.only(this.props.children);
    }
  }]);
  return Content;
}(_react.Component);
Content.propTypes = {
  children: _propTypes2["default"].element.isRequired,
  contentDidMount: _propTypes2["default"].func.isRequired,
  contentDidUpdate: _propTypes2["default"].func.isRequired
};
exports["default"] = Content;
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113,"prop-types":235,"react":"react"}],242:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FrameContextConsumer = exports.FrameContextProvider = exports.FrameContext = undefined;
var _react = require('react');
var _react2 = _interopRequireDefault(_react);
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
var doc = void 0;
var win = void 0;
if (typeof document !== 'undefined') {
  doc = document;
}
if (typeof window !== 'undefined') {
  win = window;
}
var FrameContext = exports.FrameContext = _react2["default"].createContext({
  document: doc,
  window: win
});
var FrameContextProvider = FrameContext.Provider,
  FrameContextConsumer = FrameContext.Consumer;
exports.FrameContextProvider = FrameContextProvider;
exports.FrameContextConsumer = FrameContextConsumer;
},{"react":"react"}],243:[function(require,module,exports){
'use strict';

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof2 = _interopRequireDefault2(require("@babel/runtime/helpers/typeof"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];
    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }
  return target;
};
var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }
  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();
var _react = require('react');
var _react2 = _interopRequireDefault(_react);
var _reactDom = require('react-dom');
var _reactDom2 = _interopRequireDefault(_reactDom);
var _propTypes = require('prop-types');
var _propTypes2 = _interopRequireDefault(_propTypes);
var _Context = require('./Context');
var _Content = require('./Content');
var _Content2 = _interopRequireDefault(_Content);
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return call && ((0, _typeof2["default"])(call) === "object" || typeof call === "function") ? call : self;
}
function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (0, _typeof2["default"])(superClass));
  }
  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}
var Frame = function (_Component) {
  _inherits(Frame, _Component);

  // React warns when you render directly into the body since browser extensions
  // also inject into the body and can mess up React. For this reason
  // initialContent is expected to have a div inside of the body
  // element that we render react into.
  function Frame(props, context) {
    _classCallCheck(this, Frame);
    var _this = _possibleConstructorReturn(this, (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(this, props, context));
    _this.handleLoad = function () {
      _this.forceUpdate();
    };
    _this._isMounted = false;
    return _this;
  }
  _createClass(Frame, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this._isMounted = true;
      var doc = this.getDoc();
      if (doc && doc.readyState === 'complete') {
        this.forceUpdate();
      } else {
        this.node.addEventListener('load', this.handleLoad);
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this._isMounted = false;
      this.node.removeEventListener('load', this.handleLoad);
    }
  }, {
    key: 'getDoc',
    value: function getDoc() {
      return this.node ? this.node.contentDocument : null; // eslint-disable-line
    }
  }, {
    key: 'getMountTarget',
    value: function getMountTarget() {
      var doc = this.getDoc();
      if (this.props.mountTarget) {
        return doc.querySelector(this.props.mountTarget);
      }
      return doc.body.children[0];
    }
  }, {
    key: 'renderFrameContents',
    value: function renderFrameContents() {
      if (!this._isMounted) {
        return null;
      }
      var doc = this.getDoc();
      if (!doc) {
        return null;
      }
      var contentDidMount = this.props.contentDidMount;
      var contentDidUpdate = this.props.contentDidUpdate;
      var win = doc.defaultView || doc.parentView;
      var contents = _react2["default"].createElement(_Content2["default"], {
        contentDidMount: contentDidMount,
        contentDidUpdate: contentDidUpdate
      }, _react2["default"].createElement(_Context.FrameContextProvider, {
        value: {
          document: doc,
          window: win
        }
      }, _react2["default"].createElement('div', {
        className: 'frame-content'
      }, this.props.children)));
      if (doc.body.children.length < 1) {
        doc.open('text/html', 'replace');
        doc.write(this.props.initialContent);
        doc.close();
      }
      var mountTarget = this.getMountTarget();
      return [_reactDom2["default"].createPortal(this.props.head, this.getDoc().head), _reactDom2["default"].createPortal(contents, mountTarget)];
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;
      var props = _extends({}, this.props, {
        children: undefined // The iframe isn't ready so we drop children from props here. #12, #17
      });
      delete props.head;
      delete props.initialContent;
      delete props.mountTarget;
      delete props.contentDidMount;
      delete props.contentDidUpdate;
      return _react2["default"].createElement('iframe', _extends({}, props, {
        ref: function ref(node) {
          _this2.node = node;
        }
      }), this.renderFrameContents());
    }
  }]);
  return Frame;
}(_react.Component);
Frame.propTypes = {
  style: _propTypes2["default"].object,
  // eslint-disable-line
  head: _propTypes2["default"].node,
  initialContent: _propTypes2["default"].string,
  mountTarget: _propTypes2["default"].string,
  contentDidMount: _propTypes2["default"].func,
  contentDidUpdate: _propTypes2["default"].func,
  children: _propTypes2["default"].oneOfType([_propTypes2["default"].element, _propTypes2["default"].arrayOf(_propTypes2["default"].element)])
};
Frame.defaultProps = {
  style: {},
  head: null,
  children: undefined,
  mountTarget: undefined,
  contentDidMount: function contentDidMount() {},
  contentDidUpdate: function contentDidUpdate() {},
  initialContent: '<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'
};
exports["default"] = Frame;
},{"./Content":241,"./Context":242,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":113,"prop-types":235,"react":"react","react-dom":"react-dom"}],244:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FrameContextConsumer = exports.FrameContext = undefined;
var _Context = require('./Context');
Object.defineProperty(exports, 'FrameContext', {
  enumerable: true,
  get: function get() {
    return _Context.FrameContext;
  }
});
Object.defineProperty(exports, 'FrameContextConsumer', {
  enumerable: true,
  get: function get() {
    return _Context.FrameContextConsumer;
  }
});
var _Frame = require('./Frame');
var _Frame2 = _interopRequireDefault(_Frame);
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
exports["default"] = _Frame2["default"];
},{"./Context":242,"./Frame":243}],245:[function(require,module,exports){
(function (process,global){(function (){
/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof3 = require("@babel/runtime/helpers/typeof");
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _wrapNativeSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/wrapNativeSuper"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _toArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));
var _excluded = ["sri"],
  _excluded2 = ["page"],
  _excluded3 = ["page", "matches"],
  _excluded4 = ["tagName"],
  _excluded5 = ["onClick", "discover", "prefetch", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset", "viewTransition"],
  _excluded6 = ["aria-current", "caseSensitive", "className", "end", "style", "to", "viewTransition", "children"],
  _excluded7 = ["discover", "fetcherKey", "navigate", "reloadDocument", "replace", "state", "method", "action", "onSubmit", "relative", "preventScrollReset", "viewTransition"],
  _excluded8 = ["getKey", "storageKey"],
  _excluded9 = ["secrets"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, "default": e }; if (null === e || "object" != _typeof3(e) && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t71 in e) "default" !== _t71 && {}.hasOwnProperty.call(e, _t71) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t71)) && (i.get || i.set) ? o(f, _t71, i) : f[_t71] = e[_t71]); return f; })(e, t); }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2["default"])(o), (0, _possibleConstructorReturn2["default"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2["default"])(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __typeError = function __typeError(msg) {
  throw TypeError(msg);
};
var __export = function __export(target, all) {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var __copyProps = function __copyProps(to, from, except, desc) {
  if (from && (0, _typeof2["default"])(from) === "object" || typeof from === "function") {
    var _iterator = _createForOfIteratorHelper(__getOwnPropNames(from)),
      _step;
    try {
      var _loop = function _loop() {
        var key = _step.value;
        if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
          get: function get() {
            return from[key];
          },
          enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
        });
      };
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        _loop();
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  }
  return to;
};
var __toESM = function __toESM(mod, isNodeMode, target) {
  return target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", {
    value: mod,
    enumerable: true
  }) : target, mod);
};
var __toCommonJS = function __toCommonJS(mod) {
  return __copyProps(__defProp({}, "__esModule", {
    value: true
  }), mod);
};
var __accessCheck = function __accessCheck(obj, member, msg) {
  return member.has(obj) || __typeError("Cannot " + msg);
};
var __privateGet = function __privateGet(obj, member, getter) {
  return __accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj);
};
var __privateAdd = function __privateAdd(obj, member, value) {
  return member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
};

// index.ts
var react_router_exports = {};
__export(react_router_exports, {
  Await: function Await() {
    return _Await;
  },
  BrowserRouter: function BrowserRouter() {
    return _BrowserRouter;
  },
  Form: function Form() {
    return _Form;
  },
  HashRouter: function HashRouter() {
    return _HashRouter;
  },
  IDLE_BLOCKER: function IDLE_BLOCKER() {
    return _IDLE_BLOCKER;
  },
  IDLE_FETCHER: function IDLE_FETCHER() {
    return _IDLE_FETCHER;
  },
  IDLE_NAVIGATION: function IDLE_NAVIGATION() {
    return _IDLE_NAVIGATION;
  },
  Link: function Link() {
    return _Link;
  },
  Links: function Links() {
    return _Links;
  },
  MemoryRouter: function MemoryRouter() {
    return _MemoryRouter;
  },
  Meta: function Meta() {
    return _Meta;
  },
  NavLink: function NavLink() {
    return _NavLink;
  },
  Navigate: function Navigate() {
    return _Navigate;
  },
  NavigationType: function NavigationType() {
    return Action;
  },
  Outlet: function Outlet() {
    return _Outlet;
  },
  PrefetchPageLinks: function PrefetchPageLinks() {
    return _PrefetchPageLinks;
  },
  Route: function Route() {
    return _Route;
  },
  Router: function Router() {
    return _Router;
  },
  RouterProvider: function RouterProvider() {
    return _RouterProvider;
  },
  Routes: function Routes() {
    return _Routes;
  },
  Scripts: function Scripts() {
    return _Scripts;
  },
  ScrollRestoration: function ScrollRestoration() {
    return _ScrollRestoration;
  },
  ServerRouter: function ServerRouter() {
    return _ServerRouter;
  },
  StaticRouter: function StaticRouter() {
    return _StaticRouter;
  },
  StaticRouterProvider: function StaticRouterProvider() {
    return _StaticRouterProvider;
  },
  UNSAFE_DataRouterContext: function UNSAFE_DataRouterContext() {
    return DataRouterContext;
  },
  UNSAFE_DataRouterStateContext: function UNSAFE_DataRouterStateContext() {
    return DataRouterStateContext;
  },
  UNSAFE_ErrorResponseImpl: function UNSAFE_ErrorResponseImpl() {
    return ErrorResponseImpl;
  },
  UNSAFE_FetchersContext: function UNSAFE_FetchersContext() {
    return FetchersContext;
  },
  UNSAFE_FrameworkContext: function UNSAFE_FrameworkContext() {
    return FrameworkContext;
  },
  UNSAFE_LocationContext: function UNSAFE_LocationContext() {
    return LocationContext;
  },
  UNSAFE_NavigationContext: function UNSAFE_NavigationContext() {
    return NavigationContext;
  },
  UNSAFE_RemixErrorBoundary: function UNSAFE_RemixErrorBoundary() {
    return RemixErrorBoundary;
  },
  UNSAFE_RouteContext: function UNSAFE_RouteContext() {
    return RouteContext;
  },
  UNSAFE_ServerMode: function UNSAFE_ServerMode() {
    return ServerMode;
  },
  UNSAFE_SingleFetchRedirectSymbol: function UNSAFE_SingleFetchRedirectSymbol() {
    return SingleFetchRedirectSymbol;
  },
  UNSAFE_ViewTransitionContext: function UNSAFE_ViewTransitionContext() {
    return ViewTransitionContext;
  },
  UNSAFE_createBrowserHistory: function UNSAFE_createBrowserHistory() {
    return createBrowserHistory;
  },
  UNSAFE_createClientRoutes: function UNSAFE_createClientRoutes() {
    return createClientRoutes;
  },
  UNSAFE_createClientRoutesWithHMRRevalidationOptOut: function UNSAFE_createClientRoutesWithHMRRevalidationOptOut() {
    return createClientRoutesWithHMRRevalidationOptOut;
  },
  UNSAFE_createRouter: function UNSAFE_createRouter() {
    return createRouter;
  },
  UNSAFE_decodeViaTurboStream: function UNSAFE_decodeViaTurboStream() {
    return decodeViaTurboStream;
  },
  UNSAFE_deserializeErrors: function UNSAFE_deserializeErrors() {
    return deserializeErrors2;
  },
  UNSAFE_getHydrationData: function UNSAFE_getHydrationData() {
    return getHydrationData;
  },
  UNSAFE_getPatchRoutesOnNavigationFunction: function UNSAFE_getPatchRoutesOnNavigationFunction() {
    return getPatchRoutesOnNavigationFunction;
  },
  UNSAFE_getTurboStreamSingleFetchDataStrategy: function UNSAFE_getTurboStreamSingleFetchDataStrategy() {
    return getTurboStreamSingleFetchDataStrategy;
  },
  UNSAFE_hydrationRouteProperties: function UNSAFE_hydrationRouteProperties() {
    return hydrationRouteProperties;
  },
  UNSAFE_invariant: function UNSAFE_invariant() {
    return invariant;
  },
  UNSAFE_mapRouteProperties: function UNSAFE_mapRouteProperties() {
    return mapRouteProperties;
  },
  UNSAFE_shouldHydrateRouteLoader: function UNSAFE_shouldHydrateRouteLoader() {
    return shouldHydrateRouteLoader;
  },
  UNSAFE_useFogOFWarDiscovery: function UNSAFE_useFogOFWarDiscovery() {
    return useFogOFWarDiscovery;
  },
  UNSAFE_useScrollRestoration: function UNSAFE_useScrollRestoration() {
    return useScrollRestoration;
  },
  UNSAFE_withComponentProps: function UNSAFE_withComponentProps() {
    return withComponentProps;
  },
  UNSAFE_withErrorBoundaryProps: function UNSAFE_withErrorBoundaryProps() {
    return withErrorBoundaryProps;
  },
  UNSAFE_withHydrateFallbackProps: function UNSAFE_withHydrateFallbackProps() {
    return withHydrateFallbackProps;
  },
  createBrowserRouter: function createBrowserRouter() {
    return _createBrowserRouter;
  },
  createCookie: function createCookie() {
    return _createCookie;
  },
  createCookieSessionStorage: function createCookieSessionStorage() {
    return _createCookieSessionStorage;
  },
  createHashRouter: function createHashRouter() {
    return _createHashRouter;
  },
  createMemoryRouter: function createMemoryRouter() {
    return _createMemoryRouter;
  },
  createMemorySessionStorage: function createMemorySessionStorage() {
    return _createMemorySessionStorage;
  },
  createPath: function createPath() {
    return _createPath;
  },
  createRequestHandler: function createRequestHandler() {
    return _createRequestHandler;
  },
  createRoutesFromChildren: function createRoutesFromChildren() {
    return _createRoutesFromChildren;
  },
  createRoutesFromElements: function createRoutesFromElements() {
    return _createRoutesFromElements;
  },
  createRoutesStub: function createRoutesStub() {
    return _createRoutesStub;
  },
  createSearchParams: function createSearchParams() {
    return _createSearchParams;
  },
  createSession: function createSession() {
    return _createSession;
  },
  createSessionStorage: function createSessionStorage() {
    return _createSessionStorage;
  },
  createStaticHandler: function createStaticHandler() {
    return createStaticHandler2;
  },
  createStaticRouter: function createStaticRouter() {
    return _createStaticRouter;
  },
  data: function data() {
    return _data;
  },
  generatePath: function generatePath() {
    return _generatePath;
  },
  href: function href() {
    return _href;
  },
  isCookie: function isCookie() {
    return _isCookie;
  },
  isRouteErrorResponse: function isRouteErrorResponse() {
    return _isRouteErrorResponse;
  },
  isSession: function isSession() {
    return _isSession;
  },
  matchPath: function matchPath() {
    return _matchPath;
  },
  matchRoutes: function matchRoutes() {
    return _matchRoutes;
  },
  parsePath: function parsePath() {
    return _parsePath;
  },
  redirect: function redirect() {
    return _redirect;
  },
  redirectDocument: function redirectDocument() {
    return _redirectDocument;
  },
  renderMatches: function renderMatches() {
    return _renderMatches2;
  },
  replace: function replace() {
    return _replace;
  },
  resolvePath: function resolvePath() {
    return _resolvePath;
  },
  unstable_HistoryRouter: function unstable_HistoryRouter() {
    return HistoryRouter;
  },
  unstable_RouterContextProvider: function unstable_RouterContextProvider() {
    return _unstable_RouterContextProvider;
  },
  unstable_createContext: function unstable_createContext() {
    return _unstable_createContext;
  },
  unstable_setDevServerHooks: function unstable_setDevServerHooks() {
    return setDevServerHooks;
  },
  unstable_usePrompt: function unstable_usePrompt() {
    return usePrompt;
  },
  useActionData: function useActionData() {
    return _useActionData;
  },
  useAsyncError: function useAsyncError() {
    return _useAsyncError;
  },
  useAsyncValue: function useAsyncValue() {
    return _useAsyncValue;
  },
  useBeforeUnload: function useBeforeUnload() {
    return _useBeforeUnload;
  },
  useBlocker: function useBlocker() {
    return _useBlocker;
  },
  useFetcher: function useFetcher() {
    return _useFetcher;
  },
  useFetchers: function useFetchers() {
    return _useFetchers;
  },
  useFormAction: function useFormAction() {
    return _useFormAction;
  },
  useHref: function useHref() {
    return _useHref;
  },
  useInRouterContext: function useInRouterContext() {
    return _useInRouterContext;
  },
  useLinkClickHandler: function useLinkClickHandler() {
    return _useLinkClickHandler;
  },
  useLoaderData: function useLoaderData() {
    return _useLoaderData;
  },
  useLocation: function useLocation() {
    return _useLocation;
  },
  useMatch: function useMatch() {
    return _useMatch;
  },
  useMatches: function useMatches() {
    return _useMatches;
  },
  useNavigate: function useNavigate() {
    return _useNavigate;
  },
  useNavigation: function useNavigation() {
    return _useNavigation;
  },
  useNavigationType: function useNavigationType() {
    return _useNavigationType;
  },
  useOutlet: function useOutlet() {
    return _useOutlet;
  },
  useOutletContext: function useOutletContext() {
    return _useOutletContext;
  },
  useParams: function useParams() {
    return _useParams;
  },
  useResolvedPath: function useResolvedPath() {
    return _useResolvedPath;
  },
  useRevalidator: function useRevalidator() {
    return _useRevalidator;
  },
  useRouteError: function useRouteError() {
    return _useRouteError;
  },
  useRouteLoaderData: function useRouteLoaderData() {
    return _useRouteLoaderData;
  },
  useRoutes: function useRoutes() {
    return _useRoutes;
  },
  useSearchParams: function useSearchParams() {
    return _useSearchParams;
  },
  useSubmit: function useSubmit() {
    return _useSubmit;
  },
  useViewTransitionState: function useViewTransitionState() {
    return _useViewTransitionState;
  }
});
module.exports = __toCommonJS(react_router_exports);

// lib/router/history.ts
var Action = /* @__PURE__ */function (Action2) {
  Action2["Pop"] = "POP";
  Action2["Push"] = "PUSH";
  Action2["Replace"] = "REPLACE";
  return Action2;
}(Action || {});
var PopStateEventType = "popstate";
function createMemoryHistory() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var _options$initialEntri = options.initialEntries,
    initialEntries = _options$initialEntri === void 0 ? ["/"] : _options$initialEntri,
    initialIndex = options.initialIndex,
    _options$v5Compat = options.v5Compat,
    v5Compat = _options$v5Compat === void 0 ? false : _options$v5Compat;
  var entries;
  entries = initialEntries.map(function (entry, index2) {
    return createMemoryLocation(entry, typeof entry === "string" ? null : entry.state, index2 === 0 ? "default" : void 0);
  });
  var index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);
  var action = "POP" /* Pop */;
  var listener = null;
  function clampIndex(n) {
    return Math.min(Math.max(n, 0), entries.length - 1);
  }
  function getCurrentLocation() {
    return entries[index];
  }
  function createMemoryLocation(to) {
    var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    var key = arguments.length > 2 ? arguments[2] : undefined;
    var location = createLocation(entries ? getCurrentLocation().pathname : "/", to, state, key);
    warning(location.pathname.charAt(0) === "/", "relative pathnames are not supported in memory history: ".concat(JSON.stringify(to)));
    return location;
  }
  function createHref2(to) {
    return typeof to === "string" ? to : _createPath(to);
  }
  var history = {
    get index() {
      return index;
    },
    get action() {
      return action;
    },
    get location() {
      return getCurrentLocation();
    },
    createHref: createHref2,
    createURL: function createURL(to) {
      return new URL(createHref2(to), "http://localhost");
    },
    encodeLocation: function encodeLocation(to) {
      var path = typeof to === "string" ? _parsePath(to) : to;
      return {
        pathname: path.pathname || "",
        search: path.search || "",
        hash: path.hash || ""
      };
    },
    push: function push(to, state) {
      action = "PUSH" /* Push */;
      var nextLocation = createMemoryLocation(to, state);
      index += 1;
      entries.splice(index, entries.length, nextLocation);
      if (v5Compat && listener) {
        listener({
          action: action,
          location: nextLocation,
          delta: 1
        });
      }
    },
    replace: function replace(to, state) {
      action = "REPLACE" /* Replace */;
      var nextLocation = createMemoryLocation(to, state);
      entries[index] = nextLocation;
      if (v5Compat && listener) {
        listener({
          action: action,
          location: nextLocation,
          delta: 0
        });
      }
    },
    go: function go(delta) {
      action = "POP" /* Pop */;
      var nextIndex = clampIndex(index + delta);
      var nextLocation = entries[nextIndex];
      index = nextIndex;
      if (listener) {
        listener({
          action: action,
          location: nextLocation,
          delta: delta
        });
      }
    },
    listen: function listen(fn) {
      listener = fn;
      return function () {
        listener = null;
      };
    }
  };
  return history;
}
function createBrowserHistory() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  function createBrowserLocation(window2, globalHistory) {
    var _window2$location = window2.location,
      pathname = _window2$location.pathname,
      search = _window2$location.search,
      hash = _window2$location.hash;
    return createLocation("", {
      pathname: pathname,
      search: search,
      hash: hash
    },
    // state defaults to `null` because `window.history.state` does
    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || "default");
  }
  function createBrowserHref(window2, to) {
    return typeof to === "string" ? to : _createPath(to);
  }
  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);
}
function createHashHistory() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  function createHashLocation(window2, globalHistory) {
    var _parsePath2 = _parsePath(window2.location.hash.substring(1)),
      _parsePath2$pathname = _parsePath2.pathname,
      pathname = _parsePath2$pathname === void 0 ? "/" : _parsePath2$pathname,
      _parsePath2$search = _parsePath2.search,
      search = _parsePath2$search === void 0 ? "" : _parsePath2$search,
      _parsePath2$hash = _parsePath2.hash,
      hash = _parsePath2$hash === void 0 ? "" : _parsePath2$hash;
    if (!pathname.startsWith("/") && !pathname.startsWith(".")) {
      pathname = "/" + pathname;
    }
    return createLocation("", {
      pathname: pathname,
      search: search,
      hash: hash
    },
    // state defaults to `null` because `window.history.state` does
    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || "default");
  }
  function createHashHref(window2, to) {
    var base = window2.document.querySelector("base");
    var href2 = "";
    if (base && base.getAttribute("href")) {
      var url = window2.location.href;
      var hashIndex = url.indexOf("#");
      href2 = hashIndex === -1 ? url : url.slice(0, hashIndex);
    }
    return href2 + "#" + (typeof to === "string" ? to : _createPath(to));
  }
  function validateHashLocation(location, to) {
    warning(location.pathname.charAt(0) === "/", "relative pathnames are not supported in hash history.push(".concat(JSON.stringify(to), ")"));
  }
  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);
}
function invariant(value, message) {
  if (value === false || value === null || typeof value === "undefined") {
    throw new Error(message);
  }
}
function warning(cond, message) {
  if (!cond) {
    if (typeof console !== "undefined") console.warn(message);
    try {
      throw new Error(message);
    } catch (e) {}
  }
}
function createKey() {
  return Math.random().toString(36).substring(2, 10);
}
function getHistoryState(location, index) {
  return {
    usr: location.state,
    key: location.key,
    idx: index
  };
}
function createLocation(current, to) {
  var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var key = arguments.length > 3 ? arguments[3] : undefined;
  var location = _objectSpread(_objectSpread({
    pathname: typeof current === "string" ? current : current.pathname,
    search: "",
    hash: ""
  }, typeof to === "string" ? _parsePath(to) : to), {}, {
    state: state,
    // TODO: This could be cleaned up.  push/replace should probably just take
    // full Locations now and avoid the need to run through this flow at all
    // But that's a pretty big refactor to the current test suite so going to
    // keep as is for the time being and just let any incoming keys take precedence
    key: to && to.key || key || createKey()
  });
  return location;
}
function _createPath(_ref) {
  var _ref$pathname = _ref.pathname,
    pathname = _ref$pathname === void 0 ? "/" : _ref$pathname,
    _ref$search = _ref.search,
    search = _ref$search === void 0 ? "" : _ref$search,
    _ref$hash = _ref.hash,
    hash = _ref$hash === void 0 ? "" : _ref$hash;
  if (search && search !== "?") pathname += search.charAt(0) === "?" ? search : "?" + search;
  if (hash && hash !== "#") pathname += hash.charAt(0) === "#" ? hash : "#" + hash;
  return pathname;
}
function _parsePath(path) {
  var parsedPath = {};
  if (path) {
    var hashIndex = path.indexOf("#");
    if (hashIndex >= 0) {
      parsedPath.hash = path.substring(hashIndex);
      path = path.substring(0, hashIndex);
    }
    var searchIndex = path.indexOf("?");
    if (searchIndex >= 0) {
      parsedPath.search = path.substring(searchIndex);
      path = path.substring(0, searchIndex);
    }
    if (path) {
      parsedPath.pathname = path;
    }
  }
  return parsedPath;
}
function getUrlBasedHistory(getLocation, createHref2, validateLocation) {
  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
  var _options$window = options.window,
    window2 = _options$window === void 0 ? document.defaultView : _options$window,
    _options$v5Compat2 = options.v5Compat,
    v5Compat = _options$v5Compat2 === void 0 ? false : _options$v5Compat2;
  var globalHistory = window2.history;
  var action = "POP" /* Pop */;
  var listener = null;
  var index = getIndex();
  if (index == null) {
    index = 0;
    globalHistory.replaceState(_objectSpread(_objectSpread({}, globalHistory.state), {}, {
      idx: index
    }), "");
  }
  function getIndex() {
    var state = globalHistory.state || {
      idx: null
    };
    return state.idx;
  }
  function handlePop() {
    action = "POP" /* Pop */;
    var nextIndex = getIndex();
    var delta = nextIndex == null ? null : nextIndex - index;
    index = nextIndex;
    if (listener) {
      listener({
        action: action,
        location: history.location,
        delta: delta
      });
    }
  }
  function push(to, state) {
    action = "PUSH" /* Push */;
    var location = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location, to);
    index = getIndex() + 1;
    var historyState = getHistoryState(location, index);
    var url = history.createHref(location);
    try {
      globalHistory.pushState(historyState, "", url);
    } catch (error) {
      if (error instanceof DOMException && error.name === "DataCloneError") {
        throw error;
      }
      window2.location.assign(url);
    }
    if (v5Compat && listener) {
      listener({
        action: action,
        location: history.location,
        delta: 1
      });
    }
  }
  function replace2(to, state) {
    action = "REPLACE" /* Replace */;
    var location = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location, to);
    index = getIndex();
    var historyState = getHistoryState(location, index);
    var url = history.createHref(location);
    globalHistory.replaceState(historyState, "", url);
    if (v5Compat && listener) {
      listener({
        action: action,
        location: history.location,
        delta: 0
      });
    }
  }
  function createURL(to) {
    return createBrowserURLImpl(to);
  }
  var history = {
    get action() {
      return action;
    },
    get location() {
      return getLocation(window2, globalHistory);
    },
    listen: function listen(fn) {
      if (listener) {
        throw new Error("A history only accepts one active listener");
      }
      window2.addEventListener(PopStateEventType, handlePop);
      listener = fn;
      return function () {
        window2.removeEventListener(PopStateEventType, handlePop);
        listener = null;
      };
    },
    createHref: function createHref(to) {
      return createHref2(window2, to);
    },
    createURL: createURL,
    encodeLocation: function encodeLocation(to) {
      var url = createURL(to);
      return {
        pathname: url.pathname,
        search: url.search,
        hash: url.hash
      };
    },
    push: push,
    replace: replace2,
    go: function go(n) {
      return globalHistory.go(n);
    }
  };
  return history;
}
function createBrowserURLImpl(to) {
  var isAbsolute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var base = "http://localhost";
  if (typeof window !== "undefined") {
    base = window.location.origin !== "null" ? window.location.origin : window.location.href;
  }
  invariant(base, "No window.location.(origin|href) available to create URL");
  var href2 = typeof to === "string" ? to : _createPath(to);
  href2 = href2.replace(/ $/, "%20");
  if (!isAbsolute && href2.startsWith("//")) {
    href2 = base + href2;
  }
  return new URL(href2, base);
}

// lib/router/utils.ts
function _unstable_createContext(defaultValue) {
  return {
    defaultValue: defaultValue
  };
}
var _map;
var _unstable_RouterContextProvider = /*#__PURE__*/function () {
  function _unstable_RouterContextProvider(init) {
    (0, _classCallCheck2["default"])(this, _unstable_RouterContextProvider);
    __privateAdd(this, _map, /* @__PURE__ */new Map());
    if (init) {
      var _iterator2 = _createForOfIteratorHelper(init),
        _step2;
      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var _step2$value = (0, _slicedToArray2["default"])(_step2.value, 2),
            context = _step2$value[0],
            value = _step2$value[1];
          this.set(context, value);
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    }
  }
  return (0, _createClass2["default"])(_unstable_RouterContextProvider, [{
    key: "get",
    value: function get(context) {
      if (__privateGet(this, _map).has(context)) {
        return __privateGet(this, _map).get(context);
      }
      if (context.defaultValue !== void 0) {
        return context.defaultValue;
      }
      throw new Error("No value found for context");
    }
  }, {
    key: "set",
    value: function set(context, value) {
      __privateGet(this, _map).set(context, value);
    }
  }]);
}();
_map = new WeakMap();
var unsupportedLazyRouteObjectKeys = /* @__PURE__ */new Set(["lazy", "caseSensitive", "path", "id", "index", "children"]);
function isUnsupportedLazyRouteObjectKey(key) {
  return unsupportedLazyRouteObjectKeys.has(key);
}
var unsupportedLazyRouteFunctionKeys = /* @__PURE__ */new Set(["lazy", "caseSensitive", "path", "id", "index", "unstable_middleware", "children"]);
function isUnsupportedLazyRouteFunctionKey(key) {
  return unsupportedLazyRouteFunctionKeys.has(key);
}
function isIndexRoute(route) {
  return route.index === true;
}
function convertRoutesToDataRoutes(routes, mapRouteProperties2) {
  var parentPath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
  var manifest = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
  return routes.map(function (route, index) {
    var treePath = [].concat((0, _toConsumableArray2["default"])(parentPath), [String(index)]);
    var id = typeof route.id === "string" ? route.id : treePath.join("-");
    invariant(route.index !== true || !route.children, "Cannot specify children on an index route");
    invariant(!manifest[id], "Found a route id collision on id \"".concat(id, "\".  Route id's must be globally unique within Data Router usages"));
    if (isIndexRoute(route)) {
      var indexRoute = _objectSpread(_objectSpread(_objectSpread({}, route), mapRouteProperties2(route)), {}, {
        id: id
      });
      manifest[id] = indexRoute;
      return indexRoute;
    } else {
      var pathOrLayoutRoute = _objectSpread(_objectSpread(_objectSpread({}, route), mapRouteProperties2(route)), {}, {
        id: id,
        children: void 0
      });
      manifest[id] = pathOrLayoutRoute;
      if (route.children) {
        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties2, treePath, manifest);
      }
      return pathOrLayoutRoute;
    }
  });
}
function _matchRoutes(routes, locationArg) {
  var basename = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "/";
  return matchRoutesImpl(routes, locationArg, basename, false);
}
function matchRoutesImpl(routes, locationArg, basename, allowPartial) {
  var location = typeof locationArg === "string" ? _parsePath(locationArg) : locationArg;
  var pathname = stripBasename(location.pathname || "/", basename);
  if (pathname == null) {
    return null;
  }
  var branches = flattenRoutes(routes);
  rankRouteBranches(branches);
  var matches = null;
  for (var i = 0; matches == null && i < branches.length; ++i) {
    var decoded = decodePath(pathname);
    matches = matchRouteBranch(branches[i], decoded, allowPartial);
  }
  return matches;
}
function convertRouteMatchToUiMatch(match, loaderData) {
  var route = match.route,
    pathname = match.pathname,
    params = match.params;
  return {
    id: route.id,
    pathname: pathname,
    params: params,
    data: loaderData[route.id],
    handle: route.handle
  };
}
function flattenRoutes(routes) {
  var branches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var parentsMeta = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
  var parentPath = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "";
  var flattenRoute = function flattenRoute(route, index, relativePath) {
    var meta = {
      relativePath: relativePath === void 0 ? route.path || "" : relativePath,
      caseSensitive: route.caseSensitive === true,
      childrenIndex: index,
      route: route
    };
    if (meta.relativePath.startsWith("/")) {
      invariant(meta.relativePath.startsWith(parentPath), "Absolute route path \"".concat(meta.relativePath, "\" nested under path \"").concat(parentPath, "\" is not valid. An absolute child route path must start with the combined path of all its parent routes."));
      meta.relativePath = meta.relativePath.slice(parentPath.length);
    }
    var path = joinPaths([parentPath, meta.relativePath]);
    var routesMeta = parentsMeta.concat(meta);
    if (route.children && route.children.length > 0) {
      invariant(
      // Our types know better, but runtime JS may not!
      // @ts-expect-error
      route.index !== true, "Index routes must not have child routes. Please remove all child routes from route path \"".concat(path, "\"."));
      flattenRoutes(route.children, branches, routesMeta, path);
    }
    if (route.path == null && !route.index) {
      return;
    }
    branches.push({
      path: path,
      score: computeScore(path, route.index),
      routesMeta: routesMeta
    });
  };
  routes.forEach(function (route, index) {
    var _route$path;
    if (route.path === "" || !((_route$path = route.path) !== null && _route$path !== void 0 && _route$path.includes("?"))) {
      flattenRoute(route, index);
    } else {
      var _iterator3 = _createForOfIteratorHelper(explodeOptionalSegments(route.path)),
        _step3;
      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var exploded = _step3.value;
          flattenRoute(route, index, exploded);
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
    }
  });
  return branches;
}
function explodeOptionalSegments(path) {
  var segments = path.split("/");
  if (segments.length === 0) return [];
  var _segments = (0, _toArray2["default"])(segments),
    first = _segments[0],
    rest = _segments.slice(1);
  var isOptional = first.endsWith("?");
  var required = first.replace(/\?$/, "");
  if (rest.length === 0) {
    return isOptional ? [required, ""] : [required];
  }
  var restExploded = explodeOptionalSegments(rest.join("/"));
  var result = [];
  result.push.apply(result, (0, _toConsumableArray2["default"])(restExploded.map(function (subpath) {
    return subpath === "" ? required : [required, subpath].join("/");
  })));
  if (isOptional) {
    result.push.apply(result, (0, _toConsumableArray2["default"])(restExploded));
  }
  return result.map(function (exploded) {
    return path.startsWith("/") && exploded === "" ? "/" : exploded;
  });
}
function rankRouteBranches(branches) {
  branches.sort(function (a, b) {
    return a.score !== b.score ? b.score - a.score : compareIndexes(a.routesMeta.map(function (meta) {
      return meta.childrenIndex;
    }), b.routesMeta.map(function (meta) {
      return meta.childrenIndex;
    }));
  });
}
var paramRe = /^:[\w-]+$/;
var dynamicSegmentValue = 3;
var indexRouteValue = 2;
var emptySegmentValue = 1;
var staticSegmentValue = 10;
var splatPenalty = -2;
var isSplat = function isSplat(s) {
  return s === "*";
};
function computeScore(path, index) {
  var segments = path.split("/");
  var initialScore = segments.length;
  if (segments.some(isSplat)) {
    initialScore += splatPenalty;
  }
  if (index) {
    initialScore += indexRouteValue;
  }
  return segments.filter(function (s) {
    return !isSplat(s);
  }).reduce(function (score, segment) {
    return score + (paramRe.test(segment) ? dynamicSegmentValue : segment === "" ? emptySegmentValue : staticSegmentValue);
  }, initialScore);
}
function compareIndexes(a, b) {
  var siblings = a.length === b.length && a.slice(0, -1).every(function (n, i) {
    return n === b[i];
  });
  return siblings ?
  // If two routes are siblings, we should try to match the earlier sibling
  // first. This allows people to have fine-grained control over the matching
  // behavior by simply putting routes with identical paths in the order they
  // want them tried.
  a[a.length - 1] - b[b.length - 1] :
  // Otherwise, it doesn't really make sense to rank non-siblings by index,
  // so they sort equally.
  0;
}
function matchRouteBranch(branch, pathname) {
  var allowPartial = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var routesMeta = branch.routesMeta;
  var matchedParams = {};
  var matchedPathname = "/";
  var matches = [];
  for (var i = 0; i < routesMeta.length; ++i) {
    var meta = routesMeta[i];
    var end = i === routesMeta.length - 1;
    var remainingPathname = matchedPathname === "/" ? pathname : pathname.slice(matchedPathname.length) || "/";
    var match = _matchPath({
      path: meta.relativePath,
      caseSensitive: meta.caseSensitive,
      end: end
    }, remainingPathname);
    var route = meta.route;
    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {
      match = _matchPath({
        path: meta.relativePath,
        caseSensitive: meta.caseSensitive,
        end: false
      }, remainingPathname);
    }
    if (!match) {
      return null;
    }
    Object.assign(matchedParams, match.params);
    matches.push({
      // TODO: Can this as be avoided?
      params: matchedParams,
      pathname: joinPaths([matchedPathname, match.pathname]),
      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),
      route: route
    });
    if (match.pathnameBase !== "/") {
      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);
    }
  }
  return matches;
}
function _generatePath(originalPath) {
  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var path = originalPath;
  if (path.endsWith("*") && path !== "*" && !path.endsWith("/*")) {
    warning(false, "Route path \"".concat(path, "\" will be treated as if it were \"").concat(path.replace(/\*$/, "/*"), "\" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to \"").concat(path.replace(/\*$/, "/*"), "\"."));
    path = path.replace(/\*$/, "/*");
  }
  var prefix = path.startsWith("/") ? "/" : "";
  var stringify2 = function stringify2(p) {
    return p == null ? "" : typeof p === "string" ? p : String(p);
  };
  var segments = path.split(/\/+/).map(function (segment, index, array) {
    var isLastSegment = index === array.length - 1;
    if (isLastSegment && segment === "*") {
      var star = "*";
      return stringify2(params[star]);
    }
    var keyMatch = segment.match(/^:([\w-]+)(\??)$/);
    if (keyMatch) {
      var _keyMatch = (0, _slicedToArray2["default"])(keyMatch, 3),
        key = _keyMatch[1],
        optional = _keyMatch[2];
      var param = params[key];
      invariant(optional === "?" || param != null, "Missing \":".concat(key, "\" param"));
      return stringify2(param);
    }
    return segment.replace(/\?$/g, "");
  }).filter(function (segment) {
    return !!segment;
  });
  return prefix + segments.join("/");
}
function _matchPath(pattern, pathname) {
  if (typeof pattern === "string") {
    pattern = {
      path: pattern,
      caseSensitive: false,
      end: true
    };
  }
  var _compilePath = compilePath(pattern.path, pattern.caseSensitive, pattern.end),
    _compilePath2 = (0, _slicedToArray2["default"])(_compilePath, 2),
    matcher = _compilePath2[0],
    compiledParams = _compilePath2[1];
  var match = pathname.match(matcher);
  if (!match) return null;
  var matchedPathname = match[0];
  var pathnameBase = matchedPathname.replace(/(.)\/+$/, "$1");
  var captureGroups = match.slice(1);
  var params = compiledParams.reduce(function (memo2, _ref2, index) {
    var paramName = _ref2.paramName,
      isOptional = _ref2.isOptional;
    if (paramName === "*") {
      var splatValue = captureGroups[index] || "";
      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\/+$/, "$1");
    }
    var value = captureGroups[index];
    if (isOptional && !value) {
      memo2[paramName] = void 0;
    } else {
      memo2[paramName] = (value || "").replace(/%2F/g, "/");
    }
    return memo2;
  }, {});
  return {
    params: params,
    pathname: matchedPathname,
    pathnameBase: pathnameBase,
    pattern: pattern
  };
}
function compilePath(path) {
  var caseSensitive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  warning(path === "*" || !path.endsWith("*") || path.endsWith("/*"), "Route path \"".concat(path, "\" will be treated as if it were \"").concat(path.replace(/\*$/, "/*"), "\" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to \"").concat(path.replace(/\*$/, "/*"), "\"."));
  var params = [];
  var regexpSource = "^" + path.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, function (_, paramName, isOptional) {
    params.push({
      paramName: paramName,
      isOptional: isOptional != null
    });
    return isOptional ? "/?([^\\/]+)?" : "/([^\\/]+)";
  });
  if (path.endsWith("*")) {
    params.push({
      paramName: "*"
    });
    regexpSource += path === "*" || path === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$";
  } else if (end) {
    regexpSource += "\\/*$";
  } else if (path !== "" && path !== "/") {
    regexpSource += "(?:(?=\\/|$))";
  } else {}
  var matcher = new RegExp(regexpSource, caseSensitive ? void 0 : "i");
  return [matcher, params];
}
function decodePath(value) {
  try {
    return value.split("/").map(function (v) {
      return decodeURIComponent(v).replace(/\//g, "%2F");
    }).join("/");
  } catch (error) {
    warning(false, "The URL path \"".concat(value, "\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (").concat(error, ")."));
    return value;
  }
}
function stripBasename(pathname, basename) {
  if (basename === "/") return pathname;
  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {
    return null;
  }
  var startIndex = basename.endsWith("/") ? basename.length - 1 : basename.length;
  var nextChar = pathname.charAt(startIndex);
  if (nextChar && nextChar !== "/") {
    return null;
  }
  return pathname.slice(startIndex) || "/";
}
function _resolvePath(to) {
  var fromPathname = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "/";
  var _ref3 = typeof to === "string" ? _parsePath(to) : to,
    toPathname = _ref3.pathname,
    _ref3$search = _ref3.search,
    search = _ref3$search === void 0 ? "" : _ref3$search,
    _ref3$hash = _ref3.hash,
    hash = _ref3$hash === void 0 ? "" : _ref3$hash;
  var pathname = toPathname ? toPathname.startsWith("/") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;
  return {
    pathname: pathname,
    search: normalizeSearch(search),
    hash: normalizeHash(hash)
  };
}
function resolvePathname(relativePath, fromPathname) {
  var segments = fromPathname.replace(/\/+$/, "").split("/");
  var relativeSegments = relativePath.split("/");
  relativeSegments.forEach(function (segment) {
    if (segment === "..") {
      if (segments.length > 1) segments.pop();
    } else if (segment !== ".") {
      segments.push(segment);
    }
  });
  return segments.length > 1 ? segments.join("/") : "/";
}
function getInvalidPathError(_char, field, dest, path) {
  return "Cannot include a '".concat(_char, "' character in a manually specified `to.").concat(field, "` field [").concat(JSON.stringify(path), "].  Please separate it out to the `to.").concat(dest, "` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.");
}
function getPathContributingMatches(matches) {
  return matches.filter(function (match, index) {
    return index === 0 || match.route.path && match.route.path.length > 0;
  });
}
function getResolveToMatches(matches) {
  var pathMatches = getPathContributingMatches(matches);
  return pathMatches.map(function (match, idx) {
    return idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase;
  });
}
function resolveTo(toArg, routePathnames, locationPathname) {
  var isPathRelative = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var to;
  if (typeof toArg === "string") {
    to = _parsePath(toArg);
  } else {
    to = _objectSpread({}, toArg);
    invariant(!to.pathname || !to.pathname.includes("?"), getInvalidPathError("?", "pathname", "search", to));
    invariant(!to.pathname || !to.pathname.includes("#"), getInvalidPathError("#", "pathname", "hash", to));
    invariant(!to.search || !to.search.includes("#"), getInvalidPathError("#", "search", "hash", to));
  }
  var isEmptyPath = toArg === "" || to.pathname === "";
  var toPathname = isEmptyPath ? "/" : to.pathname;
  var from;
  if (toPathname == null) {
    from = locationPathname;
  } else {
    var routePathnameIndex = routePathnames.length - 1;
    if (!isPathRelative && toPathname.startsWith("..")) {
      var toSegments = toPathname.split("/");
      while (toSegments[0] === "..") {
        toSegments.shift();
        routePathnameIndex -= 1;
      }
      to.pathname = toSegments.join("/");
    }
    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : "/";
  }
  var path = _resolvePath(to, from);
  var hasExplicitTrailingSlash = toPathname && toPathname !== "/" && toPathname.endsWith("/");
  var hasCurrentTrailingSlash = (isEmptyPath || toPathname === ".") && locationPathname.endsWith("/");
  if (!path.pathname.endsWith("/") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {
    path.pathname += "/";
  }
  return path;
}
var joinPaths = function joinPaths(paths) {
  return paths.join("/").replace(/\/\/+/g, "/");
};
var normalizePathname = function normalizePathname(pathname) {
  return pathname.replace(/\/+$/, "").replace(/^\/*/, "/");
};
var normalizeSearch = function normalizeSearch(search) {
  return !search || search === "?" ? "" : search.startsWith("?") ? search : "?" + search;
};
var normalizeHash = function normalizeHash(hash) {
  return !hash || hash === "#" ? "" : hash.startsWith("#") ? hash : "#" + hash;
};
var DataWithResponseInit = /*#__PURE__*/(0, _createClass2["default"])(function DataWithResponseInit(data2, init) {
  (0, _classCallCheck2["default"])(this, DataWithResponseInit);
  this.type = "DataWithResponseInit";
  this.data = data2;
  this.init = init || null;
});
function _data(data2, init) {
  return new DataWithResponseInit(data2, typeof init === "number" ? {
    status: init
  } : init);
}
var _redirect = function _redirect(url) {
  var init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 302;
  var responseInit = init;
  if (typeof responseInit === "number") {
    responseInit = {
      status: responseInit
    };
  } else if (typeof responseInit.status === "undefined") {
    responseInit.status = 302;
  }
  var headers = new Headers(responseInit.headers);
  headers.set("Location", url);
  return new Response(null, _objectSpread(_objectSpread({}, responseInit), {}, {
    headers: headers
  }));
};
var _redirectDocument = function _redirectDocument(url, init) {
  var response = _redirect(url, init);
  response.headers.set("X-Remix-Reload-Document", "true");
  return response;
};
var _replace = function _replace(url, init) {
  var response = _redirect(url, init);
  response.headers.set("X-Remix-Replace", "true");
  return response;
};
var ErrorResponseImpl = /*#__PURE__*/(0, _createClass2["default"])(function ErrorResponseImpl(status, statusText, data2) {
  var internal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  (0, _classCallCheck2["default"])(this, ErrorResponseImpl);
  this.status = status;
  this.statusText = statusText || "";
  this.internal = internal;
  if (data2 instanceof Error) {
    this.data = data2.toString();
    this.error = data2;
  } else {
    this.data = data2;
  }
});
function _isRouteErrorResponse(error) {
  return error != null && typeof error.status === "number" && typeof error.statusText === "string" && typeof error.internal === "boolean" && "data" in error;
}

// lib/router/router.ts
var validMutationMethodsArr = ["POST", "PUT", "PATCH", "DELETE"];
var validMutationMethods = new Set(validMutationMethodsArr);
var validRequestMethodsArr = ["GET"].concat(validMutationMethodsArr);
var validRequestMethods = new Set(validRequestMethodsArr);
var redirectStatusCodes = /* @__PURE__ */new Set([301, 302, 303, 307, 308]);
var redirectPreserveMethodStatusCodes = /* @__PURE__ */new Set([307, 308]);
var _IDLE_NAVIGATION = {
  state: "idle",
  location: void 0,
  formMethod: void 0,
  formAction: void 0,
  formEncType: void 0,
  formData: void 0,
  json: void 0,
  text: void 0
};
var _IDLE_FETCHER = {
  state: "idle",
  data: void 0,
  formMethod: void 0,
  formAction: void 0,
  formEncType: void 0,
  formData: void 0,
  json: void 0,
  text: void 0
};
var _IDLE_BLOCKER = {
  state: "unblocked",
  proceed: void 0,
  reset: void 0,
  location: void 0
};
var ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var defaultMapRouteProperties = function defaultMapRouteProperties(route) {
  return {
    hasErrorBoundary: Boolean(route.hasErrorBoundary)
  };
};
var TRANSITIONS_STORAGE_KEY = "remix-router-transitions";
var ResetLoaderDataSymbol = Symbol("ResetLoaderData");
function createRouter(init) {
  var routerWindow = init.window ? init.window : typeof window !== "undefined" ? window : void 0;
  var isBrowser2 = typeof routerWindow !== "undefined" && typeof routerWindow.document !== "undefined" && typeof routerWindow.document.createElement !== "undefined";
  invariant(init.routes.length > 0, "You must provide a non-empty routes array to createRouter");
  var hydrationRouteProperties2 = init.hydrationRouteProperties || [];
  var mapRouteProperties2 = init.mapRouteProperties || defaultMapRouteProperties;
  var manifest = {};
  var dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties2, void 0, manifest);
  var inFlightDataRoutes;
  var basename = init.basename || "/";
  var dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;
  var future = _objectSpread({
    unstable_middleware: false
  }, init.future);
  var unlistenHistory = null;
  var subscribers = /* @__PURE__ */new Set();
  var savedScrollPositions2 = null;
  var getScrollRestorationKey2 = null;
  var getScrollPosition = null;
  var initialScrollRestored = init.hydrationData != null;
  var initialMatches = _matchRoutes(dataRoutes, init.history.location, basename);
  var initialMatchesIsFOW = false;
  var initialErrors = null;
  var initialized;
  if (initialMatches == null && !init.patchRoutesOnNavigation) {
    var error = getInternalRouterError(404, {
      pathname: init.history.location.pathname
    });
    var _getShortCircuitMatch = getShortCircuitMatches(dataRoutes),
      matches = _getShortCircuitMatch.matches,
      route = _getShortCircuitMatch.route;
    initialized = true;
    initialMatches = matches;
    initialErrors = (0, _defineProperty2["default"])({}, route.id, error);
  } else {
    if (initialMatches && !init.hydrationData) {
      var fogOfWar = checkFogOfWar(initialMatches, dataRoutes, init.history.location.pathname);
      if (fogOfWar.active) {
        initialMatches = null;
      }
    }
    if (!initialMatches) {
      initialized = false;
      initialMatches = [];
      var _fogOfWar = checkFogOfWar(null, dataRoutes, init.history.location.pathname);
      if (_fogOfWar.active && _fogOfWar.matches) {
        initialMatchesIsFOW = true;
        initialMatches = _fogOfWar.matches;
      }
    } else if (initialMatches.some(function (m) {
      return m.route.lazy;
    })) {
      initialized = false;
    } else if (!initialMatches.some(function (m) {
      return m.route.loader;
    })) {
      initialized = true;
    } else {
      var loaderData = init.hydrationData ? init.hydrationData.loaderData : null;
      var errors = init.hydrationData ? init.hydrationData.errors : null;
      if (errors) {
        var idx = initialMatches.findIndex(function (m) {
          return errors[m.route.id] !== void 0;
        });
        initialized = initialMatches.slice(0, idx + 1).every(function (m) {
          return !shouldLoadRouteOnHydration(m.route, loaderData, errors);
        });
      } else {
        initialized = initialMatches.every(function (m) {
          return !shouldLoadRouteOnHydration(m.route, loaderData, errors);
        });
      }
    }
  }
  var router;
  var state = {
    historyAction: init.history.action,
    location: init.history.location,
    matches: initialMatches,
    initialized: initialized,
    navigation: _IDLE_NAVIGATION,
    // Don't restore on initial updateState() if we were SSR'd
    restoreScrollPosition: init.hydrationData != null ? false : null,
    preventScrollReset: false,
    revalidation: "idle",
    loaderData: init.hydrationData && init.hydrationData.loaderData || {},
    actionData: init.hydrationData && init.hydrationData.actionData || null,
    errors: init.hydrationData && init.hydrationData.errors || initialErrors,
    fetchers: /* @__PURE__ */new Map(),
    blockers: /* @__PURE__ */new Map()
  };
  var pendingAction = "POP" /* Pop */;
  var pendingPreventScrollReset = false;
  var pendingNavigationController;
  var pendingViewTransitionEnabled = false;
  var appliedViewTransitions = /* @__PURE__ */new Map();
  var removePageHideEventListener = null;
  var isUninterruptedRevalidation = false;
  var isRevalidationRequired = false;
  var cancelledFetcherLoads = /* @__PURE__ */new Set();
  var fetchControllers = /* @__PURE__ */new Map();
  var incrementingLoadId = 0;
  var pendingNavigationLoadId = -1;
  var fetchReloadIds = /* @__PURE__ */new Map();
  var fetchRedirectIds = /* @__PURE__ */new Set();
  var fetchLoadMatches = /* @__PURE__ */new Map();
  var activeFetchers = /* @__PURE__ */new Map();
  var fetchersQueuedForDeletion = /* @__PURE__ */new Set();
  var blockerFunctions = /* @__PURE__ */new Map();
  var unblockBlockerHistoryUpdate = void 0;
  var pendingRevalidationDfd = null;
  function initialize() {
    unlistenHistory = init.history.listen(function (_ref4) {
      var historyAction = _ref4.action,
        location = _ref4.location,
        delta = _ref4.delta;
      if (unblockBlockerHistoryUpdate) {
        unblockBlockerHistoryUpdate();
        unblockBlockerHistoryUpdate = void 0;
        return;
      }
      warning(blockerFunctions.size === 0 || delta != null, "You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");
      var blockerKey = shouldBlockNavigation({
        currentLocation: state.location,
        nextLocation: location,
        historyAction: historyAction
      });
      if (blockerKey && delta != null) {
        var nextHistoryUpdatePromise = new Promise(function (resolve) {
          unblockBlockerHistoryUpdate = resolve;
        });
        init.history.go(delta * -1);
        updateBlocker(blockerKey, {
          state: "blocked",
          location: location,
          proceed: function proceed() {
            updateBlocker(blockerKey, {
              state: "proceeding",
              proceed: void 0,
              reset: void 0,
              location: location
            });
            nextHistoryUpdatePromise.then(function () {
              return init.history.go(delta);
            });
          },
          reset: function reset() {
            var blockers = new Map(state.blockers);
            blockers.set(blockerKey, _IDLE_BLOCKER);
            updateState({
              blockers: blockers
            });
          }
        });
        return;
      }
      return startNavigation(historyAction, location);
    });
    if (isBrowser2) {
      restoreAppliedTransitions(routerWindow, appliedViewTransitions);
      var _saveAppliedTransitions = function _saveAppliedTransitions() {
        return persistAppliedTransitions(routerWindow, appliedViewTransitions);
      };
      routerWindow.addEventListener("pagehide", _saveAppliedTransitions);
      removePageHideEventListener = function removePageHideEventListener() {
        return routerWindow.removeEventListener("pagehide", _saveAppliedTransitions);
      };
    }
    if (!state.initialized) {
      startNavigation("POP" /* Pop */, state.location, {
        initialHydration: true
      });
    }
    return router;
  }
  function dispose() {
    if (unlistenHistory) {
      unlistenHistory();
    }
    if (removePageHideEventListener) {
      removePageHideEventListener();
    }
    subscribers.clear();
    pendingNavigationController && pendingNavigationController.abort();
    state.fetchers.forEach(function (_, key) {
      return deleteFetcher(key);
    });
    state.blockers.forEach(function (_, key) {
      return deleteBlocker(key);
    });
  }
  function subscribe(fn) {
    subscribers.add(fn);
    return function () {
      return subscribers["delete"](fn);
    };
  }
  function updateState(newState) {
    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    state = _objectSpread(_objectSpread({}, state), newState);
    var unmountedFetchers = [];
    var mountedFetchers = [];
    state.fetchers.forEach(function (fetcher, key) {
      if (fetcher.state === "idle") {
        if (fetchersQueuedForDeletion.has(key)) {
          unmountedFetchers.push(key);
        } else {
          mountedFetchers.push(key);
        }
      }
    });
    fetchersQueuedForDeletion.forEach(function (key) {
      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {
        unmountedFetchers.push(key);
      }
    });
    (0, _toConsumableArray2["default"])(subscribers).forEach(function (subscriber) {
      return subscriber(state, {
        deletedFetchers: unmountedFetchers,
        viewTransitionOpts: opts.viewTransitionOpts,
        flushSync: opts.flushSync === true
      });
    });
    unmountedFetchers.forEach(function (key) {
      return deleteFetcher(key);
    });
    mountedFetchers.forEach(function (key) {
      return state.fetchers["delete"](key);
    });
  }
  function completeNavigation(location, newState) {
    var _location$state, _location$state2, _pendingRevalidationD;
    var _ref5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      flushSync = _ref5.flushSync;
    var isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === "loading" && ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state._isRedirect) !== true;
    var actionData;
    if (newState.actionData) {
      if (Object.keys(newState.actionData).length > 0) {
        actionData = newState.actionData;
      } else {
        actionData = null;
      }
    } else if (isActionReload) {
      actionData = state.actionData;
    } else {
      actionData = null;
    }
    var loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;
    var blockers = state.blockers;
    if (blockers.size > 0) {
      blockers = new Map(blockers);
      blockers.forEach(function (_, k) {
        return blockers.set(k, _IDLE_BLOCKER);
      });
    }
    var preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2._isRedirect) !== true;
    if (inFlightDataRoutes) {
      dataRoutes = inFlightDataRoutes;
      inFlightDataRoutes = void 0;
    }
    if (isUninterruptedRevalidation) {} else if (pendingAction === "POP" /* Pop */) {} else if (pendingAction === "PUSH" /* Push */) {
      init.history.push(location, location.state);
    } else if (pendingAction === "REPLACE" /* Replace */) {
      init.history.replace(location, location.state);
    }
    var viewTransitionOpts;
    if (pendingAction === "POP" /* Pop */) {
      var priorPaths = appliedViewTransitions.get(state.location.pathname);
      if (priorPaths && priorPaths.has(location.pathname)) {
        viewTransitionOpts = {
          currentLocation: state.location,
          nextLocation: location
        };
      } else if (appliedViewTransitions.has(location.pathname)) {
        viewTransitionOpts = {
          currentLocation: location,
          nextLocation: state.location
        };
      }
    } else if (pendingViewTransitionEnabled) {
      var toPaths = appliedViewTransitions.get(state.location.pathname);
      if (toPaths) {
        toPaths.add(location.pathname);
      } else {
        toPaths = /* @__PURE__ */new Set([location.pathname]);
        appliedViewTransitions.set(state.location.pathname, toPaths);
      }
      viewTransitionOpts = {
        currentLocation: state.location,
        nextLocation: location
      };
    }
    updateState(_objectSpread(_objectSpread({}, newState), {}, {
      // matches, errors, fetchers go through as-is
      actionData: actionData,
      loaderData: loaderData,
      historyAction: pendingAction,
      location: location,
      initialized: true,
      navigation: _IDLE_NAVIGATION,
      revalidation: "idle",
      restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),
      preventScrollReset: preventScrollReset,
      blockers: blockers
    }), {
      viewTransitionOpts: viewTransitionOpts,
      flushSync: flushSync === true
    });
    pendingAction = "POP" /* Pop */;
    pendingPreventScrollReset = false;
    pendingViewTransitionEnabled = false;
    isUninterruptedRevalidation = false;
    isRevalidationRequired = false;
    (_pendingRevalidationD = pendingRevalidationDfd) === null || _pendingRevalidationD === void 0 || _pendingRevalidationD.resolve();
    pendingRevalidationDfd = null;
  }
  function navigate(_x, _x2) {
    return _navigate.apply(this, arguments);
  }
  function _navigate() {
    _navigate = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(to, opts) {
      var normalizedPath, _normalizeNavigateOpt, path, submission, error, currentLocation, nextLocation, userReplace, historyAction, preventScrollReset, flushSync, blockerKey;
      return _regenerator["default"].wrap(function (_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            if (!(typeof to === "number")) {
              _context.next = 1;
              break;
            }
            init.history.go(to);
            return _context.abrupt("return");
          case 1:
            normalizedPath = normalizeTo(state.location, state.matches, basename, to, opts === null || opts === void 0 ? void 0 : opts.fromRouteId, opts === null || opts === void 0 ? void 0 : opts.relative);
            _normalizeNavigateOpt = normalizeNavigateOptions(false, normalizedPath, opts), path = _normalizeNavigateOpt.path, submission = _normalizeNavigateOpt.submission, error = _normalizeNavigateOpt.error;
            currentLocation = state.location;
            nextLocation = createLocation(state.location, path, opts && opts.state);
            nextLocation = _objectSpread(_objectSpread({}, nextLocation), init.history.encodeLocation(nextLocation));
            userReplace = opts && opts.replace != null ? opts.replace : void 0;
            historyAction = "PUSH";
            if (userReplace === true) {
              historyAction = "REPLACE" /* Replace */;
            } else if (userReplace === false) {} else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {
              historyAction = "REPLACE" /* Replace */;
            }
            preventScrollReset = opts && "preventScrollReset" in opts ? opts.preventScrollReset === true : void 0;
            flushSync = (opts && opts.flushSync) === true;
            blockerKey = shouldBlockNavigation({
              currentLocation: currentLocation,
              nextLocation: nextLocation,
              historyAction: historyAction
            });
            if (!blockerKey) {
              _context.next = 2;
              break;
            }
            updateBlocker(blockerKey, {
              state: "blocked",
              location: nextLocation,
              proceed: function proceed() {
                updateBlocker(blockerKey, {
                  state: "proceeding",
                  proceed: void 0,
                  reset: void 0,
                  location: nextLocation
                });
                navigate(to, opts);
              },
              reset: function reset() {
                var blockers = new Map(state.blockers);
                blockers.set(blockerKey, _IDLE_BLOCKER);
                updateState({
                  blockers: blockers
                });
              }
            });
            return _context.abrupt("return");
          case 2:
            _context.next = 3;
            return startNavigation(historyAction, nextLocation, {
              submission: submission,
              // Send through the formData serialization error if we have one so we can
              // render at the right error boundary after we match routes
              pendingError: error,
              preventScrollReset: preventScrollReset,
              replace: opts && opts.replace,
              enableViewTransition: opts && opts.viewTransition,
              flushSync: flushSync
            });
          case 3:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return _navigate.apply(this, arguments);
  }
  function revalidate() {
    if (!pendingRevalidationDfd) {
      pendingRevalidationDfd = createDeferred();
    }
    interruptActiveLoads();
    updateState({
      revalidation: "loading"
    });
    var promise = pendingRevalidationDfd.promise;
    if (state.navigation.state === "submitting") {
      return promise;
    }
    if (state.navigation.state === "idle") {
      startNavigation(state.historyAction, state.location, {
        startUninterruptedRevalidation: true
      });
      return promise;
    }
    startNavigation(pendingAction || state.historyAction, state.navigation.location, {
      overrideNavigation: state.navigation,
      // Proxy through any rending view transition
      enableViewTransition: pendingViewTransitionEnabled === true
    });
    return promise;
  }
  function startNavigation(_x3, _x4, _x5) {
    return _startNavigation.apply(this, arguments);
  }
  function _startNavigation() {
    _startNavigation = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(historyAction, location, opts) {
      var routesToUse, loadingNavigation, matches, flushSync, fogOfWar, _handleNavigational, _error, notFoundMatches, _route, request, scopedContext, pendingActionResult, actionResult, _actionResult$pending, routeId, result, _yield$handleLoaders, shortCircuited, updatedMatches, loaderData, errors, _t, _t2, _t3;
      return _regenerator["default"].wrap(function (_context2) {
        while (1) switch (_context2.prev = _context2.next) {
          case 0:
            pendingNavigationController && pendingNavigationController.abort();
            pendingNavigationController = null;
            pendingAction = historyAction;
            isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;
            saveScrollPosition(state.location, state.matches);
            pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;
            pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;
            routesToUse = inFlightDataRoutes || dataRoutes;
            loadingNavigation = opts && opts.overrideNavigation;
            matches = opts !== null && opts !== void 0 && opts.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ?
            // `matchRoutes()` has already been called if we're in here via `router.initialize()`
            state.matches : _matchRoutes(routesToUse, location, basename);
            flushSync = (opts && opts.flushSync) === true;
            if (!(matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod)))) {
              _context2.next = 1;
              break;
            }
            completeNavigation(location, {
              matches: matches
            }, {
              flushSync: flushSync
            });
            return _context2.abrupt("return");
          case 1:
            fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);
            if (fogOfWar.active && fogOfWar.matches) {
              matches = fogOfWar.matches;
            }
            if (matches) {
              _context2.next = 2;
              break;
            }
            _handleNavigational = handleNavigational404(location.pathname), _error = _handleNavigational.error, notFoundMatches = _handleNavigational.notFoundMatches, _route = _handleNavigational.route;
            completeNavigation(location, {
              matches: notFoundMatches,
              loaderData: {},
              errors: (0, _defineProperty2["default"])({}, _route.id, _error)
            }, {
              flushSync: flushSync
            });
            return _context2.abrupt("return");
          case 2:
            pendingNavigationController = new AbortController();
            request = createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);
            _t = _unstable_RouterContextProvider;
            if (!init.unstable_getContext) {
              _context2.next = 4;
              break;
            }
            _context2.next = 3;
            return init.unstable_getContext();
          case 3:
            _t2 = _context2.sent;
            _context2.next = 5;
            break;
          case 4:
            _t2 = void 0;
          case 5:
            _t3 = _t2;
            scopedContext = new _t(_t3);
            if (!(opts && opts.pendingError)) {
              _context2.next = 6;
              break;
            }
            pendingActionResult = [findNearestBoundary(matches).route.id, {
              type: "error" /* error */,
              error: opts.pendingError
            }];
            _context2.next = 10;
            break;
          case 6:
            if (!(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {
              _context2.next = 10;
              break;
            }
            _context2.next = 7;
            return handleAction(request, location, opts.submission, matches, scopedContext, fogOfWar.active, opts && opts.initialHydration === true, {
              replace: opts.replace,
              flushSync: flushSync
            });
          case 7:
            actionResult = _context2.sent;
            if (!actionResult.shortCircuited) {
              _context2.next = 8;
              break;
            }
            return _context2.abrupt("return");
          case 8:
            if (!actionResult.pendingActionResult) {
              _context2.next = 9;
              break;
            }
            _actionResult$pending = (0, _slicedToArray2["default"])(actionResult.pendingActionResult, 2), routeId = _actionResult$pending[0], result = _actionResult$pending[1];
            if (!(isErrorResult(result) && _isRouteErrorResponse(result.error) && result.error.status === 404)) {
              _context2.next = 9;
              break;
            }
            pendingNavigationController = null;
            completeNavigation(location, {
              matches: actionResult.matches,
              loaderData: {},
              errors: (0, _defineProperty2["default"])({}, routeId, result.error)
            });
            return _context2.abrupt("return");
          case 9:
            matches = actionResult.matches || matches;
            pendingActionResult = actionResult.pendingActionResult;
            loadingNavigation = getLoadingNavigation(location, opts.submission);
            flushSync = false;
            fogOfWar.active = false;
            request = createClientSideRequest(init.history, request.url, request.signal);
          case 10:
            _context2.next = 11;
            return handleLoaders(request, location, matches, scopedContext, fogOfWar.active, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, opts && opts.initialHydration === true, flushSync, pendingActionResult);
          case 11:
            _yield$handleLoaders = _context2.sent;
            shortCircuited = _yield$handleLoaders.shortCircuited;
            updatedMatches = _yield$handleLoaders.matches;
            loaderData = _yield$handleLoaders.loaderData;
            errors = _yield$handleLoaders.errors;
            if (!shortCircuited) {
              _context2.next = 12;
              break;
            }
            return _context2.abrupt("return");
          case 12:
            pendingNavigationController = null;
            completeNavigation(location, _objectSpread(_objectSpread({
              matches: updatedMatches || matches
            }, getActionDataForCommit(pendingActionResult)), {}, {
              loaderData: loaderData,
              errors: errors
            }));
          case 13:
          case "end":
            return _context2.stop();
        }
      }, _callee2);
    }));
    return _startNavigation.apply(this, arguments);
  }
  function handleAction(_x6, _x7, _x8, _x9, _x0, _x1, _x10) {
    return _handleAction.apply(this, arguments);
  }
  function _handleAction() {
    _handleAction = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(request, location, submission, matches, scopedContext, isFogOfWar, initialHydration) {
      var opts,
        navigation,
        discoverResult,
        boundaryId,
        _handleNavigational2,
        notFoundMatches,
        _error2,
        _route2,
        result,
        actionMatch,
        dsMatches,
        results,
        _iterator7,
        _step7,
        match,
        replace2,
        location2,
        boundaryMatch,
        _args3 = arguments,
        _t4;
      return _regenerator["default"].wrap(function (_context3) {
        while (1) switch (_context3.prev = _context3.next) {
          case 0:
            opts = _args3.length > 7 && _args3[7] !== undefined ? _args3[7] : {};
            interruptActiveLoads();
            navigation = getSubmittingNavigation(location, submission);
            updateState({
              navigation: navigation
            }, {
              flushSync: opts.flushSync === true
            });
            if (!isFogOfWar) {
              _context3.next = 5;
              break;
            }
            _context3.next = 1;
            return discoverRoutes(matches, location.pathname, request.signal);
          case 1:
            discoverResult = _context3.sent;
            if (!(discoverResult.type === "aborted")) {
              _context3.next = 2;
              break;
            }
            return _context3.abrupt("return", {
              shortCircuited: true
            });
          case 2:
            if (!(discoverResult.type === "error")) {
              _context3.next = 3;
              break;
            }
            boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;
            return _context3.abrupt("return", {
              matches: discoverResult.partialMatches,
              pendingActionResult: [boundaryId, {
                type: "error" /* error */,
                error: discoverResult.error
              }]
            });
          case 3:
            if (discoverResult.matches) {
              _context3.next = 4;
              break;
            }
            _handleNavigational2 = handleNavigational404(location.pathname), notFoundMatches = _handleNavigational2.notFoundMatches, _error2 = _handleNavigational2.error, _route2 = _handleNavigational2.route;
            return _context3.abrupt("return", {
              matches: notFoundMatches,
              pendingActionResult: [_route2.id, {
                type: "error" /* error */,
                error: _error2
              }]
            });
          case 4:
            matches = discoverResult.matches;
          case 5:
            actionMatch = getTargetMatch(matches, location);
            if (!(!actionMatch.route.action && !actionMatch.route.lazy)) {
              _context3.next = 6;
              break;
            }
            result = {
              type: "error" /* error */,
              error: getInternalRouterError(405, {
                method: request.method,
                pathname: location.pathname,
                routeId: actionMatch.route.id
              })
            };
            _context3.next = 15;
            break;
          case 6:
            dsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, actionMatch, initialHydration ? [] : hydrationRouteProperties2, scopedContext);
            _context3.next = 7;
            return callDataStrategy(request, dsMatches, scopedContext, null);
          case 7:
            results = _context3.sent;
            result = results[actionMatch.route.id];
            if (result) {
              _context3.next = 14;
              break;
            }
            _iterator7 = _createForOfIteratorHelper(matches);
            _context3.prev = 8;
            _iterator7.s();
          case 9:
            if ((_step7 = _iterator7.n()).done) {
              _context3.next = 11;
              break;
            }
            match = _step7.value;
            if (!results[match.route.id]) {
              _context3.next = 10;
              break;
            }
            result = results[match.route.id];
            return _context3.abrupt("continue", 11);
          case 10:
            _context3.next = 9;
            break;
          case 11:
            _context3.next = 13;
            break;
          case 12:
            _context3.prev = 12;
            _t4 = _context3["catch"](8);
            _iterator7.e(_t4);
          case 13:
            _context3.prev = 13;
            _iterator7.f();
            return _context3.finish(13);
          case 14:
            if (!request.signal.aborted) {
              _context3.next = 15;
              break;
            }
            return _context3.abrupt("return", {
              shortCircuited: true
            });
          case 15:
            if (!isRedirectResult(result)) {
              _context3.next = 17;
              break;
            }
            if (opts && opts.replace != null) {
              replace2 = opts.replace;
            } else {
              location2 = normalizeRedirectLocation(result.response.headers.get("Location"), new URL(request.url), basename);
              replace2 = location2 === state.location.pathname + state.location.search;
            }
            _context3.next = 16;
            return startRedirectNavigation(request, result, true, {
              submission: submission,
              replace: replace2
            });
          case 16:
            return _context3.abrupt("return", {
              shortCircuited: true
            });
          case 17:
            if (!isErrorResult(result)) {
              _context3.next = 18;
              break;
            }
            boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);
            if ((opts && opts.replace) !== true) {
              pendingAction = "PUSH" /* Push */;
            }
            return _context3.abrupt("return", {
              matches: matches,
              pendingActionResult: [boundaryMatch.route.id, result, actionMatch.route.id]
            });
          case 18:
            return _context3.abrupt("return", {
              matches: matches,
              pendingActionResult: [actionMatch.route.id, result]
            });
          case 19:
          case "end":
            return _context3.stop();
        }
      }, _callee3, null, [[8, 12, 13, 14]]);
    }));
    return _handleAction.apply(this, arguments);
  }
  function handleLoaders(_x11, _x12, _x13, _x14, _x15, _x16, _x17, _x18, _x19, _x20, _x21, _x22) {
    return _handleLoaders.apply(this, arguments);
  }
  function _handleLoaders() {
    _handleLoaders = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4(request, location, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {
      var loadingNavigation, activeSubmission, shouldUpdateNavigationState, actionData, discoverResult, boundaryId, _handleNavigational3, _error3, notFoundMatches, _route3, routesToUse, _getMatchesToLoad, dsMatches, revalidatingFetchers, updatedFetchers2, updates, _actionData, abortPendingFetchRevalidations, _yield$callLoadersAnd, loaderResults, fetcherResults, redirect2, _processLoaderData, loaderData, errors, updatedFetchers, didAbortFetchLoads, shouldUpdateFetchers;
      return _regenerator["default"].wrap(function (_context4) {
        while (1) switch (_context4.prev = _context4.next) {
          case 0:
            loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);
            activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);
            shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;
            if (!isFogOfWar) {
              _context4.next = 5;
              break;
            }
            if (shouldUpdateNavigationState) {
              actionData = getUpdatedActionData(pendingActionResult);
              updateState(_objectSpread({
                navigation: loadingNavigation
              }, actionData !== void 0 ? {
                actionData: actionData
              } : {}), {
                flushSync: flushSync
              });
            }
            _context4.next = 1;
            return discoverRoutes(matches, location.pathname, request.signal);
          case 1:
            discoverResult = _context4.sent;
            if (!(discoverResult.type === "aborted")) {
              _context4.next = 2;
              break;
            }
            return _context4.abrupt("return", {
              shortCircuited: true
            });
          case 2:
            if (!(discoverResult.type === "error")) {
              _context4.next = 3;
              break;
            }
            boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;
            return _context4.abrupt("return", {
              matches: discoverResult.partialMatches,
              loaderData: {},
              errors: (0, _defineProperty2["default"])({}, boundaryId, discoverResult.error)
            });
          case 3:
            if (discoverResult.matches) {
              _context4.next = 4;
              break;
            }
            _handleNavigational3 = handleNavigational404(location.pathname), _error3 = _handleNavigational3.error, notFoundMatches = _handleNavigational3.notFoundMatches, _route3 = _handleNavigational3.route;
            return _context4.abrupt("return", {
              matches: notFoundMatches,
              loaderData: {},
              errors: (0, _defineProperty2["default"])({}, _route3.id, _error3)
            });
          case 4:
            matches = discoverResult.matches;
          case 5:
            routesToUse = inFlightDataRoutes || dataRoutes;
            _getMatchesToLoad = getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, init.history, state, matches, activeSubmission, location, initialHydration ? [] : hydrationRouteProperties2, initialHydration === true, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, init.patchRoutesOnNavigation != null, pendingActionResult), dsMatches = _getMatchesToLoad.dsMatches, revalidatingFetchers = _getMatchesToLoad.revalidatingFetchers;
            pendingNavigationLoadId = ++incrementingLoadId;
            if (!(!init.dataStrategy && !dsMatches.some(function (m) {
              return m.shouldLoad;
            }) && revalidatingFetchers.length === 0)) {
              _context4.next = 6;
              break;
            }
            updatedFetchers2 = markFetchRedirectsDone();
            completeNavigation(location, _objectSpread(_objectSpread({
              matches: matches,
              loaderData: {},
              // Commit pending error if we're short circuiting
              errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? (0, _defineProperty2["default"])({}, pendingActionResult[0], pendingActionResult[1].error) : null
            }, getActionDataForCommit(pendingActionResult)), updatedFetchers2 ? {
              fetchers: new Map(state.fetchers)
            } : {}), {
              flushSync: flushSync
            });
            return _context4.abrupt("return", {
              shortCircuited: true
            });
          case 6:
            if (shouldUpdateNavigationState) {
              updates = {};
              if (!isFogOfWar) {
                updates.navigation = loadingNavigation;
                _actionData = getUpdatedActionData(pendingActionResult);
                if (_actionData !== void 0) {
                  updates.actionData = _actionData;
                }
              }
              if (revalidatingFetchers.length > 0) {
                updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);
              }
              updateState(updates, {
                flushSync: flushSync
              });
            }
            revalidatingFetchers.forEach(function (rf) {
              abortFetcher(rf.key);
              if (rf.controller) {
                fetchControllers.set(rf.key, rf.controller);
              }
            });
            abortPendingFetchRevalidations = function abortPendingFetchRevalidations() {
              return revalidatingFetchers.forEach(function (f) {
                return abortFetcher(f.key);
              });
            };
            if (pendingNavigationController) {
              pendingNavigationController.signal.addEventListener("abort", abortPendingFetchRevalidations);
            }
            _context4.next = 7;
            return callLoadersAndMaybeResolveData(dsMatches, revalidatingFetchers, request, scopedContext);
          case 7:
            _yield$callLoadersAnd = _context4.sent;
            loaderResults = _yield$callLoadersAnd.loaderResults;
            fetcherResults = _yield$callLoadersAnd.fetcherResults;
            if (!request.signal.aborted) {
              _context4.next = 8;
              break;
            }
            return _context4.abrupt("return", {
              shortCircuited: true
            });
          case 8:
            if (pendingNavigationController) {
              pendingNavigationController.signal.removeEventListener("abort", abortPendingFetchRevalidations);
            }
            revalidatingFetchers.forEach(function (rf) {
              return fetchControllers["delete"](rf.key);
            });
            redirect2 = findRedirect(loaderResults);
            if (!redirect2) {
              _context4.next = 10;
              break;
            }
            _context4.next = 9;
            return startRedirectNavigation(request, redirect2.result, true, {
              replace: replace2
            });
          case 9:
            return _context4.abrupt("return", {
              shortCircuited: true
            });
          case 10:
            redirect2 = findRedirect(fetcherResults);
            if (!redirect2) {
              _context4.next = 12;
              break;
            }
            fetchRedirectIds.add(redirect2.key);
            _context4.next = 11;
            return startRedirectNavigation(request, redirect2.result, true, {
              replace: replace2
            });
          case 11:
            return _context4.abrupt("return", {
              shortCircuited: true
            });
          case 12:
            _processLoaderData = processLoaderData(state, matches, loaderResults, pendingActionResult, revalidatingFetchers, fetcherResults), loaderData = _processLoaderData.loaderData, errors = _processLoaderData.errors;
            if (initialHydration && state.errors) {
              errors = _objectSpread(_objectSpread({}, state.errors), errors);
            }
            updatedFetchers = markFetchRedirectsDone();
            didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);
            shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;
            return _context4.abrupt("return", _objectSpread({
              matches: matches,
              loaderData: loaderData,
              errors: errors
            }, shouldUpdateFetchers ? {
              fetchers: new Map(state.fetchers)
            } : {}));
          case 13:
          case "end":
            return _context4.stop();
        }
      }, _callee4);
    }));
    return _handleLoaders.apply(this, arguments);
  }
  function getUpdatedActionData(pendingActionResult) {
    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {
      return (0, _defineProperty2["default"])({}, pendingActionResult[0], pendingActionResult[1].data);
    } else if (state.actionData) {
      if (Object.keys(state.actionData).length === 0) {
        return null;
      } else {
        return state.actionData;
      }
    }
  }
  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {
    revalidatingFetchers.forEach(function (rf) {
      var fetcher = state.fetchers.get(rf.key);
      var revalidatingFetcher = getLoadingFetcher(void 0, fetcher ? fetcher.data : void 0);
      state.fetchers.set(rf.key, revalidatingFetcher);
    });
    return new Map(state.fetchers);
  }
  function fetch2(_x23, _x24, _x25, _x26) {
    return _fetch.apply(this, arguments);
  }
  function _fetch() {
    _fetch = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee5(key, routeId, href2, opts) {
      var flushSync, routesToUse, normalizedPath, matches, fogOfWar, _normalizeNavigateOpt2, path, submission, error, match, scopedContext, preventScrollReset, _t5, _t6, _t7;
      return _regenerator["default"].wrap(function (_context5) {
        while (1) switch (_context5.prev = _context5.next) {
          case 0:
            abortFetcher(key);
            flushSync = (opts && opts.flushSync) === true;
            routesToUse = inFlightDataRoutes || dataRoutes;
            normalizedPath = normalizeTo(state.location, state.matches, basename, href2, routeId, opts === null || opts === void 0 ? void 0 : opts.relative);
            matches = _matchRoutes(routesToUse, normalizedPath, basename);
            fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);
            if (fogOfWar.active && fogOfWar.matches) {
              matches = fogOfWar.matches;
            }
            if (matches) {
              _context5.next = 1;
              break;
            }
            setFetcherError(key, routeId, getInternalRouterError(404, {
              pathname: normalizedPath
            }), {
              flushSync: flushSync
            });
            return _context5.abrupt("return");
          case 1:
            _normalizeNavigateOpt2 = normalizeNavigateOptions(true, normalizedPath, opts), path = _normalizeNavigateOpt2.path, submission = _normalizeNavigateOpt2.submission, error = _normalizeNavigateOpt2.error;
            if (!error) {
              _context5.next = 2;
              break;
            }
            setFetcherError(key, routeId, error, {
              flushSync: flushSync
            });
            return _context5.abrupt("return");
          case 2:
            match = getTargetMatch(matches, path);
            _t5 = _unstable_RouterContextProvider;
            if (!init.unstable_getContext) {
              _context5.next = 4;
              break;
            }
            _context5.next = 3;
            return init.unstable_getContext();
          case 3:
            _t6 = _context5.sent;
            _context5.next = 5;
            break;
          case 4:
            _t6 = void 0;
          case 5:
            _t7 = _t6;
            scopedContext = new _t5(_t7);
            preventScrollReset = (opts && opts.preventScrollReset) === true;
            if (!(submission && isMutationMethod(submission.formMethod))) {
              _context5.next = 7;
              break;
            }
            _context5.next = 6;
            return handleFetcherAction(key, routeId, path, match, matches, scopedContext, fogOfWar.active, flushSync, preventScrollReset, submission);
          case 6:
            return _context5.abrupt("return");
          case 7:
            fetchLoadMatches.set(key, {
              routeId: routeId,
              path: path
            });
            _context5.next = 8;
            return handleFetcherLoader(key, routeId, path, match, matches, scopedContext, fogOfWar.active, flushSync, preventScrollReset, submission);
          case 8:
          case "end":
            return _context5.stop();
        }
      }, _callee5);
    }));
    return _fetch.apply(this, arguments);
  }
  function handleFetcherAction(_x27, _x28, _x29, _x30, _x31, _x32, _x33, _x34, _x35, _x36) {
    return _handleFetcherAction.apply(this, arguments);
  }
  function _handleFetcherAction() {
    _handleFetcherAction = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee6(key, routeId, path, match, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {
      var detectAndHandle405Error, existingFetcher, abortController, fetchRequest, discoverResult, originatingLoadId, fetchMatches, actionResults, actionResult, nextLocation, revalidationRequest, routesToUse, matches, loadId, loadFetcher, _getMatchesToLoad2, dsMatches, revalidatingFetchers, abortPendingFetchRevalidations, _yield$callLoadersAnd2, loaderResults, fetcherResults, doneFetcher, redirect2, _processLoaderData2, loaderData, errors;
      return _regenerator["default"].wrap(function (_context6) {
        while (1) switch (_context6.prev = _context6.next) {
          case 0:
            detectAndHandle405Error = function _detectAndHandle405Er(m) {
              if (!m.route.action && !m.route.lazy) {
                var _error4 = getInternalRouterError(405, {
                  method: submission.formMethod,
                  pathname: path,
                  routeId: routeId
                });
                setFetcherError(key, routeId, _error4, {
                  flushSync: flushSync
                });
                return true;
              }
              return false;
            };
            interruptActiveLoads();
            fetchLoadMatches["delete"](key);
            if (!(!isFogOfWar && detectAndHandle405Error(match))) {
              _context6.next = 1;
              break;
            }
            return _context6.abrupt("return");
          case 1:
            existingFetcher = state.fetchers.get(key);
            updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {
              flushSync: flushSync
            });
            abortController = new AbortController();
            fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);
            if (!isFogOfWar) {
              _context6.next = 6;
              break;
            }
            _context6.next = 2;
            return discoverRoutes(requestMatches, path, fetchRequest.signal, key);
          case 2:
            discoverResult = _context6.sent;
            if (!(discoverResult.type === "aborted")) {
              _context6.next = 3;
              break;
            }
            return _context6.abrupt("return");
          case 3:
            if (!(discoverResult.type === "error")) {
              _context6.next = 4;
              break;
            }
            setFetcherError(key, routeId, discoverResult.error, {
              flushSync: flushSync
            });
            return _context6.abrupt("return");
          case 4:
            if (discoverResult.matches) {
              _context6.next = 5;
              break;
            }
            setFetcherError(key, routeId, getInternalRouterError(404, {
              pathname: path
            }), {
              flushSync: flushSync
            });
            return _context6.abrupt("return");
          case 5:
            requestMatches = discoverResult.matches;
            match = getTargetMatch(requestMatches, path);
            if (!detectAndHandle405Error(match)) {
              _context6.next = 6;
              break;
            }
            return _context6.abrupt("return");
          case 6:
            fetchControllers.set(key, abortController);
            originatingLoadId = incrementingLoadId;
            fetchMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, requestMatches, match, hydrationRouteProperties2, scopedContext);
            _context6.next = 7;
            return callDataStrategy(fetchRequest, fetchMatches, scopedContext, key);
          case 7:
            actionResults = _context6.sent;
            actionResult = actionResults[match.route.id];
            if (!fetchRequest.signal.aborted) {
              _context6.next = 8;
              break;
            }
            if (fetchControllers.get(key) === abortController) {
              fetchControllers["delete"](key);
            }
            return _context6.abrupt("return");
          case 8:
            if (!fetchersQueuedForDeletion.has(key)) {
              _context6.next = 10;
              break;
            }
            if (!(isRedirectResult(actionResult) || isErrorResult(actionResult))) {
              _context6.next = 9;
              break;
            }
            updateFetcherState(key, getDoneFetcher(void 0));
            return _context6.abrupt("return");
          case 9:
            _context6.next = 13;
            break;
          case 10:
            if (!isRedirectResult(actionResult)) {
              _context6.next = 12;
              break;
            }
            fetchControllers["delete"](key);
            if (!(pendingNavigationLoadId > originatingLoadId)) {
              _context6.next = 11;
              break;
            }
            updateFetcherState(key, getDoneFetcher(void 0));
            return _context6.abrupt("return");
          case 11:
            fetchRedirectIds.add(key);
            updateFetcherState(key, getLoadingFetcher(submission));
            return _context6.abrupt("return", startRedirectNavigation(fetchRequest, actionResult, false, {
              fetcherSubmission: submission,
              preventScrollReset: preventScrollReset
            }));
          case 12:
            if (!isErrorResult(actionResult)) {
              _context6.next = 13;
              break;
            }
            setFetcherError(key, routeId, actionResult.error);
            return _context6.abrupt("return");
          case 13:
            nextLocation = state.navigation.location || state.location;
            revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);
            routesToUse = inFlightDataRoutes || dataRoutes;
            matches = state.navigation.state !== "idle" ? _matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;
            invariant(matches, "Didn't find any matches after fetcher action");
            loadId = ++incrementingLoadId;
            fetchReloadIds.set(key, loadId);
            loadFetcher = getLoadingFetcher(submission, actionResult.data);
            state.fetchers.set(key, loadFetcher);
            _getMatchesToLoad2 = getMatchesToLoad(revalidationRequest, scopedContext, mapRouteProperties2, manifest, init.history, state, matches, submission, nextLocation, hydrationRouteProperties2, false, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, init.patchRoutesOnNavigation != null, [match.route.id, actionResult]), dsMatches = _getMatchesToLoad2.dsMatches, revalidatingFetchers = _getMatchesToLoad2.revalidatingFetchers;
            revalidatingFetchers.filter(function (rf) {
              return rf.key !== key;
            }).forEach(function (rf) {
              var staleKey = rf.key;
              var existingFetcher2 = state.fetchers.get(staleKey);
              var revalidatingFetcher = getLoadingFetcher(void 0, existingFetcher2 ? existingFetcher2.data : void 0);
              state.fetchers.set(staleKey, revalidatingFetcher);
              abortFetcher(staleKey);
              if (rf.controller) {
                fetchControllers.set(staleKey, rf.controller);
              }
            });
            updateState({
              fetchers: new Map(state.fetchers)
            });
            abortPendingFetchRevalidations = function abortPendingFetchRevalidations() {
              return revalidatingFetchers.forEach(function (rf) {
                return abortFetcher(rf.key);
              });
            };
            abortController.signal.addEventListener("abort", abortPendingFetchRevalidations);
            _context6.next = 14;
            return callLoadersAndMaybeResolveData(dsMatches, revalidatingFetchers, revalidationRequest, scopedContext);
          case 14:
            _yield$callLoadersAnd2 = _context6.sent;
            loaderResults = _yield$callLoadersAnd2.loaderResults;
            fetcherResults = _yield$callLoadersAnd2.fetcherResults;
            if (!abortController.signal.aborted) {
              _context6.next = 15;
              break;
            }
            return _context6.abrupt("return");
          case 15:
            abortController.signal.removeEventListener("abort", abortPendingFetchRevalidations);
            fetchReloadIds["delete"](key);
            fetchControllers["delete"](key);
            revalidatingFetchers.forEach(function (r) {
              return fetchControllers["delete"](r.key);
            });
            if (state.fetchers.has(key)) {
              doneFetcher = getDoneFetcher(actionResult.data);
              state.fetchers.set(key, doneFetcher);
            }
            redirect2 = findRedirect(loaderResults);
            if (!redirect2) {
              _context6.next = 16;
              break;
            }
            return _context6.abrupt("return", startRedirectNavigation(revalidationRequest, redirect2.result, false, {
              preventScrollReset: preventScrollReset
            }));
          case 16:
            redirect2 = findRedirect(fetcherResults);
            if (!redirect2) {
              _context6.next = 17;
              break;
            }
            fetchRedirectIds.add(redirect2.key);
            return _context6.abrupt("return", startRedirectNavigation(revalidationRequest, redirect2.result, false, {
              preventScrollReset: preventScrollReset
            }));
          case 17:
            _processLoaderData2 = processLoaderData(state, matches, loaderResults, void 0, revalidatingFetchers, fetcherResults), loaderData = _processLoaderData2.loaderData, errors = _processLoaderData2.errors;
            abortStaleFetchLoads(loadId);
            if (state.navigation.state === "loading" && loadId > pendingNavigationLoadId) {
              invariant(pendingAction, "Expected pending action");
              pendingNavigationController && pendingNavigationController.abort();
              completeNavigation(state.navigation.location, {
                matches: matches,
                loaderData: loaderData,
                errors: errors,
                fetchers: new Map(state.fetchers)
              });
            } else {
              updateState({
                errors: errors,
                loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors),
                fetchers: new Map(state.fetchers)
              });
              isRevalidationRequired = false;
            }
          case 18:
          case "end":
            return _context6.stop();
        }
      }, _callee6);
    }));
    return _handleFetcherAction.apply(this, arguments);
  }
  function handleFetcherLoader(_x37, _x38, _x39, _x40, _x41, _x42, _x43, _x44, _x45, _x46) {
    return _handleFetcherLoader.apply(this, arguments);
  }
  function _handleFetcherLoader() {
    _handleFetcherLoader = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee7(key, routeId, path, match, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {
      var existingFetcher, abortController, fetchRequest, discoverResult, originatingLoadId, dsMatches, results, result;
      return _regenerator["default"].wrap(function (_context7) {
        while (1) switch (_context7.prev = _context7.next) {
          case 0:
            existingFetcher = state.fetchers.get(key);
            updateFetcherState(key, getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : void 0), {
              flushSync: flushSync
            });
            abortController = new AbortController();
            fetchRequest = createClientSideRequest(init.history, path, abortController.signal);
            if (!isFogOfWar) {
              _context7.next = 5;
              break;
            }
            _context7.next = 1;
            return discoverRoutes(matches, path, fetchRequest.signal, key);
          case 1:
            discoverResult = _context7.sent;
            if (!(discoverResult.type === "aborted")) {
              _context7.next = 2;
              break;
            }
            return _context7.abrupt("return");
          case 2:
            if (!(discoverResult.type === "error")) {
              _context7.next = 3;
              break;
            }
            setFetcherError(key, routeId, discoverResult.error, {
              flushSync: flushSync
            });
            return _context7.abrupt("return");
          case 3:
            if (discoverResult.matches) {
              _context7.next = 4;
              break;
            }
            setFetcherError(key, routeId, getInternalRouterError(404, {
              pathname: path
            }), {
              flushSync: flushSync
            });
            return _context7.abrupt("return");
          case 4:
            matches = discoverResult.matches;
            match = getTargetMatch(matches, path);
          case 5:
            fetchControllers.set(key, abortController);
            originatingLoadId = incrementingLoadId;
            dsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, matches, match, hydrationRouteProperties2, scopedContext);
            _context7.next = 6;
            return callDataStrategy(fetchRequest, dsMatches, scopedContext, key);
          case 6:
            results = _context7.sent;
            result = results[match.route.id];
            if (fetchControllers.get(key) === abortController) {
              fetchControllers["delete"](key);
            }
            if (!fetchRequest.signal.aborted) {
              _context7.next = 7;
              break;
            }
            return _context7.abrupt("return");
          case 7:
            if (!fetchersQueuedForDeletion.has(key)) {
              _context7.next = 8;
              break;
            }
            updateFetcherState(key, getDoneFetcher(void 0));
            return _context7.abrupt("return");
          case 8:
            if (!isRedirectResult(result)) {
              _context7.next = 11;
              break;
            }
            if (!(pendingNavigationLoadId > originatingLoadId)) {
              _context7.next = 9;
              break;
            }
            updateFetcherState(key, getDoneFetcher(void 0));
            return _context7.abrupt("return");
          case 9:
            fetchRedirectIds.add(key);
            _context7.next = 10;
            return startRedirectNavigation(fetchRequest, result, false, {
              preventScrollReset: preventScrollReset
            });
          case 10:
            return _context7.abrupt("return");
          case 11:
            if (!isErrorResult(result)) {
              _context7.next = 12;
              break;
            }
            setFetcherError(key, routeId, result.error);
            return _context7.abrupt("return");
          case 12:
            updateFetcherState(key, getDoneFetcher(result.data));
          case 13:
          case "end":
            return _context7.stop();
        }
      }, _callee7);
    }));
    return _handleFetcherLoader.apply(this, arguments);
  }
  function startRedirectNavigation(_x47, _x48, _x49) {
    return _startRedirectNavigation.apply(this, arguments);
  }
  function _startRedirectNavigation() {
    _startRedirectNavigation = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee8(request, redirect2, isNavigation) {
      var _ref9,
        submission,
        fetcherSubmission,
        preventScrollReset,
        replace2,
        location,
        redirectLocation,
        isDocumentReload,
        url,
        redirectNavigationType,
        _state$navigation,
        formMethod,
        formAction,
        formEncType,
        activeSubmission,
        overrideNavigation,
        _args8 = arguments;
      return _regenerator["default"].wrap(function (_context8) {
        while (1) switch (_context8.prev = _context8.next) {
          case 0:
            _ref9 = _args8.length > 3 && _args8[3] !== undefined ? _args8[3] : {}, submission = _ref9.submission, fetcherSubmission = _ref9.fetcherSubmission, preventScrollReset = _ref9.preventScrollReset, replace2 = _ref9.replace;
            if (redirect2.response.headers.has("X-Remix-Revalidate")) {
              isRevalidationRequired = true;
            }
            location = redirect2.response.headers.get("Location");
            invariant(location, "Expected a Location header on the redirect Response");
            location = normalizeRedirectLocation(location, new URL(request.url), basename);
            redirectLocation = createLocation(state.location, location, {
              _isRedirect: true
            });
            if (!isBrowser2) {
              _context8.next = 1;
              break;
            }
            isDocumentReload = false;
            if (redirect2.response.headers.has("X-Remix-Reload-Document")) {
              isDocumentReload = true;
            } else if (ABSOLUTE_URL_REGEX.test(location)) {
              url = createBrowserURLImpl(location, true);
              isDocumentReload =
              // Hard reload if it's an absolute URL to a new origin
              url.origin !== routerWindow.location.origin ||
              // Hard reload if it's an absolute URL that does not match our basename
              stripBasename(url.pathname, basename) == null;
            }
            if (!isDocumentReload) {
              _context8.next = 1;
              break;
            }
            if (replace2) {
              routerWindow.location.replace(location);
            } else {
              routerWindow.location.assign(location);
            }
            return _context8.abrupt("return");
          case 1:
            pendingNavigationController = null;
            redirectNavigationType = replace2 === true || redirect2.response.headers.has("X-Remix-Replace") ? "REPLACE" /* Replace */ : "PUSH";
            _state$navigation = state.navigation, formMethod = _state$navigation.formMethod, formAction = _state$navigation.formAction, formEncType = _state$navigation.formEncType;
            if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {
              submission = getSubmissionFromNavigation(state.navigation);
            }
            activeSubmission = submission || fetcherSubmission;
            if (!(redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod))) {
              _context8.next = 3;
              break;
            }
            _context8.next = 2;
            return startNavigation(redirectNavigationType, redirectLocation, {
              submission: _objectSpread(_objectSpread({}, activeSubmission), {}, {
                formAction: location
              }),
              // Preserve these flags across redirects
              preventScrollReset: preventScrollReset || pendingPreventScrollReset,
              enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0
            });
          case 2:
            _context8.next = 4;
            break;
          case 3:
            overrideNavigation = getLoadingNavigation(redirectLocation, submission);
            _context8.next = 4;
            return startNavigation(redirectNavigationType, redirectLocation, {
              overrideNavigation: overrideNavigation,
              // Send fetcher submissions through for shouldRevalidate
              fetcherSubmission: fetcherSubmission,
              // Preserve these flags across redirects
              preventScrollReset: preventScrollReset || pendingPreventScrollReset,
              enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0
            });
          case 4:
          case "end":
            return _context8.stop();
        }
      }, _callee8);
    }));
    return _startRedirectNavigation.apply(this, arguments);
  }
  function callDataStrategy(_x50, _x51, _x52, _x53) {
    return _callDataStrategy.apply(this, arguments);
  }
  function _callDataStrategy() {
    _callDataStrategy = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee9(request, matches, scopedContext, fetcherKey) {
      var results, dataResults, _i, _Object$entries, _Object$entries$_i, routeId, result, response, _t8;
      return _regenerator["default"].wrap(function (_context9) {
        while (1) switch (_context9.prev = _context9.next) {
          case 0:
            dataResults = {};
            _context9.prev = 1;
            _context9.next = 2;
            return callDataStrategyImpl(dataStrategyImpl, request, matches, fetcherKey, scopedContext, false);
          case 2:
            results = _context9.sent;
            _context9.next = 4;
            break;
          case 3:
            _context9.prev = 3;
            _t8 = _context9["catch"](1);
            matches.filter(function (m) {
              return m.shouldLoad;
            }).forEach(function (m) {
              dataResults[m.route.id] = {
                type: "error" /* error */,
                error: _t8
              };
            });
            return _context9.abrupt("return", dataResults);
          case 4:
            if (!request.signal.aborted) {
              _context9.next = 5;
              break;
            }
            return _context9.abrupt("return", dataResults);
          case 5:
            _i = 0, _Object$entries = Object.entries(results);
          case 6:
            if (!(_i < _Object$entries.length)) {
              _context9.next = 10;
              break;
            }
            _Object$entries$_i = (0, _slicedToArray2["default"])(_Object$entries[_i], 2), routeId = _Object$entries$_i[0], result = _Object$entries$_i[1];
            if (!isRedirectDataStrategyResult(result)) {
              _context9.next = 7;
              break;
            }
            response = result.result;
            dataResults[routeId] = {
              type: "redirect" /* redirect */,
              response: normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename)
            };
            _context9.next = 9;
            break;
          case 7:
            _context9.next = 8;
            return convertDataStrategyResultToDataResult(result);
          case 8:
            dataResults[routeId] = _context9.sent;
          case 9:
            _i++;
            _context9.next = 6;
            break;
          case 10:
            return _context9.abrupt("return", dataResults);
          case 11:
          case "end":
            return _context9.stop();
        }
      }, _callee9, null, [[1, 3]]);
    }));
    return _callDataStrategy.apply(this, arguments);
  }
  function callLoadersAndMaybeResolveData(_x54, _x55, _x56, _x57) {
    return _callLoadersAndMaybeResolveData.apply(this, arguments);
  }
  function _callLoadersAndMaybeResolveData() {
    _callLoadersAndMaybeResolveData = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee1(matches, fetchersToLoad, request, scopedContext) {
      var loaderResultsPromise, fetcherResultsPromise, loaderResults, fetcherResults;
      return _regenerator["default"].wrap(function (_context1) {
        while (1) switch (_context1.prev = _context1.next) {
          case 0:
            loaderResultsPromise = callDataStrategy(request, matches, scopedContext, null);
            fetcherResultsPromise = Promise.all(fetchersToLoad.map(/*#__PURE__*/function () {
              var _ref0 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee0(f) {
                var results, result;
                return _regenerator["default"].wrap(function (_context0) {
                  while (1) switch (_context0.prev = _context0.next) {
                    case 0:
                      if (!(f.matches && f.match && f.request && f.controller)) {
                        _context0.next = 2;
                        break;
                      }
                      _context0.next = 1;
                      return callDataStrategy(f.request, f.matches, scopedContext, f.key);
                    case 1:
                      results = _context0.sent;
                      result = results[f.match.route.id];
                      return _context0.abrupt("return", (0, _defineProperty2["default"])({}, f.key, result));
                    case 2:
                      return _context0.abrupt("return", Promise.resolve((0, _defineProperty2["default"])({}, f.key, {
                        type: "error" /* error */,
                        error: getInternalRouterError(404, {
                          pathname: f.path
                        })
                      })));
                    case 3:
                    case "end":
                      return _context0.stop();
                  }
                }, _callee0);
              }));
              return function (_x62) {
                return _ref0.apply(this, arguments);
              };
            }()));
            _context1.next = 1;
            return loaderResultsPromise;
          case 1:
            loaderResults = _context1.sent;
            _context1.next = 2;
            return fetcherResultsPromise;
          case 2:
            fetcherResults = _context1.sent.reduce(function (acc, r) {
              return Object.assign(acc, r);
            }, {});
            return _context1.abrupt("return", {
              loaderResults: loaderResults,
              fetcherResults: fetcherResults
            });
          case 3:
          case "end":
            return _context1.stop();
        }
      }, _callee1);
    }));
    return _callLoadersAndMaybeResolveData.apply(this, arguments);
  }
  function interruptActiveLoads() {
    isRevalidationRequired = true;
    fetchLoadMatches.forEach(function (_, key) {
      if (fetchControllers.has(key)) {
        cancelledFetcherLoads.add(key);
      }
      abortFetcher(key);
    });
  }
  function updateFetcherState(key, fetcher) {
    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    state.fetchers.set(key, fetcher);
    updateState({
      fetchers: new Map(state.fetchers)
    }, {
      flushSync: (opts && opts.flushSync) === true
    });
  }
  function setFetcherError(key, routeId, error) {
    var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    var boundaryMatch = findNearestBoundary(state.matches, routeId);
    deleteFetcher(key);
    updateState({
      errors: (0, _defineProperty2["default"])({}, boundaryMatch.route.id, error),
      fetchers: new Map(state.fetchers)
    }, {
      flushSync: (opts && opts.flushSync) === true
    });
  }
  function getFetcher(key) {
    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);
    if (fetchersQueuedForDeletion.has(key)) {
      fetchersQueuedForDeletion["delete"](key);
    }
    return state.fetchers.get(key) || _IDLE_FETCHER;
  }
  function deleteFetcher(key) {
    var fetcher = state.fetchers.get(key);
    if (fetchControllers.has(key) && !(fetcher && fetcher.state === "loading" && fetchReloadIds.has(key))) {
      abortFetcher(key);
    }
    fetchLoadMatches["delete"](key);
    fetchReloadIds["delete"](key);
    fetchRedirectIds["delete"](key);
    fetchersQueuedForDeletion["delete"](key);
    cancelledFetcherLoads["delete"](key);
    state.fetchers["delete"](key);
  }
  function queueFetcherForDeletion(key) {
    var count = (activeFetchers.get(key) || 0) - 1;
    if (count <= 0) {
      activeFetchers["delete"](key);
      fetchersQueuedForDeletion.add(key);
    } else {
      activeFetchers.set(key, count);
    }
    updateState({
      fetchers: new Map(state.fetchers)
    });
  }
  function abortFetcher(key) {
    var controller = fetchControllers.get(key);
    if (controller) {
      controller.abort();
      fetchControllers["delete"](key);
    }
  }
  function markFetchersDone(keys) {
    var _iterator4 = _createForOfIteratorHelper(keys),
      _step4;
    try {
      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
        var key = _step4.value;
        var fetcher = getFetcher(key);
        var doneFetcher = getDoneFetcher(fetcher.data);
        state.fetchers.set(key, doneFetcher);
      }
    } catch (err) {
      _iterator4.e(err);
    } finally {
      _iterator4.f();
    }
  }
  function markFetchRedirectsDone() {
    var doneKeys = [];
    var updatedFetchers = false;
    var _iterator5 = _createForOfIteratorHelper(fetchRedirectIds),
      _step5;
    try {
      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
        var key = _step5.value;
        var fetcher = state.fetchers.get(key);
        invariant(fetcher, "Expected fetcher: ".concat(key));
        if (fetcher.state === "loading") {
          fetchRedirectIds["delete"](key);
          doneKeys.push(key);
          updatedFetchers = true;
        }
      }
    } catch (err) {
      _iterator5.e(err);
    } finally {
      _iterator5.f();
    }
    markFetchersDone(doneKeys);
    return updatedFetchers;
  }
  function abortStaleFetchLoads(landedId) {
    var yeetedKeys = [];
    var _iterator6 = _createForOfIteratorHelper(fetchReloadIds),
      _step6;
    try {
      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
        var _step6$value = (0, _slicedToArray2["default"])(_step6.value, 2),
          key = _step6$value[0],
          id = _step6$value[1];
        if (id < landedId) {
          var fetcher = state.fetchers.get(key);
          invariant(fetcher, "Expected fetcher: ".concat(key));
          if (fetcher.state === "loading") {
            abortFetcher(key);
            fetchReloadIds["delete"](key);
            yeetedKeys.push(key);
          }
        }
      }
    } catch (err) {
      _iterator6.e(err);
    } finally {
      _iterator6.f();
    }
    markFetchersDone(yeetedKeys);
    return yeetedKeys.length > 0;
  }
  function getBlocker(key, fn) {
    var blocker = state.blockers.get(key) || _IDLE_BLOCKER;
    if (blockerFunctions.get(key) !== fn) {
      blockerFunctions.set(key, fn);
    }
    return blocker;
  }
  function deleteBlocker(key) {
    state.blockers["delete"](key);
    blockerFunctions["delete"](key);
  }
  function updateBlocker(key, newBlocker) {
    var blocker = state.blockers.get(key) || _IDLE_BLOCKER;
    invariant(blocker.state === "unblocked" && newBlocker.state === "blocked" || blocker.state === "blocked" && newBlocker.state === "blocked" || blocker.state === "blocked" && newBlocker.state === "proceeding" || blocker.state === "blocked" && newBlocker.state === "unblocked" || blocker.state === "proceeding" && newBlocker.state === "unblocked", "Invalid blocker state transition: ".concat(blocker.state, " -> ").concat(newBlocker.state));
    var blockers = new Map(state.blockers);
    blockers.set(key, newBlocker);
    updateState({
      blockers: blockers
    });
  }
  function shouldBlockNavigation(_ref7) {
    var currentLocation = _ref7.currentLocation,
      nextLocation = _ref7.nextLocation,
      historyAction = _ref7.historyAction;
    if (blockerFunctions.size === 0) {
      return;
    }
    if (blockerFunctions.size > 1) {
      warning(false, "A router only supports one blocker at a time");
    }
    var entries = Array.from(blockerFunctions.entries());
    var _entries = (0, _slicedToArray2["default"])(entries[entries.length - 1], 2),
      blockerKey = _entries[0],
      blockerFunction = _entries[1];
    var blocker = state.blockers.get(blockerKey);
    if (blocker && blocker.state === "proceeding") {
      return;
    }
    if (blockerFunction({
      currentLocation: currentLocation,
      nextLocation: nextLocation,
      historyAction: historyAction
    })) {
      return blockerKey;
    }
  }
  function handleNavigational404(pathname) {
    var error = getInternalRouterError(404, {
      pathname: pathname
    });
    var routesToUse = inFlightDataRoutes || dataRoutes;
    var _getShortCircuitMatch2 = getShortCircuitMatches(routesToUse),
      matches = _getShortCircuitMatch2.matches,
      route = _getShortCircuitMatch2.route;
    return {
      notFoundMatches: matches,
      route: route,
      error: error
    };
  }
  function enableScrollRestoration(positions, getPosition, getKey) {
    savedScrollPositions2 = positions;
    getScrollPosition = getPosition;
    getScrollRestorationKey2 = getKey || null;
    if (!initialScrollRestored && state.navigation === _IDLE_NAVIGATION) {
      initialScrollRestored = true;
      var y = getSavedScrollPosition(state.location, state.matches);
      if (y != null) {
        updateState({
          restoreScrollPosition: y
        });
      }
    }
    return function () {
      savedScrollPositions2 = null;
      getScrollPosition = null;
      getScrollRestorationKey2 = null;
    };
  }
  function getScrollKey(location, matches) {
    if (getScrollRestorationKey2) {
      var key = getScrollRestorationKey2(location, matches.map(function (m) {
        return convertRouteMatchToUiMatch(m, state.loaderData);
      }));
      return key || location.key;
    }
    return location.key;
  }
  function saveScrollPosition(location, matches) {
    if (savedScrollPositions2 && getScrollPosition) {
      var key = getScrollKey(location, matches);
      savedScrollPositions2[key] = getScrollPosition();
    }
  }
  function getSavedScrollPosition(location, matches) {
    if (savedScrollPositions2) {
      var key = getScrollKey(location, matches);
      var y = savedScrollPositions2[key];
      if (typeof y === "number") {
        return y;
      }
    }
    return null;
  }
  function checkFogOfWar(matches, routesToUse, pathname) {
    if (init.patchRoutesOnNavigation) {
      if (!matches) {
        var fogMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
        return {
          active: true,
          matches: fogMatches || []
        };
      } else {
        if (Object.keys(matches[0].params).length > 0) {
          var partialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
          return {
            active: true,
            matches: partialMatches
          };
        }
      }
    }
    return {
      active: false,
      matches: null
    };
  }
  function discoverRoutes(_x58, _x59, _x60, _x61) {
    return _discoverRoutes.apply(this, arguments);
  }
  function _discoverRoutes() {
    _discoverRoutes = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee10(matches, pathname, signal, fetcherKey) {
      var partialMatches, _loop2, _ret;
      return _regenerator["default"].wrap(function (_context11) {
        while (1) switch (_context11.prev = _context11.next) {
          case 0:
            if (init.patchRoutesOnNavigation) {
              _context11.next = 1;
              break;
            }
            return _context11.abrupt("return", {
              type: "success",
              matches: matches
            });
          case 1:
            partialMatches = matches;
            _loop2 = /*#__PURE__*/_regenerator["default"].mark(function _loop2() {
              var isNonHMR, routesToUse, localManifest, newMatches, newPartialMatches, _t9;
              return _regenerator["default"].wrap(function (_context10) {
                while (1) switch (_context10.prev = _context10.next) {
                  case 0:
                    isNonHMR = inFlightDataRoutes == null;
                    routesToUse = inFlightDataRoutes || dataRoutes;
                    localManifest = manifest;
                    _context10.prev = 1;
                    _context10.next = 2;
                    return init.patchRoutesOnNavigation({
                      signal: signal,
                      path: pathname,
                      matches: partialMatches,
                      fetcherKey: fetcherKey,
                      patch: function patch(routeId, children) {
                        if (signal.aborted) return;
                        patchRoutesImpl(routeId, children, routesToUse, localManifest, mapRouteProperties2);
                      }
                    });
                  case 2:
                    _context10.next = 4;
                    break;
                  case 3:
                    _context10.prev = 3;
                    _t9 = _context10["catch"](1);
                    return _context10.abrupt("return", {
                      v: {
                        type: "error",
                        error: _t9,
                        partialMatches: partialMatches
                      }
                    });
                  case 4:
                    _context10.prev = 4;
                    if (isNonHMR && !signal.aborted) {
                      dataRoutes = (0, _toConsumableArray2["default"])(dataRoutes);
                    }
                    return _context10.finish(4);
                  case 5:
                    if (!signal.aborted) {
                      _context10.next = 6;
                      break;
                    }
                    return _context10.abrupt("return", {
                      v: {
                        type: "aborted"
                      }
                    });
                  case 6:
                    newMatches = _matchRoutes(routesToUse, pathname, basename);
                    if (!newMatches) {
                      _context10.next = 7;
                      break;
                    }
                    return _context10.abrupt("return", {
                      v: {
                        type: "success",
                        matches: newMatches
                      }
                    });
                  case 7:
                    newPartialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
                    if (!(!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every(function (m, i) {
                      return m.route.id === newPartialMatches[i].route.id;
                    }))) {
                      _context10.next = 8;
                      break;
                    }
                    return _context10.abrupt("return", {
                      v: {
                        type: "success",
                        matches: null
                      }
                    });
                  case 8:
                    partialMatches = newPartialMatches;
                  case 9:
                  case "end":
                    return _context10.stop();
                }
              }, _loop2, null, [[1, 3, 4, 5]]);
            });
          case 2:
            if (!true) {
              _context11.next = 5;
              break;
            }
            return _context11.delegateYield(_loop2(), "t0", 3);
          case 3:
            _ret = _context11.t0;
            if (!_ret) {
              _context11.next = 4;
              break;
            }
            return _context11.abrupt("return", _ret.v);
          case 4:
            _context11.next = 2;
            break;
          case 5:
          case "end":
            return _context11.stop();
        }
      }, _callee10);
    }));
    return _discoverRoutes.apply(this, arguments);
  }
  function _internalSetRoutes(newRoutes) {
    manifest = {};
    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties2, void 0, manifest);
  }
  function patchRoutes(routeId, children) {
    var isNonHMR = inFlightDataRoutes == null;
    var routesToUse = inFlightDataRoutes || dataRoutes;
    patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2);
    if (isNonHMR) {
      dataRoutes = (0, _toConsumableArray2["default"])(dataRoutes);
      updateState({});
    }
  }
  router = {
    get basename() {
      return basename;
    },
    get future() {
      return future;
    },
    get state() {
      return state;
    },
    get routes() {
      return dataRoutes;
    },
    get window() {
      return routerWindow;
    },
    initialize: initialize,
    subscribe: subscribe,
    enableScrollRestoration: enableScrollRestoration,
    navigate: navigate,
    fetch: fetch2,
    revalidate: revalidate,
    // Passthrough to history-aware createHref used by useHref so we get proper
    // hash-aware URLs in DOM paths
    createHref: function createHref(to) {
      return init.history.createHref(to);
    },
    encodeLocation: function encodeLocation(to) {
      return init.history.encodeLocation(to);
    },
    getFetcher: getFetcher,
    deleteFetcher: queueFetcherForDeletion,
    dispose: dispose,
    getBlocker: getBlocker,
    deleteBlocker: deleteBlocker,
    patchRoutes: patchRoutes,
    _internalFetchControllers: fetchControllers,
    // TODO: Remove setRoutes, it's temporary to avoid dealing with
    // updating the tree while validating the update algorithm.
    _internalSetRoutes: _internalSetRoutes
  };
  return router;
}
function createStaticHandler(routes, opts) {
  invariant(routes.length > 0, "You must provide a non-empty routes array to createStaticHandler");
  var manifest = {};
  var basename = (opts ? opts.basename : null) || "/";
  var mapRouteProperties2 = (opts === null || opts === void 0 ? void 0 : opts.mapRouteProperties) || defaultMapRouteProperties;
  var dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties2, void 0, manifest);
  function query(_x63) {
    return _query.apply(this, arguments);
  }
  function _query() {
    _query = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee13(request) {
      var _ref10,
        requestContext,
        filterMatchesToLoad,
        skipLoaderErrorBubbling,
        skipRevalidation,
        dataStrategy,
        respond,
        url,
        method,
        location,
        matches,
        error,
        _getShortCircuitMatch3,
        methodNotAllowedMatches,
        route,
        staticContext,
        _error5,
        _getShortCircuitMatch4,
        notFoundMatches,
        _route4,
        _staticContext,
        renderedStaticContext,
        response,
        result,
        _args14 = arguments,
        _t0;
      return _regenerator["default"].wrap(function (_context14) {
        while (1) switch (_context14.prev = _context14.next) {
          case 0:
            _ref10 = _args14.length > 1 && _args14[1] !== undefined ? _args14[1] : {}, requestContext = _ref10.requestContext, filterMatchesToLoad = _ref10.filterMatchesToLoad, skipLoaderErrorBubbling = _ref10.skipLoaderErrorBubbling, skipRevalidation = _ref10.skipRevalidation, dataStrategy = _ref10.dataStrategy, respond = _ref10.unstable_respond;
            url = new URL(request.url);
            method = request.method;
            location = createLocation("", _createPath(url), null, "default");
            matches = _matchRoutes(dataRoutes, location, basename);
            requestContext = requestContext != null ? requestContext : new _unstable_RouterContextProvider();
            if (!(!isValidMethod(method) && method !== "HEAD")) {
              _context14.next = 1;
              break;
            }
            error = getInternalRouterError(405, {
              method: method
            });
            _getShortCircuitMatch3 = getShortCircuitMatches(dataRoutes), methodNotAllowedMatches = _getShortCircuitMatch3.matches, route = _getShortCircuitMatch3.route;
            staticContext = {
              basename: basename,
              location: location,
              matches: methodNotAllowedMatches,
              loaderData: {},
              actionData: null,
              errors: (0, _defineProperty2["default"])({}, route.id, error),
              statusCode: error.status,
              loaderHeaders: {},
              actionHeaders: {}
            };
            return _context14.abrupt("return", respond ? respond(staticContext) : staticContext);
          case 1:
            if (matches) {
              _context14.next = 2;
              break;
            }
            _error5 = getInternalRouterError(404, {
              pathname: location.pathname
            });
            _getShortCircuitMatch4 = getShortCircuitMatches(dataRoutes), notFoundMatches = _getShortCircuitMatch4.matches, _route4 = _getShortCircuitMatch4.route;
            _staticContext = {
              basename: basename,
              location: location,
              matches: notFoundMatches,
              loaderData: {},
              actionData: null,
              errors: (0, _defineProperty2["default"])({}, _route4.id, _error5),
              statusCode: _error5.status,
              loaderHeaders: {},
              actionHeaders: {}
            };
            return _context14.abrupt("return", respond ? respond(_staticContext) : _staticContext);
          case 2:
            if (!(respond && matches.some(function (m) {
              return m.route.unstable_middleware || (0, _typeof2["default"])(m.route.lazy) === "object" && m.route.lazy.unstable_middleware;
            }))) {
              _context14.next = 8;
              break;
            }
            invariant(requestContext instanceof _unstable_RouterContextProvider, "When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`");
            _context14.prev = 3;
            _context14.next = 4;
            return loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2);
          case 4:
            _context14.next = 5;
            return runMiddlewarePipeline({
              request: request,
              matches: matches,
              params: matches[0].params,
              // If we're calling middleware then it must be enabled so we can cast
              // this to the proper type knowing it's not an `AppLoadContext`
              context: requestContext
            }, true, /*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee11() {
              var result2, res;
              return _regenerator["default"].wrap(function (_context12) {
                while (1) switch (_context12.prev = _context12.next) {
                  case 0:
                    _context12.next = 1;
                    return queryImpl(request, location, matches, requestContext, dataStrategy || null, skipLoaderErrorBubbling === true, null, filterMatchesToLoad || null, skipRevalidation === true);
                  case 1:
                    result2 = _context12.sent;
                    if (!isResponse(result2)) {
                      _context12.next = 2;
                      break;
                    }
                    return _context12.abrupt("return", result2);
                  case 2:
                    renderedStaticContext = _objectSpread({
                      location: location,
                      basename: basename
                    }, result2);
                    _context12.next = 3;
                    return respond(renderedStaticContext);
                  case 3:
                    res = _context12.sent;
                    return _context12.abrupt("return", res);
                  case 4:
                  case "end":
                    return _context12.stop();
                }
              }, _callee11);
            })), /*#__PURE__*/function () {
              var _ref12 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee12(error, routeId) {
                var _matches$find, boundaryRouteId;
                return _regenerator["default"].wrap(function (_context13) {
                  while (1) switch (_context13.prev = _context13.next) {
                    case 0:
                      if (!isResponse(error)) {
                        _context13.next = 1;
                        break;
                      }
                      return _context13.abrupt("return", error);
                    case 1:
                      if (!renderedStaticContext) {
                        _context13.next = 2;
                        break;
                      }
                      if (routeId in renderedStaticContext.loaderData) {
                        renderedStaticContext.loaderData[routeId] = void 0;
                      }
                      return _context13.abrupt("return", respond(getStaticContextFromError(dataRoutes, renderedStaticContext, error, skipLoaderErrorBubbling ? routeId : findNearestBoundary(matches, routeId).route.id)));
                    case 2:
                      boundaryRouteId = skipLoaderErrorBubbling ? routeId : findNearestBoundary(matches, ((_matches$find = matches.find(function (m) {
                        return m.route.id === routeId || m.route.loader;
                      })) === null || _matches$find === void 0 ? void 0 : _matches$find.route.id) || routeId).route.id;
                      return _context13.abrupt("return", respond({
                        matches: matches,
                        location: location,
                        basename: basename,
                        loaderData: {},
                        actionData: null,
                        errors: (0, _defineProperty2["default"])({}, boundaryRouteId, error),
                        statusCode: _isRouteErrorResponse(error) ? error.status : 500,
                        actionHeaders: {},
                        loaderHeaders: {}
                      }));
                    case 3:
                    case "end":
                      return _context13.stop();
                  }
                }, _callee12);
              }));
              return function (_x96, _x97) {
                return _ref12.apply(this, arguments);
              };
            }());
          case 5:
            response = _context14.sent;
            invariant(isResponse(response), "Expected a response in query()");
            return _context14.abrupt("return", response);
          case 6:
            _context14.prev = 6;
            _t0 = _context14["catch"](3);
            if (!isResponse(_t0)) {
              _context14.next = 7;
              break;
            }
            return _context14.abrupt("return", _t0);
          case 7:
            throw _t0;
          case 8:
            _context14.next = 9;
            return queryImpl(request, location, matches, requestContext, dataStrategy || null, skipLoaderErrorBubbling === true, null, filterMatchesToLoad || null, skipRevalidation === true);
          case 9:
            result = _context14.sent;
            if (!isResponse(result)) {
              _context14.next = 10;
              break;
            }
            return _context14.abrupt("return", result);
          case 10:
            return _context14.abrupt("return", _objectSpread({
              location: location,
              basename: basename
            }, result));
          case 11:
          case "end":
            return _context14.stop();
        }
      }, _callee13, null, [[3, 6]]);
    }));
    return _query.apply(this, arguments);
  }
  function queryRoute(_x64) {
    return _queryRoute.apply(this, arguments);
  }
  function _queryRoute() {
    _queryRoute = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee15(request) {
      var _ref13,
        routeId,
        requestContext,
        dataStrategy,
        respond,
        url,
        method,
        location,
        matches,
        match,
        response,
        result,
        error,
        _args16 = arguments;
      return _regenerator["default"].wrap(function (_context16) {
        while (1) switch (_context16.prev = _context16.next) {
          case 0:
            _ref13 = _args16.length > 1 && _args16[1] !== undefined ? _args16[1] : {}, routeId = _ref13.routeId, requestContext = _ref13.requestContext, dataStrategy = _ref13.dataStrategy, respond = _ref13.unstable_respond;
            url = new URL(request.url);
            method = request.method;
            location = createLocation("", _createPath(url), null, "default");
            matches = _matchRoutes(dataRoutes, location, basename);
            requestContext = requestContext != null ? requestContext : new _unstable_RouterContextProvider();
            if (!(!isValidMethod(method) && method !== "HEAD" && method !== "OPTIONS")) {
              _context16.next = 1;
              break;
            }
            throw getInternalRouterError(405, {
              method: method
            });
          case 1:
            if (matches) {
              _context16.next = 2;
              break;
            }
            throw getInternalRouterError(404, {
              pathname: location.pathname
            });
          case 2:
            match = routeId ? matches.find(function (m) {
              return m.route.id === routeId;
            }) : getTargetMatch(matches, location);
            if (!(routeId && !match)) {
              _context16.next = 3;
              break;
            }
            throw getInternalRouterError(403, {
              pathname: location.pathname,
              routeId: routeId
            });
          case 3:
            if (match) {
              _context16.next = 4;
              break;
            }
            throw getInternalRouterError(404, {
              pathname: location.pathname
            });
          case 4:
            if (!(respond && matches.some(function (m) {
              return m.route.unstable_middleware || (0, _typeof2["default"])(m.route.lazy) === "object" && m.route.lazy.unstable_middleware;
            }))) {
              _context16.next = 7;
              break;
            }
            invariant(requestContext instanceof _unstable_RouterContextProvider, "When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`");
            _context16.next = 5;
            return loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2);
          case 5:
            _context16.next = 6;
            return runMiddlewarePipeline({
              request: request,
              matches: matches,
              params: matches[0].params,
              // If we're calling middleware then it must be enabled so we can cast
              // this to the proper type knowing it's not an `AppLoadContext`
              context: requestContext
            }, true, /*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee14() {
              var result2, error2, value;
              return _regenerator["default"].wrap(function (_context15) {
                while (1) switch (_context15.prev = _context15.next) {
                  case 0:
                    _context15.next = 1;
                    return queryImpl(request, location, matches, requestContext, dataStrategy || null, false, match, null, false);
                  case 1:
                    result2 = _context15.sent;
                    if (!isResponse(result2)) {
                      _context15.next = 2;
                      break;
                    }
                    return _context15.abrupt("return", respond(result2));
                  case 2:
                    error2 = result2.errors ? Object.values(result2.errors)[0] : void 0;
                    if (!(error2 !== void 0)) {
                      _context15.next = 3;
                      break;
                    }
                    throw error2;
                  case 3:
                    value = result2.actionData ? Object.values(result2.actionData)[0] : Object.values(result2.loaderData)[0];
                    return _context15.abrupt("return", typeof value === "string" ? new Response(value) : Response.json(value));
                  case 4:
                  case "end":
                    return _context15.stop();
                }
              }, _callee14);
            })), function (error2) {
              if (isResponse(error2)) {
                return respond(error2);
              }
              return new Response(String(error2), {
                status: 500,
                statusText: "Unexpected Server Error"
              });
            });
          case 6:
            response = _context16.sent;
            return _context16.abrupt("return", response);
          case 7:
            _context16.next = 8;
            return queryImpl(request, location, matches, requestContext, dataStrategy || null, false, match, null, false);
          case 8:
            result = _context16.sent;
            if (!isResponse(result)) {
              _context16.next = 9;
              break;
            }
            return _context16.abrupt("return", result);
          case 9:
            error = result.errors ? Object.values(result.errors)[0] : void 0;
            if (!(error !== void 0)) {
              _context16.next = 10;
              break;
            }
            throw error;
          case 10:
            if (!result.actionData) {
              _context16.next = 11;
              break;
            }
            return _context16.abrupt("return", Object.values(result.actionData)[0]);
          case 11:
            if (!result.loaderData) {
              _context16.next = 12;
              break;
            }
            return _context16.abrupt("return", Object.values(result.loaderData)[0]);
          case 12:
            return _context16.abrupt("return", void 0);
          case 13:
          case "end":
            return _context16.stop();
        }
      }, _callee15);
    }));
    return _queryRoute.apply(this, arguments);
  }
  function queryImpl(_x65, _x66, _x67, _x68, _x69, _x70, _x71, _x72, _x73) {
    return _queryImpl.apply(this, arguments);
  }
  function _queryImpl() {
    _queryImpl = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee16(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, skipRevalidation) {
      var result2, result, _t1;
      return _regenerator["default"].wrap(function (_context17) {
        while (1) switch (_context17.prev = _context17.next) {
          case 0:
            invariant(request.signal, "query()/queryRoute() requests must contain an AbortController signal");
            _context17.prev = 1;
            if (!isMutationMethod(request.method)) {
              _context17.next = 3;
              break;
            }
            _context17.next = 2;
            return submit(request, matches, routeMatch || getTargetMatch(matches, location), requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch != null, filterMatchesToLoad, skipRevalidation);
          case 2:
            result2 = _context17.sent;
            return _context17.abrupt("return", result2);
          case 3:
            _context17.next = 4;
            return loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad);
          case 4:
            result = _context17.sent;
            return _context17.abrupt("return", isResponse(result) ? result : _objectSpread(_objectSpread({}, result), {}, {
              actionData: null,
              actionHeaders: {}
            }));
          case 5:
            _context17.prev = 5;
            _t1 = _context17["catch"](1);
            if (!(isDataStrategyResult(_t1) && isResponse(_t1.result))) {
              _context17.next = 7;
              break;
            }
            if (!(_t1.type === "error" /* error */)) {
              _context17.next = 6;
              break;
            }
            throw _t1.result;
          case 6:
            return _context17.abrupt("return", _t1.result);
          case 7:
            if (!isRedirectResponse(_t1)) {
              _context17.next = 8;
              break;
            }
            return _context17.abrupt("return", _t1);
          case 8:
            throw _t1;
          case 9:
          case "end":
            return _context17.stop();
        }
      }, _callee16, null, [[1, 5]]);
    }));
    return _queryImpl.apply(this, arguments);
  }
  function submit(_x74, _x75, _x76, _x77, _x78, _x79, _x80, _x81, _x82) {
    return _submit.apply(this, arguments);
  }
  function _submit() {
    _submit = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee17(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest, filterMatchesToLoad, skipRevalidation) {
      var result, error, dsMatches, results, boundaryMatch, loaderRequest, _boundaryMatch, handlerContext2, handlerContext;
      return _regenerator["default"].wrap(function (_context18) {
        while (1) switch (_context18.prev = _context18.next) {
          case 0:
            if (!(!actionMatch.route.action && !actionMatch.route.lazy)) {
              _context18.next = 2;
              break;
            }
            error = getInternalRouterError(405, {
              method: request.method,
              pathname: new URL(request.url).pathname,
              routeId: actionMatch.route.id
            });
            if (!isRouteRequest) {
              _context18.next = 1;
              break;
            }
            throw error;
          case 1:
            result = {
              type: "error" /* error */,
              error: error
            };
            _context18.next = 4;
            break;
          case 2:
            dsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, actionMatch, [], requestContext);
            _context18.next = 3;
            return callDataStrategy(request, dsMatches, isRouteRequest, requestContext, dataStrategy);
          case 3:
            results = _context18.sent;
            result = results[actionMatch.route.id];
            if (request.signal.aborted) {
              throwStaticHandlerAbortedError(request, isRouteRequest);
            }
          case 4:
            if (!isRedirectResult(result)) {
              _context18.next = 5;
              break;
            }
            throw new Response(null, {
              status: result.response.status,
              headers: {
                Location: result.response.headers.get("Location")
              }
            });
          case 5:
            if (!isRouteRequest) {
              _context18.next = 7;
              break;
            }
            if (!isErrorResult(result)) {
              _context18.next = 6;
              break;
            }
            throw result.error;
          case 6:
            return _context18.abrupt("return", {
              matches: [actionMatch],
              loaderData: {},
              actionData: (0, _defineProperty2["default"])({}, actionMatch.route.id, result.data),
              errors: null,
              // Note: statusCode + headers are unused here since queryRoute will
              // return the raw Response or value
              statusCode: 200,
              loaderHeaders: {},
              actionHeaders: {}
            });
          case 7:
            if (!skipRevalidation) {
              _context18.next = 9;
              break;
            }
            if (!isErrorResult(result)) {
              _context18.next = 8;
              break;
            }
            boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);
            return _context18.abrupt("return", {
              statusCode: _isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,
              actionData: null,
              actionHeaders: _objectSpread({}, result.headers ? (0, _defineProperty2["default"])({}, actionMatch.route.id, result.headers) : {}),
              matches: matches,
              loaderData: {},
              errors: (0, _defineProperty2["default"])({}, boundaryMatch.route.id, result.error),
              loaderHeaders: {}
            });
          case 8:
            return _context18.abrupt("return", {
              actionData: (0, _defineProperty2["default"])({}, actionMatch.route.id, result.data),
              actionHeaders: result.headers ? (0, _defineProperty2["default"])({}, actionMatch.route.id, result.headers) : {},
              matches: matches,
              loaderData: {},
              errors: null,
              statusCode: result.statusCode || 200,
              loaderHeaders: {}
            });
          case 9:
            loaderRequest = new Request(request.url, {
              headers: request.headers,
              redirect: request.redirect,
              signal: request.signal
            });
            if (!isErrorResult(result)) {
              _context18.next = 11;
              break;
            }
            _boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);
            _context18.next = 10;
            return loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null, filterMatchesToLoad, [_boundaryMatch.route.id, result]);
          case 10:
            handlerContext2 = _context18.sent;
            return _context18.abrupt("return", _objectSpread(_objectSpread({}, handlerContext2), {}, {
              statusCode: _isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,
              actionData: null,
              actionHeaders: _objectSpread({}, result.headers ? (0, _defineProperty2["default"])({}, actionMatch.route.id, result.headers) : {})
            }));
          case 11:
            _context18.next = 12;
            return loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null, filterMatchesToLoad);
          case 12:
            handlerContext = _context18.sent;
            return _context18.abrupt("return", _objectSpread(_objectSpread(_objectSpread({}, handlerContext), {}, {
              actionData: (0, _defineProperty2["default"])({}, actionMatch.route.id, result.data)
            }, result.statusCode ? {
              statusCode: result.statusCode
            } : {}), {}, {
              actionHeaders: result.headers ? (0, _defineProperty2["default"])({}, actionMatch.route.id, result.headers) : {}
            }));
          case 13:
          case "end":
            return _context18.stop();
        }
      }, _callee17);
    }));
    return _submit.apply(this, arguments);
  }
  function loadRouteData(_x83, _x84, _x85, _x86, _x87, _x88, _x89, _x90) {
    return _loadRouteData.apply(this, arguments);
  }
  function _loadRouteData() {
    _loadRouteData = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee18(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, pendingActionResult) {
      var isRouteRequest, dsMatches, maxIdx, results, handlerContext;
      return _regenerator["default"].wrap(function (_context19) {
        while (1) switch (_context19.prev = _context19.next) {
          case 0:
            isRouteRequest = routeMatch != null;
            if (!(isRouteRequest && !(routeMatch !== null && routeMatch !== void 0 && routeMatch.route.loader) && !(routeMatch !== null && routeMatch !== void 0 && routeMatch.route.lazy))) {
              _context19.next = 1;
              break;
            }
            throw getInternalRouterError(400, {
              method: request.method,
              pathname: new URL(request.url).pathname,
              routeId: routeMatch === null || routeMatch === void 0 ? void 0 : routeMatch.route.id
            });
          case 1:
            if (routeMatch) {
              dsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, routeMatch, [], requestContext);
            } else {
              maxIdx = pendingActionResult && isErrorResult(pendingActionResult[1]) ?
              // Up to but not including the boundary
              matches.findIndex(function (m) {
                return m.route.id === pendingActionResult[0];
              }) - 1 : void 0;
              dsMatches = matches.map(function (match, index) {
                if (maxIdx != null && index > maxIdx) {
                  return getDataStrategyMatch(mapRouteProperties2, manifest, request, match, [], requestContext, false);
                }
                return getDataStrategyMatch(mapRouteProperties2, manifest, request, match, [], requestContext, (match.route.loader || match.route.lazy) != null && (!filterMatchesToLoad || filterMatchesToLoad(match)));
              });
            }
            if (!(!dataStrategy && !dsMatches.some(function (m) {
              return m.shouldLoad;
            }))) {
              _context19.next = 2;
              break;
            }
            return _context19.abrupt("return", {
              matches: matches,
              loaderData: {},
              errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? (0, _defineProperty2["default"])({}, pendingActionResult[0], pendingActionResult[1].error) : null,
              statusCode: 200,
              loaderHeaders: {}
            });
          case 2:
            _context19.next = 3;
            return callDataStrategy(request, dsMatches, isRouteRequest, requestContext, dataStrategy);
          case 3:
            results = _context19.sent;
            if (request.signal.aborted) {
              throwStaticHandlerAbortedError(request, isRouteRequest);
            }
            handlerContext = processRouteLoaderData(matches, results, pendingActionResult, true, skipLoaderErrorBubbling);
            return _context19.abrupt("return", _objectSpread(_objectSpread({}, handlerContext), {}, {
              matches: matches
            }));
          case 4:
          case "end":
            return _context19.stop();
        }
      }, _callee18);
    }));
    return _loadRouteData.apply(this, arguments);
  }
  function callDataStrategy(_x91, _x92, _x93, _x94, _x95) {
    return _callDataStrategy2.apply(this, arguments);
  }
  function _callDataStrategy2() {
    _callDataStrategy2 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee20(request, matches, isRouteRequest, requestContext, dataStrategy) {
      var results, dataResults;
      return _regenerator["default"].wrap(function (_context21) {
        while (1) switch (_context21.prev = _context21.next) {
          case 0:
            _context21.next = 1;
            return callDataStrategyImpl(dataStrategy || defaultDataStrategy, request, matches, null, requestContext, true);
          case 1:
            results = _context21.sent;
            dataResults = {};
            _context21.next = 2;
            return Promise.all(matches.map(/*#__PURE__*/function () {
              var _ref20 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee19(match) {
                var result, response;
                return _regenerator["default"].wrap(function (_context20) {
                  while (1) switch (_context20.prev = _context20.next) {
                    case 0:
                      if (match.route.id in results) {
                        _context20.next = 1;
                        break;
                      }
                      return _context20.abrupt("return");
                    case 1:
                      result = results[match.route.id];
                      if (!isRedirectDataStrategyResult(result)) {
                        _context20.next = 2;
                        break;
                      }
                      response = result.result;
                      throw normalizeRelativeRoutingRedirectResponse(response, request, match.route.id, matches, basename);
                    case 2:
                      if (!(isResponse(result.result) && isRouteRequest)) {
                        _context20.next = 3;
                        break;
                      }
                      throw result;
                    case 3:
                      _context20.next = 4;
                      return convertDataStrategyResultToDataResult(result);
                    case 4:
                      dataResults[match.route.id] = _context20.sent;
                    case 5:
                    case "end":
                      return _context20.stop();
                  }
                }, _callee19);
              }));
              return function (_x98) {
                return _ref20.apply(this, arguments);
              };
            }()));
          case 2:
            return _context21.abrupt("return", dataResults);
          case 3:
          case "end":
            return _context21.stop();
        }
      }, _callee20);
    }));
    return _callDataStrategy2.apply(this, arguments);
  }
  return {
    dataRoutes: dataRoutes,
    query: query,
    queryRoute: queryRoute
  };
}
function getStaticContextFromError(routes, handlerContext, error, boundaryId) {
  var errorBoundaryId = boundaryId || handlerContext._deepestRenderedBoundaryId || routes[0].id;
  return _objectSpread(_objectSpread({}, handlerContext), {}, {
    statusCode: _isRouteErrorResponse(error) ? error.status : 500,
    errors: (0, _defineProperty2["default"])({}, errorBoundaryId, error)
  });
}
function throwStaticHandlerAbortedError(request, isRouteRequest) {
  if (request.signal.reason !== void 0) {
    throw request.signal.reason;
  }
  var method = isRouteRequest ? "queryRoute" : "query";
  throw new Error("".concat(method, "() call aborted without an `AbortSignal.reason`: ").concat(request.method, " ").concat(request.url));
}
function isSubmissionNavigation(opts) {
  return opts != null && ("formData" in opts && opts.formData != null || "body" in opts && opts.body !== void 0);
}
function normalizeTo(location, matches, basename, to, fromRouteId, relative) {
  var contextualMatches;
  var activeRouteMatch;
  if (fromRouteId) {
    contextualMatches = [];
    var _iterator8 = _createForOfIteratorHelper(matches),
      _step8;
    try {
      for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
        var match = _step8.value;
        contextualMatches.push(match);
        if (match.route.id === fromRouteId) {
          activeRouteMatch = match;
          break;
        }
      }
    } catch (err) {
      _iterator8.e(err);
    } finally {
      _iterator8.f();
    }
  } else {
    contextualMatches = matches;
    activeRouteMatch = matches[matches.length - 1];
  }
  var path = resolveTo(to ? to : ".", getResolveToMatches(contextualMatches), stripBasename(location.pathname, basename) || location.pathname, relative === "path");
  if (to == null) {
    path.search = location.search;
    path.hash = location.hash;
  }
  if ((to == null || to === "" || to === ".") && activeRouteMatch) {
    var nakedIndex = hasNakedIndexQuery(path.search);
    if (activeRouteMatch.route.index && !nakedIndex) {
      path.search = path.search ? path.search.replace(/^\?/, "?index&") : "?index";
    } else if (!activeRouteMatch.route.index && nakedIndex) {
      var params = new URLSearchParams(path.search);
      var indexValues = params.getAll("index");
      params["delete"]("index");
      indexValues.filter(function (v) {
        return v;
      }).forEach(function (v) {
        return params.append("index", v);
      });
      var qs = params.toString();
      path.search = qs ? "?".concat(qs) : "";
    }
  }
  if (basename !== "/") {
    path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
  }
  return _createPath(path);
}
function normalizeNavigateOptions(isFetcher, path, opts) {
  if (!opts || !isSubmissionNavigation(opts)) {
    return {
      path: path
    };
  }
  if (opts.formMethod && !isValidMethod(opts.formMethod)) {
    return {
      path: path,
      error: getInternalRouterError(405, {
        method: opts.formMethod
      })
    };
  }
  var getInvalidBodyError = function getInvalidBodyError() {
    return {
      path: path,
      error: getInternalRouterError(400, {
        type: "invalid-body"
      })
    };
  };
  var rawFormMethod = opts.formMethod || "get";
  var formMethod = rawFormMethod.toUpperCase();
  var formAction = stripHashFromPath(path);
  if (opts.body !== void 0) {
    if (opts.formEncType === "text/plain") {
      if (!isMutationMethod(formMethod)) {
        return getInvalidBodyError();
      }
      var text = typeof opts.body === "string" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ?
      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data
      Array.from(opts.body.entries()).reduce(function (acc, _ref21) {
        var _ref22 = (0, _slicedToArray2["default"])(_ref21, 2),
          name = _ref22[0],
          value = _ref22[1];
        return "".concat(acc).concat(name, "=").concat(value, "\n");
      }, "") : String(opts.body);
      return {
        path: path,
        submission: {
          formMethod: formMethod,
          formAction: formAction,
          formEncType: opts.formEncType,
          formData: void 0,
          json: void 0,
          text: text
        }
      };
    } else if (opts.formEncType === "application/json") {
      if (!isMutationMethod(formMethod)) {
        return getInvalidBodyError();
      }
      try {
        var json = typeof opts.body === "string" ? JSON.parse(opts.body) : opts.body;
        return {
          path: path,
          submission: {
            formMethod: formMethod,
            formAction: formAction,
            formEncType: opts.formEncType,
            formData: void 0,
            json: json,
            text: void 0
          }
        };
      } catch (e) {
        return getInvalidBodyError();
      }
    }
  }
  invariant(typeof FormData === "function", "FormData is not available in this environment");
  var searchParams;
  var formData;
  if (opts.formData) {
    searchParams = convertFormDataToSearchParams(opts.formData);
    formData = opts.formData;
  } else if (opts.body instanceof FormData) {
    searchParams = convertFormDataToSearchParams(opts.body);
    formData = opts.body;
  } else if (opts.body instanceof URLSearchParams) {
    searchParams = opts.body;
    formData = convertSearchParamsToFormData(searchParams);
  } else if (opts.body == null) {
    searchParams = new URLSearchParams();
    formData = new FormData();
  } else {
    try {
      searchParams = new URLSearchParams(opts.body);
      formData = convertSearchParamsToFormData(searchParams);
    } catch (e) {
      return getInvalidBodyError();
    }
  }
  var submission = {
    formMethod: formMethod,
    formAction: formAction,
    formEncType: opts && opts.formEncType || "application/x-www-form-urlencoded",
    formData: formData,
    json: void 0,
    text: void 0
  };
  if (isMutationMethod(submission.formMethod)) {
    return {
      path: path,
      submission: submission
    };
  }
  var parsedPath = _parsePath(path);
  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {
    searchParams.append("index", "");
  }
  parsedPath.search = "?".concat(searchParams);
  return {
    path: _createPath(parsedPath),
    submission: submission
  };
}
function getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, history, state, matches, submission, location, lazyRoutePropertiesToSkip, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, hasPatchRoutesOnNavigation, pendingActionResult) {
  var _state$matches$;
  var actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;
  var currentUrl = history.createURL(state.location);
  var nextUrl = history.createURL(location);
  var maxIdx;
  if (initialHydration && state.errors) {
    var boundaryId = Object.keys(state.errors)[0];
    maxIdx = matches.findIndex(function (m) {
      return m.route.id === boundaryId;
    });
  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {
    var _boundaryId = pendingActionResult[0];
    maxIdx = matches.findIndex(function (m) {
      return m.route.id === _boundaryId;
    }) - 1;
  }
  var actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;
  var shouldSkipRevalidation = actionStatus && actionStatus >= 400;
  var baseShouldRevalidateArgs = _objectSpread(_objectSpread({
    currentUrl: currentUrl,
    currentParams: ((_state$matches$ = state.matches[0]) === null || _state$matches$ === void 0 ? void 0 : _state$matches$.params) || {},
    nextUrl: nextUrl,
    nextParams: matches[0].params
  }, submission), {}, {
    actionResult: actionResult,
    actionStatus: actionStatus
  });
  var dsMatches = matches.map(function (match, index) {
    var route = match.route;
    var forceShouldLoad = null;
    if (maxIdx != null && index > maxIdx) {
      forceShouldLoad = false;
    } else if (route.lazy) {
      forceShouldLoad = true;
    } else if (route.loader == null) {
      forceShouldLoad = false;
    } else if (initialHydration) {
      forceShouldLoad = shouldLoadRouteOnHydration(route, state.loaderData, state.errors);
    } else if (isNewLoader(state.loaderData, state.matches[index], match)) {
      forceShouldLoad = true;
    }
    if (forceShouldLoad !== null) {
      return getDataStrategyMatch(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip, scopedContext, forceShouldLoad);
    }
    var defaultShouldRevalidate = shouldSkipRevalidation ? false :
    // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate
    isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search ||
    // Search params affect all loaders
    currentUrl.search !== nextUrl.search || isNewRouteInstance(state.matches[index], match);
    var shouldRevalidateArgs = _objectSpread(_objectSpread({}, baseShouldRevalidateArgs), {}, {
      defaultShouldRevalidate: defaultShouldRevalidate
    });
    var shouldLoad = shouldRevalidateLoader(match, shouldRevalidateArgs);
    return getDataStrategyMatch(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad, shouldRevalidateArgs);
  });
  var revalidatingFetchers = [];
  fetchLoadMatches.forEach(function (f, key) {
    if (initialHydration || !matches.some(function (m) {
      return m.route.id === f.routeId;
    }) || fetchersQueuedForDeletion.has(key)) {
      return;
    }
    var fetcher = state.fetchers.get(key);
    var isMidInitialLoad = fetcher && fetcher.state !== "idle" && fetcher.data === void 0;
    var fetcherMatches = _matchRoutes(routesToUse, f.path, basename);
    if (!fetcherMatches) {
      if (hasPatchRoutesOnNavigation && isMidInitialLoad) {
        return;
      }
      revalidatingFetchers.push({
        key: key,
        routeId: f.routeId,
        path: f.path,
        matches: null,
        match: null,
        request: null,
        controller: null
      });
      return;
    }
    if (fetchRedirectIds.has(key)) {
      return;
    }
    var fetcherMatch = getTargetMatch(fetcherMatches, f.path);
    var fetchController = new AbortController();
    var fetchRequest = createClientSideRequest(history, f.path, fetchController.signal);
    var fetcherDsMatches = null;
    if (cancelledFetcherLoads.has(key)) {
      cancelledFetcherLoads["delete"](key);
      fetcherDsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, fetcherMatches, fetcherMatch, lazyRoutePropertiesToSkip, scopedContext);
    } else if (isMidInitialLoad) {
      if (isRevalidationRequired) {
        fetcherDsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, fetcherMatches, fetcherMatch, lazyRoutePropertiesToSkip, scopedContext);
      }
    } else {
      var shouldRevalidateArgs = _objectSpread(_objectSpread({}, baseShouldRevalidateArgs), {}, {
        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired
      });
      if (shouldRevalidateLoader(fetcherMatch, shouldRevalidateArgs)) {
        fetcherDsMatches = getTargetedDataStrategyMatches(mapRouteProperties2, manifest, fetchRequest, fetcherMatches, fetcherMatch, lazyRoutePropertiesToSkip, scopedContext, shouldRevalidateArgs);
      }
    }
    if (fetcherDsMatches) {
      revalidatingFetchers.push({
        key: key,
        routeId: f.routeId,
        path: f.path,
        matches: fetcherDsMatches,
        match: fetcherMatch,
        request: fetchRequest,
        controller: fetchController
      });
    }
  });
  return {
    dsMatches: dsMatches,
    revalidatingFetchers: revalidatingFetchers
  };
}
function shouldLoadRouteOnHydration(route, loaderData, errors) {
  if (route.lazy) {
    return true;
  }
  if (!route.loader) {
    return false;
  }
  var hasData = loaderData != null && route.id in loaderData;
  var hasError = errors != null && errors[route.id] !== void 0;
  if (!hasData && hasError) {
    return false;
  }
  if (typeof route.loader === "function" && route.loader.hydrate === true) {
    return true;
  }
  return !hasData && !hasError;
}
function isNewLoader(currentLoaderData, currentMatch, match) {
  var isNew =
  // [a] -> [a, b]
  !currentMatch ||
  // [a, b] -> [a, c]
  match.route.id !== currentMatch.route.id;
  var isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);
  return isNew || isMissingData;
}
function isNewRouteInstance(currentMatch, match) {
  var currentPath = currentMatch.route.path;
  return (
    // param change for this match, /users/123 -> /users/456
    currentMatch.pathname !== match.pathname ||
    // splat param changed, which is not present in match.path
    // e.g. /files/images/avatar.jpg -> files/finances.xls
    currentPath != null && currentPath.endsWith("*") && currentMatch.params["*"] !== match.params["*"]
  );
}
function shouldRevalidateLoader(loaderMatch, arg) {
  if (loaderMatch.route.shouldRevalidate) {
    var routeChoice = loaderMatch.route.shouldRevalidate(arg);
    if (typeof routeChoice === "boolean") {
      return routeChoice;
    }
  }
  return arg.defaultShouldRevalidate;
}
function patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2) {
  var _childrenToPatch, _childrenToPatch2;
  var childrenToPatch;
  if (routeId) {
    var route = manifest[routeId];
    invariant(route, "No route found to patch children into: routeId = ".concat(routeId));
    if (!route.children) {
      route.children = [];
    }
    childrenToPatch = route.children;
  } else {
    childrenToPatch = routesToUse;
  }
  var uniqueChildren = children.filter(function (newRoute) {
    return !childrenToPatch.some(function (existingRoute) {
      return isSameRoute(newRoute, existingRoute);
    });
  });
  var newRoutes = convertRoutesToDataRoutes(uniqueChildren, mapRouteProperties2, [routeId || "_", "patch", String(((_childrenToPatch = childrenToPatch) === null || _childrenToPatch === void 0 ? void 0 : _childrenToPatch.length) || "0")], manifest);
  (_childrenToPatch2 = childrenToPatch).push.apply(_childrenToPatch2, (0, _toConsumableArray2["default"])(newRoutes));
}
function isSameRoute(newRoute, existingRoute) {
  if ("id" in newRoute && "id" in existingRoute && newRoute.id === existingRoute.id) {
    return true;
  }
  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {
    return false;
  }
  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {
    return true;
  }
  return newRoute.children.every(function (aChild, i) {
    var _existingRoute$childr;
    return (_existingRoute$childr = existingRoute.children) === null || _existingRoute$childr === void 0 ? void 0 : _existingRoute$childr.some(function (bChild) {
      return isSameRoute(aChild, bChild);
    });
  });
}
var lazyRoutePropertyCache = /* @__PURE__ */new WeakMap();
var loadLazyRouteProperty = function loadLazyRouteProperty(_ref23) {
  var key = _ref23.key,
    route = _ref23.route,
    manifest = _ref23.manifest,
    mapRouteProperties2 = _ref23.mapRouteProperties;
  var routeToUpdate = manifest[route.id];
  invariant(routeToUpdate, "No route found in manifest");
  if (!routeToUpdate.lazy || (0, _typeof2["default"])(routeToUpdate.lazy) !== "object") {
    return;
  }
  var lazyFn = routeToUpdate.lazy[key];
  if (!lazyFn) {
    return;
  }
  var cache = lazyRoutePropertyCache.get(routeToUpdate);
  if (!cache) {
    cache = {};
    lazyRoutePropertyCache.set(routeToUpdate, cache);
  }
  var cachedPromise = cache[key];
  if (cachedPromise) {
    return cachedPromise;
  }
  var propertyPromise = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee21() {
    var isUnsupported, staticRouteValue, isStaticallyDefined, value;
    return _regenerator["default"].wrap(function (_context22) {
      while (1) switch (_context22.prev = _context22.next) {
        case 0:
          isUnsupported = isUnsupportedLazyRouteObjectKey(key);
          staticRouteValue = routeToUpdate[key];
          isStaticallyDefined = staticRouteValue !== void 0 && key !== "hasErrorBoundary";
          if (!isUnsupported) {
            _context22.next = 1;
            break;
          }
          warning(!isUnsupported, "Route property " + key + " is not a supported lazy route property. This property will be ignored.");
          cache[key] = Promise.resolve();
          _context22.next = 4;
          break;
        case 1:
          if (!isStaticallyDefined) {
            _context22.next = 2;
            break;
          }
          warning(false, "Route \"".concat(routeToUpdate.id, "\" has a static property \"").concat(key, "\" defined. The lazy property will be ignored."));
          _context22.next = 4;
          break;
        case 2:
          _context22.next = 3;
          return lazyFn();
        case 3:
          value = _context22.sent;
          if (value != null) {
            Object.assign(routeToUpdate, (0, _defineProperty2["default"])({}, key, value));
            Object.assign(routeToUpdate, mapRouteProperties2(routeToUpdate));
          }
        case 4:
          if ((0, _typeof2["default"])(routeToUpdate.lazy) === "object") {
            routeToUpdate.lazy[key] = void 0;
            if (Object.values(routeToUpdate.lazy).every(function (value) {
              return value === void 0;
            })) {
              routeToUpdate.lazy = void 0;
            }
          }
        case 5:
        case "end":
          return _context22.stop();
      }
    }, _callee21);
  }))();
  cache[key] = propertyPromise;
  return propertyPromise;
};
var lazyRouteFunctionCache = /* @__PURE__ */new WeakMap();
function loadLazyRoute(route, type, manifest, mapRouteProperties2, lazyRoutePropertiesToSkip) {
  var _lazyHandlerPromise;
  var routeToUpdate = manifest[route.id];
  invariant(routeToUpdate, "No route found in manifest");
  if (!route.lazy) {
    return {
      lazyRoutePromise: void 0,
      lazyHandlerPromise: void 0
    };
  }
  if (typeof route.lazy === "function") {
    var cachedPromise = lazyRouteFunctionCache.get(routeToUpdate);
    if (cachedPromise) {
      return {
        lazyRoutePromise: cachedPromise,
        lazyHandlerPromise: cachedPromise
      };
    }
    var lazyRoutePromise2 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee22() {
      var lazyRoute, routeUpdates, lazyRouteProperty, lazyValue, isUnsupported, staticRouteValue, isStaticallyDefined, _t10, _t11;
      return _regenerator["default"].wrap(function (_context23) {
        while (1) switch (_context23.prev = _context23.next) {
          case 0:
            invariant(typeof route.lazy === "function", "No lazy route function found");
            _context23.next = 1;
            return route.lazy();
          case 1:
            lazyRoute = _context23.sent;
            routeUpdates = {};
            _t10 = _regenerator["default"].keys(lazyRoute);
          case 2:
            if ((_t11 = _t10()).done) {
              _context23.next = 4;
              break;
            }
            lazyRouteProperty = _t11.value;
            lazyValue = lazyRoute[lazyRouteProperty];
            if (!(lazyValue === void 0)) {
              _context23.next = 3;
              break;
            }
            return _context23.abrupt("continue", 2);
          case 3:
            isUnsupported = isUnsupportedLazyRouteFunctionKey(lazyRouteProperty);
            staticRouteValue = routeToUpdate[lazyRouteProperty];
            isStaticallyDefined = staticRouteValue !== void 0 &&
            // This property isn't static since it should always be updated based
            // on the route updates
            lazyRouteProperty !== "hasErrorBoundary";
            if (isUnsupported) {
              warning(!isUnsupported, "Route property " + lazyRouteProperty + " is not a supported property to be returned from a lazy route function. This property will be ignored.");
            } else if (isStaticallyDefined) {
              warning(!isStaticallyDefined, "Route \"".concat(routeToUpdate.id, "\" has a static property \"").concat(lazyRouteProperty, "\" defined but its lazy function is also returning a value for this property. The lazy route property \"").concat(lazyRouteProperty, "\" will be ignored."));
            } else {
              routeUpdates[lazyRouteProperty] = lazyValue;
            }
            _context23.next = 2;
            break;
          case 4:
            Object.assign(routeToUpdate, routeUpdates);
            Object.assign(routeToUpdate, _objectSpread(_objectSpread({}, mapRouteProperties2(routeToUpdate)), {}, {
              lazy: void 0
            }));
          case 5:
          case "end":
            return _context23.stop();
        }
      }, _callee22);
    }))();
    lazyRouteFunctionCache.set(routeToUpdate, lazyRoutePromise2);
    lazyRoutePromise2["catch"](function () {});
    return {
      lazyRoutePromise: lazyRoutePromise2,
      lazyHandlerPromise: lazyRoutePromise2
    };
  }
  var lazyKeys = Object.keys(route.lazy);
  var lazyPropertyPromises = [];
  var lazyHandlerPromise = void 0;
  for (var _i2 = 0, _lazyKeys = lazyKeys; _i2 < _lazyKeys.length; _i2++) {
    var key = _lazyKeys[_i2];
    if (lazyRoutePropertiesToSkip && lazyRoutePropertiesToSkip.includes(key)) {
      continue;
    }
    var promise = loadLazyRouteProperty({
      key: key,
      route: route,
      manifest: manifest,
      mapRouteProperties: mapRouteProperties2
    });
    if (promise) {
      lazyPropertyPromises.push(promise);
      if (key === type) {
        lazyHandlerPromise = promise;
      }
    }
  }
  var lazyRoutePromise = lazyPropertyPromises.length > 0 ? Promise.all(lazyPropertyPromises).then(function () {}) : void 0;
  lazyRoutePromise === null || lazyRoutePromise === void 0 || lazyRoutePromise["catch"](function () {});
  (_lazyHandlerPromise = lazyHandlerPromise) === null || _lazyHandlerPromise === void 0 || _lazyHandlerPromise["catch"](function () {});
  return {
    lazyRoutePromise: lazyRoutePromise,
    lazyHandlerPromise: lazyHandlerPromise
  };
}
function isNonNullable(value) {
  return value !== void 0;
}
function loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2) {
  var promises = matches.map(function (_ref26) {
    var route = _ref26.route;
    if ((0, _typeof2["default"])(route.lazy) !== "object" || !route.lazy.unstable_middleware) {
      return void 0;
    }
    return loadLazyRouteProperty({
      key: "unstable_middleware",
      route: route,
      manifest: manifest,
      mapRouteProperties: mapRouteProperties2
    });
  }).filter(isNonNullable);
  return promises.length > 0 ? Promise.all(promises) : void 0;
}
function defaultDataStrategy(_x99) {
  return _defaultDataStrategy.apply(this, arguments);
}
function _defaultDataStrategy() {
  _defaultDataStrategy = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee72(args) {
    var matchesToLoad, keyedResults, results;
    return _regenerator["default"].wrap(function (_context74) {
      while (1) switch (_context74.prev = _context74.next) {
        case 0:
          matchesToLoad = args.matches.filter(function (m) {
            return m.shouldLoad;
          });
          keyedResults = {};
          _context74.next = 1;
          return Promise.all(matchesToLoad.map(function (m) {
            return m.resolve();
          }));
        case 1:
          results = _context74.sent;
          results.forEach(function (result, i) {
            keyedResults[matchesToLoad[i].route.id] = result;
          });
          return _context74.abrupt("return", keyedResults);
        case 2:
        case "end":
          return _context74.stop();
      }
    }, _callee72);
  }));
  return _defaultDataStrategy.apply(this, arguments);
}
function defaultDataStrategyWithMiddleware(_x100) {
  return _defaultDataStrategyWithMiddleware.apply(this, arguments);
}
function _defaultDataStrategyWithMiddleware() {
  _defaultDataStrategyWithMiddleware = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee73(args) {
    return _regenerator["default"].wrap(function (_context75) {
      while (1) switch (_context75.prev = _context75.next) {
        case 0:
          if (args.matches.some(function (m) {
            return m.route.unstable_middleware;
          })) {
            _context75.next = 1;
            break;
          }
          return _context75.abrupt("return", defaultDataStrategy(args));
        case 1:
          return _context75.abrupt("return", runMiddlewarePipeline(args, false, function () {
            return defaultDataStrategy(args);
          }, function (error, routeId) {
            return (0, _defineProperty2["default"])({}, routeId, {
              type: "error",
              result: error
            });
          }));
        case 2:
        case "end":
          return _context75.stop();
      }
    }, _callee73);
  }));
  return _defaultDataStrategyWithMiddleware.apply(this, arguments);
}
function runMiddlewarePipeline(_x101, _x102, _x103, _x104) {
  return _runMiddlewarePipeline.apply(this, arguments);
}
function _runMiddlewarePipeline() {
  _runMiddlewarePipeline = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee74(args, propagateResult, handler, errorHandler) {
    var matches, request, params, context, middlewareState, tuples, result, _result3, _t33;
    return _regenerator["default"].wrap(function (_context76) {
      while (1) switch (_context76.prev = _context76.next) {
        case 0:
          matches = args.matches, request = args.request, params = args.params, context = args.context;
          middlewareState = {
            handlerResult: void 0
          };
          _context76.prev = 1;
          tuples = matches.flatMap(function (m) {
            return m.route.unstable_middleware ? m.route.unstable_middleware.map(function (fn) {
              return [m.route.id, fn];
            }) : [];
          });
          _context76.next = 2;
          return callRouteMiddleware({
            request: request,
            params: params,
            context: context
          }, tuples, propagateResult, middlewareState, handler);
        case 2:
          result = _context76.sent;
          return _context76.abrupt("return", propagateResult ? result : middlewareState.handlerResult);
        case 3:
          _context76.prev = 3;
          _t33 = _context76["catch"](1);
          if (middlewareState.middlewareError) {
            _context76.next = 4;
            break;
          }
          throw _t33;
        case 4:
          _context76.next = 5;
          return errorHandler(middlewareState.middlewareError.error, middlewareState.middlewareError.routeId);
        case 5:
          _result3 = _context76.sent;
          if (!(propagateResult || !middlewareState.handlerResult)) {
            _context76.next = 6;
            break;
          }
          return _context76.abrupt("return", _result3);
        case 6:
          return _context76.abrupt("return", Object.assign(middlewareState.handlerResult, _result3));
        case 7:
        case "end":
          return _context76.stop();
      }
    }, _callee74, null, [[1, 3]]);
  }));
  return _runMiddlewarePipeline.apply(this, arguments);
}
function callRouteMiddleware(_x105, _x106, _x107, _x108, _x109) {
  return _callRouteMiddleware.apply(this, arguments);
}
function _callRouteMiddleware() {
  _callRouteMiddleware = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee76(args, middlewares, propagateResult, middlewareState, handler) {
    var idx,
      request,
      tuple,
      _tuple,
      routeId,
      middleware,
      nextCalled,
      nextResult,
      next,
      result,
      _args78 = arguments,
      _t34;
    return _regenerator["default"].wrap(function (_context78) {
      while (1) switch (_context78.prev = _context78.next) {
        case 0:
          idx = _args78.length > 5 && _args78[5] !== undefined ? _args78[5] : 0;
          request = args.request;
          if (!request.signal.aborted) {
            _context78.next = 2;
            break;
          }
          if (!request.signal.reason) {
            _context78.next = 1;
            break;
          }
          throw request.signal.reason;
        case 1:
          throw new Error("Request aborted without an `AbortSignal.reason`: ".concat(request.method, " ").concat(request.url));
        case 2:
          tuple = middlewares[idx];
          if (tuple) {
            _context78.next = 4;
            break;
          }
          _context78.next = 3;
          return handler();
        case 3:
          middlewareState.handlerResult = _context78.sent;
          return _context78.abrupt("return", middlewareState.handlerResult);
        case 4:
          _tuple = (0, _slicedToArray2["default"])(tuple, 2), routeId = _tuple[0], middleware = _tuple[1];
          nextCalled = false;
          nextResult = void 0;
          next = /*#__PURE__*/function () {
            var _ref118 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee75() {
              var result;
              return _regenerator["default"].wrap(function (_context77) {
                while (1) switch (_context77.prev = _context77.next) {
                  case 0:
                    if (!nextCalled) {
                      _context77.next = 1;
                      break;
                    }
                    throw new Error("You may only call `next()` once per middleware");
                  case 1:
                    nextCalled = true;
                    _context77.next = 2;
                    return callRouteMiddleware(args, middlewares, propagateResult, middlewareState, handler, idx + 1);
                  case 2:
                    result = _context77.sent;
                    if (!propagateResult) {
                      _context77.next = 3;
                      break;
                    }
                    nextResult = result;
                    return _context77.abrupt("return", nextResult);
                  case 3:
                  case "end":
                    return _context77.stop();
                }
              }, _callee75);
            }));
            return function next() {
              return _ref118.apply(this, arguments);
            };
          }();
          _context78.prev = 5;
          _context78.next = 6;
          return middleware({
            request: args.request,
            params: args.params,
            context: args.context
          }, next);
        case 6:
          result = _context78.sent;
          if (!nextCalled) {
            _context78.next = 9;
            break;
          }
          if (!(result === void 0)) {
            _context78.next = 7;
            break;
          }
          return _context78.abrupt("return", nextResult);
        case 7:
          return _context78.abrupt("return", result);
        case 8:
          _context78.next = 10;
          break;
        case 9:
          return _context78.abrupt("return", next());
        case 10:
          _context78.next = 12;
          break;
        case 11:
          _context78.prev = 11;
          _t34 = _context78["catch"](5);
          if (!middlewareState.middlewareError) {
            middlewareState.middlewareError = {
              routeId: routeId,
              error: _t34
            };
          } else if (middlewareState.middlewareError.error !== _t34) {
            middlewareState.middlewareError = {
              routeId: routeId,
              error: _t34
            };
          }
          throw _t34;
        case 12:
        case "end":
          return _context78.stop();
      }
    }, _callee76, null, [[5, 11]]);
  }));
  return _callRouteMiddleware.apply(this, arguments);
}
function getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip) {
  var lazyMiddlewarePromise = loadLazyRouteProperty({
    key: "unstable_middleware",
    route: match.route,
    manifest: manifest,
    mapRouteProperties: mapRouteProperties2
  });
  var lazyRoutePromises = loadLazyRoute(match.route, isMutationMethod(request.method) ? "action" : "loader", manifest, mapRouteProperties2, lazyRoutePropertiesToSkip);
  return {
    middleware: lazyMiddlewarePromise,
    route: lazyRoutePromises.lazyRoutePromise,
    handler: lazyRoutePromises.lazyHandlerPromise
  };
}
function getDataStrategyMatch(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad) {
  var unstable_shouldRevalidateArgs = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : null;
  var isUsingNewApi = false;
  var _lazyPromises = getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip);
  return _objectSpread(_objectSpread({}, match), {}, {
    _lazyPromises: _lazyPromises,
    shouldLoad: shouldLoad,
    unstable_shouldRevalidateArgs: unstable_shouldRevalidateArgs,
    unstable_shouldCallHandler: function unstable_shouldCallHandler(defaultShouldRevalidate) {
      isUsingNewApi = true;
      if (!unstable_shouldRevalidateArgs) {
        return shouldLoad;
      }
      if (typeof defaultShouldRevalidate === "boolean") {
        return shouldRevalidateLoader(match, _objectSpread(_objectSpread({}, unstable_shouldRevalidateArgs), {}, {
          defaultShouldRevalidate: defaultShouldRevalidate
        }));
      }
      return shouldRevalidateLoader(match, unstable_shouldRevalidateArgs);
    },
    resolve: function resolve(handlerOverride) {
      if (isUsingNewApi || shouldLoad || handlerOverride && request.method === "GET" && (match.route.lazy || match.route.loader)) {
        return callLoaderOrAction({
          request: request,
          match: match,
          lazyHandlerPromise: _lazyPromises === null || _lazyPromises === void 0 ? void 0 : _lazyPromises.handler,
          lazyRoutePromise: _lazyPromises === null || _lazyPromises === void 0 ? void 0 : _lazyPromises.route,
          handlerOverride: handlerOverride,
          scopedContext: scopedContext
        });
      }
      return Promise.resolve({
        type: "data" /* data */,
        result: void 0
      });
    }
  });
}
function getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, targetMatch, lazyRoutePropertiesToSkip, scopedContext) {
  var shouldRevalidateArgs = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : null;
  return matches.map(function (match) {
    if (match.route.id !== targetMatch.route.id) {
      return _objectSpread(_objectSpread({}, match), {}, {
        shouldLoad: false,
        unstable_shouldRevalidateArgs: shouldRevalidateArgs,
        unstable_shouldCallHandler: function unstable_shouldCallHandler() {
          return false;
        },
        _lazyPromises: getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip),
        resolve: function resolve() {
          return Promise.resolve({
            type: "data",
            result: void 0
          });
        }
      });
    }
    return getDataStrategyMatch(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip, scopedContext, true, shouldRevalidateArgs);
  });
}
function callDataStrategyImpl(_x110, _x111, _x112, _x113, _x114, _x115) {
  return _callDataStrategyImpl.apply(this, arguments);
}
function _callDataStrategyImpl() {
  _callDataStrategyImpl = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee77(dataStrategyImpl, request, matches, fetcherKey, scopedContext, isStaticHandler) {
    var dataStrategyArgs, unstable_runClientMiddleware, results, _t35;
    return _regenerator["default"].wrap(function (_context79) {
      while (1) switch (_context79.prev = _context79.next) {
        case 0:
          if (!matches.some(function (m) {
            var _m$_lazyPromises;
            return (_m$_lazyPromises = m._lazyPromises) === null || _m$_lazyPromises === void 0 ? void 0 : _m$_lazyPromises.middleware;
          })) {
            _context79.next = 1;
            break;
          }
          _context79.next = 1;
          return Promise.all(matches.map(function (m) {
            var _m$_lazyPromises2;
            return (_m$_lazyPromises2 = m._lazyPromises) === null || _m$_lazyPromises2 === void 0 ? void 0 : _m$_lazyPromises2.middleware;
          }));
        case 1:
          dataStrategyArgs = {
            request: request,
            params: matches[0].params,
            context: scopedContext,
            matches: matches
          };
          unstable_runClientMiddleware = isStaticHandler ? function () {
            throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`");
          } : function (cb) {
            var typedDataStrategyArgs = dataStrategyArgs;
            return runMiddlewarePipeline(typedDataStrategyArgs, false, function () {
              return cb(_objectSpread(_objectSpread({}, typedDataStrategyArgs), {}, {
                fetcherKey: fetcherKey,
                unstable_runClientMiddleware: function unstable_runClientMiddleware() {
                  throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler");
                }
              }));
            }, function (error, routeId) {
              return (0, _defineProperty2["default"])({}, routeId, {
                type: "error",
                result: error
              });
            });
          };
          _context79.next = 2;
          return dataStrategyImpl(_objectSpread(_objectSpread({}, dataStrategyArgs), {}, {
            fetcherKey: fetcherKey,
            unstable_runClientMiddleware: unstable_runClientMiddleware
          }));
        case 2:
          results = _context79.sent;
          _context79.prev = 3;
          _context79.next = 4;
          return Promise.all(matches.flatMap(function (m) {
            var _m$_lazyPromises3, _m$_lazyPromises4;
            return [(_m$_lazyPromises3 = m._lazyPromises) === null || _m$_lazyPromises3 === void 0 ? void 0 : _m$_lazyPromises3.handler, (_m$_lazyPromises4 = m._lazyPromises) === null || _m$_lazyPromises4 === void 0 ? void 0 : _m$_lazyPromises4.route];
          }));
        case 4:
          _context79.next = 6;
          break;
        case 5:
          _context79.prev = 5;
          _t35 = _context79["catch"](3);
        case 6:
          return _context79.abrupt("return", results);
        case 7:
        case "end":
          return _context79.stop();
      }
    }, _callee77, null, [[3, 5]]);
  }));
  return _callDataStrategyImpl.apply(this, arguments);
}
function callLoaderOrAction(_x116) {
  return _callLoaderOrAction.apply(this, arguments);
}
function _callLoaderOrAction() {
  _callLoaderOrAction = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee79(_ref27) {
    var request, match, lazyHandlerPromise, lazyRoutePromise, handlerOverride, scopedContext, result, onReject, isAction, type, runHandler, handler, handlerError, _yield$Promise$all, _yield$Promise$all2, value, handler2, _yield$Promise$all3, _yield$Promise$all4, url, pathname, _url, _pathname, _t37;
    return _regenerator["default"].wrap(function (_context81) {
      while (1) switch (_context81.prev = _context81.next) {
        case 0:
          request = _ref27.request, match = _ref27.match, lazyHandlerPromise = _ref27.lazyHandlerPromise, lazyRoutePromise = _ref27.lazyRoutePromise, handlerOverride = _ref27.handlerOverride, scopedContext = _ref27.scopedContext;
          isAction = isMutationMethod(request.method);
          type = isAction ? "action" : "loader";
          runHandler = function runHandler(handler) {
            var reject;
            var abortPromise = new Promise(function (_, r) {
              return reject = r;
            });
            onReject = function onReject() {
              return reject();
            };
            request.signal.addEventListener("abort", onReject);
            var actualHandler = function actualHandler(ctx) {
              if (typeof handler !== "function") {
                return Promise.reject(new Error("You cannot call the handler for a route which defines a boolean \"".concat(type, "\" [routeId: ").concat(match.route.id, "]")));
              }
              return handler.apply(void 0, [{
                request: request,
                params: match.params,
                context: scopedContext
              }].concat((0, _toConsumableArray2["default"])(ctx !== void 0 ? [ctx] : [])));
            };
            var handlerPromise = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee78() {
              var val, _t36;
              return _regenerator["default"].wrap(function (_context80) {
                while (1) switch (_context80.prev = _context80.next) {
                  case 0:
                    _context80.prev = 0;
                    _context80.next = 1;
                    return handlerOverride ? handlerOverride(function (ctx) {
                      return actualHandler(ctx);
                    }) : actualHandler();
                  case 1:
                    val = _context80.sent;
                    return _context80.abrupt("return", {
                      type: "data",
                      result: val
                    });
                  case 2:
                    _context80.prev = 2;
                    _t36 = _context80["catch"](0);
                    return _context80.abrupt("return", {
                      type: "error",
                      result: _t36
                    });
                  case 3:
                  case "end":
                    return _context80.stop();
                }
              }, _callee78, null, [[0, 2]]);
            }))();
            return Promise.race([handlerPromise, abortPromise]);
          };
          _context81.prev = 1;
          handler = isAction ? match.route.action : match.route.loader;
          if (!(lazyHandlerPromise || lazyRoutePromise)) {
            _context81.next = 10;
            break;
          }
          if (!handler) {
            _context81.next = 4;
            break;
          }
          _context81.next = 2;
          return Promise.all([
          // If the handler throws, don't let it immediately bubble out,
          // since we need to let the lazy() execution finish so we know if this
          // route has a boundary that can handle the error
          runHandler(handler)["catch"](function (e) {
            handlerError = e;
          }),
          // Ensure all lazy route promises are resolved before continuing
          lazyHandlerPromise, lazyRoutePromise]);
        case 2:
          _yield$Promise$all = _context81.sent;
          _yield$Promise$all2 = (0, _slicedToArray2["default"])(_yield$Promise$all, 1);
          value = _yield$Promise$all2[0];
          if (!(handlerError !== void 0)) {
            _context81.next = 3;
            break;
          }
          throw handlerError;
        case 3:
          result = value;
          _context81.next = 9;
          break;
        case 4:
          _context81.next = 5;
          return lazyHandlerPromise;
        case 5:
          handler2 = isAction ? match.route.action : match.route.loader;
          if (!handler2) {
            _context81.next = 7;
            break;
          }
          _context81.next = 6;
          return Promise.all([runHandler(handler2), lazyRoutePromise]);
        case 6:
          _yield$Promise$all3 = _context81.sent;
          _yield$Promise$all4 = (0, _slicedToArray2["default"])(_yield$Promise$all3, 1);
          result = _yield$Promise$all4[0];
          _context81.next = 9;
          break;
        case 7:
          if (!(type === "action")) {
            _context81.next = 8;
            break;
          }
          url = new URL(request.url);
          pathname = url.pathname + url.search;
          throw getInternalRouterError(405, {
            method: request.method,
            pathname: pathname,
            routeId: match.route.id
          });
        case 8:
          return _context81.abrupt("return", {
            type: "data" /* data */,
            result: void 0
          });
        case 9:
          _context81.next = 13;
          break;
        case 10:
          if (handler) {
            _context81.next = 11;
            break;
          }
          _url = new URL(request.url);
          _pathname = _url.pathname + _url.search;
          throw getInternalRouterError(404, {
            pathname: _pathname
          });
        case 11:
          _context81.next = 12;
          return runHandler(handler);
        case 12:
          result = _context81.sent;
        case 13:
          _context81.next = 15;
          break;
        case 14:
          _context81.prev = 14;
          _t37 = _context81["catch"](1);
          return _context81.abrupt("return", {
            type: "error" /* error */,
            result: _t37
          });
        case 15:
          _context81.prev = 15;
          if (onReject) {
            request.signal.removeEventListener("abort", onReject);
          }
          return _context81.finish(15);
        case 16:
          return _context81.abrupt("return", result);
        case 17:
        case "end":
          return _context81.stop();
      }
    }, _callee79, null, [[1, 14, 15, 16]]);
  }));
  return _callLoaderOrAction.apply(this, arguments);
}
function convertDataStrategyResultToDataResult(_x117) {
  return _convertDataStrategyResultToDataResult.apply(this, arguments);
}
function _convertDataStrategyResultToDataResult() {
  _convertDataStrategyResultToDataResult = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee80(dataStrategyResult) {
    var result, type, data2, contentType, _result$init3, _result$init4, _result$init, _result$init2, _result$init5, _result$init6, _t38;
    return _regenerator["default"].wrap(function (_context82) {
      while (1) switch (_context82.prev = _context82.next) {
        case 0:
          result = dataStrategyResult.result, type = dataStrategyResult.type;
          if (!isResponse(result)) {
            _context82.next = 11;
            break;
          }
          _context82.prev = 1;
          contentType = result.headers.get("Content-Type");
          if (!(contentType && /\bapplication\/json\b/.test(contentType))) {
            _context82.next = 5;
            break;
          }
          if (!(result.body == null)) {
            _context82.next = 2;
            break;
          }
          data2 = null;
          _context82.next = 4;
          break;
        case 2:
          _context82.next = 3;
          return result.json();
        case 3:
          data2 = _context82.sent;
        case 4:
          _context82.next = 7;
          break;
        case 5:
          _context82.next = 6;
          return result.text();
        case 6:
          data2 = _context82.sent;
        case 7:
          _context82.next = 9;
          break;
        case 8:
          _context82.prev = 8;
          _t38 = _context82["catch"](1);
          return _context82.abrupt("return", {
            type: "error" /* error */,
            error: _t38
          });
        case 9:
          if (!(type === "error" /* error */)) {
            _context82.next = 10;
            break;
          }
          return _context82.abrupt("return", {
            type: "error" /* error */,
            error: new ErrorResponseImpl(result.status, result.statusText, data2),
            statusCode: result.status,
            headers: result.headers
          });
        case 10:
          return _context82.abrupt("return", {
            type: "data" /* data */,
            data: data2,
            statusCode: result.status,
            headers: result.headers
          });
        case 11:
          if (!(type === "error" /* error */)) {
            _context82.next = 14;
            break;
          }
          if (!isDataWithResponseInit(result)) {
            _context82.next = 13;
            break;
          }
          if (!(result.data instanceof Error)) {
            _context82.next = 12;
            break;
          }
          return _context82.abrupt("return", {
            type: "error" /* error */,
            error: result.data,
            statusCode: (_result$init = result.init) === null || _result$init === void 0 ? void 0 : _result$init.status,
            headers: (_result$init2 = result.init) !== null && _result$init2 !== void 0 && _result$init2.headers ? new Headers(result.init.headers) : void 0
          });
        case 12:
          return _context82.abrupt("return", {
            type: "error" /* error */,
            error: new ErrorResponseImpl(((_result$init3 = result.init) === null || _result$init3 === void 0 ? void 0 : _result$init3.status) || 500, void 0, result.data),
            statusCode: _isRouteErrorResponse(result) ? result.status : void 0,
            headers: (_result$init4 = result.init) !== null && _result$init4 !== void 0 && _result$init4.headers ? new Headers(result.init.headers) : void 0
          });
        case 13:
          return _context82.abrupt("return", {
            type: "error" /* error */,
            error: result,
            statusCode: _isRouteErrorResponse(result) ? result.status : void 0
          });
        case 14:
          if (!isDataWithResponseInit(result)) {
            _context82.next = 15;
            break;
          }
          return _context82.abrupt("return", {
            type: "data" /* data */,
            data: result.data,
            statusCode: (_result$init5 = result.init) === null || _result$init5 === void 0 ? void 0 : _result$init5.status,
            headers: (_result$init6 = result.init) !== null && _result$init6 !== void 0 && _result$init6.headers ? new Headers(result.init.headers) : void 0
          });
        case 15:
          return _context82.abrupt("return", {
            type: "data" /* data */,
            data: result
          });
        case 16:
        case "end":
          return _context82.stop();
      }
    }, _callee80, null, [[1, 8]]);
  }));
  return _convertDataStrategyResultToDataResult.apply(this, arguments);
}
function normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {
  var location = response.headers.get("Location");
  invariant(location, "Redirects returned/thrown from loaders/actions must have a Location header");
  if (!ABSOLUTE_URL_REGEX.test(location)) {
    var trimmedMatches = matches.slice(0, matches.findIndex(function (m) {
      return m.route.id === routeId;
    }) + 1);
    location = normalizeTo(new URL(request.url), trimmedMatches, basename, location);
    response.headers.set("Location", location);
  }
  return response;
}
function normalizeRedirectLocation(location, currentUrl, basename) {
  if (ABSOLUTE_URL_REGEX.test(location)) {
    var normalizedLocation = location;
    var url = normalizedLocation.startsWith("//") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);
    var isSameBasename = stripBasename(url.pathname, basename) != null;
    if (url.origin === currentUrl.origin && isSameBasename) {
      return url.pathname + url.search + url.hash;
    }
  }
  return location;
}
function createClientSideRequest(history, location, signal, submission) {
  var url = history.createURL(stripHashFromPath(location)).toString();
  var init = {
    signal: signal
  };
  if (submission && isMutationMethod(submission.formMethod)) {
    var formMethod = submission.formMethod,
      formEncType = submission.formEncType;
    init.method = formMethod.toUpperCase();
    if (formEncType === "application/json") {
      init.headers = new Headers({
        "Content-Type": formEncType
      });
      init.body = JSON.stringify(submission.json);
    } else if (formEncType === "text/plain") {
      init.body = submission.text;
    } else if (formEncType === "application/x-www-form-urlencoded" && submission.formData) {
      init.body = convertFormDataToSearchParams(submission.formData);
    } else {
      init.body = submission.formData;
    }
  }
  return new Request(url, init);
}
function convertFormDataToSearchParams(formData) {
  var searchParams = new URLSearchParams();
  var _iterator9 = _createForOfIteratorHelper(formData.entries()),
    _step9;
  try {
    for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
      var _step9$value = (0, _slicedToArray2["default"])(_step9.value, 2),
        key = _step9$value[0],
        value = _step9$value[1];
      searchParams.append(key, typeof value === "string" ? value : value.name);
    }
  } catch (err) {
    _iterator9.e(err);
  } finally {
    _iterator9.f();
  }
  return searchParams;
}
function convertSearchParamsToFormData(searchParams) {
  var formData = new FormData();
  var _iterator0 = _createForOfIteratorHelper(searchParams.entries()),
    _step0;
  try {
    for (_iterator0.s(); !(_step0 = _iterator0.n()).done;) {
      var _step0$value = (0, _slicedToArray2["default"])(_step0.value, 2),
        key = _step0$value[0],
        value = _step0$value[1];
      formData.append(key, value);
    }
  } catch (err) {
    _iterator0.e(err);
  } finally {
    _iterator0.f();
  }
  return formData;
}
function processRouteLoaderData(matches, results, pendingActionResult) {
  var isStaticHandler = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var skipLoaderErrorBubbling = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  var loaderData = {};
  var errors = null;
  var statusCode;
  var foundError = false;
  var loaderHeaders = {};
  var pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;
  matches.forEach(function (match) {
    if (!(match.route.id in results)) {
      return;
    }
    var id = match.route.id;
    var result = results[id];
    invariant(!isRedirectResult(result), "Cannot handle redirect results in processLoaderData");
    if (isErrorResult(result)) {
      var error = result.error;
      if (pendingError !== void 0) {
        error = pendingError;
        pendingError = void 0;
      }
      errors = errors || {};
      if (skipLoaderErrorBubbling) {
        errors[id] = error;
      } else {
        var boundaryMatch = findNearestBoundary(matches, id);
        if (errors[boundaryMatch.route.id] == null) {
          errors[boundaryMatch.route.id] = error;
        }
      }
      if (!isStaticHandler) {
        loaderData[id] = ResetLoaderDataSymbol;
      }
      if (!foundError) {
        foundError = true;
        statusCode = _isRouteErrorResponse(result.error) ? result.error.status : 500;
      }
      if (result.headers) {
        loaderHeaders[id] = result.headers;
      }
    } else {
      loaderData[id] = result.data;
      if (result.statusCode && result.statusCode !== 200 && !foundError) {
        statusCode = result.statusCode;
      }
      if (result.headers) {
        loaderHeaders[id] = result.headers;
      }
    }
  });
  if (pendingError !== void 0 && pendingActionResult) {
    errors = (0, _defineProperty2["default"])({}, pendingActionResult[0], pendingError);
    if (pendingActionResult[2]) {
      loaderData[pendingActionResult[2]] = void 0;
    }
  }
  return {
    loaderData: loaderData,
    errors: errors,
    statusCode: statusCode || 200,
    loaderHeaders: loaderHeaders
  };
}
function processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {
  var _processRouteLoaderDa = processRouteLoaderData(matches, results, pendingActionResult),
    loaderData = _processRouteLoaderDa.loaderData,
    errors = _processRouteLoaderDa.errors;
  revalidatingFetchers.filter(function (f) {
    return !f.matches || f.matches.some(function (m) {
      return m.shouldLoad;
    });
  }).forEach(function (rf) {
    var key = rf.key,
      match = rf.match,
      controller = rf.controller;
    var result = fetcherResults[key];
    invariant(result, "Did not find corresponding fetcher result");
    if (controller && controller.signal.aborted) {
      return;
    } else if (isErrorResult(result)) {
      var boundaryMatch = findNearestBoundary(state.matches, match === null || match === void 0 ? void 0 : match.route.id);
      if (!(errors && errors[boundaryMatch.route.id])) {
        errors = _objectSpread(_objectSpread({}, errors), {}, (0, _defineProperty2["default"])({}, boundaryMatch.route.id, result.error));
      }
      state.fetchers["delete"](key);
    } else if (isRedirectResult(result)) {
      invariant(false, "Unhandled fetcher revalidation redirect");
    } else {
      var doneFetcher = getDoneFetcher(result.data);
      state.fetchers.set(key, doneFetcher);
    }
  });
  return {
    loaderData: loaderData,
    errors: errors
  };
}
function mergeLoaderData(loaderData, newLoaderData, matches, errors) {
  var mergedLoaderData = Object.entries(newLoaderData).filter(function (_ref28) {
    var _ref29 = (0, _slicedToArray2["default"])(_ref28, 2),
      v = _ref29[1];
    return v !== ResetLoaderDataSymbol;
  }).reduce(function (merged, _ref30) {
    var _ref31 = (0, _slicedToArray2["default"])(_ref30, 2),
      k = _ref31[0],
      v = _ref31[1];
    merged[k] = v;
    return merged;
  }, {});
  var _iterator1 = _createForOfIteratorHelper(matches),
    _step1;
  try {
    for (_iterator1.s(); !(_step1 = _iterator1.n()).done;) {
      var match = _step1.value;
      var id = match.route.id;
      if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {
        mergedLoaderData[id] = loaderData[id];
      }
      if (errors && errors.hasOwnProperty(id)) {
        break;
      }
    }
  } catch (err) {
    _iterator1.e(err);
  } finally {
    _iterator1.f();
  }
  return mergedLoaderData;
}
function getActionDataForCommit(pendingActionResult) {
  if (!pendingActionResult) {
    return {};
  }
  return isErrorResult(pendingActionResult[1]) ? {
    // Clear out prior actionData on errors
    actionData: {}
  } : {
    actionData: (0, _defineProperty2["default"])({}, pendingActionResult[0], pendingActionResult[1].data)
  };
}
function findNearestBoundary(matches, routeId) {
  var eligibleMatches = routeId ? matches.slice(0, matches.findIndex(function (m) {
    return m.route.id === routeId;
  }) + 1) : (0, _toConsumableArray2["default"])(matches);
  return eligibleMatches.reverse().find(function (m) {
    return m.route.hasErrorBoundary === true;
  }) || matches[0];
}
function getShortCircuitMatches(routes) {
  var route = routes.length === 1 ? routes[0] : routes.find(function (r) {
    return r.index || !r.path || r.path === "/";
  }) || {
    id: "__shim-error-route__"
  };
  return {
    matches: [{
      params: {},
      pathname: "",
      pathnameBase: "",
      route: route
    }],
    route: route
  };
}
function getInternalRouterError(status) {
  var _ref32 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    pathname = _ref32.pathname,
    routeId = _ref32.routeId,
    method = _ref32.method,
    type = _ref32.type,
    message = _ref32.message;
  var statusText = "Unknown Server Error";
  var errorMessage = "Unknown @remix-run/router error";
  if (status === 400) {
    statusText = "Bad Request";
    if (method && pathname && routeId) {
      errorMessage = "You made a ".concat(method, " request to \"").concat(pathname, "\" but did not provide a `loader` for route \"").concat(routeId, "\", so there is no way to handle the request.");
    } else if (type === "invalid-body") {
      errorMessage = "Unable to encode submission body";
    }
  } else if (status === 403) {
    statusText = "Forbidden";
    errorMessage = "Route \"".concat(routeId, "\" does not match URL \"").concat(pathname, "\"");
  } else if (status === 404) {
    statusText = "Not Found";
    errorMessage = "No route matches URL \"".concat(pathname, "\"");
  } else if (status === 405) {
    statusText = "Method Not Allowed";
    if (method && pathname && routeId) {
      errorMessage = "You made a ".concat(method.toUpperCase(), " request to \"").concat(pathname, "\" but did not provide an `action` for route \"").concat(routeId, "\", so there is no way to handle the request.");
    } else if (method) {
      errorMessage = "Invalid request method \"".concat(method.toUpperCase(), "\"");
    }
  }
  return new ErrorResponseImpl(status || 500, statusText, new Error(errorMessage), true);
}
function findRedirect(results) {
  var entries = Object.entries(results);
  for (var i = entries.length - 1; i >= 0; i--) {
    var _entries$i = (0, _slicedToArray2["default"])(entries[i], 2),
      key = _entries$i[0],
      result = _entries$i[1];
    if (isRedirectResult(result)) {
      return {
        key: key,
        result: result
      };
    }
  }
}
function stripHashFromPath(path) {
  var parsedPath = typeof path === "string" ? _parsePath(path) : path;
  return _createPath(_objectSpread(_objectSpread({}, parsedPath), {}, {
    hash: ""
  }));
}
function isHashChangeOnly(a, b) {
  if (a.pathname !== b.pathname || a.search !== b.search) {
    return false;
  }
  if (a.hash === "") {
    return b.hash !== "";
  } else if (a.hash === b.hash) {
    return true;
  } else if (b.hash !== "") {
    return true;
  }
  return false;
}
function isDataStrategyResult(result) {
  return result != null && (0, _typeof2["default"])(result) === "object" && "type" in result && "result" in result && (result.type === "data" /* data */ || result.type === "error" /* error */);
}
function isRedirectDataStrategyResult(result) {
  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);
}
function isErrorResult(result) {
  return result.type === "error" /* error */;
}
function isRedirectResult(result) {
  return (result && result.type) === "redirect" /* redirect */;
}
function isDataWithResponseInit(value) {
  return (0, _typeof2["default"])(value) === "object" && value != null && "type" in value && "data" in value && "init" in value && value.type === "DataWithResponseInit";
}
function isResponse(value) {
  return value != null && typeof value.status === "number" && typeof value.statusText === "string" && (0, _typeof2["default"])(value.headers) === "object" && typeof value.body !== "undefined";
}
function isRedirectStatusCode(statusCode) {
  return redirectStatusCodes.has(statusCode);
}
function isRedirectResponse(result) {
  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has("Location");
}
function isValidMethod(method) {
  return validRequestMethods.has(method.toUpperCase());
}
function isMutationMethod(method) {
  return validMutationMethods.has(method.toUpperCase());
}
function hasNakedIndexQuery(search) {
  return new URLSearchParams(search).getAll("index").some(function (v) {
    return v === "";
  });
}
function getTargetMatch(matches, location) {
  var search = typeof location === "string" ? _parsePath(location).search : location.search;
  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || "")) {
    return matches[matches.length - 1];
  }
  var pathMatches = getPathContributingMatches(matches);
  return pathMatches[pathMatches.length - 1];
}
function getSubmissionFromNavigation(navigation) {
  var formMethod = navigation.formMethod,
    formAction = navigation.formAction,
    formEncType = navigation.formEncType,
    text = navigation.text,
    formData = navigation.formData,
    json = navigation.json;
  if (!formMethod || !formAction || !formEncType) {
    return;
  }
  if (text != null) {
    return {
      formMethod: formMethod,
      formAction: formAction,
      formEncType: formEncType,
      formData: void 0,
      json: void 0,
      text: text
    };
  } else if (formData != null) {
    return {
      formMethod: formMethod,
      formAction: formAction,
      formEncType: formEncType,
      formData: formData,
      json: void 0,
      text: void 0
    };
  } else if (json !== void 0) {
    return {
      formMethod: formMethod,
      formAction: formAction,
      formEncType: formEncType,
      formData: void 0,
      json: json,
      text: void 0
    };
  }
}
function getLoadingNavigation(location, submission) {
  if (submission) {
    var navigation = {
      state: "loading",
      location: location,
      formMethod: submission.formMethod,
      formAction: submission.formAction,
      formEncType: submission.formEncType,
      formData: submission.formData,
      json: submission.json,
      text: submission.text
    };
    return navigation;
  } else {
    var _navigation = {
      state: "loading",
      location: location,
      formMethod: void 0,
      formAction: void 0,
      formEncType: void 0,
      formData: void 0,
      json: void 0,
      text: void 0
    };
    return _navigation;
  }
}
function getSubmittingNavigation(location, submission) {
  var navigation = {
    state: "submitting",
    location: location,
    formMethod: submission.formMethod,
    formAction: submission.formAction,
    formEncType: submission.formEncType,
    formData: submission.formData,
    json: submission.json,
    text: submission.text
  };
  return navigation;
}
function getLoadingFetcher(submission, data2) {
  if (submission) {
    var fetcher = {
      state: "loading",
      formMethod: submission.formMethod,
      formAction: submission.formAction,
      formEncType: submission.formEncType,
      formData: submission.formData,
      json: submission.json,
      text: submission.text,
      data: data2
    };
    return fetcher;
  } else {
    var _fetcher = {
      state: "loading",
      formMethod: void 0,
      formAction: void 0,
      formEncType: void 0,
      formData: void 0,
      json: void 0,
      text: void 0,
      data: data2
    };
    return _fetcher;
  }
}
function getSubmittingFetcher(submission, existingFetcher) {
  var fetcher = {
    state: "submitting",
    formMethod: submission.formMethod,
    formAction: submission.formAction,
    formEncType: submission.formEncType,
    formData: submission.formData,
    json: submission.json,
    text: submission.text,
    data: existingFetcher ? existingFetcher.data : void 0
  };
  return fetcher;
}
function getDoneFetcher(data2) {
  var fetcher = {
    state: "idle",
    formMethod: void 0,
    formAction: void 0,
    formEncType: void 0,
    formData: void 0,
    json: void 0,
    text: void 0,
    data: data2
  };
  return fetcher;
}
function restoreAppliedTransitions(_window, transitions) {
  try {
    var sessionPositions = _window.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);
    if (sessionPositions) {
      var json = JSON.parse(sessionPositions);
      for (var _i3 = 0, _Object$entries2 = Object.entries(json || {}); _i3 < _Object$entries2.length; _i3++) {
        var _Object$entries2$_i = (0, _slicedToArray2["default"])(_Object$entries2[_i3], 2),
          k = _Object$entries2$_i[0],
          v = _Object$entries2$_i[1];
        if (v && Array.isArray(v)) {
          transitions.set(k, new Set(v || []));
        }
      }
    }
  } catch (e) {}
}
function persistAppliedTransitions(_window, transitions) {
  if (transitions.size > 0) {
    var json = {};
    var _iterator10 = _createForOfIteratorHelper(transitions),
      _step10;
    try {
      for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
        var _step10$value = (0, _slicedToArray2["default"])(_step10.value, 2),
          k = _step10$value[0],
          v = _step10$value[1];
        json[k] = (0, _toConsumableArray2["default"])(v);
      }
    } catch (err) {
      _iterator10.e(err);
    } finally {
      _iterator10.f();
    }
    try {
      _window.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY, JSON.stringify(json));
    } catch (error) {
      warning(false, "Failed to save applied view transitions in sessionStorage (".concat(error, ")."));
    }
  }
}
function createDeferred() {
  var resolve;
  var reject;
  var promise = new Promise(function (res, rej) {
    resolve = /*#__PURE__*/function () {
      var _ref33 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee23(val) {
        var _t12;
        return _regenerator["default"].wrap(function (_context24) {
          while (1) switch (_context24.prev = _context24.next) {
            case 0:
              res(val);
              _context24.prev = 1;
              _context24.next = 2;
              return promise;
            case 2:
              _context24.next = 4;
              break;
            case 3:
              _context24.prev = 3;
              _t12 = _context24["catch"](1);
            case 4:
            case "end":
              return _context24.stop();
          }
        }, _callee23, null, [[1, 3]]);
      }));
      return function resolve(_x118) {
        return _ref33.apply(this, arguments);
      };
    }();
    reject = /*#__PURE__*/function () {
      var _ref34 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee24(error) {
        var _t13;
        return _regenerator["default"].wrap(function (_context25) {
          while (1) switch (_context25.prev = _context25.next) {
            case 0:
              rej(error);
              _context25.prev = 1;
              _context25.next = 2;
              return promise;
            case 2:
              _context25.next = 4;
              break;
            case 3:
              _context25.prev = 3;
              _t13 = _context25["catch"](1);
            case 4:
            case "end":
              return _context25.stop();
          }
        }, _callee24, null, [[1, 3]]);
      }));
      return function reject(_x119) {
        return _ref34.apply(this, arguments);
      };
    }();
  });
  return {
    promise: promise,
    //@ts-ignore
    resolve: resolve,
    //@ts-ignore
    reject: reject
  };
}

// lib/components.tsx
var React3 = __toESM(require("react"));

// lib/context.ts
var React = __toESM(require("react"));
var DataRouterContext = React.createContext(null);
DataRouterContext.displayName = "DataRouter";
var DataRouterStateContext = React.createContext(null);
DataRouterStateContext.displayName = "DataRouterState";
var ViewTransitionContext = React.createContext({
  isTransitioning: false
});
ViewTransitionContext.displayName = "ViewTransition";
var FetchersContext = React.createContext(/* @__PURE__ */new Map());
FetchersContext.displayName = "Fetchers";
var AwaitContext = React.createContext(null);
AwaitContext.displayName = "Await";
var NavigationContext = React.createContext(null);
NavigationContext.displayName = "Navigation";
var LocationContext = React.createContext(null);
LocationContext.displayName = "Location";
var RouteContext = React.createContext({
  outlet: null,
  matches: [],
  isDataRoute: false
});
RouteContext.displayName = "Route";
var RouteErrorContext = React.createContext(null);
RouteErrorContext.displayName = "RouteError";
var ENABLE_DEV_WARNINGS = true;

// lib/hooks.tsx
var React2 = __toESM(require("react"));
function _useHref(to) {
  var _ref35 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    relative = _ref35.relative;
  invariant(_useInRouterContext(), // TODO: This error is probably because they somehow have 2 versions of the
  // router loaded. We can help them understand how to avoid that.
  "useHref() may be used only in the context of a <Router> component.");
  var _React2$useContext = React2.useContext(NavigationContext),
    basename = _React2$useContext.basename,
    navigator = _React2$useContext.navigator;
  var _useResolvedPath2 = _useResolvedPath(to, {
      relative: relative
    }),
    hash = _useResolvedPath2.hash,
    pathname = _useResolvedPath2.pathname,
    search = _useResolvedPath2.search;
  var joinedPathname = pathname;
  if (basename !== "/") {
    joinedPathname = pathname === "/" ? basename : joinPaths([basename, pathname]);
  }
  return navigator.createHref({
    pathname: joinedPathname,
    search: search,
    hash: hash
  });
}
function _useInRouterContext() {
  return React2.useContext(LocationContext) != null;
}
function _useLocation() {
  invariant(_useInRouterContext(), // TODO: This error is probably because they somehow have 2 versions of the
  // router loaded. We can help them understand how to avoid that.
  "useLocation() may be used only in the context of a <Router> component.");
  return React2.useContext(LocationContext).location;
}
function _useNavigationType() {
  return React2.useContext(LocationContext).navigationType;
}
function _useMatch(pattern) {
  invariant(_useInRouterContext(), // TODO: This error is probably because they somehow have 2 versions of the
  // router loaded. We can help them understand how to avoid that.
  "useMatch() may be used only in the context of a <Router> component.");
  var _useLocation2 = _useLocation(),
    pathname = _useLocation2.pathname;
  return React2.useMemo(function () {
    return _matchPath(pattern, decodePath(pathname));
  }, [pathname, pattern]);
}
var navigateEffectWarning = "You should call navigate() in a React.useEffect(), not when your component is first rendered.";
function useIsomorphicLayoutEffect(cb) {
  var isStatic = React2.useContext(NavigationContext)["static"];
  if (!isStatic) {
    React2.useLayoutEffect(cb);
  }
}
function _useNavigate() {
  var _React2$useContext2 = React2.useContext(RouteContext),
    isDataRoute = _React2$useContext2.isDataRoute;
  return isDataRoute ? useNavigateStable() : useNavigateUnstable();
}
function useNavigateUnstable() {
  invariant(_useInRouterContext(), // TODO: This error is probably because they somehow have 2 versions of the
  // router loaded. We can help them understand how to avoid that.
  "useNavigate() may be used only in the context of a <Router> component.");
  var dataRouterContext = React2.useContext(DataRouterContext);
  var _React2$useContext3 = React2.useContext(NavigationContext),
    basename = _React2$useContext3.basename,
    navigator = _React2$useContext3.navigator;
  var _React2$useContext4 = React2.useContext(RouteContext),
    matches = _React2$useContext4.matches;
  var _useLocation3 = _useLocation(),
    locationPathname = _useLocation3.pathname;
  var routePathnamesJson = JSON.stringify(getResolveToMatches(matches));
  var activeRef = React2.useRef(false);
  useIsomorphicLayoutEffect(function () {
    activeRef.current = true;
  });
  var navigate = React2.useCallback(function (to) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    warning(activeRef.current, navigateEffectWarning);
    if (!activeRef.current) return;
    if (typeof to === "number") {
      navigator.go(to);
      return;
    }
    var path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === "path");
    if (dataRouterContext == null && basename !== "/") {
      path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
    }
    (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);
  }, [basename, navigator, routePathnamesJson, locationPathname, dataRouterContext]);
  return navigate;
}
var OutletContext = React2.createContext(null);
function _useOutletContext() {
  return React2.useContext(OutletContext);
}
function _useOutlet(context) {
  var outlet = React2.useContext(RouteContext).outlet;
  if (outlet) {
    return /* @__PURE__ */React2.createElement(OutletContext.Provider, {
      value: context
    }, outlet);
  }
  return outlet;
}
function _useParams() {
  var _React2$useContext5 = React2.useContext(RouteContext),
    matches = _React2$useContext5.matches;
  var routeMatch = matches[matches.length - 1];
  return routeMatch ? routeMatch.params : {};
}
function _useResolvedPath(to) {
  var _ref36 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    relative = _ref36.relative;
  var _React2$useContext6 = React2.useContext(RouteContext),
    matches = _React2$useContext6.matches;
  var _useLocation4 = _useLocation(),
    locationPathname = _useLocation4.pathname;
  var routePathnamesJson = JSON.stringify(getResolveToMatches(matches));
  return React2.useMemo(function () {
    return resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === "path");
  }, [to, routePathnamesJson, locationPathname, relative]);
}
function _useRoutes(routes, locationArg) {
  return useRoutesImpl(routes, locationArg);
}
function useRoutesImpl(routes, locationArg, dataRouterState, future) {
  invariant(_useInRouterContext(), // TODO: This error is probably because they somehow have 2 versions of the
  // router loaded. We can help them understand how to avoid that.
  "useRoutes() may be used only in the context of a <Router> component.");
  var _React2$useContext7 = React2.useContext(NavigationContext),
    navigator = _React2$useContext7.navigator;
  var _React2$useContext8 = React2.useContext(RouteContext),
    parentMatches = _React2$useContext8.matches;
  var routeMatch = parentMatches[parentMatches.length - 1];
  var parentParams = routeMatch ? routeMatch.params : {};
  var parentPathname = routeMatch ? routeMatch.pathname : "/";
  var parentPathnameBase = routeMatch ? routeMatch.pathnameBase : "/";
  var parentRoute = routeMatch && routeMatch.route;
  if (ENABLE_DEV_WARNINGS) {
    var parentPath = parentRoute && parentRoute.path || "";
    warningOnce(parentPathname, !parentRoute || parentPath.endsWith("*") || parentPath.endsWith("*?"), "You rendered descendant <Routes> (or called `useRoutes()`) at \"".concat(parentPathname, "\" (under <Route path=\"").concat(parentPath, "\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"").concat(parentPath, "\"> to <Route path=\"").concat(parentPath === "/" ? "*" : "".concat(parentPath, "/*"), "\">."));
  }
  var locationFromContext = _useLocation();
  var location;
  if (locationArg) {
    var _parsedLocationArg$pa;
    var parsedLocationArg = typeof locationArg === "string" ? _parsePath(locationArg) : locationArg;
    invariant(parentPathnameBase === "/" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) === null || _parsedLocationArg$pa === void 0 ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase)), "When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"".concat(parentPathnameBase, "\" but pathname \"").concat(parsedLocationArg.pathname, "\" was given in the `location` prop."));
    location = parsedLocationArg;
  } else {
    location = locationFromContext;
  }
  var pathname = location.pathname || "/";
  var remainingPathname = pathname;
  if (parentPathnameBase !== "/") {
    var parentSegments = parentPathnameBase.replace(/^\//, "").split("/");
    var segments = pathname.replace(/^\//, "").split("/");
    remainingPathname = "/" + segments.slice(parentSegments.length).join("/");
  }
  var matches = _matchRoutes(routes, {
    pathname: remainingPathname
  });
  if (ENABLE_DEV_WARNINGS) {
    warning(parentRoute || matches != null, "No routes matched location \"".concat(location.pathname).concat(location.search).concat(location.hash, "\" "));
    warning(matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0, "Matched leaf route at location \"".concat(location.pathname).concat(location.search).concat(location.hash, "\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page."));
  }
  var renderedMatches = _renderMatches(matches && matches.map(function (match) {
    return Object.assign({}, match, {
      params: Object.assign({}, parentParams, match.params),
      pathname: joinPaths([parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname]),
      pathnameBase: match.pathnameBase === "/" ? parentPathnameBase : joinPaths([parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase])
    });
  }), parentMatches, dataRouterState, future);
  if (locationArg && renderedMatches) {
    return /* @__PURE__ */React2.createElement(LocationContext.Provider, {
      value: {
        location: _objectSpread({
          pathname: "/",
          search: "",
          hash: "",
          state: null,
          key: "default"
        }, location),
        navigationType: "POP" /* Pop */
      }
    }, renderedMatches);
  }
  return renderedMatches;
}
function DefaultErrorComponent() {
  var error = _useRouteError();
  var message = _isRouteErrorResponse(error) ? "".concat(error.status, " ").concat(error.statusText) : error instanceof Error ? error.message : JSON.stringify(error);
  var stack = error instanceof Error ? error.stack : null;
  var lightgrey = "rgba(200,200,200, 0.5)";
  var preStyles = {
    padding: "0.5rem",
    backgroundColor: lightgrey
  };
  var codeStyles = {
    padding: "2px 4px",
    backgroundColor: lightgrey
  };
  var devInfo = null;
  if (ENABLE_DEV_WARNINGS) {
    console.error("Error handled by React Router default ErrorBoundary:", error);
    devInfo = /* @__PURE__ */React2.createElement(React2.Fragment, null, /* @__PURE__ */React2.createElement("p", null, "\uD83D\uDCBF Hey developer \uD83D\uDC4B"), /* @__PURE__ */React2.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", /* @__PURE__ */React2.createElement("code", {
      style: codeStyles
    }, "ErrorBoundary"), " or", " ", /* @__PURE__ */React2.createElement("code", {
      style: codeStyles
    }, "errorElement"), " prop on your route."));
  }
  return /* @__PURE__ */React2.createElement(React2.Fragment, null, /* @__PURE__ */React2.createElement("h2", null, "Unexpected Application Error!"), /* @__PURE__ */React2.createElement("h3", {
    style: {
      fontStyle: "italic"
    }
  }, message), stack ? /* @__PURE__ */React2.createElement("pre", {
    style: preStyles
  }, stack) : null, devInfo);
}
var defaultErrorElement = /* @__PURE__ */React2.createElement(DefaultErrorComponent, null);
var RenderErrorBoundary = /*#__PURE__*/function (_React2$Component) {
  function RenderErrorBoundary(props) {
    var _this;
    (0, _classCallCheck2["default"])(this, RenderErrorBoundary);
    _this = _callSuper(this, RenderErrorBoundary, [props]);
    _this.state = {
      location: props.location,
      revalidation: props.revalidation,
      error: props.error
    };
    return _this;
  }
  (0, _inherits2["default"])(RenderErrorBoundary, _React2$Component);
  return (0, _createClass2["default"])(RenderErrorBoundary, [{
    key: "componentDidCatch",
    value: function componentDidCatch(error, errorInfo) {
      console.error("React Router caught the following error during render", error, errorInfo);
    }
  }, {
    key: "render",
    value: function render() {
      return this.state.error !== void 0 ? /* @__PURE__ */React2.createElement(RouteContext.Provider, {
        value: this.props.routeContext
      }, /* @__PURE__ */React2.createElement(RouteErrorContext.Provider, {
        value: this.state.error,
        children: this.props.component
      })) : this.props.children;
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError(error) {
      return {
        error: error
      };
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      if (state.location !== props.location || state.revalidation !== "idle" && props.revalidation === "idle") {
        return {
          error: props.error,
          location: props.location,
          revalidation: props.revalidation
        };
      }
      return {
        error: props.error !== void 0 ? props.error : state.error,
        location: state.location,
        revalidation: props.revalidation || state.revalidation
      };
    }
  }]);
}(React2.Component);
function RenderedRoute(_ref37) {
  var routeContext = _ref37.routeContext,
    match = _ref37.match,
    children = _ref37.children;
  var dataRouterContext = React2.useContext(DataRouterContext);
  if (dataRouterContext && dataRouterContext["static"] && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {
    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;
  }
  return /* @__PURE__ */React2.createElement(RouteContext.Provider, {
    value: routeContext
  }, children);
}
function _renderMatches(matches) {
  var parentMatches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var dataRouterState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var future = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
  if (matches == null) {
    if (!dataRouterState) {
      return null;
    }
    if (dataRouterState.errors) {
      matches = dataRouterState.matches;
    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {
      matches = dataRouterState.matches;
    } else {
      return null;
    }
  }
  var renderedMatches = matches;
  var errors = dataRouterState === null || dataRouterState === void 0 ? void 0 : dataRouterState.errors;
  if (errors != null) {
    var errorIndex = renderedMatches.findIndex(function (m) {
      return m.route.id && (errors === null || errors === void 0 ? void 0 : errors[m.route.id]) !== void 0;
    });
    invariant(errorIndex >= 0, "Could not find a matching route for errors on route IDs: ".concat(Object.keys(errors).join(",")));
    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));
  }
  var renderFallback = false;
  var fallbackIndex = -1;
  if (dataRouterState) {
    for (var i = 0; i < renderedMatches.length; i++) {
      var match = renderedMatches[i];
      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {
        fallbackIndex = i;
      }
      if (match.route.id) {
        var loaderData = dataRouterState.loaderData,
          errors2 = dataRouterState.errors;
        var needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);
        if (match.route.lazy || needsToRunLoader) {
          renderFallback = true;
          if (fallbackIndex >= 0) {
            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);
          } else {
            renderedMatches = [renderedMatches[0]];
          }
          break;
        }
      }
    }
  }
  return renderedMatches.reduceRight(function (outlet, match, index) {
    var error;
    var shouldRenderHydrateFallback = false;
    var errorElement = null;
    var hydrateFallbackElement = null;
    if (dataRouterState) {
      error = errors && match.route.id ? errors[match.route.id] : void 0;
      errorElement = match.route.errorElement || defaultErrorElement;
      if (renderFallback) {
        if (fallbackIndex < 0 && index === 0) {
          warningOnce("route-fallback", false, "No `HydrateFallback` element provided to render during initial hydration");
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = null;
        } else if (fallbackIndex === index) {
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = match.route.hydrateFallbackElement || null;
        }
      }
    }
    var matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));
    var getChildren = function getChildren() {
      var children;
      if (error) {
        children = errorElement;
      } else if (shouldRenderHydrateFallback) {
        children = hydrateFallbackElement;
      } else if (match.route.Component) {
        children = /* @__PURE__ */React2.createElement(match.route.Component, null);
      } else if (match.route.element) {
        children = match.route.element;
      } else {
        children = outlet;
      }
      return /* @__PURE__ */React2.createElement(RenderedRoute, {
        match: match,
        routeContext: {
          outlet: outlet,
          matches: matches2,
          isDataRoute: dataRouterState != null
        },
        children: children
      });
    };
    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */React2.createElement(RenderErrorBoundary, {
      location: dataRouterState.location,
      revalidation: dataRouterState.revalidation,
      component: errorElement,
      error: error,
      children: getChildren(),
      routeContext: {
        outlet: null,
        matches: matches2,
        isDataRoute: true
      }
    }) : getChildren();
  }, null);
}
function getDataRouterConsoleError(hookName) {
  return "".concat(hookName, " must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.");
}
function useDataRouterContext(hookName) {
  var ctx = React2.useContext(DataRouterContext);
  invariant(ctx, getDataRouterConsoleError(hookName));
  return ctx;
}
function useDataRouterState(hookName) {
  var state = React2.useContext(DataRouterStateContext);
  invariant(state, getDataRouterConsoleError(hookName));
  return state;
}
function useRouteContext(hookName) {
  var route = React2.useContext(RouteContext);
  invariant(route, getDataRouterConsoleError(hookName));
  return route;
}
function useCurrentRouteId(hookName) {
  var route = useRouteContext(hookName);
  var thisRoute = route.matches[route.matches.length - 1];
  invariant(thisRoute.route.id, "".concat(hookName, " can only be used on routes that contain a unique \"id\""));
  return thisRoute.route.id;
}
function useRouteId() {
  return useCurrentRouteId("useRouteId" /* UseRouteId */);
}
function _useNavigation() {
  var state = useDataRouterState("useNavigation" /* UseNavigation */);
  return state.navigation;
}
function _useRevalidator() {
  var dataRouterContext = useDataRouterContext("useRevalidator" /* UseRevalidator */);
  var state = useDataRouterState("useRevalidator" /* UseRevalidator */);
  var revalidate = React2.useCallback(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee25() {
    return _regenerator["default"].wrap(function (_context26) {
      while (1) switch (_context26.prev = _context26.next) {
        case 0:
          _context26.next = 1;
          return dataRouterContext.router.revalidate();
        case 1:
        case "end":
          return _context26.stop();
      }
    }, _callee25);
  })), [dataRouterContext.router]);
  return React2.useMemo(function () {
    return {
      revalidate: revalidate,
      state: state.revalidation
    };
  }, [revalidate, state.revalidation]);
}
function _useMatches() {
  var _useDataRouterState = useDataRouterState("useMatches" /* UseMatches */),
    matches = _useDataRouterState.matches,
    loaderData = _useDataRouterState.loaderData;
  return React2.useMemo(function () {
    return matches.map(function (m) {
      return convertRouteMatchToUiMatch(m, loaderData);
    });
  }, [matches, loaderData]);
}
function _useLoaderData() {
  var state = useDataRouterState("useLoaderData" /* UseLoaderData */);
  var routeId = useCurrentRouteId("useLoaderData" /* UseLoaderData */);
  return state.loaderData[routeId];
}
function _useRouteLoaderData(routeId) {
  var state = useDataRouterState("useRouteLoaderData" /* UseRouteLoaderData */);
  return state.loaderData[routeId];
}
function _useActionData() {
  var state = useDataRouterState("useActionData" /* UseActionData */);
  var routeId = useCurrentRouteId("useLoaderData" /* UseLoaderData */);
  return state.actionData ? state.actionData[routeId] : void 0;
}
function _useRouteError() {
  var _state$errors;
  var error = React2.useContext(RouteErrorContext);
  var state = useDataRouterState("useRouteError" /* UseRouteError */);
  var routeId = useCurrentRouteId("useRouteError" /* UseRouteError */);
  if (error !== void 0) {
    return error;
  }
  return (_state$errors = state.errors) === null || _state$errors === void 0 ? void 0 : _state$errors[routeId];
}
function _useAsyncValue() {
  var value = React2.useContext(AwaitContext);
  return value === null || value === void 0 ? void 0 : value._data;
}
function _useAsyncError() {
  var value = React2.useContext(AwaitContext);
  return value === null || value === void 0 ? void 0 : value._error;
}
var blockerId = 0;
function _useBlocker(shouldBlock) {
  var _useDataRouterContext = useDataRouterContext("useBlocker" /* UseBlocker */),
    router = _useDataRouterContext.router,
    basename = _useDataRouterContext.basename;
  var state = useDataRouterState("useBlocker" /* UseBlocker */);
  var _React2$useState = React2.useState(""),
    _React2$useState2 = (0, _slicedToArray2["default"])(_React2$useState, 2),
    blockerKey = _React2$useState2[0],
    setBlockerKey = _React2$useState2[1];
  var blockerFunction = React2.useCallback(function (arg) {
    if (typeof shouldBlock !== "function") {
      return !!shouldBlock;
    }
    if (basename === "/") {
      return shouldBlock(arg);
    }
    var currentLocation = arg.currentLocation,
      nextLocation = arg.nextLocation,
      historyAction = arg.historyAction;
    return shouldBlock({
      currentLocation: _objectSpread(_objectSpread({}, currentLocation), {}, {
        pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname
      }),
      nextLocation: _objectSpread(_objectSpread({}, nextLocation), {}, {
        pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname
      }),
      historyAction: historyAction
    });
  }, [basename, shouldBlock]);
  React2.useEffect(function () {
    var key = String(++blockerId);
    setBlockerKey(key);
    return function () {
      return router.deleteBlocker(key);
    };
  }, [router]);
  React2.useEffect(function () {
    if (blockerKey !== "") {
      router.getBlocker(blockerKey, blockerFunction);
    }
  }, [router, blockerKey, blockerFunction]);
  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : _IDLE_BLOCKER;
}
function useNavigateStable() {
  var _useDataRouterContext2 = useDataRouterContext("useNavigate" /* UseNavigateStable */),
    router = _useDataRouterContext2.router;
  var id = useCurrentRouteId("useNavigate" /* UseNavigateStable */);
  var activeRef = React2.useRef(false);
  useIsomorphicLayoutEffect(function () {
    activeRef.current = true;
  });
  var navigate = React2.useCallback(/*#__PURE__*/function () {
    var _ref39 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee26(to) {
      var options,
        _args27 = arguments;
      return _regenerator["default"].wrap(function (_context27) {
        while (1) switch (_context27.prev = _context27.next) {
          case 0:
            options = _args27.length > 1 && _args27[1] !== undefined ? _args27[1] : {};
            warning(activeRef.current, navigateEffectWarning);
            if (activeRef.current) {
              _context27.next = 1;
              break;
            }
            return _context27.abrupt("return");
          case 1:
            if (!(typeof to === "number")) {
              _context27.next = 2;
              break;
            }
            router.navigate(to);
            _context27.next = 3;
            break;
          case 2:
            _context27.next = 3;
            return router.navigate(to, _objectSpread({
              fromRouteId: id
            }, options));
          case 3:
          case "end":
            return _context27.stop();
        }
      }, _callee26);
    }));
    return function (_x120) {
      return _ref39.apply(this, arguments);
    };
  }(), [router, id]);
  return navigate;
}
var alreadyWarned = {};
function warningOnce(key, cond, message) {
  if (!cond && !alreadyWarned[key]) {
    alreadyWarned[key] = true;
    warning(false, message);
  }
}

// lib/server-runtime/warnings.ts
var alreadyWarned2 = {};
function warnOnce(condition, message) {
  if (!condition && !alreadyWarned2[message]) {
    alreadyWarned2[message] = true;
    console.warn(message);
  }
}

// lib/components.tsx
function mapRouteProperties(route) {
  var updates = {
    // Note: this check also occurs in createRoutesFromChildren so update
    // there if you change this -- please and thank you!
    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null
  };
  if (route.Component) {
    if (ENABLE_DEV_WARNINGS) {
      if (route.element) {
        warning(false, "You should not include both `Component` and `element` on your route - `Component` will be used.");
      }
    }
    Object.assign(updates, {
      element: React3.createElement(route.Component),
      Component: void 0
    });
  }
  if (route.HydrateFallback) {
    if (ENABLE_DEV_WARNINGS) {
      if (route.hydrateFallbackElement) {
        warning(false, "You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.");
      }
    }
    Object.assign(updates, {
      hydrateFallbackElement: React3.createElement(route.HydrateFallback),
      HydrateFallback: void 0
    });
  }
  if (route.ErrorBoundary) {
    if (ENABLE_DEV_WARNINGS) {
      if (route.errorElement) {
        warning(false, "You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.");
      }
    }
    Object.assign(updates, {
      errorElement: React3.createElement(route.ErrorBoundary),
      ErrorBoundary: void 0
    });
  }
  return updates;
}
var hydrationRouteProperties = ["HydrateFallback", "hydrateFallbackElement"];
function _createMemoryRouter(routes, opts) {
  return createRouter({
    basename: opts === null || opts === void 0 ? void 0 : opts.basename,
    unstable_getContext: opts === null || opts === void 0 ? void 0 : opts.unstable_getContext,
    future: opts === null || opts === void 0 ? void 0 : opts.future,
    history: createMemoryHistory({
      initialEntries: opts === null || opts === void 0 ? void 0 : opts.initialEntries,
      initialIndex: opts === null || opts === void 0 ? void 0 : opts.initialIndex
    }),
    hydrationData: opts === null || opts === void 0 ? void 0 : opts.hydrationData,
    routes: routes,
    hydrationRouteProperties: hydrationRouteProperties,
    mapRouteProperties: mapRouteProperties,
    dataStrategy: opts === null || opts === void 0 ? void 0 : opts.dataStrategy,
    patchRoutesOnNavigation: opts === null || opts === void 0 ? void 0 : opts.patchRoutesOnNavigation
  }).initialize();
}
var Deferred = /*#__PURE__*/(0, _createClass2["default"])(function Deferred() {
  var _this2 = this;
  (0, _classCallCheck2["default"])(this, Deferred);
  this.status = "pending";
  this.promise = new Promise(function (resolve, reject) {
    _this2.resolve = function (value) {
      if (_this2.status === "pending") {
        _this2.status = "resolved";
        resolve(value);
      }
    };
    _this2.reject = function (reason) {
      if (_this2.status === "pending") {
        _this2.status = "rejected";
        reject(reason);
      }
    };
  });
});
function _RouterProvider(_ref40) {
  var router = _ref40.router,
    reactDomFlushSyncImpl = _ref40.flushSync;
  var _React3$useState = React3.useState(router.state),
    _React3$useState2 = (0, _slicedToArray2["default"])(_React3$useState, 2),
    state = _React3$useState2[0],
    setStateImpl = _React3$useState2[1];
  var _React3$useState3 = React3.useState(),
    _React3$useState4 = (0, _slicedToArray2["default"])(_React3$useState3, 2),
    pendingState = _React3$useState4[0],
    setPendingState = _React3$useState4[1];
  var _React3$useState5 = React3.useState({
      isTransitioning: false
    }),
    _React3$useState6 = (0, _slicedToArray2["default"])(_React3$useState5, 2),
    vtContext = _React3$useState6[0],
    setVtContext = _React3$useState6[1];
  var _React3$useState7 = React3.useState(),
    _React3$useState8 = (0, _slicedToArray2["default"])(_React3$useState7, 2),
    renderDfd = _React3$useState8[0],
    setRenderDfd = _React3$useState8[1];
  var _React3$useState9 = React3.useState(),
    _React3$useState0 = (0, _slicedToArray2["default"])(_React3$useState9, 2),
    transition = _React3$useState0[0],
    setTransition = _React3$useState0[1];
  var _React3$useState1 = React3.useState(),
    _React3$useState10 = (0, _slicedToArray2["default"])(_React3$useState1, 2),
    interruption = _React3$useState10[0],
    setInterruption = _React3$useState10[1];
  var fetcherData = React3.useRef(/* @__PURE__ */new Map());
  var setState = React3.useCallback(function (newState, _ref41) {
    var deletedFetchers = _ref41.deletedFetchers,
      flushSync = _ref41.flushSync,
      viewTransitionOpts = _ref41.viewTransitionOpts;
    newState.fetchers.forEach(function (fetcher, key) {
      if (fetcher.data !== void 0) {
        fetcherData.current.set(key, fetcher.data);
      }
    });
    deletedFetchers.forEach(function (key) {
      return fetcherData.current["delete"](key);
    });
    warnOnce(flushSync === false || reactDomFlushSyncImpl != null, 'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');
    var isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === "function";
    warnOnce(viewTransitionOpts == null || isViewTransitionAvailable, "You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.");
    if (!viewTransitionOpts || !isViewTransitionAvailable) {
      if (reactDomFlushSyncImpl && flushSync) {
        reactDomFlushSyncImpl(function () {
          return setStateImpl(newState);
        });
      } else {
        React3.startTransition(function () {
          return setStateImpl(newState);
        });
      }
      return;
    }
    if (reactDomFlushSyncImpl && flushSync) {
      reactDomFlushSyncImpl(function () {
        if (transition) {
          renderDfd && renderDfd.resolve();
          transition.skipTransition();
        }
        setVtContext({
          isTransitioning: true,
          flushSync: true,
          currentLocation: viewTransitionOpts.currentLocation,
          nextLocation: viewTransitionOpts.nextLocation
        });
      });
      var t = router.window.document.startViewTransition(function () {
        reactDomFlushSyncImpl(function () {
          return setStateImpl(newState);
        });
      });
      t.finished["finally"](function () {
        reactDomFlushSyncImpl(function () {
          setRenderDfd(void 0);
          setTransition(void 0);
          setPendingState(void 0);
          setVtContext({
            isTransitioning: false
          });
        });
      });
      reactDomFlushSyncImpl(function () {
        return setTransition(t);
      });
      return;
    }
    if (transition) {
      renderDfd && renderDfd.resolve();
      transition.skipTransition();
      setInterruption({
        state: newState,
        currentLocation: viewTransitionOpts.currentLocation,
        nextLocation: viewTransitionOpts.nextLocation
      });
    } else {
      setPendingState(newState);
      setVtContext({
        isTransitioning: true,
        flushSync: false,
        currentLocation: viewTransitionOpts.currentLocation,
        nextLocation: viewTransitionOpts.nextLocation
      });
    }
  }, [router.window, reactDomFlushSyncImpl, transition, renderDfd]);
  React3.useLayoutEffect(function () {
    return router.subscribe(setState);
  }, [router, setState]);
  React3.useEffect(function () {
    if (vtContext.isTransitioning && !vtContext.flushSync) {
      setRenderDfd(new Deferred());
    }
  }, [vtContext]);
  React3.useEffect(function () {
    if (renderDfd && pendingState && router.window) {
      var newState = pendingState;
      var renderPromise = renderDfd.promise;
      var transition2 = router.window.document.startViewTransition(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee27() {
        return _regenerator["default"].wrap(function (_context28) {
          while (1) switch (_context28.prev = _context28.next) {
            case 0:
              React3.startTransition(function () {
                return setStateImpl(newState);
              });
              _context28.next = 1;
              return renderPromise;
            case 1:
            case "end":
              return _context28.stop();
          }
        }, _callee27);
      })));
      transition2.finished["finally"](function () {
        setRenderDfd(void 0);
        setTransition(void 0);
        setPendingState(void 0);
        setVtContext({
          isTransitioning: false
        });
      });
      setTransition(transition2);
    }
  }, [pendingState, renderDfd, router.window]);
  React3.useEffect(function () {
    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {
      renderDfd.resolve();
    }
  }, [renderDfd, transition, state.location, pendingState]);
  React3.useEffect(function () {
    if (!vtContext.isTransitioning && interruption) {
      setPendingState(interruption.state);
      setVtContext({
        isTransitioning: true,
        flushSync: false,
        currentLocation: interruption.currentLocation,
        nextLocation: interruption.nextLocation
      });
      setInterruption(void 0);
    }
  }, [vtContext.isTransitioning, interruption]);
  var navigator = React3.useMemo(function () {
    return {
      createHref: router.createHref,
      encodeLocation: router.encodeLocation,
      go: function go(n) {
        return router.navigate(n);
      },
      push: function push(to, state2, opts) {
        return router.navigate(to, {
          state: state2,
          preventScrollReset: opts === null || opts === void 0 ? void 0 : opts.preventScrollReset
        });
      },
      replace: function replace(to, state2, opts) {
        return router.navigate(to, {
          replace: true,
          state: state2,
          preventScrollReset: opts === null || opts === void 0 ? void 0 : opts.preventScrollReset
        });
      }
    };
  }, [router]);
  var basename = router.basename || "/";
  var dataRouterContext = React3.useMemo(function () {
    return {
      router: router,
      navigator: navigator,
      "static": false,
      basename: basename
    };
  }, [router, navigator, basename]);
  return /* @__PURE__ */React3.createElement(React3.Fragment, null, /* @__PURE__ */React3.createElement(DataRouterContext.Provider, {
    value: dataRouterContext
  }, /* @__PURE__ */React3.createElement(DataRouterStateContext.Provider, {
    value: state
  }, /* @__PURE__ */React3.createElement(FetchersContext.Provider, {
    value: fetcherData.current
  }, /* @__PURE__ */React3.createElement(ViewTransitionContext.Provider, {
    value: vtContext
  }, /* @__PURE__ */React3.createElement(_Router, {
    basename: basename,
    location: state.location,
    navigationType: state.historyAction,
    navigator: navigator
  }, /* @__PURE__ */React3.createElement(MemoizedDataRoutes, {
    routes: router.routes,
    future: router.future,
    state: state
  })))))), null);
}
var MemoizedDataRoutes = React3.memo(DataRoutes);
function DataRoutes(_ref43) {
  var routes = _ref43.routes,
    future = _ref43.future,
    state = _ref43.state;
  return useRoutesImpl(routes, void 0, state, future);
}
function _MemoryRouter(_ref44) {
  var basename = _ref44.basename,
    children = _ref44.children,
    initialEntries = _ref44.initialEntries,
    initialIndex = _ref44.initialIndex;
  var historyRef = React3.useRef();
  if (historyRef.current == null) {
    historyRef.current = createMemoryHistory({
      initialEntries: initialEntries,
      initialIndex: initialIndex,
      v5Compat: true
    });
  }
  var history = historyRef.current;
  var _React3$useState11 = React3.useState({
      action: history.action,
      location: history.location
    }),
    _React3$useState12 = (0, _slicedToArray2["default"])(_React3$useState11, 2),
    state = _React3$useState12[0],
    setStateImpl = _React3$useState12[1];
  var setState = React3.useCallback(function (newState) {
    React3.startTransition(function () {
      return setStateImpl(newState);
    });
  }, [setStateImpl]);
  React3.useLayoutEffect(function () {
    return history.listen(setState);
  }, [history, setState]);
  return /* @__PURE__ */React3.createElement(_Router, {
    basename: basename,
    children: children,
    location: state.location,
    navigationType: state.action,
    navigator: history
  });
}
function _Navigate(_ref45) {
  var to = _ref45.to,
    replace2 = _ref45.replace,
    state = _ref45.state,
    relative = _ref45.relative;
  invariant(_useInRouterContext(), // TODO: This error is probably because they somehow have 2 versions of
  // the router loaded. We can help them understand how to avoid that.
  "<Navigate> may be used only in the context of a <Router> component.");
  var _React3$useContext = React3.useContext(NavigationContext),
    isStatic = _React3$useContext["static"];
  warning(!isStatic, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");
  var _React3$useContext2 = React3.useContext(RouteContext),
    matches = _React3$useContext2.matches;
  var _useLocation5 = _useLocation(),
    locationPathname = _useLocation5.pathname;
  var navigate = _useNavigate();
  var path = resolveTo(to, getResolveToMatches(matches), locationPathname, relative === "path");
  var jsonPath = JSON.stringify(path);
  React3.useEffect(function () {
    navigate(JSON.parse(jsonPath), {
      replace: replace2,
      state: state,
      relative: relative
    });
  }, [navigate, jsonPath, relative, replace2, state]);
  return null;
}
function _Outlet(props) {
  return _useOutlet(props.context);
}
function _Route(_props) {
  invariant(false, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.");
}
function _Router(_ref46) {
  var _ref46$basename = _ref46.basename,
    basenameProp = _ref46$basename === void 0 ? "/" : _ref46$basename,
    _ref46$children = _ref46.children,
    children = _ref46$children === void 0 ? null : _ref46$children,
    locationProp = _ref46.location,
    _ref46$navigationType = _ref46.navigationType,
    navigationType = _ref46$navigationType === void 0 ? "POP" : _ref46$navigationType,
    navigator = _ref46.navigator,
    _ref46$static = _ref46["static"],
    staticProp = _ref46$static === void 0 ? false : _ref46$static;
  invariant(!_useInRouterContext(), "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");
  var basename = basenameProp.replace(/^\/*/, "/");
  var navigationContext = React3.useMemo(function () {
    return {
      basename: basename,
      navigator: navigator,
      "static": staticProp,
      future: {}
    };
  }, [basename, navigator, staticProp]);
  if (typeof locationProp === "string") {
    locationProp = _parsePath(locationProp);
  }
  var _locationProp = locationProp,
    _locationProp$pathnam = _locationProp.pathname,
    pathname = _locationProp$pathnam === void 0 ? "/" : _locationProp$pathnam,
    _locationProp$search = _locationProp.search,
    search = _locationProp$search === void 0 ? "" : _locationProp$search,
    _locationProp$hash = _locationProp.hash,
    hash = _locationProp$hash === void 0 ? "" : _locationProp$hash,
    _locationProp$state = _locationProp.state,
    state = _locationProp$state === void 0 ? null : _locationProp$state,
    _locationProp$key = _locationProp.key,
    key = _locationProp$key === void 0 ? "default" : _locationProp$key;
  var locationContext = React3.useMemo(function () {
    var trailingPathname = stripBasename(pathname, basename);
    if (trailingPathname == null) {
      return null;
    }
    return {
      location: {
        pathname: trailingPathname,
        search: search,
        hash: hash,
        state: state,
        key: key
      },
      navigationType: navigationType
    };
  }, [basename, pathname, search, hash, state, key, navigationType]);
  warning(locationContext != null, "<Router basename=\"".concat(basename, "\"> is not able to match the URL \"").concat(pathname).concat(search).concat(hash, "\" because it does not start with the basename, so the <Router> won't render anything."));
  if (locationContext == null) {
    return null;
  }
  return /* @__PURE__ */React3.createElement(NavigationContext.Provider, {
    value: navigationContext
  }, /* @__PURE__ */React3.createElement(LocationContext.Provider, {
    children: children,
    value: locationContext
  }));
}
function _Routes(_ref47) {
  var children = _ref47.children,
    location = _ref47.location;
  return _useRoutes(_createRoutesFromChildren(children), location);
}
function _Await(_ref48) {
  var children = _ref48.children,
    errorElement = _ref48.errorElement,
    resolve = _ref48.resolve;
  return /* @__PURE__ */React3.createElement(AwaitErrorBoundary, {
    resolve: resolve,
    errorElement: errorElement
  }, /* @__PURE__ */React3.createElement(ResolveAwait, null, children));
}
var AwaitErrorBoundary = /*#__PURE__*/function (_React3$Component) {
  function AwaitErrorBoundary(props) {
    var _this3;
    (0, _classCallCheck2["default"])(this, AwaitErrorBoundary);
    _this3 = _callSuper(this, AwaitErrorBoundary, [props]);
    _this3.state = {
      error: null
    };
    return _this3;
  }
  (0, _inherits2["default"])(AwaitErrorBoundary, _React3$Component);
  return (0, _createClass2["default"])(AwaitErrorBoundary, [{
    key: "componentDidCatch",
    value: function componentDidCatch(error, errorInfo) {
      console.error("<Await> caught the following error during render", error, errorInfo);
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
        children = _this$props.children,
        errorElement = _this$props.errorElement,
        resolve = _this$props.resolve;
      var promise = null;
      var status = 0 /* pending */;
      if (!(resolve instanceof Promise)) {
        status = 1 /* success */;
        promise = Promise.resolve();
        Object.defineProperty(promise, "_tracked", {
          get: function get() {
            return true;
          }
        });
        Object.defineProperty(promise, "_data", {
          get: function get() {
            return resolve;
          }
        });
      } else if (this.state.error) {
        status = 2 /* error */;
        var renderError = this.state.error;
        promise = Promise.reject()["catch"](function () {});
        Object.defineProperty(promise, "_tracked", {
          get: function get() {
            return true;
          }
        });
        Object.defineProperty(promise, "_error", {
          get: function get() {
            return renderError;
          }
        });
      } else if (resolve._tracked) {
        promise = resolve;
        status = "_error" in promise ? 2 /* error */ : "_data" in promise ? 1 /* success */ : 0 /* pending */;
      } else {
        status = 0 /* pending */;
        Object.defineProperty(resolve, "_tracked", {
          get: function get() {
            return true;
          }
        });
        promise = resolve.then(function (data2) {
          return Object.defineProperty(resolve, "_data", {
            get: function get() {
              return data2;
            }
          });
        }, function (error) {
          return Object.defineProperty(resolve, "_error", {
            get: function get() {
              return error;
            }
          });
        });
      }
      if (status === 2 /* error */ && !errorElement) {
        throw promise._error;
      }
      if (status === 2 /* error */) {
        return /* @__PURE__ */React3.createElement(AwaitContext.Provider, {
          value: promise,
          children: errorElement
        });
      }
      if (status === 1 /* success */) {
        return /* @__PURE__ */React3.createElement(AwaitContext.Provider, {
          value: promise,
          children: children
        });
      }
      throw promise;
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError(error) {
      return {
        error: error
      };
    }
  }]);
}(React3.Component);
function ResolveAwait(_ref49) {
  var children = _ref49.children;
  var data2 = _useAsyncValue();
  var toRender = typeof children === "function" ? children(data2) : children;
  return /* @__PURE__ */React3.createElement(React3.Fragment, null, toRender);
}
function _createRoutesFromChildren(children) {
  var parentPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var routes = [];
  React3.Children.forEach(children, function (element, index) {
    if (!React3.isValidElement(element)) {
      return;
    }
    var treePath = [].concat((0, _toConsumableArray2["default"])(parentPath), [index]);
    if (element.type === React3.Fragment) {
      routes.push.apply(routes, _createRoutesFromChildren(element.props.children, treePath));
      return;
    }
    invariant(element.type === _Route, "[".concat(typeof element.type === "string" ? element.type : element.type.name, "] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"));
    invariant(!element.props.index || !element.props.children, "An index route cannot have child routes.");
    var route = {
      id: element.props.id || treePath.join("-"),
      caseSensitive: element.props.caseSensitive,
      element: element.props.element,
      Component: element.props.Component,
      index: element.props.index,
      path: element.props.path,
      loader: element.props.loader,
      action: element.props.action,
      hydrateFallbackElement: element.props.hydrateFallbackElement,
      HydrateFallback: element.props.HydrateFallback,
      errorElement: element.props.errorElement,
      ErrorBoundary: element.props.ErrorBoundary,
      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,
      shouldRevalidate: element.props.shouldRevalidate,
      handle: element.props.handle,
      lazy: element.props.lazy
    };
    if (element.props.children) {
      route.children = _createRoutesFromChildren(element.props.children, treePath);
    }
    routes.push(route);
  });
  return routes;
}
var _createRoutesFromElements = _createRoutesFromChildren;
function _renderMatches2(matches) {
  return _renderMatches(matches);
}
function withComponentProps(Component4) {
  return function WithComponentProps() {
    var props = {
      params: _useParams(),
      loaderData: _useLoaderData(),
      actionData: _useActionData(),
      matches: _useMatches()
    };
    return React3.createElement(Component4, props);
  };
}
function withHydrateFallbackProps(HydrateFallback) {
  return function WithHydrateFallbackProps() {
    var props = {
      params: _useParams(),
      loaderData: _useLoaderData(),
      actionData: _useActionData()
    };
    return React3.createElement(HydrateFallback, props);
  };
}
function withErrorBoundaryProps(ErrorBoundary) {
  return function WithErrorBoundaryProps() {
    var props = {
      params: _useParams(),
      loaderData: _useLoaderData(),
      actionData: _useActionData(),
      error: _useRouteError()
    };
    return React3.createElement(ErrorBoundary, props);
  };
}

// lib/dom/lib.tsx
var React10 = __toESM(require("react"));

// lib/dom/dom.ts
var defaultMethod = "get";
var defaultEncType = "application/x-www-form-urlencoded";
function isHtmlElement(object) {
  return object != null && typeof object.tagName === "string";
}
function isButtonElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "button";
}
function isFormElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "form";
}
function isInputElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "input";
}
function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
}
function shouldProcessLinkClick(event, target) {
  return event.button === 0 && (
  // Ignore everything but left clicks
  !target || target === "_self") &&
  // Let browser handle "target=_blank" etc.
  !isModifiedEvent(event);
}
function _createSearchParams() {
  var init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
  return new URLSearchParams(typeof init === "string" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce(function (memo2, key) {
    var value = init[key];
    return memo2.concat(Array.isArray(value) ? value.map(function (v) {
      return [key, v];
    }) : [[key, value]]);
  }, []));
}
function getSearchParamsForLocation(locationSearch, defaultSearchParams) {
  var searchParams = _createSearchParams(locationSearch);
  if (defaultSearchParams) {
    defaultSearchParams.forEach(function (_, key) {
      if (!searchParams.has(key)) {
        defaultSearchParams.getAll(key).forEach(function (value) {
          searchParams.append(key, value);
        });
      }
    });
  }
  return searchParams;
}
var _formDataSupportsSubmitter = null;
function isFormDataSubmitterSupported() {
  if (_formDataSupportsSubmitter === null) {
    try {
      new FormData(document.createElement("form"),
      // @ts-expect-error if FormData supports the submitter parameter, this will throw
      0);
      _formDataSupportsSubmitter = false;
    } catch (e) {
      _formDataSupportsSubmitter = true;
    }
  }
  return _formDataSupportsSubmitter;
}
var supportedFormEncTypes = /* @__PURE__ */new Set(["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"]);
function getFormEncType(encType) {
  if (encType != null && !supportedFormEncTypes.has(encType)) {
    warning(false, "\"".concat(encType, "\" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to \"").concat(defaultEncType, "\""));
    return null;
  }
  return encType;
}
function getFormSubmissionInfo(target, basename) {
  var method;
  var action;
  var encType;
  var formData;
  var body;
  if (isFormElement(target)) {
    var attr = target.getAttribute("action");
    action = attr ? stripBasename(attr, basename) : null;
    method = target.getAttribute("method") || defaultMethod;
    encType = getFormEncType(target.getAttribute("enctype")) || defaultEncType;
    formData = new FormData(target);
  } else if (isButtonElement(target) || isInputElement(target) && (target.type === "submit" || target.type === "image")) {
    var form = target.form;
    if (form == null) {
      throw new Error("Cannot submit a <button> or <input type=\"submit\"> without a <form>");
    }
    var _attr = target.getAttribute("formaction") || form.getAttribute("action");
    action = _attr ? stripBasename(_attr, basename) : null;
    method = target.getAttribute("formmethod") || form.getAttribute("method") || defaultMethod;
    encType = getFormEncType(target.getAttribute("formenctype")) || getFormEncType(form.getAttribute("enctype")) || defaultEncType;
    formData = new FormData(form, target);
    if (!isFormDataSubmitterSupported()) {
      var name = target.name,
        type = target.type,
        value = target.value;
      if (type === "image") {
        var prefix = name ? "".concat(name, ".") : "";
        formData.append("".concat(prefix, "x"), "0");
        formData.append("".concat(prefix, "y"), "0");
      } else if (name) {
        formData.append(name, value);
      }
    }
  } else if (isHtmlElement(target)) {
    throw new Error("Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">");
  } else {
    method = defaultMethod;
    action = null;
    encType = defaultEncType;
    body = target;
  }
  if (formData && encType === "text/plain") {
    body = formData;
    formData = void 0;
  }
  return {
    action: action,
    method: method.toLowerCase(),
    encType: encType,
    formData: formData,
    body: body
  };
}

// lib/dom/ssr/components.tsx
var React9 = __toESM(require("react"));

// lib/dom/ssr/invariant.ts
function invariant2(value, message) {
  if (value === false || value === null || typeof value === "undefined") {
    throw new Error(message);
  }
}

// lib/dom/ssr/routeModules.ts
function loadRouteModule(_x121, _x122) {
  return _loadRouteModule.apply(this, arguments);
} // lib/dom/ssr/links.ts
function _loadRouteModule() {
  _loadRouteModule = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee81(route, routeModulesCache) {
    var routeModule, _t39;
    return _regenerator["default"].wrap(function (_context83) {
      while (1) switch (_context83.prev = _context83.next) {
        case 0:
          if (!(route.id in routeModulesCache)) {
            _context83.next = 1;
            break;
          }
          return _context83.abrupt("return", routeModulesCache[route.id]);
        case 1:
          _context83.prev = 1;
          _context83.next = 2;
          return function (specifier) {
            return new Promise(function (r) {
              return r("".concat(specifier));
            }).then(function (s) {
              return _interopRequireWildcard(require(s));
            });
          }(/* @vite-ignore */
          /* webpackIgnore: true */
          route.module);
        case 2:
          routeModule = _context83.sent;
          routeModulesCache[route.id] = routeModule;
          return _context83.abrupt("return", routeModule);
        case 3:
          _context83.prev = 3;
          _t39 = _context83["catch"](1);
          console.error("Error loading route module `".concat(route.module, "`, reloading page..."));
          console.error(_t39);
          if (!(window.__reactRouterContext && window.__reactRouterContext.isSpaMode &&
          // @ts-expect-error
          void 0)) {
            _context83.next = 4;
            break;
          }
          throw _t39;
        case 4:
          window.location.reload();
          return _context83.abrupt("return", new Promise(function () {}));
        case 5:
        case "end":
          return _context83.stop();
      }
    }, _callee81, null, [[1, 3]]);
  }));
  return _loadRouteModule.apply(this, arguments);
}
function getKeyedLinksForMatches(matches, routeModules, manifest) {
  var descriptors = matches.map(function (match) {
    var _module2$links;
    var module2 = routeModules[match.route.id];
    var route = manifest.routes[match.route.id];
    return [route && route.css ? route.css.map(function (href2) {
      return {
        rel: "stylesheet",
        href: href2
      };
    }) : [], (module2 === null || module2 === void 0 || (_module2$links = module2.links) === null || _module2$links === void 0 ? void 0 : _module2$links.call(module2)) || []];
  }).flat(2);
  var preloads = getModuleLinkHrefs(matches, manifest);
  return dedupeLinkDescriptors(descriptors, preloads);
}
function getRouteCssDescriptors(route) {
  if (!route.css) return [];
  return route.css.map(function (href2) {
    return {
      rel: "stylesheet",
      href: href2
    };
  });
}
function prefetchRouteCss(_x123) {
  return _prefetchRouteCss.apply(this, arguments);
}
function _prefetchRouteCss() {
  _prefetchRouteCss = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee82(route) {
    var descriptors;
    return _regenerator["default"].wrap(function (_context84) {
      while (1) switch (_context84.prev = _context84.next) {
        case 0:
          if (route.css) {
            _context84.next = 1;
            break;
          }
          return _context84.abrupt("return");
        case 1:
          descriptors = getRouteCssDescriptors(route);
          _context84.next = 2;
          return Promise.all(descriptors.map(prefetchStyleLink));
        case 2:
        case "end":
          return _context84.stop();
      }
    }, _callee82);
  }));
  return _prefetchRouteCss.apply(this, arguments);
}
function prefetchStyleLinks(_x124, _x125) {
  return _prefetchStyleLinks.apply(this, arguments);
}
function _prefetchStyleLinks() {
  _prefetchStyleLinks = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee83(route, routeModule) {
    var descriptors, styleLinks, _i12, _descriptors, descriptor;
    return _regenerator["default"].wrap(function (_context85) {
      while (1) switch (_context85.prev = _context85.next) {
        case 0:
          if (!(!route.css && !routeModule.links || !isPreloadSupported())) {
            _context85.next = 1;
            break;
          }
          return _context85.abrupt("return");
        case 1:
          descriptors = [];
          if (route.css) {
            descriptors.push.apply(descriptors, (0, _toConsumableArray2["default"])(getRouteCssDescriptors(route)));
          }
          if (routeModule.links) {
            descriptors.push.apply(descriptors, (0, _toConsumableArray2["default"])(routeModule.links()));
          }
          if (!(descriptors.length === 0)) {
            _context85.next = 2;
            break;
          }
          return _context85.abrupt("return");
        case 2:
          styleLinks = [];
          for (_i12 = 0, _descriptors = descriptors; _i12 < _descriptors.length; _i12++) {
            descriptor = _descriptors[_i12];
            if (!isPageLinkDescriptor(descriptor) && descriptor.rel === "stylesheet") {
              styleLinks.push(_objectSpread(_objectSpread({}, descriptor), {}, {
                rel: "preload",
                as: "style"
              }));
            }
          }
          _context85.next = 3;
          return Promise.all(styleLinks.map(prefetchStyleLink));
        case 3:
        case "end":
          return _context85.stop();
      }
    }, _callee83);
  }));
  return _prefetchStyleLinks.apply(this, arguments);
}
function prefetchStyleLink(_x126) {
  return _prefetchStyleLink.apply(this, arguments);
}
function _prefetchStyleLink() {
  _prefetchStyleLink = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee84(descriptor) {
    return _regenerator["default"].wrap(function (_context86) {
      while (1) switch (_context86.prev = _context86.next) {
        case 0:
          return _context86.abrupt("return", new Promise(function (resolve) {
            if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector("link[rel=\"stylesheet\"][href=\"".concat(descriptor.href, "\"]"))) {
              return resolve();
            }
            var link = document.createElement("link");
            Object.assign(link, descriptor);
            function removeLink() {
              if (document.head.contains(link)) {
                document.head.removeChild(link);
              }
            }
            link.onload = function () {
              removeLink();
              resolve();
            };
            link.onerror = function () {
              removeLink();
              resolve();
            };
            document.head.appendChild(link);
          }));
        case 1:
        case "end":
          return _context86.stop();
      }
    }, _callee84);
  }));
  return _prefetchStyleLink.apply(this, arguments);
}
function isPageLinkDescriptor(object) {
  return object != null && typeof object.page === "string";
}
function isHtmlLinkDescriptor(object) {
  if (object == null) {
    return false;
  }
  if (object.href == null) {
    return object.rel === "preload" && typeof object.imageSrcSet === "string" && typeof object.imageSizes === "string";
  }
  return typeof object.rel === "string" && typeof object.href === "string";
}
function getKeyedPrefetchLinks(_x127, _x128, _x129) {
  return _getKeyedPrefetchLinks.apply(this, arguments);
}
function _getKeyedPrefetchLinks() {
  _getKeyedPrefetchLinks = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee86(matches, manifest, routeModules) {
    var links;
    return _regenerator["default"].wrap(function (_context88) {
      while (1) switch (_context88.prev = _context88.next) {
        case 0:
          _context88.next = 1;
          return Promise.all(matches.map(/*#__PURE__*/function () {
            var _ref121 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee85(match) {
              var route, mod;
              return _regenerator["default"].wrap(function (_context87) {
                while (1) switch (_context87.prev = _context87.next) {
                  case 0:
                    route = manifest.routes[match.route.id];
                    if (!route) {
                      _context87.next = 2;
                      break;
                    }
                    _context87.next = 1;
                    return loadRouteModule(route, routeModules);
                  case 1:
                    mod = _context87.sent;
                    return _context87.abrupt("return", mod.links ? mod.links() : []);
                  case 2:
                    return _context87.abrupt("return", []);
                  case 3:
                  case "end":
                    return _context87.stop();
                }
              }, _callee85);
            }));
            return function (_x237) {
              return _ref121.apply(this, arguments);
            };
          }()));
        case 1:
          links = _context88.sent;
          return _context88.abrupt("return", dedupeLinkDescriptors(links.flat(1).filter(isHtmlLinkDescriptor).filter(function (link) {
            return link.rel === "stylesheet" || link.rel === "preload";
          }).map(function (link) {
            return link.rel === "stylesheet" ? _objectSpread(_objectSpread({}, link), {}, {
              rel: "prefetch",
              as: "style"
            }) : _objectSpread(_objectSpread({}, link), {}, {
              rel: "prefetch"
            });
          })));
        case 2:
        case "end":
          return _context88.stop();
      }
    }, _callee86);
  }));
  return _getKeyedPrefetchLinks.apply(this, arguments);
}
function getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {
  var isNew = function isNew(match, index) {
    if (!currentMatches[index]) return true;
    return match.route.id !== currentMatches[index].route.id;
  };
  var matchPathChanged = function matchPathChanged(match, index) {
    var _currentMatches$index;
    return (
      // param change, /users/123 -> /users/456
      currentMatches[index].pathname !== match.pathname ||
      // splat param changed, which is not present in match.path
      // e.g. /files/images/avatar.jpg -> files/finances.xls
      ((_currentMatches$index = currentMatches[index].route.path) === null || _currentMatches$index === void 0 ? void 0 : _currentMatches$index.endsWith("*")) && currentMatches[index].params["*"] !== match.params["*"]
    );
  };
  if (mode === "assets") {
    return nextMatches.filter(function (match, index) {
      return isNew(match, index) || matchPathChanged(match, index);
    });
  }
  if (mode === "data") {
    return nextMatches.filter(function (match, index) {
      var manifestRoute = manifest.routes[match.route.id];
      if (!manifestRoute || !manifestRoute.hasLoader) {
        return false;
      }
      if (isNew(match, index) || matchPathChanged(match, index)) {
        return true;
      }
      if (match.route.shouldRevalidate) {
        var _currentMatches$;
        var routeChoice = match.route.shouldRevalidate({
          currentUrl: new URL(location.pathname + location.search + location.hash, window.origin),
          currentParams: ((_currentMatches$ = currentMatches[0]) === null || _currentMatches$ === void 0 ? void 0 : _currentMatches$.params) || {},
          nextUrl: new URL(page, window.origin),
          nextParams: match.params,
          defaultShouldRevalidate: true
        });
        if (typeof routeChoice === "boolean") {
          return routeChoice;
        }
      }
      return true;
    });
  }
  return [];
}
function getModuleLinkHrefs(matches, manifest) {
  var _ref50 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
    includeHydrateFallback = _ref50.includeHydrateFallback;
  return dedupeHrefs(matches.map(function (match) {
    var route = manifest.routes[match.route.id];
    if (!route) return [];
    var hrefs = [route.module];
    if (route.clientActionModule) {
      hrefs = hrefs.concat(route.clientActionModule);
    }
    if (route.clientLoaderModule) {
      hrefs = hrefs.concat(route.clientLoaderModule);
    }
    if (includeHydrateFallback && route.hydrateFallbackModule) {
      hrefs = hrefs.concat(route.hydrateFallbackModule);
    }
    if (route.imports) {
      hrefs = hrefs.concat(route.imports);
    }
    return hrefs;
  }).flat(1));
}
function dedupeHrefs(hrefs) {
  return (0, _toConsumableArray2["default"])(new Set(hrefs));
}
function sortKeys(obj) {
  var sorted = {};
  var keys = Object.keys(obj).sort();
  var _iterator11 = _createForOfIteratorHelper(keys),
    _step11;
  try {
    for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {
      var key = _step11.value;
      sorted[key] = obj[key];
    }
  } catch (err) {
    _iterator11.e(err);
  } finally {
    _iterator11.f();
  }
  return sorted;
}
function dedupeLinkDescriptors(descriptors, preloads) {
  var set = /* @__PURE__ */new Set();
  var preloadsSet = new Set(preloads);
  return descriptors.reduce(function (deduped, descriptor) {
    var alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === "script" && descriptor.href && preloadsSet.has(descriptor.href);
    if (alreadyModulePreload) {
      return deduped;
    }
    var key = JSON.stringify(sortKeys(descriptor));
    if (!set.has(key)) {
      set.add(key);
      deduped.push({
        key: key,
        link: descriptor
      });
    }
    return deduped;
  }, []);
}
var _isPreloadSupported;
function isPreloadSupported() {
  if (_isPreloadSupported !== void 0) {
    return _isPreloadSupported;
  }
  var el = document.createElement("link");
  _isPreloadSupported = el.relList.supports("preload");
  el = null;
  return _isPreloadSupported;
}

// lib/dom/ssr/markup.ts
var ESCAPE_LOOKUP = {
  "&": "\\u0026",
  ">": "\\u003e",
  "<": "\\u003c",
  "\u2028": "\\u2028",
  "\u2029": "\\u2029"
};
var ESCAPE_REGEX = /[&><\u2028\u2029]/g;
function escapeHtml(html) {
  return html.replace(ESCAPE_REGEX, function (match) {
    return ESCAPE_LOOKUP[match];
  });
}
function createHtml(html) {
  return {
    __html: html
  };
}

// lib/dom/ssr/single-fetch.tsx
var React4 = __toESM(require("react"));

// vendor/turbo-stream-v2/utils.ts
var HOLE = -1;
var NAN = -2;
var NEGATIVE_INFINITY = -3;
var NEGATIVE_ZERO = -4;
var NULL = -5;
var POSITIVE_INFINITY = -6;
var UNDEFINED = -7;
var TYPE_BIGINT = "B";
var TYPE_DATE = "D";
var TYPE_ERROR = "E";
var TYPE_MAP = "M";
var TYPE_NULL_OBJECT = "N";
var TYPE_PROMISE = "P";
var TYPE_REGEXP = "R";
var TYPE_SET = "S";
var TYPE_SYMBOL = "Y";
var TYPE_URL = "U";
var TYPE_PREVIOUS_RESOLVED = "Z";
var Deferred2 = /*#__PURE__*/(0, _createClass2["default"])(function Deferred2() {
  var _this4 = this;
  (0, _classCallCheck2["default"])(this, Deferred2);
  this.promise = new Promise(function (resolve, reject) {
    _this4.resolve = resolve;
    _this4.reject = reject;
  });
});
function createLineSplittingTransform() {
  var decoder = new TextDecoder();
  var leftover = "";
  return new TransformStream({
    transform: function transform(chunk, controller) {
      var str = decoder.decode(chunk, {
        stream: true
      });
      var parts = (leftover + str).split("\n");
      leftover = parts.pop() || "";
      var _iterator12 = _createForOfIteratorHelper(parts),
        _step12;
      try {
        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {
          var part = _step12.value;
          controller.enqueue(part);
        }
      } catch (err) {
        _iterator12.e(err);
      } finally {
        _iterator12.f();
      }
    },
    flush: function flush(controller) {
      if (leftover) {
        controller.enqueue(leftover);
      }
    }
  });
}

// vendor/turbo-stream-v2/flatten.ts
function flatten(input) {
  var indices = this.indices;
  var existing = indices.get(input);
  if (existing) return [existing];
  if (input === void 0) return UNDEFINED;
  if (input === null) return NULL;
  if (Number.isNaN(input)) return NAN;
  if (input === Number.POSITIVE_INFINITY) return POSITIVE_INFINITY;
  if (input === Number.NEGATIVE_INFINITY) return NEGATIVE_INFINITY;
  if (input === 0 && 1 / input < 0) return NEGATIVE_ZERO;
  var index = this.index++;
  indices.set(input, index);
  stringify.call(this, input, index);
  return index;
}
function stringify(input, index) {
  var _this5 = this;
  var deferred = this.deferred,
    plugins = this.plugins,
    postPlugins = this.postPlugins;
  var str = this.stringified;
  var stack = [[input, index]];
  while (stack.length > 0) {
    var _stack$pop = stack.pop(),
      _stack$pop2 = (0, _slicedToArray2["default"])(_stack$pop, 2),
      input2 = _stack$pop2[0],
      index2 = _stack$pop2[1];
    var partsForObj = function partsForObj(obj) {
      return Object.keys(obj).map(function (k) {
        return "\"_".concat(flatten.call(_this5, k), "\":").concat(flatten.call(_this5, obj[k]));
      }).join(",");
    };
    var error = null;
    switch ((0, _typeof2["default"])(input2)) {
      case "boolean":
      case "number":
      case "string":
        str[index2] = JSON.stringify(input2);
        break;
      case "bigint":
        str[index2] = "[\"".concat(TYPE_BIGINT, "\",\"").concat(input2, "\"]");
        break;
      case "symbol":
        {
          var keyFor = Symbol.keyFor(input2);
          if (!keyFor) {
            error = new Error("Cannot encode symbol unless created with Symbol.for()");
          } else {
            str[index2] = "[\"".concat(TYPE_SYMBOL, "\",").concat(JSON.stringify(keyFor), "]");
          }
          break;
        }
      case "object":
        {
          if (!input2) {
            str[index2] = "".concat(NULL);
            break;
          }
          var isArray = Array.isArray(input2);
          var pluginHandled = false;
          if (!isArray && plugins) {
            var _iterator13 = _createForOfIteratorHelper(plugins),
              _step13;
            try {
              for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {
                var plugin = _step13.value;
                var pluginResult = plugin(input2);
                if (Array.isArray(pluginResult)) {
                  pluginHandled = true;
                  var _pluginResult = (0, _toArray2["default"])(pluginResult),
                    pluginIdentifier = _pluginResult[0],
                    rest = _pluginResult.slice(1);
                  str[index2] = "[".concat(JSON.stringify(pluginIdentifier));
                  if (rest.length > 0) {
                    str[index2] += ",".concat(rest.map(function (v) {
                      return flatten.call(_this5, v);
                    }).join(","));
                  }
                  str[index2] += "]";
                  break;
                }
              }
            } catch (err) {
              _iterator13.e(err);
            } finally {
              _iterator13.f();
            }
          }
          if (!pluginHandled) {
            var result = isArray ? "[" : "{";
            if (isArray) {
              for (var i = 0; i < input2.length; i++) result += (i ? "," : "") + (i in input2 ? flatten.call(this, input2[i]) : HOLE);
              str[index2] = "".concat(result, "]");
            } else if (input2 instanceof Date) {
              str[index2] = "[\"".concat(TYPE_DATE, "\",").concat(input2.getTime(), "]");
            } else if (input2 instanceof URL) {
              str[index2] = "[\"".concat(TYPE_URL, "\",").concat(JSON.stringify(input2.href), "]");
            } else if (input2 instanceof RegExp) {
              str[index2] = "[\"".concat(TYPE_REGEXP, "\",").concat(JSON.stringify(input2.source), ",").concat(JSON.stringify(input2.flags), "]");
            } else if (input2 instanceof Set) {
              if (input2.size > 0) {
                str[index2] = "[\"".concat(TYPE_SET, "\",").concat((0, _toConsumableArray2["default"])(input2).map(function (val) {
                  return flatten.call(_this5, val);
                }).join(","), "]");
              } else {
                str[index2] = "[\"".concat(TYPE_SET, "\"]");
              }
            } else if (input2 instanceof Map) {
              if (input2.size > 0) {
                str[index2] = "[\"".concat(TYPE_MAP, "\",").concat((0, _toConsumableArray2["default"])(input2).flatMap(function (_ref51) {
                  var _ref52 = (0, _slicedToArray2["default"])(_ref51, 2),
                    k = _ref52[0],
                    v = _ref52[1];
                  return [flatten.call(_this5, k), flatten.call(_this5, v)];
                }).join(","), "]");
              } else {
                str[index2] = "[\"".concat(TYPE_MAP, "\"]");
              }
            } else if (input2 instanceof Promise) {
              str[index2] = "[\"".concat(TYPE_PROMISE, "\",").concat(index2, "]");
              deferred[index2] = input2;
            } else if (input2 instanceof Error) {
              str[index2] = "[\"".concat(TYPE_ERROR, "\",").concat(JSON.stringify(input2.message));
              if (input2.name !== "Error") {
                str[index2] += ",".concat(JSON.stringify(input2.name));
              }
              str[index2] += "]";
            } else if (Object.getPrototypeOf(input2) === null) {
              str[index2] = "[\"".concat(TYPE_NULL_OBJECT, "\",{").concat(partsForObj(input2), "}]");
            } else if (isPlainObject(input2)) {
              str[index2] = "{".concat(partsForObj(input2), "}");
            } else {
              error = new Error("Cannot encode object with prototype");
            }
          }
          break;
        }
      default:
        {
          var _isArray = Array.isArray(input2);
          var _pluginHandled = false;
          if (!_isArray && plugins) {
            var _iterator14 = _createForOfIteratorHelper(plugins),
              _step14;
            try {
              for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {
                var _plugin = _step14.value;
                var _pluginResult2 = _plugin(input2);
                if (Array.isArray(_pluginResult2)) {
                  _pluginHandled = true;
                  var _pluginResult3 = (0, _toArray2["default"])(_pluginResult2),
                    _pluginIdentifier = _pluginResult3[0],
                    _rest = _pluginResult3.slice(1);
                  str[index2] = "[".concat(JSON.stringify(_pluginIdentifier));
                  if (_rest.length > 0) {
                    str[index2] += ",".concat(_rest.map(function (v) {
                      return flatten.call(_this5, v);
                    }).join(","));
                  }
                  str[index2] += "]";
                  break;
                }
              }
            } catch (err) {
              _iterator14.e(err);
            } finally {
              _iterator14.f();
            }
          }
          if (!_pluginHandled) {
            error = new Error("Cannot encode function or unexpected type");
          }
        }
    }
    if (error) {
      var _pluginHandled2 = false;
      if (postPlugins) {
        var _iterator15 = _createForOfIteratorHelper(postPlugins),
          _step15;
        try {
          for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {
            var _plugin2 = _step15.value;
            var _pluginResult4 = _plugin2(input2);
            if (Array.isArray(_pluginResult4)) {
              _pluginHandled2 = true;
              var _pluginResult5 = (0, _toArray2["default"])(_pluginResult4),
                _pluginIdentifier2 = _pluginResult5[0],
                _rest2 = _pluginResult5.slice(1);
              str[index2] = "[".concat(JSON.stringify(_pluginIdentifier2));
              if (_rest2.length > 0) {
                str[index2] += ",".concat(_rest2.map(function (v) {
                  return flatten.call(_this5, v);
                }).join(","));
              }
              str[index2] += "]";
              break;
            }
          }
        } catch (err) {
          _iterator15.e(err);
        } finally {
          _iterator15.f();
        }
      }
      if (!_pluginHandled2) {
        throw error;
      }
    }
  }
}
var objectProtoNames = Object.getOwnPropertyNames(Object.prototype).sort().join("\0");
function isPlainObject(thing) {
  var proto = Object.getPrototypeOf(thing);
  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join("\0") === objectProtoNames;
}

// vendor/turbo-stream-v2/unflatten.ts
var globalObj = typeof window !== "undefined" ? window : typeof globalThis !== "undefined" ? globalThis : void 0;
function unflatten(parsed) {
  var hydrated = this.hydrated,
    values = this.values;
  if (typeof parsed === "number") return hydrate.call(this, parsed);
  if (!Array.isArray(parsed) || !parsed.length) throw new SyntaxError();
  var startIndex = values.length;
  var _iterator16 = _createForOfIteratorHelper(parsed),
    _step16;
  try {
    for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {
      var value = _step16.value;
      values.push(value);
    }
  } catch (err) {
    _iterator16.e(err);
  } finally {
    _iterator16.f();
  }
  hydrated.length = values.length;
  return hydrate.call(this, startIndex);
}
function hydrate(index) {
  var hydrated = this.hydrated,
    values = this.values,
    deferred = this.deferred,
    plugins = this.plugins;
  var result;
  var stack = [[index, function (v) {
    result = v;
  }]];
  var postRun = [];
  var _loop3 = function _loop3() {
      var _stack$pop3 = stack.pop(),
        _stack$pop4 = (0, _slicedToArray2["default"])(_stack$pop3, 2),
        index2 = _stack$pop4[0],
        set = _stack$pop4[1];
      switch (index2) {
        case UNDEFINED:
          set(void 0);
          return 0; // continue
        case NULL:
          set(null);
          return 0; // continue
        case NAN:
          set(NaN);
          return 0; // continue
        case POSITIVE_INFINITY:
          set(Infinity);
          return 0; // continue
        case NEGATIVE_INFINITY:
          set(-Infinity);
          return 0; // continue
        case NEGATIVE_ZERO:
          set(-0);
          return 0; // continue
      }
      if (hydrated[index2]) {
        set(hydrated[index2]);
        return 0; // continue
      }
      var value = values[index2];
      if (!value || (0, _typeof2["default"])(value) !== "object") {
        hydrated[index2] = value;
        set(value);
        return 0; // continue
      }
      if (Array.isArray(value)) {
        if (typeof value[0] === "string") {
          var _value = (0, _slicedToArray2["default"])(value, 3),
            type = _value[0],
            b = _value[1],
            c = _value[2];
          switch (type) {
            case TYPE_DATE:
              set(hydrated[index2] = new Date(b));
              return 0; // continue
            case TYPE_URL:
              set(hydrated[index2] = new URL(b));
              return 0; // continue
            case TYPE_BIGINT:
              set(hydrated[index2] = BigInt(b));
              return 0; // continue
            case TYPE_REGEXP:
              set(hydrated[index2] = new RegExp(b, c));
              return 0; // continue
            case TYPE_SYMBOL:
              set(hydrated[index2] = Symbol["for"](b));
              return 0; // continue
            case TYPE_SET:
              var newSet = /* @__PURE__ */new Set();
              hydrated[index2] = newSet;
              for (var i = value.length - 1; i > 0; i--) stack.push([value[i], function (v) {
                newSet.add(v);
              }]);
              set(newSet);
              return 0; // continue
            case TYPE_MAP:
              var map = /* @__PURE__ */new Map();
              hydrated[index2] = map;
              var _loop4 = function _loop4() {
                var r = [];
                stack.push([value[_i4 + 1], function (v) {
                  r[1] = v;
                }]);
                stack.push([value[_i4], function (k) {
                  r[0] = k;
                }]);
                postRun.push(function () {
                  map.set(r[0], r[1]);
                });
              };
              for (var _i4 = value.length - 2; _i4 > 0; _i4 -= 2) {
                _loop4();
              }
              set(map);
              return 0; // continue
            case TYPE_NULL_OBJECT:
              var obj = /* @__PURE__ */Object.create(null);
              hydrated[index2] = obj;
              var _iterator17 = _createForOfIteratorHelper(Object.keys(b).reverse()),
                _step17;
              try {
                var _loop5 = function _loop5() {
                  var key = _step17.value;
                  var r = [];
                  stack.push([b[key], function (v) {
                    r[1] = v;
                  }]);
                  stack.push([Number(key.slice(1)), function (k) {
                    r[0] = k;
                  }]);
                  postRun.push(function () {
                    obj[r[0]] = r[1];
                  });
                };
                for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {
                  _loop5();
                }
              } catch (err) {
                _iterator17.e(err);
              } finally {
                _iterator17.f();
              }
              set(obj);
              return 0; // continue
            case TYPE_PROMISE:
              if (hydrated[b]) {
                set(hydrated[index2] = hydrated[b]);
              } else {
                var d = new Deferred2();
                deferred[b] = d;
                set(hydrated[index2] = d.promise);
              }
              return 0; // continue
            case TYPE_ERROR:
              var _value2 = (0, _slicedToArray2["default"])(value, 3),
                message = _value2[1],
                errorType = _value2[2];
              var error = errorType && globalObj && globalObj[errorType] ? new globalObj[errorType](message) : new Error(message);
              hydrated[index2] = error;
              set(error);
              return 0; // continue
            case TYPE_PREVIOUS_RESOLVED:
              set(hydrated[index2] = hydrated[b]);
              return 0; // continue
            default:
              if (Array.isArray(plugins)) {
                var r = [];
                var vals = value.slice(1);
                var _loop6 = function _loop6(_i5) {
                  var v = vals[_i5];
                  stack.push([v, function (v2) {
                    r[_i5] = v2;
                  }]);
                };
                for (var _i5 = 0; _i5 < vals.length; _i5++) {
                  _loop6(_i5);
                }
                postRun.push(function () {
                  var _iterator18 = _createForOfIteratorHelper(plugins),
                    _step18;
                  try {
                    for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {
                      var plugin = _step18.value;
                      var result2 = plugin.apply(void 0, [value[0]].concat(r));
                      if (result2) {
                        set(hydrated[index2] = result2.value);
                        return;
                      }
                    }
                  } catch (err) {
                    _iterator18.e(err);
                  } finally {
                    _iterator18.f();
                  }
                  throw new SyntaxError();
                });
                return 0; // continue
              }
              throw new SyntaxError();
          }
        } else {
          var array = [];
          hydrated[index2] = array;
          var _loop7 = function _loop7(_i6) {
            var n = value[_i6];
            if (n !== HOLE) {
              stack.push([n, function (v) {
                array[_i6] = v;
              }]);
            }
          };
          for (var _i6 = 0; _i6 < value.length; _i6++) {
            _loop7(_i6);
          }
          set(array);
          return 0; // continue
        }
      } else {
        var object = {};
        hydrated[index2] = object;
        var _iterator19 = _createForOfIteratorHelper(Object.keys(value).reverse()),
          _step19;
        try {
          var _loop8 = function _loop8() {
            var key = _step19.value;
            var r = [];
            stack.push([value[key], function (v) {
              r[1] = v;
            }]);
            stack.push([Number(key.slice(1)), function (k) {
              r[0] = k;
            }]);
            postRun.push(function () {
              object[r[0]] = r[1];
            });
          };
          for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {
            _loop8();
          }
        } catch (err) {
          _iterator19.e(err);
        } finally {
          _iterator19.f();
        }
        set(object);
        return 0; // continue
      }
    },
    _ret2;
  while (stack.length > 0) {
    _ret2 = _loop3();
    if (_ret2 === 0) continue;
  }
  while (postRun.length > 0) {
    postRun.pop()();
  }
  return result;
}

// vendor/turbo-stream-v2/turbo-stream.ts
function decode(_x130, _x131) {
  return _decode.apply(this, arguments);
}
function _decode() {
  _decode = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee87(readable, options) {
    var _ref122, plugins, done, reader, decoder, decoded, donePromise;
    return _regenerator["default"].wrap(function (_context89) {
      while (1) switch (_context89.prev = _context89.next) {
        case 0:
          _ref122 = options !== null && options !== void 0 ? options : {}, plugins = _ref122.plugins;
          done = new Deferred2();
          reader = readable.pipeThrough(createLineSplittingTransform()).getReader();
          decoder = {
            values: [],
            hydrated: [],
            deferred: {},
            plugins: plugins
          };
          _context89.next = 1;
          return decodeInitial.call(decoder, reader);
        case 1:
          decoded = _context89.sent;
          donePromise = done.promise;
          if (decoded.done) {
            done.resolve();
          } else {
            donePromise = decodeDeferred.call(decoder, reader).then(done.resolve)["catch"](function (reason) {
              for (var _i13 = 0, _Object$values = Object.values(decoder.deferred); _i13 < _Object$values.length; _i13++) {
                var deferred = _Object$values[_i13];
                deferred.reject(reason);
              }
              done.reject(reason);
            });
          }
          return _context89.abrupt("return", {
            done: donePromise.then(function () {
              return reader.closed;
            }),
            value: decoded.value
          });
        case 2:
        case "end":
          return _context89.stop();
      }
    }, _callee87);
  }));
  return _decode.apply(this, arguments);
}
function decodeInitial(_x132) {
  return _decodeInitial.apply(this, arguments);
}
function _decodeInitial() {
  _decodeInitial = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee88(reader) {
    var read, line, _t40;
    return _regenerator["default"].wrap(function (_context90) {
      while (1) switch (_context90.prev = _context90.next) {
        case 0:
          _context90.next = 1;
          return reader.read();
        case 1:
          read = _context90.sent;
          if (read.value) {
            _context90.next = 2;
            break;
          }
          throw new SyntaxError();
        case 2:
          _context90.prev = 2;
          line = JSON.parse(read.value);
          _context90.next = 4;
          break;
        case 3:
          _context90.prev = 3;
          _t40 = _context90["catch"](2);
          throw new SyntaxError();
        case 4:
          return _context90.abrupt("return", {
            done: read.done,
            value: unflatten.call(this, line)
          });
        case 5:
        case "end":
          return _context90.stop();
      }
    }, _callee88, this, [[2, 3]]);
  }));
  return _decodeInitial.apply(this, arguments);
}
function decodeDeferred(_x133) {
  return _decodeDeferred.apply(this, arguments);
}
function _decodeDeferred() {
  _decodeDeferred = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee89(reader) {
    var read, line, colonIndex, deferredId, deferred, lineData, jsonLine, value, _colonIndex, _deferredId, _deferred, _lineData, _jsonLine, _value4, _t41, _t42, _t43;
    return _regenerator["default"].wrap(function (_context91) {
      while (1) switch (_context91.prev = _context91.next) {
        case 0:
          _context91.next = 1;
          return reader.read();
        case 1:
          read = _context91.sent;
        case 2:
          if (read.done) {
            _context91.next = 17;
            break;
          }
          if (read.value) {
            _context91.next = 3;
            break;
          }
          return _context91.abrupt("continue", 2);
        case 3:
          line = read.value;
          _t41 = line[0];
          _context91.next = _t41 === TYPE_PROMISE ? 4 : _t41 === TYPE_ERROR ? 9 : 14;
          break;
        case 4:
          colonIndex = line.indexOf(":");
          deferredId = Number(line.slice(1, colonIndex));
          deferred = this.deferred[deferredId];
          if (deferred) {
            _context91.next = 5;
            break;
          }
          throw new Error("Deferred ID ".concat(deferredId, " not found in stream"));
        case 5:
          lineData = line.slice(colonIndex + 1);
          jsonLine = void 0;
          _context91.prev = 6;
          jsonLine = JSON.parse(lineData);
          _context91.next = 8;
          break;
        case 7:
          _context91.prev = 7;
          _t42 = _context91["catch"](6);
          throw new SyntaxError();
        case 8:
          value = unflatten.call(this, jsonLine);
          deferred.resolve(value);
          return _context91.abrupt("continue", 15);
        case 9:
          _colonIndex = line.indexOf(":");
          _deferredId = Number(line.slice(1, _colonIndex));
          _deferred = this.deferred[_deferredId];
          if (_deferred) {
            _context91.next = 10;
            break;
          }
          throw new Error("Deferred ID ".concat(_deferredId, " not found in stream"));
        case 10:
          _lineData = line.slice(_colonIndex + 1);
          _jsonLine = void 0;
          _context91.prev = 11;
          _jsonLine = JSON.parse(_lineData);
          _context91.next = 13;
          break;
        case 12:
          _context91.prev = 12;
          _t43 = _context91["catch"](11);
          throw new SyntaxError();
        case 13:
          _value4 = unflatten.call(this, _jsonLine);
          _deferred.reject(_value4);
          return _context91.abrupt("continue", 15);
        case 14:
          throw new SyntaxError();
        case 15:
          _context91.next = 16;
          return reader.read();
        case 16:
          read = _context91.sent;
          _context91.next = 2;
          break;
        case 17:
        case "end":
          return _context91.stop();
      }
    }, _callee89, this, [[6, 7], [11, 12]]);
  }));
  return _decodeDeferred.apply(this, arguments);
}
function encode(input, options) {
  var _ref53 = options !== null && options !== void 0 ? options : {},
    plugins = _ref53.plugins,
    postPlugins = _ref53.postPlugins,
    signal = _ref53.signal;
  var encoder2 = {
    deferred: {},
    index: 0,
    indices: /* @__PURE__ */new Map(),
    stringified: [],
    plugins: plugins,
    postPlugins: postPlugins,
    signal: signal
  };
  var textEncoder = new TextEncoder();
  var lastSentIndex = 0;
  var readable = new ReadableStream({
    start: function start(controller) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee28() {
        var id, seenPromises, raceDone, racePromise, _loop9, _i7, _Object$entries3;
        return _regenerator["default"].wrap(function (_context30) {
          while (1) switch (_context30.prev = _context30.next) {
            case 0:
              id = flatten.call(encoder2, input);
              if (!Array.isArray(id)) {
                _context30.next = 1;
                break;
              }
              throw new Error("This should never happen");
            case 1:
              if (id < 0) {
                controller.enqueue(textEncoder.encode("".concat(id, "\n")));
              } else {
                controller.enqueue(textEncoder.encode("[".concat(encoder2.stringified.join(","), "]\n")));
                lastSentIndex = encoder2.stringified.length - 1;
              }
              seenPromises = /* @__PURE__ */new WeakSet();
              if (!Object.keys(encoder2.deferred).length) {
                _context30.next = 9;
                break;
              }
              racePromise = new Promise(function (resolve, reject) {
                raceDone = resolve;
                if (signal) {
                  var rejectPromise = function rejectPromise() {
                    return reject(signal.reason || new Error("Signal was aborted."));
                  };
                  if (signal.aborted) {
                    rejectPromise();
                  } else {
                    signal.addEventListener("abort", function (event) {
                      rejectPromise();
                    });
                  }
                }
              });
            case 2:
              if (!(Object.keys(encoder2.deferred).length > 0)) {
                _context30.next = 8;
                break;
              }
              _loop9 = /*#__PURE__*/_regenerator["default"].mark(function _loop9() {
                var _Object$entries3$_i, deferredId, deferred;
                return _regenerator["default"].wrap(function (_context29) {
                  while (1) switch (_context29.prev = _context29.next) {
                    case 0:
                      _Object$entries3$_i = (0, _slicedToArray2["default"])(_Object$entries3[_i7], 2), deferredId = _Object$entries3$_i[0], deferred = _Object$entries3$_i[1];
                      if (!seenPromises.has(deferred)) {
                        _context29.next = 1;
                        break;
                      }
                      return _context29.abrupt("return", 1);
                    case 1:
                      seenPromises.add(
                      // biome-ignore lint/suspicious/noAssignInExpressions: <explanation>
                      encoder2.deferred[Number(deferredId)] = Promise.race([racePromise, deferred]).then(function (resolved) {
                        var id2 = flatten.call(encoder2, resolved);
                        if (Array.isArray(id2)) {
                          controller.enqueue(textEncoder.encode("".concat(TYPE_PROMISE).concat(deferredId, ":[[\"").concat(TYPE_PREVIOUS_RESOLVED, "\",").concat(id2[0], "]]\n")));
                          encoder2.index++;
                          lastSentIndex++;
                        } else if (id2 < 0) {
                          controller.enqueue(textEncoder.encode("".concat(TYPE_PROMISE).concat(deferredId, ":").concat(id2, "\n")));
                        } else {
                          var values = encoder2.stringified.slice(lastSentIndex + 1).join(",");
                          controller.enqueue(textEncoder.encode("".concat(TYPE_PROMISE).concat(deferredId, ":[").concat(values, "]\n")));
                          lastSentIndex = encoder2.stringified.length - 1;
                        }
                      }, function (reason) {
                        if (!reason || (0, _typeof2["default"])(reason) !== "object" || !(reason instanceof Error)) {
                          reason = new Error("An unknown error occurred");
                        }
                        var id2 = flatten.call(encoder2, reason);
                        if (Array.isArray(id2)) {
                          controller.enqueue(textEncoder.encode("".concat(TYPE_ERROR).concat(deferredId, ":[[\"").concat(TYPE_PREVIOUS_RESOLVED, "\",").concat(id2[0], "]]\n")));
                          encoder2.index++;
                          lastSentIndex++;
                        } else if (id2 < 0) {
                          controller.enqueue(textEncoder.encode("".concat(TYPE_ERROR).concat(deferredId, ":").concat(id2, "\n")));
                        } else {
                          var values = encoder2.stringified.slice(lastSentIndex + 1).join(",");
                          controller.enqueue(textEncoder.encode("".concat(TYPE_ERROR).concat(deferredId, ":[").concat(values, "]\n")));
                          lastSentIndex = encoder2.stringified.length - 1;
                        }
                      })["finally"](function () {
                        delete encoder2.deferred[Number(deferredId)];
                      }));
                    case 2:
                    case "end":
                      return _context29.stop();
                  }
                }, _loop9);
              });
              _i7 = 0, _Object$entries3 = Object.entries(encoder2.deferred);
            case 3:
              if (!(_i7 < _Object$entries3.length)) {
                _context30.next = 6;
                break;
              }
              return _context30.delegateYield(_loop9(), "t0", 4);
            case 4:
              if (!_context30.t0) {
                _context30.next = 5;
                break;
              }
              return _context30.abrupt("continue", 5);
            case 5:
              _i7++;
              _context30.next = 3;
              break;
            case 6:
              _context30.next = 7;
              return Promise.race(Object.values(encoder2.deferred));
            case 7:
              _context30.next = 2;
              break;
            case 8:
              raceDone();
            case 9:
              _context30.next = 10;
              return Promise.all(Object.values(encoder2.deferred));
            case 10:
              controller.close();
            case 11:
            case "end":
              return _context30.stop();
          }
        }, _callee28);
      }))();
    }
  });
  return readable;
}

// lib/dom/ssr/data.ts
function createRequestInit(_x134) {
  return _createRequestInit.apply(this, arguments);
} // lib/dom/ssr/single-fetch.tsx
function _createRequestInit() {
  _createRequestInit = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee90(request) {
    var init, contentType, _t44, _t45, _t46, _t47;
    return _regenerator["default"].wrap(function (_context92) {
      while (1) switch (_context92.prev = _context92.next) {
        case 0:
          init = {
            signal: request.signal
          };
          if (!(request.method !== "GET")) {
            _context92.next = 8;
            break;
          }
          init.method = request.method;
          contentType = request.headers.get("Content-Type");
          if (!(contentType && /\bapplication\/json\b/.test(contentType))) {
            _context92.next = 2;
            break;
          }
          init.headers = {
            "Content-Type": contentType
          };
          _t44 = JSON;
          _context92.next = 1;
          return request.json();
        case 1:
          _t45 = _context92.sent;
          init.body = _t44.stringify.call(_t44, _t45);
          _context92.next = 8;
          break;
        case 2:
          if (!(contentType && /\btext\/plain\b/.test(contentType))) {
            _context92.next = 4;
            break;
          }
          init.headers = {
            "Content-Type": contentType
          };
          _context92.next = 3;
          return request.text();
        case 3:
          init.body = _context92.sent;
          _context92.next = 8;
          break;
        case 4:
          if (!(contentType && /\bapplication\/x-www-form-urlencoded\b/.test(contentType))) {
            _context92.next = 6;
            break;
          }
          _t46 = URLSearchParams;
          _context92.next = 5;
          return request.text();
        case 5:
          _t47 = _context92.sent;
          init.body = new _t46(_t47);
          _context92.next = 8;
          break;
        case 6:
          _context92.next = 7;
          return request.formData();
        case 7:
          init.body = _context92.sent;
        case 8:
          return _context92.abrupt("return", init);
        case 9:
        case "end":
          return _context92.stop();
      }
    }, _callee90);
  }));
  return _createRequestInit.apply(this, arguments);
}
var SingleFetchRedirectSymbol = Symbol("SingleFetchRedirect");
var SingleFetchNoResultError = /*#__PURE__*/function (_Error) {
  function SingleFetchNoResultError() {
    (0, _classCallCheck2["default"])(this, SingleFetchNoResultError);
    return _callSuper(this, SingleFetchNoResultError, arguments);
  }
  (0, _inherits2["default"])(SingleFetchNoResultError, _Error);
  return (0, _createClass2["default"])(SingleFetchNoResultError);
}(/*#__PURE__*/(0, _wrapNativeSuper2["default"])(Error));
var SINGLE_FETCH_REDIRECT_STATUS = 202;
var NO_BODY_STATUS_CODES = /* @__PURE__ */new Set([100, 101, 204, 205]);
function StreamTransfer(_ref54) {
  var context = _ref54.context,
    identifier = _ref54.identifier,
    reader = _ref54.reader,
    textDecoder = _ref54.textDecoder,
    nonce = _ref54.nonce;
  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {
    return null;
  }
  if (!context.renderMeta.streamCache) {
    context.renderMeta.streamCache = {};
  }
  var streamCache = context.renderMeta.streamCache;
  var promise = streamCache[identifier];
  if (!promise) {
    promise = streamCache[identifier] = reader.read().then(function (result) {
      streamCache[identifier].result = {
        done: result.done,
        value: textDecoder.decode(result.value, {
          stream: true
        })
      };
    })["catch"](function (e) {
      streamCache[identifier].error = e;
    });
  }
  if (promise.error) {
    throw promise.error;
  }
  if (promise.result === void 0) {
    throw promise;
  }
  var _promise$result = promise.result,
    done = _promise$result.done,
    value = _promise$result.value;
  var scriptTag = value ? /* @__PURE__ */React4.createElement("script", {
    nonce: nonce,
    dangerouslySetInnerHTML: {
      __html: "window.__reactRouterContext.streamController.enqueue(".concat(escapeHtml(JSON.stringify(value)), ");")
    }
  }) : null;
  if (done) {
    return /* @__PURE__ */React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */React4.createElement("script", {
      nonce: nonce,
      dangerouslySetInnerHTML: {
        __html: "window.__reactRouterContext.streamController.close();"
      }
    }));
  } else {
    return /* @__PURE__ */React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */React4.createElement(React4.Suspense, null, /* @__PURE__ */React4.createElement(StreamTransfer, {
      context: context,
      identifier: identifier + 1,
      reader: reader,
      textDecoder: textDecoder,
      nonce: nonce
    })));
  }
}
function getTurboStreamSingleFetchDataStrategy(getRouter, manifest, routeModules, ssr, basename) {
  var dataStrategy = getSingleFetchDataStrategyImpl(getRouter, function (match) {
    var manifestRoute = manifest.routes[match.route.id];
    invariant2(manifestRoute, "Route not found in manifest");
    var routeModule = routeModules[match.route.id];
    return {
      hasLoader: manifestRoute.hasLoader,
      hasClientLoader: manifestRoute.hasClientLoader,
      hasShouldRevalidate: Boolean(routeModule === null || routeModule === void 0 ? void 0 : routeModule.shouldRevalidate)
    };
  }, fetchAndDecodeViaTurboStream, ssr, basename);
  return /*#__PURE__*/function () {
    var _ref55 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee29(args) {
      return _regenerator["default"].wrap(function (_context31) {
        while (1) switch (_context31.prev = _context31.next) {
          case 0:
            return _context31.abrupt("return", args.unstable_runClientMiddleware(dataStrategy));
          case 1:
          case "end":
            return _context31.stop();
        }
      }, _callee29);
    }));
    return function (_x135) {
      return _ref55.apply(this, arguments);
    };
  }();
}
function getSingleFetchDataStrategyImpl(getRouter, getRouteInfo, fetchAndDecode, ssr, basename) {
  return /*#__PURE__*/function () {
    var _ref56 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee30(args) {
      var request, matches, fetcherKey, router, foundRevalidatingServerLoader;
      return _regenerator["default"].wrap(function (_context32) {
        while (1) switch (_context32.prev = _context32.next) {
          case 0:
            request = args.request, matches = args.matches, fetcherKey = args.fetcherKey;
            router = getRouter();
            if (!(request.method !== "GET")) {
              _context32.next = 1;
              break;
            }
            return _context32.abrupt("return", singleFetchActionStrategy(args, fetchAndDecode, basename));
          case 1:
            foundRevalidatingServerLoader = matches.some(function (m) {
              var _getRouteInfo = getRouteInfo(m),
                hasLoader = _getRouteInfo.hasLoader,
                hasClientLoader = _getRouteInfo.hasClientLoader;
              return m.unstable_shouldCallHandler() && hasLoader && !hasClientLoader;
            });
            if (!(!ssr && !foundRevalidatingServerLoader)) {
              _context32.next = 2;
              break;
            }
            return _context32.abrupt("return", nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename));
          case 2:
            if (!fetcherKey) {
              _context32.next = 3;
              break;
            }
            return _context32.abrupt("return", singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename));
          case 3:
            return _context32.abrupt("return", singleFetchLoaderNavigationStrategy(args, router, getRouteInfo, fetchAndDecode, ssr, basename));
          case 4:
          case "end":
            return _context32.stop();
        }
      }, _callee30);
    }));
    return function (_x136) {
      return _ref56.apply(this, arguments);
    };
  }();
}
function singleFetchActionStrategy(_x137, _x138, _x139) {
  return _singleFetchActionStrategy.apply(this, arguments);
}
function _singleFetchActionStrategy() {
  _singleFetchActionStrategy = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee93(args, fetchAndDecode, basename) {
    var actionMatch, actionStatus, result;
    return _regenerator["default"].wrap(function (_context95) {
      while (1) switch (_context95.prev = _context95.next) {
        case 0:
          actionMatch = args.matches.find(function (m) {
            return m.unstable_shouldCallHandler();
          });
          invariant2(actionMatch, "No action match found");
          actionStatus = void 0;
          _context95.next = 1;
          return actionMatch.resolve(/*#__PURE__*/function () {
            var _ref123 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee92(handler) {
              var result2;
              return _regenerator["default"].wrap(function (_context94) {
                while (1) switch (_context94.prev = _context94.next) {
                  case 0:
                    _context94.next = 1;
                    return handler(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee91() {
                      var _yield$fetchAndDecode, data2, status;
                      return _regenerator["default"].wrap(function (_context93) {
                        while (1) switch (_context93.prev = _context93.next) {
                          case 0:
                            _context93.next = 1;
                            return fetchAndDecode(args, basename, [actionMatch.route.id]);
                          case 1:
                            _yield$fetchAndDecode = _context93.sent;
                            data2 = _yield$fetchAndDecode.data;
                            status = _yield$fetchAndDecode.status;
                            actionStatus = status;
                            return _context93.abrupt("return", unwrapSingleFetchResult(data2, actionMatch.route.id));
                          case 2:
                          case "end":
                            return _context93.stop();
                        }
                      }, _callee91);
                    })));
                  case 1:
                    result2 = _context94.sent;
                    return _context94.abrupt("return", result2);
                  case 2:
                  case "end":
                    return _context94.stop();
                }
              }, _callee92);
            }));
            return function (_x238) {
              return _ref123.apply(this, arguments);
            };
          }());
        case 1:
          result = _context95.sent;
          if (!(isResponse(result.result) || _isRouteErrorResponse(result.result) || isDataWithResponseInit(result.result))) {
            _context95.next = 2;
            break;
          }
          return _context95.abrupt("return", (0, _defineProperty2["default"])({}, actionMatch.route.id, result));
        case 2:
          return _context95.abrupt("return", (0, _defineProperty2["default"])({}, actionMatch.route.id, {
            type: result.type,
            result: _data(result.result, actionStatus)
          }));
        case 3:
        case "end":
          return _context95.stop();
      }
    }, _callee93);
  }));
  return _singleFetchActionStrategy.apply(this, arguments);
}
function nonSsrStrategy(_x140, _x141, _x142, _x143) {
  return _nonSsrStrategy.apply(this, arguments);
}
function _nonSsrStrategy() {
  _nonSsrStrategy = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee96(args, getRouteInfo, fetchAndDecode, basename) {
    var matchesToLoad, results;
    return _regenerator["default"].wrap(function (_context98) {
      while (1) switch (_context98.prev = _context98.next) {
        case 0:
          matchesToLoad = args.matches.filter(function (m) {
            return m.unstable_shouldCallHandler();
          });
          results = {};
          _context98.next = 1;
          return Promise.all(matchesToLoad.map(function (m) {
            return m.resolve(/*#__PURE__*/function () {
              var _ref127 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee95(handler) {
                var _getRouteInfo2, hasClientLoader, routeId, result, _t48, _t49;
                return _regenerator["default"].wrap(function (_context97) {
                  while (1) switch (_context97.prev = _context97.next) {
                    case 0:
                      _context97.prev = 0;
                      _getRouteInfo2 = getRouteInfo(m), hasClientLoader = _getRouteInfo2.hasClientLoader;
                      routeId = m.route.id;
                      if (!hasClientLoader) {
                        _context97.next = 2;
                        break;
                      }
                      _context97.next = 1;
                      return handler(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee94() {
                        var _yield$fetchAndDecode2, data2;
                        return _regenerator["default"].wrap(function (_context96) {
                          while (1) switch (_context96.prev = _context96.next) {
                            case 0:
                              _context96.next = 1;
                              return fetchAndDecode(args, basename, [routeId]);
                            case 1:
                              _yield$fetchAndDecode2 = _context96.sent;
                              data2 = _yield$fetchAndDecode2.data;
                              return _context96.abrupt("return", unwrapSingleFetchResult(data2, routeId));
                            case 2:
                            case "end":
                              return _context96.stop();
                          }
                        }, _callee94);
                      })));
                    case 1:
                      _t48 = _context97.sent;
                      _context97.next = 4;
                      break;
                    case 2:
                      _context97.next = 3;
                      return handler();
                    case 3:
                      _t48 = _context97.sent;
                    case 4:
                      result = _t48;
                      results[m.route.id] = {
                        type: "data",
                        result: result
                      };
                      _context97.next = 6;
                      break;
                    case 5:
                      _context97.prev = 5;
                      _t49 = _context97["catch"](0);
                      results[m.route.id] = {
                        type: "error",
                        result: _t49
                      };
                    case 6:
                    case "end":
                      return _context97.stop();
                  }
                }, _callee95, null, [[0, 5]]);
              }));
              return function (_x239) {
                return _ref127.apply(this, arguments);
              };
            }());
          }));
        case 1:
          return _context98.abrupt("return", results);
        case 2:
        case "end":
          return _context98.stop();
      }
    }, _callee96);
  }));
  return _nonSsrStrategy.apply(this, arguments);
}
function singleFetchLoaderNavigationStrategy(_x144, _x145, _x146, _x147, _x148, _x149) {
  return _singleFetchLoaderNavigationStrategy.apply(this, arguments);
}
function _singleFetchLoaderNavigationStrategy() {
  _singleFetchLoaderNavigationStrategy = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee101(args, router, getRouteInfo, fetchAndDecode, ssr, basename) {
    var routesParams, foundOptOutRoute, routeDfds, singleFetchDfd, results, resolvePromise, isInitialLoad, targetRoutes, data2, _t52;
    return _regenerator["default"].wrap(function (_context103) {
      while (1) switch (_context103.prev = _context103.next) {
        case 0:
          routesParams = /* @__PURE__ */new Set();
          foundOptOutRoute = false;
          routeDfds = args.matches.map(function () {
            return createDeferred2();
          });
          singleFetchDfd = createDeferred2();
          results = {};
          resolvePromise = Promise.all(args.matches.map(/*#__PURE__*/function () {
            var _ref129 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee100(m, i) {
              return _regenerator["default"].wrap(function (_context102) {
                while (1) switch (_context102.prev = _context102.next) {
                  case 0:
                    return _context102.abrupt("return", m.resolve(/*#__PURE__*/function () {
                      var _ref130 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee99(handler) {
                        var routeId, _getRouteInfo3, hasLoader, hasClientLoader, hasShouldRevalidate, defaultShouldRevalidate, shouldCall, result, _result4, _t50, _t51;
                        return _regenerator["default"].wrap(function (_context101) {
                          while (1) switch (_context101.prev = _context101.next) {
                            case 0:
                              routeDfds[i].resolve();
                              routeId = m.route.id;
                              _getRouteInfo3 = getRouteInfo(m), hasLoader = _getRouteInfo3.hasLoader, hasClientLoader = _getRouteInfo3.hasClientLoader, hasShouldRevalidate = _getRouteInfo3.hasShouldRevalidate;
                              defaultShouldRevalidate = !m.unstable_shouldRevalidateArgs || m.unstable_shouldRevalidateArgs.actionStatus == null || m.unstable_shouldRevalidateArgs.actionStatus < 400;
                              shouldCall = m.unstable_shouldCallHandler(defaultShouldRevalidate);
                              if (shouldCall) {
                                _context101.next = 1;
                                break;
                              }
                              foundOptOutRoute || (foundOptOutRoute = m.unstable_shouldRevalidateArgs != null &&
                              // This is a revalidation,
                              hasLoader &&
                              // for a route with a server loader,
                              hasShouldRevalidate === true);
                              return _context101.abrupt("return");
                            case 1:
                              if (!hasClientLoader) {
                                _context101.next = 6;
                                break;
                              }
                              if (hasLoader) {
                                foundOptOutRoute = true;
                              }
                              _context101.prev = 2;
                              _context101.next = 3;
                              return handler(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee97() {
                                var _yield$fetchAndDecode3, data2;
                                return _regenerator["default"].wrap(function (_context99) {
                                  while (1) switch (_context99.prev = _context99.next) {
                                    case 0:
                                      _context99.next = 1;
                                      return fetchAndDecode(args, basename, [routeId]);
                                    case 1:
                                      _yield$fetchAndDecode3 = _context99.sent;
                                      data2 = _yield$fetchAndDecode3.data;
                                      return _context99.abrupt("return", unwrapSingleFetchResult(data2, routeId));
                                    case 2:
                                    case "end":
                                      return _context99.stop();
                                  }
                                }, _callee97);
                              })));
                            case 3:
                              result = _context101.sent;
                              results[routeId] = {
                                type: "data",
                                result: result
                              };
                              _context101.next = 5;
                              break;
                            case 4:
                              _context101.prev = 4;
                              _t50 = _context101["catch"](2);
                              results[routeId] = {
                                type: "error",
                                result: _t50
                              };
                            case 5:
                              return _context101.abrupt("return");
                            case 6:
                              if (hasLoader) {
                                routesParams.add(routeId);
                              }
                              _context101.prev = 7;
                              _context101.next = 8;
                              return handler(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee98() {
                                var data2;
                                return _regenerator["default"].wrap(function (_context100) {
                                  while (1) switch (_context100.prev = _context100.next) {
                                    case 0:
                                      _context100.next = 1;
                                      return singleFetchDfd.promise;
                                    case 1:
                                      data2 = _context100.sent;
                                      return _context100.abrupt("return", unwrapSingleFetchResult(data2, routeId));
                                    case 2:
                                    case "end":
                                      return _context100.stop();
                                  }
                                }, _callee98);
                              })));
                            case 8:
                              _result4 = _context101.sent;
                              results[routeId] = {
                                type: "data",
                                result: _result4
                              };
                              _context101.next = 10;
                              break;
                            case 9:
                              _context101.prev = 9;
                              _t51 = _context101["catch"](7);
                              results[routeId] = {
                                type: "error",
                                result: _t51
                              };
                            case 10:
                            case "end":
                              return _context101.stop();
                          }
                        }, _callee99, null, [[2, 4], [7, 9]]);
                      }));
                      return function (_x242) {
                        return _ref130.apply(this, arguments);
                      };
                    }()));
                  case 1:
                  case "end":
                    return _context102.stop();
                }
              }, _callee100);
            }));
            return function (_x240, _x241) {
              return _ref129.apply(this, arguments);
            };
          }()));
          _context103.next = 1;
          return Promise.all(routeDfds.map(function (d) {
            return d.promise;
          }));
        case 1:
          isInitialLoad = !router.state.initialized && router.state.navigation.state === "idle";
          if (!((isInitialLoad || routesParams.size === 0) && !window.__reactRouterHdrActive)) {
            _context103.next = 2;
            break;
          }
          singleFetchDfd.resolve({
            routes: {}
          });
          _context103.next = 6;
          break;
        case 2:
          targetRoutes = ssr && foundOptOutRoute && routesParams.size > 0 ? (0, _toConsumableArray2["default"])(routesParams.keys()) : void 0;
          _context103.prev = 3;
          _context103.next = 4;
          return fetchAndDecode(args, basename, targetRoutes);
        case 4:
          data2 = _context103.sent;
          singleFetchDfd.resolve(data2.data);
          _context103.next = 6;
          break;
        case 5:
          _context103.prev = 5;
          _t52 = _context103["catch"](3);
          singleFetchDfd.reject(_t52);
        case 6:
          _context103.next = 7;
          return resolvePromise;
        case 7:
          _context103.next = 8;
          return bubbleMiddlewareErrors(singleFetchDfd.promise, args.matches, routesParams, results);
        case 8:
          return _context103.abrupt("return", results);
        case 9:
        case "end":
          return _context103.stop();
      }
    }, _callee101, null, [[3, 5]]);
  }));
  return _singleFetchLoaderNavigationStrategy.apply(this, arguments);
}
function bubbleMiddlewareErrors(_x150, _x151, _x152, _x153) {
  return _bubbleMiddlewareErrors.apply(this, arguments);
}
function _bubbleMiddlewareErrors() {
  _bubbleMiddlewareErrors = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee102(singleFetchPromise, matches, routesParams, results) {
    var middlewareError, fetchedData, _iterator24, _step24, _match2, routeResult, _t53, _t54;
    return _regenerator["default"].wrap(function (_context104) {
      while (1) switch (_context104.prev = _context104.next) {
        case 0:
          _context104.prev = 0;
          _context104.next = 1;
          return singleFetchPromise;
        case 1:
          fetchedData = _context104.sent;
          if (!("routes" in fetchedData)) {
            _context104.next = 8;
            break;
          }
          _iterator24 = _createForOfIteratorHelper(matches);
          _context104.prev = 2;
          _iterator24.s();
        case 3:
          if ((_step24 = _iterator24.n()).done) {
            _context104.next = 5;
            break;
          }
          _match2 = _step24.value;
          if (!(_match2.route.id in fetchedData.routes)) {
            _context104.next = 4;
            break;
          }
          routeResult = fetchedData.routes[_match2.route.id];
          if (!("error" in routeResult)) {
            _context104.next = 4;
            break;
          }
          middlewareError = routeResult.error;
          return _context104.abrupt("continue", 5);
        case 4:
          _context104.next = 3;
          break;
        case 5:
          _context104.next = 7;
          break;
        case 6:
          _context104.prev = 6;
          _t53 = _context104["catch"](2);
          _iterator24.e(_t53);
        case 7:
          _context104.prev = 7;
          _iterator24.f();
          return _context104.finish(7);
        case 8:
          if (middlewareError !== void 0) {
            Array.from(routesParams.values()).forEach(function (routeId) {
              if (results[routeId].result instanceof SingleFetchNoResultError) {
                results[routeId].result = middlewareError;
              }
            });
          }
          _context104.next = 10;
          break;
        case 9:
          _context104.prev = 9;
          _t54 = _context104["catch"](0);
        case 10:
        case "end":
          return _context104.stop();
      }
    }, _callee102, null, [[0, 9], [2, 6, 7, 8]]);
  }));
  return _bubbleMiddlewareErrors.apply(this, arguments);
}
function singleFetchLoaderFetcherStrategy(_x154, _x155, _x156) {
  return _singleFetchLoaderFetcherStrategy.apply(this, arguments);
}
function _singleFetchLoaderFetcherStrategy() {
  _singleFetchLoaderFetcherStrategy = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee105(args, fetchAndDecode, basename) {
    var fetcherMatch, routeId, result;
    return _regenerator["default"].wrap(function (_context107) {
      while (1) switch (_context107.prev = _context107.next) {
        case 0:
          fetcherMatch = args.matches.find(function (m) {
            return m.unstable_shouldCallHandler();
          });
          invariant2(fetcherMatch, "No fetcher match found");
          routeId = fetcherMatch.route.id;
          _context107.next = 1;
          return fetcherMatch.resolve(/*#__PURE__*/function () {
            var _ref133 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee104(handler) {
              return _regenerator["default"].wrap(function (_context106) {
                while (1) switch (_context106.prev = _context106.next) {
                  case 0:
                    return _context106.abrupt("return", handler(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee103() {
                      var _yield$fetchAndDecode4, data2;
                      return _regenerator["default"].wrap(function (_context105) {
                        while (1) switch (_context105.prev = _context105.next) {
                          case 0:
                            _context105.next = 1;
                            return fetchAndDecode(args, basename, [routeId]);
                          case 1:
                            _yield$fetchAndDecode4 = _context105.sent;
                            data2 = _yield$fetchAndDecode4.data;
                            return _context105.abrupt("return", unwrapSingleFetchResult(data2, routeId));
                          case 2:
                          case "end":
                            return _context105.stop();
                        }
                      }, _callee103);
                    }))));
                  case 1:
                  case "end":
                    return _context106.stop();
                }
              }, _callee104);
            }));
            return function (_x243) {
              return _ref133.apply(this, arguments);
            };
          }());
        case 1:
          result = _context107.sent;
          return _context107.abrupt("return", (0, _defineProperty2["default"])({}, fetcherMatch.route.id, result));
        case 2:
        case "end":
          return _context107.stop();
      }
    }, _callee105);
  }));
  return _singleFetchLoaderFetcherStrategy.apply(this, arguments);
}
function stripIndexParam(url) {
  var indexValues = url.searchParams.getAll("index");
  url.searchParams["delete"]("index");
  var indexValuesToKeep = [];
  var _iterator20 = _createForOfIteratorHelper(indexValues),
    _step20;
  try {
    for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {
      var indexValue = _step20.value;
      if (indexValue) {
        indexValuesToKeep.push(indexValue);
      }
    }
  } catch (err) {
    _iterator20.e(err);
  } finally {
    _iterator20.f();
  }
  for (var _i8 = 0, _indexValuesToKeep = indexValuesToKeep; _i8 < _indexValuesToKeep.length; _i8++) {
    var toKeep = _indexValuesToKeep[_i8];
    url.searchParams.append("index", toKeep);
  }
  return url;
}
function singleFetchUrl(reqUrl, basename) {
  var url = typeof reqUrl === "string" ? new URL(reqUrl,
  // This can be called during the SSR flow via PrefetchPageLinksImpl so
  // don't assume window is available
  typeof window === "undefined" ? "server://singlefetch/" : window.location.origin) : reqUrl;
  if (url.pathname === "/") {
    url.pathname = "_root.data";
  } else if (basename && stripBasename(url.pathname, basename) === "/") {
    url.pathname = "".concat(basename.replace(/\/$/, ""), "/_root.data");
  } else {
    url.pathname = "".concat(url.pathname.replace(/\/$/, ""), ".data");
  }
  return url;
}
function fetchAndDecodeViaTurboStream(_x157, _x158, _x159) {
  return _fetchAndDecodeViaTurboStream.apply(this, arguments);
}
function _fetchAndDecodeViaTurboStream() {
  _fetchAndDecodeViaTurboStream = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee106(args, basename, targetRoutes) {
    var request, url, res, routes, decoded, data2, typed, _typed, routeId, _t55, _t56, _t57, _t58;
    return _regenerator["default"].wrap(function (_context108) {
      while (1) switch (_context108.prev = _context108.next) {
        case 0:
          request = args.request;
          url = singleFetchUrl(request.url, basename);
          if (request.method === "GET") {
            url = stripIndexParam(url);
            if (targetRoutes) {
              url.searchParams.set("_routes", targetRoutes.join(","));
            }
          }
          _t55 = fetch;
          _t56 = url;
          _context108.next = 1;
          return createRequestInit(request);
        case 1:
          _t57 = _context108.sent;
          _context108.next = 2;
          return _t55(_t56, _t57);
        case 2:
          res = _context108.sent;
          if (!(res.status === 404 && !res.headers.has("X-Remix-Response"))) {
            _context108.next = 3;
            break;
          }
          throw new ErrorResponseImpl(404, "Not Found", true);
        case 3:
          if (!(res.status === 204 && res.headers.has("X-Remix-Redirect"))) {
            _context108.next = 4;
            break;
          }
          return _context108.abrupt("return", {
            status: SINGLE_FETCH_REDIRECT_STATUS,
            data: {
              redirect: {
                redirect: res.headers.get("X-Remix-Redirect"),
                status: Number(res.headers.get("X-Remix-Status") || "302"),
                revalidate: res.headers.get("X-Remix-Revalidate") === "true",
                reload: res.headers.get("X-Remix-Reload-Document") === "true",
                replace: res.headers.get("X-Remix-Replace") === "true"
              }
            }
          });
        case 4:
          if (!NO_BODY_STATUS_CODES.has(res.status)) {
            _context108.next = 5;
            break;
          }
          routes = {};
          if (targetRoutes && request.method !== "GET") {
            routes[targetRoutes[0]] = {
              data: void 0
            };
          }
          return _context108.abrupt("return", {
            status: res.status,
            data: {
              routes: routes
            }
          });
        case 5:
          invariant2(res.body, "No response body to decode");
          _context108.prev = 6;
          _context108.next = 7;
          return decodeViaTurboStream(res.body, window);
        case 7:
          decoded = _context108.sent;
          if (request.method === "GET") {
            typed = decoded.value;
            if (SingleFetchRedirectSymbol in typed) {
              data2 = {
                redirect: typed[SingleFetchRedirectSymbol]
              };
            } else {
              data2 = {
                routes: typed
              };
            }
          } else {
            _typed = decoded.value;
            routeId = targetRoutes === null || targetRoutes === void 0 ? void 0 : targetRoutes[0];
            invariant2(routeId, "No routeId found for single fetch call decoding");
            if ("redirect" in _typed) {
              data2 = {
                redirect: _typed
              };
            } else {
              data2 = {
                routes: (0, _defineProperty2["default"])({}, routeId, _typed)
              };
            }
          }
          return _context108.abrupt("return", {
            status: res.status,
            data: data2
          });
        case 8:
          _context108.prev = 8;
          _t58 = _context108["catch"](6);
          throw new Error("Unable to decode turbo-stream response");
        case 9:
        case "end":
          return _context108.stop();
      }
    }, _callee106, null, [[6, 8]]);
  }));
  return _fetchAndDecodeViaTurboStream.apply(this, arguments);
}
function decodeViaTurboStream(body, global2) {
  return decode(body, {
    plugins: [function (type) {
      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        rest[_key - 1] = arguments[_key];
      }
      if (type === "SanitizedError") {
        var name = rest[0],
          message = rest[1],
          stack = rest[2];
        var Constructor = Error;
        if (name && name in global2 && typeof global2[name] === "function") {
          Constructor = global2[name];
        }
        var error = new Constructor(message);
        error.stack = stack;
        return {
          value: error
        };
      }
      if (type === "ErrorResponse") {
        var data2 = rest[0],
          status = rest[1],
          statusText = rest[2];
        return {
          value: new ErrorResponseImpl(status, statusText, data2)
        };
      }
      if (type === "SingleFetchRedirect") {
        return {
          value: (0, _defineProperty2["default"])({}, SingleFetchRedirectSymbol, rest[0])
        };
      }
      if (type === "SingleFetchClassInstance") {
        return {
          value: rest[0]
        };
      }
      if (type === "SingleFetchFallback") {
        return {
          value: void 0
        };
      }
    }]
  });
}
function unwrapSingleFetchResult(result, routeId) {
  if ("redirect" in result) {
    var _result$redirect = result.redirect,
      location = _result$redirect.redirect,
      revalidate = _result$redirect.revalidate,
      reload = _result$redirect.reload,
      replace2 = _result$redirect.replace,
      status = _result$redirect.status;
    throw _redirect(location, {
      status: status,
      headers: _objectSpread(_objectSpread(_objectSpread({}, revalidate ? {
        "X-Remix-Revalidate": "yes"
      } : null), reload ? {
        "X-Remix-Reload-Document": "yes"
      } : null), replace2 ? {
        "X-Remix-Replace": "yes"
      } : null)
    });
  }
  var routeResult = result.routes[routeId];
  if (routeResult == null) {
    throw new SingleFetchNoResultError("No result found for routeId \"".concat(routeId, "\""));
  } else if ("error" in routeResult) {
    throw routeResult.error;
  } else if ("data" in routeResult) {
    return routeResult.data;
  } else {
    throw new Error("Invalid response found for routeId \"".concat(routeId, "\""));
  }
}
function createDeferred2() {
  var resolve;
  var reject;
  var promise = new Promise(function (res, rej) {
    resolve = /*#__PURE__*/function () {
      var _ref57 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee31(val) {
        var _t14;
        return _regenerator["default"].wrap(function (_context33) {
          while (1) switch (_context33.prev = _context33.next) {
            case 0:
              res(val);
              _context33.prev = 1;
              _context33.next = 2;
              return promise;
            case 2:
              _context33.next = 4;
              break;
            case 3:
              _context33.prev = 3;
              _t14 = _context33["catch"](1);
            case 4:
            case "end":
              return _context33.stop();
          }
        }, _callee31, null, [[1, 3]]);
      }));
      return function resolve(_x160) {
        return _ref57.apply(this, arguments);
      };
    }();
    reject = /*#__PURE__*/function () {
      var _ref58 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee32(error) {
        var _t15;
        return _regenerator["default"].wrap(function (_context34) {
          while (1) switch (_context34.prev = _context34.next) {
            case 0:
              rej(error);
              _context34.prev = 1;
              _context34.next = 2;
              return promise;
            case 2:
              _context34.next = 4;
              break;
            case 3:
              _context34.prev = 3;
              _t15 = _context34["catch"](1);
            case 4:
            case "end":
              return _context34.stop();
          }
        }, _callee32, null, [[1, 3]]);
      }));
      return function reject(_x161) {
        return _ref58.apply(this, arguments);
      };
    }();
  });
  return {
    promise: promise,
    //@ts-ignore
    resolve: resolve,
    //@ts-ignore
    reject: reject
  };
}

// lib/dom/ssr/fog-of-war.ts
var React8 = __toESM(require("react"));

// lib/dom/ssr/routes.tsx
var React7 = __toESM(require("react"));

// lib/dom/ssr/errorBoundaries.tsx
var React5 = __toESM(require("react"));
var RemixErrorBoundary = /*#__PURE__*/function (_React5$Component) {
  function RemixErrorBoundary(props) {
    var _this6;
    (0, _classCallCheck2["default"])(this, RemixErrorBoundary);
    _this6 = _callSuper(this, RemixErrorBoundary, [props]);
    _this6.state = {
      error: props.error || null,
      location: props.location
    };
    return _this6;
  }
  (0, _inherits2["default"])(RemixErrorBoundary, _React5$Component);
  return (0, _createClass2["default"])(RemixErrorBoundary, [{
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /* @__PURE__ */React5.createElement(RemixRootDefaultErrorBoundary, {
          error: this.state.error,
          isOutsideRemixApp: true
        });
      } else {
        return this.props.children;
      }
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError(error) {
      return {
        error: error
      };
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      if (state.location !== props.location) {
        return {
          error: props.error || null,
          location: props.location
        };
      }
      return {
        error: props.error || state.error,
        location: state.location
      };
    }
  }]);
}(React5.Component);
function RemixRootDefaultErrorBoundary(_ref59) {
  var error = _ref59.error,
    isOutsideRemixApp = _ref59.isOutsideRemixApp;
  console.error(error);
  var heyDeveloper = /* @__PURE__ */React5.createElement("script", {
    dangerouslySetInnerHTML: {
      __html: "\n        console.log(\n          \"\uD83D\uDCBF Hey developer \uD83D\uDC4B. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information.\"\n        );\n      "
    }
  });
  if (_isRouteErrorResponse(error)) {
    return /* @__PURE__ */React5.createElement(BoundaryShell, {
      title: "Unhandled Thrown Response!"
    }, /* @__PURE__ */React5.createElement("h1", {
      style: {
        fontSize: "24px"
      }
    }, error.status, " ", error.statusText), ENABLE_DEV_WARNINGS ? heyDeveloper : null);
  }
  var errorInstance;
  if (error instanceof Error) {
    errorInstance = error;
  } else {
    var errorString = error == null ? "Unknown Error" : (0, _typeof2["default"])(error) === "object" && "toString" in error ? error.toString() : JSON.stringify(error);
    errorInstance = new Error(errorString);
  }
  return /* @__PURE__ */React5.createElement(BoundaryShell, {
    title: "Application Error!",
    isOutsideRemixApp: isOutsideRemixApp
  }, /* @__PURE__ */React5.createElement("h1", {
    style: {
      fontSize: "24px"
    }
  }, "Application Error"), /* @__PURE__ */React5.createElement("pre", {
    style: {
      padding: "2rem",
      background: "hsla(10, 50%, 50%, 0.1)",
      color: "red",
      overflow: "auto"
    }
  }, errorInstance.stack), heyDeveloper);
}
function BoundaryShell(_ref60) {
  var _routeModules$root;
  var title = _ref60.title,
    renderScripts = _ref60.renderScripts,
    isOutsideRemixApp = _ref60.isOutsideRemixApp,
    children = _ref60.children;
  var _useFrameworkContext = useFrameworkContext(),
    routeModules = _useFrameworkContext.routeModules;
  if ((_routeModules$root = routeModules.root) !== null && _routeModules$root !== void 0 && _routeModules$root.Layout && !isOutsideRemixApp) {
    return children;
  }
  return /* @__PURE__ */React5.createElement("html", {
    lang: "en"
  }, /* @__PURE__ */React5.createElement("head", null, /* @__PURE__ */React5.createElement("meta", {
    charSet: "utf-8"
  }), /* @__PURE__ */React5.createElement("meta", {
    name: "viewport",
    content: "width=device-width,initial-scale=1,viewport-fit=cover"
  }), /* @__PURE__ */React5.createElement("title", null, title)), /* @__PURE__ */React5.createElement("body", null, /* @__PURE__ */React5.createElement("main", {
    style: {
      fontFamily: "system-ui, sans-serif",
      padding: "2rem"
    }
  }, children, renderScripts ? /* @__PURE__ */React5.createElement(_Scripts, null) : null)));
}

// lib/dom/ssr/fallback.tsx
var React6 = __toESM(require("react"));
function RemixRootDefaultHydrateFallback() {
  return /* @__PURE__ */React6.createElement(BoundaryShell, {
    title: "Loading...",
    renderScripts: true
  }, ENABLE_DEV_WARNINGS ? /* @__PURE__ */React6.createElement("script", {
    dangerouslySetInnerHTML: {
      __html: "\n              console.log(\n                \"\uD83D\uDCBF Hey developer \uD83D\uDC4B. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running `clientLoader` \" +\n                \"functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback \" +\n                \"for more information.\"\n              );\n            "
    }
  }) : null);
}

// lib/dom/ssr/routes.tsx
function groupRoutesByParentId(manifest) {
  var routes = {};
  Object.values(manifest).forEach(function (route) {
    if (route) {
      var parentId = route.parentId || "";
      if (!routes[parentId]) {
        routes[parentId] = [];
      }
      routes[parentId].push(route);
    }
  });
  return routes;
}
function getRouteComponents(route, routeModule, isSpaMode) {
  var Component4 = getRouteModuleComponent(routeModule);
  var HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === "root") ? routeModule.HydrateFallback : route.id === "root" ? RemixRootDefaultHydrateFallback : void 0;
  var ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === "root" ? function () {
    return /* @__PURE__ */React7.createElement(RemixRootDefaultErrorBoundary, {
      error: _useRouteError()
    });
  } : void 0;
  if (route.id === "root" && routeModule.Layout) {
    return _objectSpread(_objectSpread(_objectSpread({}, Component4 ? {
      element: /* @__PURE__ */React7.createElement(routeModule.Layout, null, /* @__PURE__ */React7.createElement(Component4, null))
    } : {
      Component: Component4
    }), ErrorBoundary ? {
      errorElement: /* @__PURE__ */React7.createElement(routeModule.Layout, null, /* @__PURE__ */React7.createElement(ErrorBoundary, null))
    } : {
      ErrorBoundary: ErrorBoundary
    }), HydrateFallback ? {
      hydrateFallbackElement: /* @__PURE__ */React7.createElement(routeModule.Layout, null, /* @__PURE__ */React7.createElement(HydrateFallback, null))
    } : {
      HydrateFallback: HydrateFallback
    });
  }
  return {
    Component: Component4,
    ErrorBoundary: ErrorBoundary,
    HydrateFallback: HydrateFallback
  };
}
function createServerRoutes(manifest, routeModules, future, isSpaMode) {
  var parentId = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : "";
  var routesByParentId = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : groupRoutesByParentId(manifest);
  var spaModeLazyPromise = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : Promise.resolve({
    Component: function Component() {
      return null;
    }
  });
  return (routesByParentId[parentId] || []).map(function (route) {
    var routeModule = routeModules[route.id];
    invariant2(routeModule, "No `routeModule` available to create server routes");
    var dataRoute = _objectSpread(_objectSpread({}, getRouteComponents(route, routeModule, isSpaMode)), {}, {
      caseSensitive: route.caseSensitive,
      id: route.id,
      index: route.index,
      path: route.path,
      handle: routeModule.handle,
      // For SPA Mode, all routes are lazy except root.  However we tell the
      // router root is also lazy here too since we don't need a full
      // implementation - we just need a `lazy` prop to tell the RR rendering
      // where to stop which is always at the root route in SPA mode
      lazy: isSpaMode ? function () {
        return spaModeLazyPromise;
      } : void 0,
      // For partial hydration rendering, we need to indicate when the route
      // has a loader/clientLoader, but it won't ever be called during the static
      // render, so just give it a no-op function so we can render down to the
      // proper fallback
      loader: route.hasLoader || route.hasClientLoader ? function () {
        return null;
      } : void 0
      // We don't need middleware/action/shouldRevalidate on these routes since
      // they're for a static render
    });
    var children = createServerRoutes(manifest, routeModules, future, isSpaMode, route.id, routesByParentId, spaModeLazyPromise);
    if (children.length > 0) dataRoute.children = children;
    return dataRoute;
  });
}
function createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {
  return createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, "", groupRoutesByParentId(manifest), needsRevalidation);
}
function preventInvalidServerHandlerCall(type, route) {
  if (type === "loader" && !route.hasLoader || type === "action" && !route.hasAction) {
    var fn = type === "action" ? "serverAction()" : "serverLoader()";
    var msg = "You are trying to call ".concat(fn, " on a route that does not have a server ").concat(type, " (routeId: \"").concat(route.id, "\")");
    console.error(msg);
    throw new ErrorResponseImpl(400, "Bad Request", new Error(msg), true);
  }
}
function noActionDefinedError(type, routeId) {
  var article = type === "clientAction" ? "a" : "an";
  var msg = "Route \"".concat(routeId, "\" does not have ").concat(article, " ").concat(type, ", but you are trying to submit to it. To fix this, please add ").concat(article, " `").concat(type, "` function to the route");
  console.error(msg);
  throw new ErrorResponseImpl(405, "Method Not Allowed", new Error(msg), true);
}
function createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode) {
  var parentId = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : "";
  var routesByParentId = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : groupRoutesByParentId(manifest);
  var needsRevalidation = arguments.length > 7 ? arguments[7] : undefined;
  return (routesByParentId[parentId] || []).map(function (route) {
    var routeModule = routeModulesCache[route.id];
    function fetchServerHandler(singleFetch) {
      invariant2(typeof singleFetch === "function", "No single fetch function available for route handler");
      return singleFetch();
    }
    function fetchServerLoader(singleFetch) {
      if (!route.hasLoader) return Promise.resolve(null);
      return fetchServerHandler(singleFetch);
    }
    function fetchServerAction(singleFetch) {
      if (!route.hasAction) {
        throw noActionDefinedError("action", route.id);
      }
      return fetchServerHandler(singleFetch);
    }
    function prefetchModule(modulePath) {
      (function (specifier) {
        return new Promise(function (r) {
          return r("".concat(specifier));
        }).then(function (s) {
          return _interopRequireWildcard(require(s));
        });
      })(/* @vite-ignore */
      /* webpackIgnore: true */
      modulePath);
    }
    function prefetchRouteModuleChunks(route2) {
      if (route2.clientActionModule) {
        prefetchModule(route2.clientActionModule);
      }
      if (route2.clientLoaderModule) {
        prefetchModule(route2.clientLoaderModule);
      }
    }
    function prefetchStylesAndCallHandler(_x162) {
      return _prefetchStylesAndCallHandler.apply(this, arguments);
    }
    function _prefetchStylesAndCallHandler() {
      _prefetchStylesAndCallHandler = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee49(handler) {
        var cachedModule, linkPrefetchPromise;
        return _regenerator["default"].wrap(function (_context51) {
          while (1) switch (_context51.prev = _context51.next) {
            case 0:
              cachedModule = routeModulesCache[route.id];
              linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();
              _context51.prev = 1;
              return _context51.abrupt("return", handler());
            case 2:
              _context51.prev = 2;
              _context51.next = 3;
              return linkPrefetchPromise;
            case 3:
              return _context51.finish(2);
            case 4:
            case "end":
              return _context51.stop();
          }
        }, _callee49, null, [[1,, 2, 4]]);
      }));
      return _prefetchStylesAndCallHandler.apply(this, arguments);
    }
    var dataRoute = {
      id: route.id,
      index: route.index,
      path: route.path
    };
    if (routeModule) {
      var _initialState$loaderD, _initialState$errors, _routeModule$clientLo;
      Object.assign(dataRoute, _objectSpread(_objectSpread(_objectSpread({}, dataRoute), getRouteComponents(route, routeModule, isSpaMode)), {}, {
        unstable_middleware: routeModule.unstable_clientMiddleware,
        handle: routeModule.handle,
        shouldRevalidate: getShouldRevalidateFunction(dataRoute.path, routeModule, route, ssr, needsRevalidation)
      }));
      var hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;
      var initialData = hasInitialData ? initialState === null || initialState === void 0 || (_initialState$loaderD = initialState.loaderData) === null || _initialState$loaderD === void 0 ? void 0 : _initialState$loaderD[route.id] : void 0;
      var hasInitialError = initialState && initialState.errors && route.id in initialState.errors;
      var initialError = hasInitialError ? initialState === null || initialState === void 0 || (_initialState$errors = initialState.errors) === null || _initialState$errors === void 0 ? void 0 : _initialState$errors[route.id] : void 0;
      var isHydrationRequest = needsRevalidation == null && (((_routeModule$clientLo = routeModule.clientLoader) === null || _routeModule$clientLo === void 0 ? void 0 : _routeModule$clientLo.hydrate) === true || !route.hasLoader);
      dataRoute.loader = /*#__PURE__*/function () {
        var _ref62 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee35(_ref61, singleFetch) {
          var request, params, context, result;
          return _regenerator["default"].wrap(function (_context37) {
            while (1) switch (_context37.prev = _context37.next) {
              case 0:
                request = _ref61.request, params = _ref61.params, context = _ref61.context;
                _context37.prev = 1;
                _context37.next = 2;
                return prefetchStylesAndCallHandler(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee34() {
                  return _regenerator["default"].wrap(function (_context36) {
                    while (1) switch (_context36.prev = _context36.next) {
                      case 0:
                        invariant2(routeModule, "No `routeModule` available for critical-route loader");
                        if (routeModule.clientLoader) {
                          _context36.next = 1;
                          break;
                        }
                        return _context36.abrupt("return", fetchServerLoader(singleFetch));
                      case 1:
                        return _context36.abrupt("return", routeModule.clientLoader({
                          request: request,
                          params: params,
                          context: context,
                          serverLoader: function serverLoader() {
                            return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee33() {
                              return _regenerator["default"].wrap(function (_context35) {
                                while (1) switch (_context35.prev = _context35.next) {
                                  case 0:
                                    preventInvalidServerHandlerCall("loader", route);
                                    if (!isHydrationRequest) {
                                      _context35.next = 2;
                                      break;
                                    }
                                    if (!hasInitialData) {
                                      _context35.next = 1;
                                      break;
                                    }
                                    return _context35.abrupt("return", initialData);
                                  case 1:
                                    if (!hasInitialError) {
                                      _context35.next = 2;
                                      break;
                                    }
                                    throw initialError;
                                  case 2:
                                    return _context35.abrupt("return", fetchServerLoader(singleFetch));
                                  case 3:
                                  case "end":
                                    return _context35.stop();
                                }
                              }, _callee33);
                            }))();
                          }
                        }));
                      case 2:
                      case "end":
                        return _context36.stop();
                    }
                  }, _callee34);
                })));
              case 2:
                result = _context37.sent;
                return _context37.abrupt("return", result);
              case 3:
                _context37.prev = 3;
                isHydrationRequest = false;
                return _context37.finish(3);
              case 4:
              case "end":
                return _context37.stop();
            }
          }, _callee35, null, [[1,, 3, 4]]);
        }));
        return function (_x163, _x164) {
          return _ref62.apply(this, arguments);
        };
      }();
      dataRoute.loader.hydrate = shouldHydrateRouteLoader(route.id, routeModule.clientLoader, route.hasLoader, isSpaMode);
      dataRoute.action = function (_ref64, singleFetch) {
        var request = _ref64.request,
          params = _ref64.params,
          context = _ref64.context;
        return prefetchStylesAndCallHandler(/*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee37() {
          return _regenerator["default"].wrap(function (_context39) {
            while (1) switch (_context39.prev = _context39.next) {
              case 0:
                invariant2(routeModule, "No `routeModule` available for critical-route action");
                if (routeModule.clientAction) {
                  _context39.next = 2;
                  break;
                }
                if (!isSpaMode) {
                  _context39.next = 1;
                  break;
                }
                throw noActionDefinedError("clientAction", route.id);
              case 1:
                return _context39.abrupt("return", fetchServerAction(singleFetch));
              case 2:
                return _context39.abrupt("return", routeModule.clientAction({
                  request: request,
                  params: params,
                  context: context,
                  serverAction: function serverAction() {
                    return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee36() {
                      return _regenerator["default"].wrap(function (_context38) {
                        while (1) switch (_context38.prev = _context38.next) {
                          case 0:
                            preventInvalidServerHandlerCall("action", route);
                            return _context38.abrupt("return", fetchServerAction(singleFetch));
                          case 1:
                          case "end":
                            return _context38.stop();
                        }
                      }, _callee36);
                    }))();
                  }
                }));
              case 3:
              case "end":
                return _context39.stop();
            }
          }, _callee37);
        })));
      };
    } else {
      var getLazyRoute = /*#__PURE__*/function () {
        var _ref66 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee39() {
          return _regenerator["default"].wrap(function (_context41) {
            while (1) switch (_context41.prev = _context41.next) {
              case 0:
                if (!lazyRoutePromise) {
                  _context41.next = 2;
                  break;
                }
                _context41.next = 1;
                return lazyRoutePromise;
              case 1:
                return _context41.abrupt("return", _context41.sent);
              case 2:
                lazyRoutePromise = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee38() {
                  var routeModulePromise;
                  return _regenerator["default"].wrap(function (_context40) {
                    while (1) switch (_context40.prev = _context40.next) {
                      case 0:
                        if (!(route.clientLoaderModule || route.clientActionModule)) {
                          _context40.next = 1;
                          break;
                        }
                        _context40.next = 1;
                        return new Promise(function (resolve) {
                          return setTimeout(resolve, 0);
                        });
                      case 1:
                        routeModulePromise = loadRouteModuleWithBlockingLinks(route, routeModulesCache);
                        prefetchRouteModuleChunks(route);
                        _context40.next = 2;
                        return routeModulePromise;
                      case 2:
                        return _context40.abrupt("return", _context40.sent);
                      case 3:
                      case "end":
                        return _context40.stop();
                    }
                  }, _callee38);
                }))();
                _context41.next = 3;
                return lazyRoutePromise;
              case 3:
                return _context41.abrupt("return", _context41.sent);
              case 4:
              case "end":
                return _context41.stop();
            }
          }, _callee39);
        }));
        return function getLazyRoute() {
          return _ref66.apply(this, arguments);
        };
      }();
      if (!route.hasClientLoader) {
        dataRoute.loader = function (_, singleFetch) {
          return prefetchStylesAndCallHandler(function () {
            return fetchServerLoader(singleFetch);
          });
        };
      }
      if (!route.hasClientAction) {
        dataRoute.action = function (_, singleFetch) {
          return prefetchStylesAndCallHandler(function () {
            if (isSpaMode) {
              throw noActionDefinedError("clientAction", route.id);
            }
            return fetchServerAction(singleFetch);
          });
        };
      }
      var lazyRoutePromise;
      dataRoute.lazy = {
        loader: route.hasClientLoader ? /*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee41() {
          var _ref69, clientLoader, _t16;
          return _regenerator["default"].wrap(function (_context43) {
            while (1) switch (_context43.prev = _context43.next) {
              case 0:
                if (!route.clientLoaderModule) {
                  _context43.next = 2;
                  break;
                }
                _context43.next = 1;
                return function (specifier) {
                  return new Promise(function (r) {
                    return r("".concat(specifier));
                  }).then(function (s) {
                    return _interopRequireWildcard(require(s));
                  });
                }(/* @vite-ignore */
                /* webpackIgnore: true */
                route.clientLoaderModule);
              case 1:
                _t16 = _context43.sent;
                _context43.next = 4;
                break;
              case 2:
                _context43.next = 3;
                return getLazyRoute();
              case 3:
                _t16 = _context43.sent;
              case 4:
                _ref69 = _t16;
                clientLoader = _ref69.clientLoader;
                invariant2(clientLoader, "No `clientLoader` export found");
                return _context43.abrupt("return", function (args, singleFetch) {
                  return clientLoader(_objectSpread(_objectSpread({}, args), {}, {
                    serverLoader: function serverLoader() {
                      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee40() {
                        return _regenerator["default"].wrap(function (_context42) {
                          while (1) switch (_context42.prev = _context42.next) {
                            case 0:
                              preventInvalidServerHandlerCall("loader", route);
                              return _context42.abrupt("return", fetchServerLoader(singleFetch));
                            case 1:
                            case "end":
                              return _context42.stop();
                          }
                        }, _callee40);
                      }))();
                    }
                  }));
                });
              case 5:
              case "end":
                return _context43.stop();
            }
          }, _callee41);
        })) : void 0,
        action: route.hasClientAction ? /*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee43() {
          var clientActionPromise, _yield$clientActionPr, clientAction;
          return _regenerator["default"].wrap(function (_context45) {
            while (1) switch (_context45.prev = _context45.next) {
              case 0:
                clientActionPromise = route.clientActionModule ? function (specifier) {
                  return new Promise(function (r) {
                    return r("".concat(specifier));
                  }).then(function (s) {
                    return _interopRequireWildcard(require(s));
                  });
                }(/* @vite-ignore */
                /* webpackIgnore: true */
                route.clientActionModule) : getLazyRoute();
                prefetchRouteModuleChunks(route);
                _context45.next = 1;
                return clientActionPromise;
              case 1:
                _yield$clientActionPr = _context45.sent;
                clientAction = _yield$clientActionPr.clientAction;
                invariant2(clientAction, "No `clientAction` export found");
                return _context45.abrupt("return", function (args, singleFetch) {
                  return clientAction(_objectSpread(_objectSpread({}, args), {}, {
                    serverAction: function serverAction() {
                      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee42() {
                        return _regenerator["default"].wrap(function (_context44) {
                          while (1) switch (_context44.prev = _context44.next) {
                            case 0:
                              preventInvalidServerHandlerCall("action", route);
                              return _context44.abrupt("return", fetchServerAction(singleFetch));
                            case 1:
                            case "end":
                              return _context44.stop();
                          }
                        }, _callee42);
                      }))();
                    }
                  }));
                });
              case 2:
              case "end":
                return _context45.stop();
            }
          }, _callee43);
        })) : void 0,
        unstable_middleware: route.hasClientMiddleware ? /*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee44() {
          var _ref72, unstable_clientMiddleware, _t17;
          return _regenerator["default"].wrap(function (_context46) {
            while (1) switch (_context46.prev = _context46.next) {
              case 0:
                if (!route.clientMiddlewareModule) {
                  _context46.next = 2;
                  break;
                }
                _context46.next = 1;
                return function (specifier) {
                  return new Promise(function (r) {
                    return r("".concat(specifier));
                  }).then(function (s) {
                    return _interopRequireWildcard(require(s));
                  });
                }(/* @vite-ignore */
                /* webpackIgnore: true */
                route.clientMiddlewareModule);
              case 1:
                _t17 = _context46.sent;
                _context46.next = 4;
                break;
              case 2:
                _context46.next = 3;
                return getLazyRoute();
              case 3:
                _t17 = _context46.sent;
              case 4:
                _ref72 = _t17;
                unstable_clientMiddleware = _ref72.unstable_clientMiddleware;
                invariant2(unstable_clientMiddleware, "No `unstable_clientMiddleware` export found");
                return _context46.abrupt("return", unstable_clientMiddleware);
              case 5:
              case "end":
                return _context46.stop();
            }
          }, _callee44);
        })) : void 0,
        shouldRevalidate: function () {
          var _shouldRevalidate = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee45() {
            var lazyRoute;
            return _regenerator["default"].wrap(function (_context47) {
              while (1) switch (_context47.prev = _context47.next) {
                case 0:
                  _context47.next = 1;
                  return getLazyRoute();
                case 1:
                  lazyRoute = _context47.sent;
                  return _context47.abrupt("return", getShouldRevalidateFunction(dataRoute.path, lazyRoute, route, ssr, needsRevalidation));
                case 2:
                case "end":
                  return _context47.stop();
              }
            }, _callee45);
          }));
          function shouldRevalidate() {
            return _shouldRevalidate.apply(this, arguments);
          }
          return shouldRevalidate;
        }(),
        handle: function () {
          var _handle = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee46() {
            return _regenerator["default"].wrap(function (_context48) {
              while (1) switch (_context48.prev = _context48.next) {
                case 0:
                  _context48.next = 1;
                  return getLazyRoute();
                case 1:
                  return _context48.abrupt("return", _context48.sent.handle);
                case 2:
                case "end":
                  return _context48.stop();
              }
            }, _callee46);
          }));
          function handle() {
            return _handle.apply(this, arguments);
          }
          return handle;
        }(),
        // No need to wrap these in layout since the root route is never
        // loaded via route.lazy()
        Component: function () {
          var _Component = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee47() {
            return _regenerator["default"].wrap(function (_context49) {
              while (1) switch (_context49.prev = _context49.next) {
                case 0:
                  _context49.next = 1;
                  return getLazyRoute();
                case 1:
                  return _context49.abrupt("return", _context49.sent.Component);
                case 2:
                case "end":
                  return _context49.stop();
              }
            }, _callee47);
          }));
          function Component() {
            return _Component.apply(this, arguments);
          }
          return Component;
        }(),
        ErrorBoundary: route.hasErrorBoundary ? /*#__PURE__*/(0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee48() {
          return _regenerator["default"].wrap(function (_context50) {
            while (1) switch (_context50.prev = _context50.next) {
              case 0:
                _context50.next = 1;
                return getLazyRoute();
              case 1:
                return _context50.abrupt("return", _context50.sent.ErrorBoundary);
              case 2:
              case "end":
                return _context50.stop();
            }
          }, _callee48);
        })) : void 0
      };
    }
    var children = createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, route.id, routesByParentId, needsRevalidation);
    if (children.length > 0) dataRoute.children = children;
    return dataRoute;
  });
}
function getShouldRevalidateFunction(path, route, manifestRoute, ssr, needsRevalidation) {
  if (needsRevalidation) {
    return wrapShouldRevalidateForHdr(manifestRoute.id, route.shouldRevalidate, needsRevalidation);
  }
  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {
    var myParams = path ? compilePath(path)[1].map(function (p) {
      return p.paramName;
    }) : [];
    var didParamsChange = function didParamsChange(opts) {
      return myParams.some(function (p) {
        return opts.currentParams[p] !== opts.nextParams[p];
      });
    };
    if (route.shouldRevalidate) {
      var fn = route.shouldRevalidate;
      return function (opts) {
        return fn(_objectSpread(_objectSpread({}, opts), {}, {
          defaultShouldRevalidate: didParamsChange(opts)
        }));
      };
    } else {
      return function (opts) {
        return didParamsChange(opts);
      };
    }
  }
  if (ssr && route.shouldRevalidate) {
    var _fn = route.shouldRevalidate;
    return function (opts) {
      return _fn(_objectSpread(_objectSpread({}, opts), {}, {
        defaultShouldRevalidate: true
      }));
    };
  }
  return route.shouldRevalidate;
}
function wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {
  var handledRevalidation = false;
  return function (arg) {
    if (!handledRevalidation) {
      handledRevalidation = true;
      return needsRevalidation.has(routeId);
    }
    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;
  };
}
function loadRouteModuleWithBlockingLinks(_x165, _x166) {
  return _loadRouteModuleWithBlockingLinks.apply(this, arguments);
}
function _loadRouteModuleWithBlockingLinks() {
  _loadRouteModuleWithBlockingLinks = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee107(route, routeModules) {
    var routeModulePromise, prefetchRouteCssPromise, routeModule;
    return _regenerator["default"].wrap(function (_context109) {
      while (1) switch (_context109.prev = _context109.next) {
        case 0:
          routeModulePromise = loadRouteModule(route, routeModules);
          prefetchRouteCssPromise = prefetchRouteCss(route);
          _context109.next = 1;
          return routeModulePromise;
        case 1:
          routeModule = _context109.sent;
          _context109.next = 2;
          return Promise.all([prefetchRouteCssPromise, prefetchStyleLinks(route, routeModule)]);
        case 2:
          return _context109.abrupt("return", {
            Component: getRouteModuleComponent(routeModule),
            ErrorBoundary: routeModule.ErrorBoundary,
            unstable_clientMiddleware: routeModule.unstable_clientMiddleware,
            clientAction: routeModule.clientAction,
            clientLoader: routeModule.clientLoader,
            handle: routeModule.handle,
            links: routeModule.links,
            meta: routeModule.meta,
            shouldRevalidate: routeModule.shouldRevalidate
          });
        case 3:
        case "end":
          return _context109.stop();
      }
    }, _callee107);
  }));
  return _loadRouteModuleWithBlockingLinks.apply(this, arguments);
}
function getRouteModuleComponent(routeModule) {
  if (routeModule["default"] == null) return void 0;
  var isEmptyObject = (0, _typeof2["default"])(routeModule["default"]) === "object" && Object.keys(routeModule["default"]).length === 0;
  if (!isEmptyObject) {
    return routeModule["default"];
  }
}
function shouldHydrateRouteLoader(routeId, clientLoader, hasLoader, isSpaMode) {
  return isSpaMode && routeId !== "root" || clientLoader != null && (clientLoader.hydrate === true || hasLoader !== true);
}

// lib/dom/ssr/fog-of-war.ts
var nextPaths = /* @__PURE__ */new Set();
var discoveredPathsMaxSize = 1e3;
var discoveredPaths = /* @__PURE__ */new Set();
var URL_LIMIT = 7680;
function isFogOfWarEnabled(routeDiscovery, ssr) {
  return routeDiscovery.mode === "lazy" && ssr === true;
}
function getPartialManifest(_ref74, router) {
  var sri = _ref74.sri,
    manifest = (0, _objectWithoutProperties2["default"])(_ref74, _excluded);
  var routeIds = new Set(router.state.matches.map(function (m) {
    return m.route.id;
  }));
  var segments = router.state.location.pathname.split("/").filter(Boolean);
  var paths = ["/"];
  segments.pop();
  while (segments.length > 0) {
    paths.push("/".concat(segments.join("/")));
    segments.pop();
  }
  paths.forEach(function (path) {
    var matches = _matchRoutes(router.routes, path, router.basename);
    if (matches) {
      matches.forEach(function (m) {
        return routeIds.add(m.route.id);
      });
    }
  });
  var initialRoutes = (0, _toConsumableArray2["default"])(routeIds).reduce(function (acc, id) {
    return Object.assign(acc, (0, _defineProperty2["default"])({}, id, manifest.routes[id]));
  }, {});
  return _objectSpread(_objectSpread({}, manifest), {}, {
    routes: initialRoutes,
    sri: sri ? true : void 0
  });
}
function getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, routeDiscovery, isSpaMode, basename) {
  if (!isFogOfWarEnabled(routeDiscovery, ssr)) {
    return void 0;
  }
  return /*#__PURE__*/function () {
    var _ref76 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee50(_ref75) {
      var path, patch, signal, fetcherKey;
      return _regenerator["default"].wrap(function (_context52) {
        while (1) switch (_context52.prev = _context52.next) {
          case 0:
            path = _ref75.path, patch = _ref75.patch, signal = _ref75.signal, fetcherKey = _ref75.fetcherKey;
            if (!discoveredPaths.has(path)) {
              _context52.next = 1;
              break;
            }
            return _context52.abrupt("return");
          case 1:
            _context52.next = 2;
            return fetchAndApplyManifestPatches([path], fetcherKey ? window.location.href : path, manifest, routeModules, ssr, isSpaMode, basename, routeDiscovery.manifestPath, patch, signal);
          case 2:
          case "end":
            return _context52.stop();
        }
      }, _callee50);
    }));
    return function (_x167) {
      return _ref76.apply(this, arguments);
    };
  }();
}
function useFogOFWarDiscovery(router, manifest, routeModules, ssr, routeDiscovery, isSpaMode) {
  React8.useEffect(function () {
    var _window$navigator;
    if (!isFogOfWarEnabled(routeDiscovery, ssr) ||
    // @ts-expect-error - TS doesn't know about this yet
    ((_window$navigator = window.navigator) === null || _window$navigator === void 0 || (_window$navigator = _window$navigator.connection) === null || _window$navigator === void 0 ? void 0 : _window$navigator.saveData) === true) {
      return;
    }
    function registerElement(el) {
      var path = el.tagName === "FORM" ? el.getAttribute("action") : el.getAttribute("href");
      if (!path) {
        return;
      }
      var pathname = el.tagName === "A" ? el.pathname : new URL(path, window.location.origin).pathname;
      if (!discoveredPaths.has(pathname)) {
        nextPaths.add(pathname);
      }
    }
    function fetchPatches() {
      return _fetchPatches.apply(this, arguments);
    }
    function _fetchPatches() {
      _fetchPatches = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee51() {
        var lazyPaths, _t18;
        return _regenerator["default"].wrap(function (_context53) {
          while (1) switch (_context53.prev = _context53.next) {
            case 0:
              document.querySelectorAll("a[data-discover], form[data-discover]").forEach(registerElement);
              lazyPaths = Array.from(nextPaths.keys()).filter(function (path) {
                if (discoveredPaths.has(path)) {
                  nextPaths["delete"](path);
                  return false;
                }
                return true;
              });
              if (!(lazyPaths.length === 0)) {
                _context53.next = 1;
                break;
              }
              return _context53.abrupt("return");
            case 1:
              _context53.prev = 1;
              _context53.next = 2;
              return fetchAndApplyManifestPatches(lazyPaths, null, manifest, routeModules, ssr, isSpaMode, router.basename, routeDiscovery.manifestPath, router.patchRoutes);
            case 2:
              _context53.next = 4;
              break;
            case 3:
              _context53.prev = 3;
              _t18 = _context53["catch"](1);
              console.error("Failed to fetch manifest patches", _t18);
            case 4:
            case "end":
              return _context53.stop();
          }
        }, _callee51, null, [[1, 3]]);
      }));
      return _fetchPatches.apply(this, arguments);
    }
    var debouncedFetchPatches = debounce(fetchPatches, 100);
    fetchPatches();
    var observer = new MutationObserver(function () {
      return debouncedFetchPatches();
    });
    observer.observe(document.documentElement, {
      subtree: true,
      childList: true,
      attributes: true,
      attributeFilter: ["data-discover", "href", "action"]
    });
    return function () {
      return observer.disconnect();
    };
  }, [ssr, isSpaMode, manifest, routeModules, router, routeDiscovery]);
}
function getManifestPath(_manifestPath, basename) {
  var manifestPath = _manifestPath || "/__manifest";
  if (basename == null) {
    return manifestPath;
  }
  return "".concat(basename).concat(manifestPath).replace(/\/+/g, "/");
}
var MANIFEST_VERSION_STORAGE_KEY = "react-router-manifest-version";
function fetchAndApplyManifestPatches(_x168, _x169, _x170, _x171, _x172, _x173, _x174, _x175, _x176, _x177) {
  return _fetchAndApplyManifestPatches.apply(this, arguments);
}
function _fetchAndApplyManifestPatches() {
  _fetchAndApplyManifestPatches = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee108(paths, errorReloadPath, manifest, routeModules, ssr, isSpaMode, basename, manifestPath, patchRoutes, signal) {
    var url, serverPatches, res, knownRoutes, patches, parentIds, _t59, _t60, _t61;
    return _regenerator["default"].wrap(function (_context110) {
      while (1) switch (_context110.prev = _context110.next) {
        case 0:
          url = new URL(getManifestPath(manifestPath, basename), window.location.origin);
          paths.sort().forEach(function (path) {
            return url.searchParams.append("p", path);
          });
          url.searchParams.set("version", manifest.version);
          if (!(url.toString().length > URL_LIMIT)) {
            _context110.next = 1;
            break;
          }
          nextPaths.clear();
          return _context110.abrupt("return");
        case 1:
          _context110.prev = 1;
          _context110.next = 2;
          return fetch(url, {
            signal: signal
          });
        case 2:
          res = _context110.sent;
          if (res.ok) {
            _context110.next = 3;
            break;
          }
          throw new Error("".concat(res.status, " ").concat(res.statusText));
        case 3:
          if (!(res.status === 204 && res.headers.has("X-Remix-Reload-Document"))) {
            _context110.next = 7;
            break;
          }
          if (errorReloadPath) {
            _context110.next = 4;
            break;
          }
          console.warn("Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.");
          return _context110.abrupt("return");
        case 4:
          if (!(sessionStorage.getItem(MANIFEST_VERSION_STORAGE_KEY) === manifest.version)) {
            _context110.next = 5;
            break;
          }
          console.error("Unable to discover routes due to manifest version mismatch.");
          return _context110.abrupt("return");
        case 5:
          sessionStorage.setItem(MANIFEST_VERSION_STORAGE_KEY, manifest.version);
          window.location.href = errorReloadPath;
          console.warn("Detected manifest version mismatch, reloading...");
          _context110.next = 6;
          return new Promise(function () {});
        case 6:
          _context110.next = 9;
          break;
        case 7:
          if (!(res.status >= 400)) {
            _context110.next = 9;
            break;
          }
          _t59 = Error;
          _context110.next = 8;
          return res.text();
        case 8:
          _t60 = _context110.sent;
          throw new _t59(_t60);
        case 9:
          sessionStorage.removeItem(MANIFEST_VERSION_STORAGE_KEY);
          _context110.next = 10;
          return res.json();
        case 10:
          serverPatches = _context110.sent;
          _context110.next = 13;
          break;
        case 11:
          _context110.prev = 11;
          _t61 = _context110["catch"](1);
          if (!(signal !== null && signal !== void 0 && signal.aborted)) {
            _context110.next = 12;
            break;
          }
          return _context110.abrupt("return");
        case 12:
          throw _t61;
        case 13:
          knownRoutes = new Set(Object.keys(manifest.routes));
          patches = Object.values(serverPatches).reduce(function (acc, route) {
            if (route && !knownRoutes.has(route.id)) {
              acc[route.id] = route;
            }
            return acc;
          }, {});
          Object.assign(manifest.routes, patches);
          paths.forEach(function (p) {
            return addToFifoQueue(p, discoveredPaths);
          });
          parentIds = /* @__PURE__ */new Set();
          Object.values(patches).forEach(function (patch) {
            if (patch && (!patch.parentId || !patches[patch.parentId])) {
              parentIds.add(patch.parentId);
            }
          });
          parentIds.forEach(function (parentId) {
            return patchRoutes(parentId || null, createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId));
          });
        case 14:
        case "end":
          return _context110.stop();
      }
    }, _callee108, null, [[1, 11]]);
  }));
  return _fetchAndApplyManifestPatches.apply(this, arguments);
}
function addToFifoQueue(path, queue) {
  if (queue.size >= discoveredPathsMaxSize) {
    var first = queue.values().next().value;
    queue["delete"](first);
  }
  queue.add(path);
}
function debounce(callback, wait) {
  var timeoutId;
  return function () {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    window.clearTimeout(timeoutId);
    timeoutId = window.setTimeout(function () {
      return callback.apply(void 0, args);
    }, wait);
  };
}

// lib/dom/ssr/components.tsx
function useDataRouterContext2() {
  var context = React9.useContext(DataRouterContext);
  invariant2(context, "You must render this element inside a <DataRouterContext.Provider> element");
  return context;
}
function useDataRouterStateContext() {
  var context = React9.useContext(DataRouterStateContext);
  invariant2(context, "You must render this element inside a <DataRouterStateContext.Provider> element");
  return context;
}
var FrameworkContext = React9.createContext(void 0);
FrameworkContext.displayName = "FrameworkContext";
function useFrameworkContext() {
  var context = React9.useContext(FrameworkContext);
  invariant2(context, "You must render this element inside a <HydratedRouter> element");
  return context;
}
function usePrefetchBehavior(prefetch, theirElementProps) {
  var frameworkContext = React9.useContext(FrameworkContext);
  var _React9$useState = React9.useState(false),
    _React9$useState2 = (0, _slicedToArray2["default"])(_React9$useState, 2),
    maybePrefetch = _React9$useState2[0],
    setMaybePrefetch = _React9$useState2[1];
  var _React9$useState3 = React9.useState(false),
    _React9$useState4 = (0, _slicedToArray2["default"])(_React9$useState3, 2),
    shouldPrefetch = _React9$useState4[0],
    setShouldPrefetch = _React9$useState4[1];
  var onFocus = theirElementProps.onFocus,
    onBlur = theirElementProps.onBlur,
    onMouseEnter = theirElementProps.onMouseEnter,
    onMouseLeave = theirElementProps.onMouseLeave,
    onTouchStart = theirElementProps.onTouchStart;
  var ref = React9.useRef(null);
  React9.useEffect(function () {
    if (prefetch === "render") {
      setShouldPrefetch(true);
    }
    if (prefetch === "viewport") {
      var callback = function callback(entries) {
        entries.forEach(function (entry) {
          setShouldPrefetch(entry.isIntersecting);
        });
      };
      var observer = new IntersectionObserver(callback, {
        threshold: 0.5
      });
      if (ref.current) observer.observe(ref.current);
      return function () {
        observer.disconnect();
      };
    }
  }, [prefetch]);
  React9.useEffect(function () {
    if (maybePrefetch) {
      var id = setTimeout(function () {
        setShouldPrefetch(true);
      }, 100);
      return function () {
        clearTimeout(id);
      };
    }
  }, [maybePrefetch]);
  var setIntent = function setIntent() {
    setMaybePrefetch(true);
  };
  var cancelIntent = function cancelIntent() {
    setMaybePrefetch(false);
    setShouldPrefetch(false);
  };
  if (!frameworkContext) {
    return [false, ref, {}];
  }
  if (prefetch !== "intent") {
    return [shouldPrefetch, ref, {}];
  }
  return [shouldPrefetch, ref, {
    onFocus: composeEventHandlers(onFocus, setIntent),
    onBlur: composeEventHandlers(onBlur, cancelIntent),
    onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),
    onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),
    onTouchStart: composeEventHandlers(onTouchStart, setIntent)
  }];
}
function composeEventHandlers(theirHandler, ourHandler) {
  return function (event) {
    theirHandler && theirHandler(event);
    if (!event.defaultPrevented) {
      ourHandler(event);
    }
  };
}
function getActiveMatches(matches, errors, isSpaMode) {
  if (isSpaMode && !isHydrated) {
    return [matches[0]];
  }
  if (errors) {
    var errorIdx = matches.findIndex(function (m) {
      return errors[m.route.id] !== void 0;
    });
    return matches.slice(0, errorIdx + 1);
  }
  return matches;
}
function _Links() {
  var _useFrameworkContext2 = useFrameworkContext(),
    isSpaMode = _useFrameworkContext2.isSpaMode,
    manifest = _useFrameworkContext2.manifest,
    routeModules = _useFrameworkContext2.routeModules,
    criticalCss = _useFrameworkContext2.criticalCss;
  var _useDataRouterStateCo = useDataRouterStateContext(),
    errors = _useDataRouterStateCo.errors,
    routerMatches = _useDataRouterStateCo.matches;
  var matches = getActiveMatches(routerMatches, errors, isSpaMode);
  var keyedLinks = React9.useMemo(function () {
    return getKeyedLinksForMatches(matches, routeModules, manifest);
  }, [matches, routeModules, manifest]);
  return /* @__PURE__ */React9.createElement(React9.Fragment, null, typeof criticalCss === "string" ? /* @__PURE__ */React9.createElement("style", {
    dangerouslySetInnerHTML: {
      __html: criticalCss
    }
  }) : null, (0, _typeof2["default"])(criticalCss) === "object" ? /* @__PURE__ */React9.createElement("link", {
    rel: "stylesheet",
    href: criticalCss.href
  }) : null, keyedLinks.map(function (_ref77) {
    var key = _ref77.key,
      link = _ref77.link;
    return isPageLinkDescriptor(link) ? /* @__PURE__ */React9.createElement(_PrefetchPageLinks, _objectSpread({
      key: key
    }, link)) : /* @__PURE__ */React9.createElement("link", _objectSpread({
      key: key
    }, link));
  }));
}
function _PrefetchPageLinks(_ref78) {
  var page = _ref78.page,
    dataLinkProps = (0, _objectWithoutProperties2["default"])(_ref78, _excluded2);
  var _useDataRouterContext3 = useDataRouterContext2(),
    router = _useDataRouterContext3.router;
  var matches = React9.useMemo(function () {
    return _matchRoutes(router.routes, page, router.basename);
  }, [router.routes, page, router.basename]);
  if (!matches) {
    return null;
  }
  return /* @__PURE__ */React9.createElement(PrefetchPageLinksImpl, _objectSpread({
    page: page,
    matches: matches
  }, dataLinkProps));
}
function useKeyedPrefetchLinks(matches) {
  var _useFrameworkContext3 = useFrameworkContext(),
    manifest = _useFrameworkContext3.manifest,
    routeModules = _useFrameworkContext3.routeModules;
  var _React9$useState5 = React9.useState([]),
    _React9$useState6 = (0, _slicedToArray2["default"])(_React9$useState5, 2),
    keyedPrefetchLinks = _React9$useState6[0],
    setKeyedPrefetchLinks = _React9$useState6[1];
  React9.useEffect(function () {
    var interrupted = false;
    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(function (links) {
      if (!interrupted) {
        setKeyedPrefetchLinks(links);
      }
    });
    return function () {
      interrupted = true;
    };
  }, [matches, manifest, routeModules]);
  return keyedPrefetchLinks;
}
function PrefetchPageLinksImpl(_ref79) {
  var page = _ref79.page,
    nextMatches = _ref79.matches,
    linkProps = (0, _objectWithoutProperties2["default"])(_ref79, _excluded3);
  var location = _useLocation();
  var _useFrameworkContext4 = useFrameworkContext(),
    manifest = _useFrameworkContext4.manifest,
    routeModules = _useFrameworkContext4.routeModules;
  var _useDataRouterContext4 = useDataRouterContext2(),
    basename = _useDataRouterContext4.basename;
  var _useDataRouterStateCo2 = useDataRouterStateContext(),
    loaderData = _useDataRouterStateCo2.loaderData,
    matches = _useDataRouterStateCo2.matches;
  var newMatchesForData = React9.useMemo(function () {
    return getNewMatchesForLinks(page, nextMatches, matches, manifest, location, "data");
  }, [page, nextMatches, matches, manifest, location]);
  var newMatchesForAssets = React9.useMemo(function () {
    return getNewMatchesForLinks(page, nextMatches, matches, manifest, location, "assets");
  }, [page, nextMatches, matches, manifest, location]);
  var dataHrefs = React9.useMemo(function () {
    if (page === location.pathname + location.search + location.hash) {
      return [];
    }
    var routesParams = /* @__PURE__ */new Set();
    var foundOptOutRoute = false;
    nextMatches.forEach(function (m) {
      var _routeModules$m$route;
      var manifestRoute = manifest.routes[m.route.id];
      if (!manifestRoute || !manifestRoute.hasLoader) {
        return;
      }
      if (!newMatchesForData.some(function (m2) {
        return m2.route.id === m.route.id;
      }) && m.route.id in loaderData && (_routeModules$m$route = routeModules[m.route.id]) !== null && _routeModules$m$route !== void 0 && _routeModules$m$route.shouldRevalidate) {
        foundOptOutRoute = true;
      } else if (manifestRoute.hasClientLoader) {
        foundOptOutRoute = true;
      } else {
        routesParams.add(m.route.id);
      }
    });
    if (routesParams.size === 0) {
      return [];
    }
    var url = singleFetchUrl(page, basename);
    if (foundOptOutRoute && routesParams.size > 0) {
      url.searchParams.set("_routes", nextMatches.filter(function (m) {
        return routesParams.has(m.route.id);
      }).map(function (m) {
        return m.route.id;
      }).join(","));
    }
    return [url.pathname + url.search];
  }, [basename, loaderData, location, manifest, newMatchesForData, nextMatches, page, routeModules]);
  var moduleHrefs = React9.useMemo(function () {
    return getModuleLinkHrefs(newMatchesForAssets, manifest);
  }, [newMatchesForAssets, manifest]);
  var keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);
  return /* @__PURE__ */React9.createElement(React9.Fragment, null, dataHrefs.map(function (href2) {
    return /* @__PURE__ */React9.createElement("link", _objectSpread({
      key: href2,
      rel: "prefetch",
      as: "fetch",
      href: href2
    }, linkProps));
  }), moduleHrefs.map(function (href2) {
    return /* @__PURE__ */React9.createElement("link", _objectSpread({
      key: href2,
      rel: "modulepreload",
      href: href2
    }, linkProps));
  }), keyedPrefetchLinks.map(function (_ref80) {
    var key = _ref80.key,
      link = _ref80.link;
    return (
      // these don't spread `linkProps` because they are full link descriptors
      // already with their own props
      /* @__PURE__ */
      React9.createElement("link", _objectSpread({
        key: key
      }, link))
    );
  }));
}
function _Meta() {
  var _useFrameworkContext5 = useFrameworkContext(),
    isSpaMode = _useFrameworkContext5.isSpaMode,
    routeModules = _useFrameworkContext5.routeModules;
  var _useDataRouterStateCo3 = useDataRouterStateContext(),
    errors = _useDataRouterStateCo3.errors,
    routerMatches = _useDataRouterStateCo3.matches,
    loaderData = _useDataRouterStateCo3.loaderData;
  var location = _useLocation();
  var _matches = getActiveMatches(routerMatches, errors, isSpaMode);
  var error = null;
  if (errors) {
    error = errors[_matches[_matches.length - 1].route.id];
  }
  var meta = [];
  var leafMeta = null;
  var matches = [];
  for (var i = 0; i < _matches.length; i++) {
    var _match = _matches[i];
    var routeId = _match.route.id;
    var data2 = loaderData[routeId];
    var params = _match.params;
    var routeModule = routeModules[routeId];
    var routeMeta = [];
    var match = {
      id: routeId,
      data: data2,
      meta: [],
      params: _match.params,
      pathname: _match.pathname,
      handle: _match.route.handle,
      error: error
    };
    matches[i] = match;
    if (routeModule !== null && routeModule !== void 0 && routeModule.meta) {
      routeMeta = typeof routeModule.meta === "function" ? routeModule.meta({
        data: data2,
        params: params,
        location: location,
        matches: matches,
        error: error
      }) : Array.isArray(routeModule.meta) ? (0, _toConsumableArray2["default"])(routeModule.meta) : routeModule.meta;
    } else if (leafMeta) {
      routeMeta = (0, _toConsumableArray2["default"])(leafMeta);
    }
    routeMeta = routeMeta || [];
    if (!Array.isArray(routeMeta)) {
      throw new Error("The route at " + _match.route.path + " returns an invalid value. All route meta functions must return an array of meta objects.\n\nTo reference the meta function API, see https://remix.run/route/meta");
    }
    match.meta = routeMeta;
    matches[i] = match;
    meta = (0, _toConsumableArray2["default"])(routeMeta);
    leafMeta = meta;
  }
  return /* @__PURE__ */React9.createElement(React9.Fragment, null, meta.flat().map(function (metaProps) {
    if (!metaProps) {
      return null;
    }
    if ("tagName" in metaProps) {
      var tagName = metaProps.tagName,
        rest = (0, _objectWithoutProperties2["default"])(metaProps, _excluded4);
      if (!isValidMetaTag(tagName)) {
        console.warn("A meta object uses an invalid tagName: ".concat(tagName, ". Expected either 'link' or 'meta'"));
        return null;
      }
      var Comp = tagName;
      return /* @__PURE__ */React9.createElement(Comp, _objectSpread({
        key: JSON.stringify(rest)
      }, rest));
    }
    if ("title" in metaProps) {
      return /* @__PURE__ */React9.createElement("title", {
        key: "title"
      }, String(metaProps.title));
    }
    if ("charset" in metaProps) {
      var _metaProps$charSet;
      (_metaProps$charSet = metaProps.charSet) !== null && _metaProps$charSet !== void 0 ? _metaProps$charSet : metaProps.charSet = metaProps.charset;
      delete metaProps.charset;
    }
    if ("charSet" in metaProps && metaProps.charSet != null) {
      return typeof metaProps.charSet === "string" ? /* @__PURE__ */React9.createElement("meta", {
        key: "charSet",
        charSet: metaProps.charSet
      }) : null;
    }
    if ("script:ld+json" in metaProps) {
      try {
        var json = JSON.stringify(metaProps["script:ld+json"]);
        return /* @__PURE__ */React9.createElement("script", {
          key: "script:ld+json:".concat(json),
          type: "application/ld+json",
          dangerouslySetInnerHTML: {
            __html: json
          }
        });
      } catch (err) {
        return null;
      }
    }
    return /* @__PURE__ */React9.createElement("meta", _objectSpread({
      key: JSON.stringify(metaProps)
    }, metaProps));
  }));
}
function isValidMetaTag(tagName) {
  return typeof tagName === "string" && /^(meta|link)$/.test(tagName);
}
var isHydrated = false;
function _Scripts(props) {
  var _useFrameworkContext6 = useFrameworkContext(),
    manifest = _useFrameworkContext6.manifest,
    serverHandoffString = _useFrameworkContext6.serverHandoffString,
    isSpaMode = _useFrameworkContext6.isSpaMode,
    renderMeta = _useFrameworkContext6.renderMeta,
    routeDiscovery = _useFrameworkContext6.routeDiscovery,
    ssr = _useFrameworkContext6.ssr;
  var _useDataRouterContext5 = useDataRouterContext2(),
    router = _useDataRouterContext5.router,
    isStatic = _useDataRouterContext5["static"],
    staticContext = _useDataRouterContext5.staticContext;
  var _useDataRouterStateCo4 = useDataRouterStateContext(),
    routerMatches = _useDataRouterStateCo4.matches;
  var enableFogOfWar = isFogOfWarEnabled(routeDiscovery, ssr);
  if (renderMeta) {
    renderMeta.didRenderScripts = true;
  }
  var matches = getActiveMatches(routerMatches, null, isSpaMode);
  React9.useEffect(function () {
    isHydrated = true;
  }, []);
  var initialScripts = React9.useMemo(function () {
    var _manifest$hmr;
    var streamScript = "window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());";
    var contextScript = staticContext ? "window.__reactRouterContext = ".concat(serverHandoffString, ";").concat(streamScript) : " ";
    var routeModulesScript = !isStatic ? " " : "".concat((_manifest$hmr = manifest.hmr) !== null && _manifest$hmr !== void 0 && _manifest$hmr.runtime ? "import ".concat(JSON.stringify(manifest.hmr.runtime), ";") : "").concat(!enableFogOfWar ? "import ".concat(JSON.stringify(manifest.url)) : "", ";\n").concat(matches.map(function (match, routeIndex) {
      var routeVarName = "route".concat(routeIndex);
      var manifestEntry = manifest.routes[match.route.id];
      invariant2(manifestEntry, "Route ".concat(match.route.id, " not found in manifest"));
      var clientActionModule = manifestEntry.clientActionModule,
        clientLoaderModule = manifestEntry.clientLoaderModule,
        clientMiddlewareModule = manifestEntry.clientMiddlewareModule,
        hydrateFallbackModule = manifestEntry.hydrateFallbackModule,
        module2 = manifestEntry.module;
      var chunks = [].concat((0, _toConsumableArray2["default"])(clientActionModule ? [{
        module: clientActionModule,
        varName: "".concat(routeVarName, "_clientAction")
      }] : []), (0, _toConsumableArray2["default"])(clientLoaderModule ? [{
        module: clientLoaderModule,
        varName: "".concat(routeVarName, "_clientLoader")
      }] : []), (0, _toConsumableArray2["default"])(clientMiddlewareModule ? [{
        module: clientMiddlewareModule,
        varName: "".concat(routeVarName, "_clientMiddleware")
      }] : []), (0, _toConsumableArray2["default"])(hydrateFallbackModule ? [{
        module: hydrateFallbackModule,
        varName: "".concat(routeVarName, "_HydrateFallback")
      }] : []), [{
        module: module2,
        varName: "".concat(routeVarName, "_main")
      }]);
      if (chunks.length === 1) {
        return "import * as ".concat(routeVarName, " from ").concat(JSON.stringify(module2), ";");
      }
      var chunkImportsSnippet = chunks.map(function (chunk) {
        return "import * as ".concat(chunk.varName, " from \"").concat(chunk.module, "\";");
      }).join("\n");
      var mergedChunksSnippet = "const ".concat(routeVarName, " = {").concat(chunks.map(function (chunk) {
        return "...".concat(chunk.varName);
      }).join(","), "};");
      return [chunkImportsSnippet, mergedChunksSnippet].join("\n");
    }).join("\n"), "\n  ").concat(enableFogOfWar ? // Inline a minimal manifest with the SSR matches
    "window.__reactRouterManifest = ".concat(JSON.stringify(getPartialManifest(manifest, router), null, 2), ";") : "", "\n  window.__reactRouterRouteModules = {").concat(matches.map(function (match, index) {
      return "".concat(JSON.stringify(match.route.id), ":route").concat(index);
    }).join(","), "};\n\nimport(").concat(JSON.stringify(manifest.entry.module), ");");
    return /* @__PURE__ */React9.createElement(React9.Fragment, null, /* @__PURE__ */React9.createElement("script", _objectSpread(_objectSpread({}, props), {}, {
      suppressHydrationWarning: true,
      dangerouslySetInnerHTML: createHtml(contextScript),
      type: void 0
    })), /* @__PURE__ */React9.createElement("script", _objectSpread(_objectSpread({}, props), {}, {
      suppressHydrationWarning: true,
      dangerouslySetInnerHTML: createHtml(routeModulesScript),
      type: "module",
      async: true
    })));
  }, []);
  var preloads = isHydrated ? [] : dedupe(manifest.entry.imports.concat(getModuleLinkHrefs(matches, manifest, {
    includeHydrateFallback: true
  })));
  var sri = (0, _typeof2["default"])(manifest.sri) === "object" ? manifest.sri : {};
  return isHydrated ? null : /* @__PURE__ */React9.createElement(React9.Fragment, null, (0, _typeof2["default"])(manifest.sri) === "object" ? /* @__PURE__ */React9.createElement("script", {
    "rr-importmap": "",
    type: "importmap",
    suppressHydrationWarning: true,
    dangerouslySetInnerHTML: {
      __html: JSON.stringify({
        integrity: sri
      })
    }
  }) : null, !enableFogOfWar ? /* @__PURE__ */React9.createElement("link", {
    rel: "modulepreload",
    href: manifest.url,
    crossOrigin: props.crossOrigin,
    integrity: sri[manifest.url],
    suppressHydrationWarning: true
  }) : null, /* @__PURE__ */React9.createElement("link", {
    rel: "modulepreload",
    href: manifest.entry.module,
    crossOrigin: props.crossOrigin,
    integrity: sri[manifest.entry.module],
    suppressHydrationWarning: true
  }), preloads.map(function (path) {
    return /* @__PURE__ */React9.createElement("link", {
      key: path,
      rel: "modulepreload",
      href: path,
      crossOrigin: props.crossOrigin,
      integrity: sri[path],
      suppressHydrationWarning: true
    });
  }), initialScripts);
}
function dedupe(array) {
  return (0, _toConsumableArray2["default"])(new Set(array));
}
function mergeRefs() {
  for (var _len3 = arguments.length, refs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    refs[_key3] = arguments[_key3];
  }
  return function (value) {
    refs.forEach(function (ref) {
      if (typeof ref === "function") {
        ref(value);
      } else if (ref != null) {
        ref.current = value;
      }
    });
  };
}

// lib/dom/lib.tsx
var isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined";
try {
  if (isBrowser) {
    window.__reactRouterVersion = "7.6.3";
  }
} catch (e) {}
function _createBrowserRouter(routes, opts) {
  return createRouter({
    basename: opts === null || opts === void 0 ? void 0 : opts.basename,
    unstable_getContext: opts === null || opts === void 0 ? void 0 : opts.unstable_getContext,
    future: opts === null || opts === void 0 ? void 0 : opts.future,
    history: createBrowserHistory({
      window: opts === null || opts === void 0 ? void 0 : opts.window
    }),
    hydrationData: (opts === null || opts === void 0 ? void 0 : opts.hydrationData) || parseHydrationData(),
    routes: routes,
    mapRouteProperties: mapRouteProperties,
    hydrationRouteProperties: hydrationRouteProperties,
    dataStrategy: opts === null || opts === void 0 ? void 0 : opts.dataStrategy,
    patchRoutesOnNavigation: opts === null || opts === void 0 ? void 0 : opts.patchRoutesOnNavigation,
    window: opts === null || opts === void 0 ? void 0 : opts.window
  }).initialize();
}
function _createHashRouter(routes, opts) {
  return createRouter({
    basename: opts === null || opts === void 0 ? void 0 : opts.basename,
    unstable_getContext: opts === null || opts === void 0 ? void 0 : opts.unstable_getContext,
    future: opts === null || opts === void 0 ? void 0 : opts.future,
    history: createHashHistory({
      window: opts === null || opts === void 0 ? void 0 : opts.window
    }),
    hydrationData: (opts === null || opts === void 0 ? void 0 : opts.hydrationData) || parseHydrationData(),
    routes: routes,
    mapRouteProperties: mapRouteProperties,
    hydrationRouteProperties: hydrationRouteProperties,
    dataStrategy: opts === null || opts === void 0 ? void 0 : opts.dataStrategy,
    patchRoutesOnNavigation: opts === null || opts === void 0 ? void 0 : opts.patchRoutesOnNavigation,
    window: opts === null || opts === void 0 ? void 0 : opts.window
  }).initialize();
}
function parseHydrationData() {
  var _window2;
  var state = (_window2 = window) === null || _window2 === void 0 ? void 0 : _window2.__staticRouterHydrationData;
  if (state && state.errors) {
    state = _objectSpread(_objectSpread({}, state), {}, {
      errors: deserializeErrors(state.errors)
    });
  }
  return state;
}
function deserializeErrors(errors) {
  if (!errors) return null;
  var entries = Object.entries(errors);
  var serialized = {};
  for (var _i9 = 0, _entries2 = entries; _i9 < _entries2.length; _i9++) {
    var _entries2$_i = (0, _slicedToArray2["default"])(_entries2[_i9], 2),
      key = _entries2$_i[0],
      val = _entries2$_i[1];
    if (val && val.__type === "RouteErrorResponse") {
      serialized[key] = new ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);
    } else if (val && val.__type === "Error") {
      if (val.__subType) {
        var ErrorConstructor = window[val.__subType];
        if (typeof ErrorConstructor === "function") {
          try {
            var error = new ErrorConstructor(val.message);
            error.stack = "";
            serialized[key] = error;
          } catch (e) {}
        }
      }
      if (serialized[key] == null) {
        var _error6 = new Error(val.message);
        _error6.stack = "";
        serialized[key] = _error6;
      }
    } else {
      serialized[key] = val;
    }
  }
  return serialized;
}
function _BrowserRouter(_ref81) {
  var basename = _ref81.basename,
    children = _ref81.children,
    window2 = _ref81.window;
  var historyRef = React10.useRef();
  if (historyRef.current == null) {
    historyRef.current = createBrowserHistory({
      window: window2,
      v5Compat: true
    });
  }
  var history = historyRef.current;
  var _React10$useState = React10.useState({
      action: history.action,
      location: history.location
    }),
    _React10$useState2 = (0, _slicedToArray2["default"])(_React10$useState, 2),
    state = _React10$useState2[0],
    setStateImpl = _React10$useState2[1];
  var setState = React10.useCallback(function (newState) {
    React10.startTransition(function () {
      return setStateImpl(newState);
    });
  }, [setStateImpl]);
  React10.useLayoutEffect(function () {
    return history.listen(setState);
  }, [history, setState]);
  return /* @__PURE__ */React10.createElement(_Router, {
    basename: basename,
    children: children,
    location: state.location,
    navigationType: state.action,
    navigator: history
  });
}
function _HashRouter(_ref82) {
  var basename = _ref82.basename,
    children = _ref82.children,
    window2 = _ref82.window;
  var historyRef = React10.useRef();
  if (historyRef.current == null) {
    historyRef.current = createHashHistory({
      window: window2,
      v5Compat: true
    });
  }
  var history = historyRef.current;
  var _React10$useState3 = React10.useState({
      action: history.action,
      location: history.location
    }),
    _React10$useState4 = (0, _slicedToArray2["default"])(_React10$useState3, 2),
    state = _React10$useState4[0],
    setStateImpl = _React10$useState4[1];
  var setState = React10.useCallback(function (newState) {
    React10.startTransition(function () {
      return setStateImpl(newState);
    });
  }, [setStateImpl]);
  React10.useLayoutEffect(function () {
    return history.listen(setState);
  }, [history, setState]);
  return /* @__PURE__ */React10.createElement(_Router, {
    basename: basename,
    children: children,
    location: state.location,
    navigationType: state.action,
    navigator: history
  });
}
function HistoryRouter(_ref83) {
  var basename = _ref83.basename,
    children = _ref83.children,
    history = _ref83.history;
  var _React10$useState5 = React10.useState({
      action: history.action,
      location: history.location
    }),
    _React10$useState6 = (0, _slicedToArray2["default"])(_React10$useState5, 2),
    state = _React10$useState6[0],
    setStateImpl = _React10$useState6[1];
  var setState = React10.useCallback(function (newState) {
    React10.startTransition(function () {
      return setStateImpl(newState);
    });
  }, [setStateImpl]);
  React10.useLayoutEffect(function () {
    return history.listen(setState);
  }, [history, setState]);
  return /* @__PURE__ */React10.createElement(_Router, {
    basename: basename,
    children: children,
    location: state.location,
    navigationType: state.action,
    navigator: history
  });
}
HistoryRouter.displayName = "unstable_HistoryRouter";
var ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var _Link = React10.forwardRef(function LinkWithRef(_ref84, forwardedRef) {
  var onClick = _ref84.onClick,
    _ref84$discover = _ref84.discover,
    discover = _ref84$discover === void 0 ? "render" : _ref84$discover,
    _ref84$prefetch = _ref84.prefetch,
    prefetch = _ref84$prefetch === void 0 ? "none" : _ref84$prefetch,
    relative = _ref84.relative,
    reloadDocument = _ref84.reloadDocument,
    replace2 = _ref84.replace,
    state = _ref84.state,
    target = _ref84.target,
    to = _ref84.to,
    preventScrollReset = _ref84.preventScrollReset,
    viewTransition = _ref84.viewTransition,
    rest = (0, _objectWithoutProperties2["default"])(_ref84, _excluded5);
  var _React10$useContext = React10.useContext(NavigationContext),
    basename = _React10$useContext.basename;
  var isAbsolute = typeof to === "string" && ABSOLUTE_URL_REGEX2.test(to);
  var absoluteHref;
  var isExternal = false;
  if (typeof to === "string" && isAbsolute) {
    absoluteHref = to;
    if (isBrowser) {
      try {
        var currentUrl = new URL(window.location.href);
        var targetUrl = to.startsWith("//") ? new URL(currentUrl.protocol + to) : new URL(to);
        var path = stripBasename(targetUrl.pathname, basename);
        if (targetUrl.origin === currentUrl.origin && path != null) {
          to = path + targetUrl.search + targetUrl.hash;
        } else {
          isExternal = true;
        }
      } catch (e) {
        warning(false, "<Link to=\"".concat(to, "\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path."));
      }
    }
  }
  var href2 = _useHref(to, {
    relative: relative
  });
  var _usePrefetchBehavior = usePrefetchBehavior(prefetch, rest),
    _usePrefetchBehavior2 = (0, _slicedToArray2["default"])(_usePrefetchBehavior, 3),
    shouldPrefetch = _usePrefetchBehavior2[0],
    prefetchRef = _usePrefetchBehavior2[1],
    prefetchHandlers = _usePrefetchBehavior2[2];
  var internalOnClick = _useLinkClickHandler(to, {
    replace: replace2,
    state: state,
    target: target,
    preventScrollReset: preventScrollReset,
    relative: relative,
    viewTransition: viewTransition
  });
  function handleClick(event) {
    if (onClick) onClick(event);
    if (!event.defaultPrevented) {
      internalOnClick(event);
    }
  }
  var link =
  // eslint-disable-next-line jsx-a11y/anchor-has-content
  /* @__PURE__ */
  React10.createElement("a", _objectSpread(_objectSpread(_objectSpread({}, rest), prefetchHandlers), {}, {
    href: absoluteHref || href2,
    onClick: isExternal || reloadDocument ? onClick : handleClick,
    ref: mergeRefs(forwardedRef, prefetchRef),
    target: target,
    "data-discover": !isAbsolute && discover === "render" ? "true" : void 0
  }));
  return shouldPrefetch && !isAbsolute ? /* @__PURE__ */React10.createElement(React10.Fragment, null, link, /* @__PURE__ */React10.createElement(_PrefetchPageLinks, {
    page: href2
  })) : link;
});
_Link.displayName = "Link";
var _NavLink = React10.forwardRef(function NavLinkWithRef(_ref85, ref) {
  var _ref85$ariaCurrent = _ref85["aria-current"],
    ariaCurrentProp = _ref85$ariaCurrent === void 0 ? "page" : _ref85$ariaCurrent,
    _ref85$caseSensitive = _ref85.caseSensitive,
    caseSensitive = _ref85$caseSensitive === void 0 ? false : _ref85$caseSensitive,
    _ref85$className = _ref85.className,
    classNameProp = _ref85$className === void 0 ? "" : _ref85$className,
    _ref85$end = _ref85.end,
    end = _ref85$end === void 0 ? false : _ref85$end,
    styleProp = _ref85.style,
    to = _ref85.to,
    viewTransition = _ref85.viewTransition,
    children = _ref85.children,
    rest = (0, _objectWithoutProperties2["default"])(_ref85, _excluded6);
  var path = _useResolvedPath(to, {
    relative: rest.relative
  });
  var location = _useLocation();
  var routerState = React10.useContext(DataRouterStateContext);
  var _React10$useContext2 = React10.useContext(NavigationContext),
    navigator = _React10$useContext2.navigator,
    basename = _React10$useContext2.basename;
  var isTransitioning = routerState != null &&
  // Conditional usage is OK here because the usage of a data router is static
  // eslint-disable-next-line react-hooks/rules-of-hooks
  _useViewTransitionState(path) && viewTransition === true;
  var toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;
  var locationPathname = location.pathname;
  var nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;
  if (!caseSensitive) {
    locationPathname = locationPathname.toLowerCase();
    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;
    toPathname = toPathname.toLowerCase();
  }
  if (nextLocationPathname && basename) {
    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;
  }
  var endSlashPosition = toPathname !== "/" && toPathname.endsWith("/") ? toPathname.length - 1 : toPathname.length;
  var isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === "/";
  var isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === "/");
  var renderProps = {
    isActive: isActive,
    isPending: isPending,
    isTransitioning: isTransitioning
  };
  var ariaCurrent = isActive ? ariaCurrentProp : void 0;
  var className;
  if (typeof classNameProp === "function") {
    className = classNameProp(renderProps);
  } else {
    className = [classNameProp, isActive ? "active" : null, isPending ? "pending" : null, isTransitioning ? "transitioning" : null].filter(Boolean).join(" ");
  }
  var style = typeof styleProp === "function" ? styleProp(renderProps) : styleProp;
  return /* @__PURE__ */React10.createElement(_Link, _objectSpread(_objectSpread({}, rest), {}, {
    "aria-current": ariaCurrent,
    className: className,
    ref: ref,
    style: style,
    to: to,
    viewTransition: viewTransition
  }), typeof children === "function" ? children(renderProps) : children);
});
_NavLink.displayName = "NavLink";
var _Form = React10.forwardRef(function (_ref86, forwardedRef) {
  var _ref86$discover = _ref86.discover,
    discover = _ref86$discover === void 0 ? "render" : _ref86$discover,
    fetcherKey = _ref86.fetcherKey,
    navigate = _ref86.navigate,
    reloadDocument = _ref86.reloadDocument,
    replace2 = _ref86.replace,
    state = _ref86.state,
    _ref86$method = _ref86.method,
    method = _ref86$method === void 0 ? defaultMethod : _ref86$method,
    action = _ref86.action,
    onSubmit = _ref86.onSubmit,
    relative = _ref86.relative,
    preventScrollReset = _ref86.preventScrollReset,
    viewTransition = _ref86.viewTransition,
    props = (0, _objectWithoutProperties2["default"])(_ref86, _excluded7);
  var submit = _useSubmit();
  var formAction = _useFormAction(action, {
    relative: relative
  });
  var formMethod = method.toLowerCase() === "get" ? "get" : "post";
  var isAbsolute = typeof action === "string" && ABSOLUTE_URL_REGEX2.test(action);
  var submitHandler = function submitHandler(event) {
    onSubmit && onSubmit(event);
    if (event.defaultPrevented) return;
    event.preventDefault();
    var submitter = event.nativeEvent.submitter;
    var submitMethod = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute("formmethod")) || method;
    submit(submitter || event.currentTarget, {
      fetcherKey: fetcherKey,
      method: submitMethod,
      navigate: navigate,
      replace: replace2,
      state: state,
      relative: relative,
      preventScrollReset: preventScrollReset,
      viewTransition: viewTransition
    });
  };
  return /* @__PURE__ */React10.createElement("form", _objectSpread(_objectSpread({
    ref: forwardedRef,
    method: formMethod,
    action: formAction,
    onSubmit: reloadDocument ? onSubmit : submitHandler
  }, props), {}, {
    "data-discover": !isAbsolute && discover === "render" ? "true" : void 0
  }));
});
_Form.displayName = "Form";
function _ScrollRestoration(_ref87) {
  var getKey = _ref87.getKey,
    storageKey = _ref87.storageKey,
    props = (0, _objectWithoutProperties2["default"])(_ref87, _excluded8);
  var remixContext = React10.useContext(FrameworkContext);
  var _React10$useContext3 = React10.useContext(NavigationContext),
    basename = _React10$useContext3.basename;
  var location = _useLocation();
  var matches = _useMatches();
  useScrollRestoration({
    getKey: getKey,
    storageKey: storageKey
  });
  var ssrKey = React10.useMemo(function () {
    if (!remixContext || !getKey) return null;
    var userKey = getScrollRestorationKey(location, matches, basename, getKey);
    return userKey !== location.key ? userKey : null;
  },
  // Nah, we only need this the first time for the SSR render
  // eslint-disable-next-line react-hooks/exhaustive-deps
  []);
  if (!remixContext || remixContext.isSpaMode) {
    return null;
  }
  var restoreScroll = function (storageKey2, restoreKey) {
    if (!window.history.state || !window.history.state.key) {
      var key = Math.random().toString(32).slice(2);
      window.history.replaceState({
        key: key
      }, "");
    }
    try {
      var positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      var storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  }.toString();
  return /* @__PURE__ */React10.createElement("script", _objectSpread(_objectSpread({}, props), {}, {
    suppressHydrationWarning: true,
    dangerouslySetInnerHTML: {
      __html: "(".concat(restoreScroll, ")(").concat(JSON.stringify(storageKey || SCROLL_RESTORATION_STORAGE_KEY), ", ").concat(JSON.stringify(ssrKey), ")")
    }
  }));
}
_ScrollRestoration.displayName = "ScrollRestoration";
function getDataRouterConsoleError2(hookName) {
  return "".concat(hookName, " must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.");
}
function useDataRouterContext3(hookName) {
  var ctx = React10.useContext(DataRouterContext);
  invariant(ctx, getDataRouterConsoleError2(hookName));
  return ctx;
}
function useDataRouterState2(hookName) {
  var state = React10.useContext(DataRouterStateContext);
  invariant(state, getDataRouterConsoleError2(hookName));
  return state;
}
function _useLinkClickHandler(to) {
  var _ref88 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    target = _ref88.target,
    replaceProp = _ref88.replace,
    state = _ref88.state,
    preventScrollReset = _ref88.preventScrollReset,
    relative = _ref88.relative,
    viewTransition = _ref88.viewTransition;
  var navigate = _useNavigate();
  var location = _useLocation();
  var path = _useResolvedPath(to, {
    relative: relative
  });
  return React10.useCallback(function (event) {
    if (shouldProcessLinkClick(event, target)) {
      event.preventDefault();
      var replace2 = replaceProp !== void 0 ? replaceProp : _createPath(location) === _createPath(path);
      navigate(to, {
        replace: replace2,
        state: state,
        preventScrollReset: preventScrollReset,
        relative: relative,
        viewTransition: viewTransition
      });
    }
  }, [location, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);
}
function _useSearchParams(defaultInit) {
  warning(typeof URLSearchParams !== "undefined", "You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");
  var defaultSearchParamsRef = React10.useRef(_createSearchParams(defaultInit));
  var hasSetSearchParamsRef = React10.useRef(false);
  var location = _useLocation();
  var searchParams = React10.useMemo(function () {
    return (
      // Only merge in the defaults if we haven't yet called setSearchParams.
      // Once we call that we want those to take precedence, otherwise you can't
      // remove a param with setSearchParams({}) if it has an initial value
      getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current)
    );
  }, [location.search]);
  var navigate = _useNavigate();
  var setSearchParams = React10.useCallback(function (nextInit, navigateOptions) {
    var newSearchParams = _createSearchParams(typeof nextInit === "function" ? nextInit(searchParams) : nextInit);
    hasSetSearchParamsRef.current = true;
    navigate("?" + newSearchParams, navigateOptions);
  }, [navigate, searchParams]);
  return [searchParams, setSearchParams];
}
var fetcherId = 0;
var getUniqueFetcherId = function getUniqueFetcherId() {
  return "__".concat(String(++fetcherId), "__");
};
function _useSubmit() {
  var _useDataRouterContext6 = useDataRouterContext3("useSubmit" /* UseSubmit */),
    router = _useDataRouterContext6.router;
  var _React10$useContext4 = React10.useContext(NavigationContext),
    basename = _React10$useContext4.basename;
  var currentRouteId = useRouteId();
  return React10.useCallback(/*#__PURE__*/function () {
    var _ref89 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee52(target) {
      var options,
        _getFormSubmissionInf,
        action,
        method,
        encType,
        formData,
        body,
        key,
        _args54 = arguments;
      return _regenerator["default"].wrap(function (_context54) {
        while (1) switch (_context54.prev = _context54.next) {
          case 0:
            options = _args54.length > 1 && _args54[1] !== undefined ? _args54[1] : {};
            _getFormSubmissionInf = getFormSubmissionInfo(target, basename), action = _getFormSubmissionInf.action, method = _getFormSubmissionInf.method, encType = _getFormSubmissionInf.encType, formData = _getFormSubmissionInf.formData, body = _getFormSubmissionInf.body;
            if (!(options.navigate === false)) {
              _context54.next = 2;
              break;
            }
            key = options.fetcherKey || getUniqueFetcherId();
            _context54.next = 1;
            return router.fetch(key, currentRouteId, options.action || action, {
              preventScrollReset: options.preventScrollReset,
              formData: formData,
              body: body,
              formMethod: options.method || method,
              formEncType: options.encType || encType,
              flushSync: options.flushSync
            });
          case 1:
            _context54.next = 3;
            break;
          case 2:
            _context54.next = 3;
            return router.navigate(options.action || action, {
              preventScrollReset: options.preventScrollReset,
              formData: formData,
              body: body,
              formMethod: options.method || method,
              formEncType: options.encType || encType,
              replace: options.replace,
              state: options.state,
              fromRouteId: currentRouteId,
              flushSync: options.flushSync,
              viewTransition: options.viewTransition
            });
          case 3:
          case "end":
            return _context54.stop();
        }
      }, _callee52);
    }));
    return function (_x178) {
      return _ref89.apply(this, arguments);
    };
  }(), [router, basename, currentRouteId]);
}
function _useFormAction(action) {
  var _ref90 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    relative = _ref90.relative;
  var _React10$useContext5 = React10.useContext(NavigationContext),
    basename = _React10$useContext5.basename;
  var routeContext = React10.useContext(RouteContext);
  invariant(routeContext, "useFormAction must be used inside a RouteContext");
  var _routeContext$matches = routeContext.matches.slice(-1),
    _routeContext$matches2 = (0, _slicedToArray2["default"])(_routeContext$matches, 1),
    match = _routeContext$matches2[0];
  var path = _objectSpread({}, _useResolvedPath(action ? action : ".", {
    relative: relative
  }));
  var location = _useLocation();
  if (action == null) {
    path.search = location.search;
    var params = new URLSearchParams(path.search);
    var indexValues = params.getAll("index");
    var hasNakedIndexParam = indexValues.some(function (v) {
      return v === "";
    });
    if (hasNakedIndexParam) {
      params["delete"]("index");
      indexValues.filter(function (v) {
        return v;
      }).forEach(function (v) {
        return params.append("index", v);
      });
      var qs = params.toString();
      path.search = qs ? "?".concat(qs) : "";
    }
  }
  if ((!action || action === ".") && match.route.index) {
    path.search = path.search ? path.search.replace(/^\?/, "?index&") : "?index";
  }
  if (basename !== "/") {
    path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
  }
  return _createPath(path);
}
function _useFetcher() {
  var _route$matches;
  var _ref91 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    key = _ref91.key;
  var _useDataRouterContext7 = useDataRouterContext3("useFetcher" /* UseFetcher */),
    router = _useDataRouterContext7.router;
  var state = useDataRouterState2("useFetcher" /* UseFetcher */);
  var fetcherData = React10.useContext(FetchersContext);
  var route = React10.useContext(RouteContext);
  var routeId = (_route$matches = route.matches[route.matches.length - 1]) === null || _route$matches === void 0 ? void 0 : _route$matches.route.id;
  invariant(fetcherData, "useFetcher must be used inside a FetchersContext");
  invariant(route, "useFetcher must be used inside a RouteContext");
  invariant(routeId != null, "useFetcher can only be used on routes that contain a unique \"id\"");
  var defaultKey = React10.useId();
  var _React10$useState7 = React10.useState(key || defaultKey),
    _React10$useState8 = (0, _slicedToArray2["default"])(_React10$useState7, 2),
    fetcherKey = _React10$useState8[0],
    setFetcherKey = _React10$useState8[1];
  if (key && key !== fetcherKey) {
    setFetcherKey(key);
  }
  React10.useEffect(function () {
    router.getFetcher(fetcherKey);
    return function () {
      return router.deleteFetcher(fetcherKey);
    };
  }, [router, fetcherKey]);
  var load = React10.useCallback(/*#__PURE__*/function () {
    var _ref92 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee53(href2, opts) {
      return _regenerator["default"].wrap(function (_context55) {
        while (1) switch (_context55.prev = _context55.next) {
          case 0:
            invariant(routeId, "No routeId available for fetcher.load()");
            _context55.next = 1;
            return router.fetch(fetcherKey, routeId, href2, opts);
          case 1:
          case "end":
            return _context55.stop();
        }
      }, _callee53);
    }));
    return function (_x179, _x180) {
      return _ref92.apply(this, arguments);
    };
  }(), [fetcherKey, routeId, router]);
  var submitImpl = _useSubmit();
  var submit = React10.useCallback(/*#__PURE__*/function () {
    var _ref93 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee54(target, opts) {
      return _regenerator["default"].wrap(function (_context56) {
        while (1) switch (_context56.prev = _context56.next) {
          case 0:
            _context56.next = 1;
            return submitImpl(target, _objectSpread(_objectSpread({}, opts), {}, {
              navigate: false,
              fetcherKey: fetcherKey
            }));
          case 1:
          case "end":
            return _context56.stop();
        }
      }, _callee54);
    }));
    return function (_x181, _x182) {
      return _ref93.apply(this, arguments);
    };
  }(), [fetcherKey, submitImpl]);
  var FetcherForm = React10.useMemo(function () {
    var FetcherForm2 = React10.forwardRef(function (props, ref) {
      return /* @__PURE__ */React10.createElement(_Form, _objectSpread(_objectSpread({}, props), {}, {
        navigate: false,
        fetcherKey: fetcherKey,
        ref: ref
      }));
    });
    FetcherForm2.displayName = "fetcher.Form";
    return FetcherForm2;
  }, [fetcherKey]);
  var fetcher = state.fetchers.get(fetcherKey) || _IDLE_FETCHER;
  var data2 = fetcherData.get(fetcherKey);
  var fetcherWithComponents = React10.useMemo(function () {
    return _objectSpread(_objectSpread({
      Form: FetcherForm,
      submit: submit,
      load: load
    }, fetcher), {}, {
      data: data2
    });
  }, [FetcherForm, submit, load, fetcher, data2]);
  return fetcherWithComponents;
}
function _useFetchers() {
  var state = useDataRouterState2("useFetchers" /* UseFetchers */);
  return Array.from(state.fetchers.entries()).map(function (_ref94) {
    var _ref95 = (0, _slicedToArray2["default"])(_ref94, 2),
      key = _ref95[0],
      fetcher = _ref95[1];
    return _objectSpread(_objectSpread({}, fetcher), {}, {
      key: key
    });
  });
}
var SCROLL_RESTORATION_STORAGE_KEY = "react-router-scroll-positions";
var savedScrollPositions = {};
function getScrollRestorationKey(location, matches, basename, getKey) {
  var key = null;
  if (getKey) {
    if (basename !== "/") {
      key = getKey(_objectSpread(_objectSpread({}, location), {}, {
        pathname: stripBasename(location.pathname, basename) || location.pathname
      }), matches);
    } else {
      key = getKey(location, matches);
    }
  }
  if (key == null) {
    key = location.key;
  }
  return key;
}
function useScrollRestoration() {
  var _ref96 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    getKey = _ref96.getKey,
    storageKey = _ref96.storageKey;
  var _useDataRouterContext8 = useDataRouterContext3("useScrollRestoration" /* UseScrollRestoration */),
    router = _useDataRouterContext8.router;
  var _useDataRouterState2 = useDataRouterState2("useScrollRestoration" /* UseScrollRestoration */),
    restoreScrollPosition = _useDataRouterState2.restoreScrollPosition,
    preventScrollReset = _useDataRouterState2.preventScrollReset;
  var _React10$useContext6 = React10.useContext(NavigationContext),
    basename = _React10$useContext6.basename;
  var location = _useLocation();
  var matches = _useMatches();
  var navigation = _useNavigation();
  React10.useEffect(function () {
    window.history.scrollRestoration = "manual";
    return function () {
      window.history.scrollRestoration = "auto";
    };
  }, []);
  usePageHide(React10.useCallback(function () {
    if (navigation.state === "idle") {
      var key = getScrollRestorationKey(location, matches, basename, getKey);
      savedScrollPositions[key] = window.scrollY;
    }
    try {
      sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));
    } catch (error) {
      warning(false, "Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (".concat(error, ")."));
    }
    window.history.scrollRestoration = "auto";
  }, [navigation.state, getKey, basename, location, matches, storageKey]));
  if (typeof document !== "undefined") {
    React10.useLayoutEffect(function () {
      try {
        var sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);
        if (sessionPositions) {
          savedScrollPositions = JSON.parse(sessionPositions);
        }
      } catch (e) {}
    }, [storageKey]);
    React10.useLayoutEffect(function () {
      var disableScrollRestoration = router === null || router === void 0 ? void 0 : router.enableScrollRestoration(savedScrollPositions, function () {
        return window.scrollY;
      }, getKey ? function (location2, matches2) {
        return getScrollRestorationKey(location2, matches2, basename, getKey);
      } : void 0);
      return function () {
        return disableScrollRestoration && disableScrollRestoration();
      };
    }, [router, basename, getKey]);
    React10.useLayoutEffect(function () {
      if (restoreScrollPosition === false) {
        return;
      }
      if (typeof restoreScrollPosition === "number") {
        window.scrollTo(0, restoreScrollPosition);
        return;
      }
      if (location.hash) {
        var el = document.getElementById(decodeURIComponent(location.hash.slice(1)));
        if (el) {
          el.scrollIntoView();
          return;
        }
      }
      if (preventScrollReset === true) {
        return;
      }
      window.scrollTo(0, 0);
    }, [location, restoreScrollPosition, preventScrollReset]);
  }
}
function _useBeforeUnload(callback, options) {
  var _ref97 = options || {},
    capture = _ref97.capture;
  React10.useEffect(function () {
    var opts = capture != null ? {
      capture: capture
    } : void 0;
    window.addEventListener("beforeunload", callback, opts);
    return function () {
      window.removeEventListener("beforeunload", callback, opts);
    };
  }, [callback, capture]);
}
function usePageHide(callback, options) {
  var _ref98 = options || {},
    capture = _ref98.capture;
  React10.useEffect(function () {
    var opts = capture != null ? {
      capture: capture
    } : void 0;
    window.addEventListener("pagehide", callback, opts);
    return function () {
      window.removeEventListener("pagehide", callback, opts);
    };
  }, [callback, capture]);
}
function usePrompt(_ref99) {
  var when = _ref99.when,
    message = _ref99.message;
  var blocker = _useBlocker(when);
  React10.useEffect(function () {
    if (blocker.state === "blocked") {
      var proceed = window.confirm(message);
      if (proceed) {
        setTimeout(blocker.proceed, 0);
      } else {
        blocker.reset();
      }
    }
  }, [blocker, message]);
  React10.useEffect(function () {
    if (blocker.state === "blocked" && !when) {
      blocker.reset();
    }
  }, [blocker, when]);
}
function _useViewTransitionState(to) {
  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var vtContext = React10.useContext(ViewTransitionContext);
  invariant(vtContext != null, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");
  var _useDataRouterContext9 = useDataRouterContext3("useViewTransitionState" /* useViewTransitionState */),
    basename = _useDataRouterContext9.basename;
  var path = _useResolvedPath(to, {
    relative: opts.relative
  });
  if (!vtContext.isTransitioning) {
    return false;
  }
  var currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;
  var nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;
  return _matchPath(path.pathname, nextPath) != null || _matchPath(path.pathname, currentPath) != null;
}

// lib/dom/server.tsx
var React11 = __toESM(require("react"));
function _StaticRouter(_ref100) {
  var basename = _ref100.basename,
    children = _ref100.children,
    _ref100$location = _ref100.location,
    locationProp = _ref100$location === void 0 ? "/" : _ref100$location;
  if (typeof locationProp === "string") {
    locationProp = _parsePath(locationProp);
  }
  var action = "POP" /* Pop */;
  var location = {
    pathname: locationProp.pathname || "/",
    search: locationProp.search || "",
    hash: locationProp.hash || "",
    state: locationProp.state != null ? locationProp.state : null,
    key: locationProp.key || "default"
  };
  var staticNavigator = getStatelessNavigator();
  return /* @__PURE__ */React11.createElement(_Router, {
    basename: basename,
    children: children,
    location: location,
    navigationType: action,
    navigator: staticNavigator,
    "static": true
  });
}
function _StaticRouterProvider(_ref101) {
  var context = _ref101.context,
    router = _ref101.router,
    _ref101$hydrate = _ref101.hydrate,
    hydrate2 = _ref101$hydrate === void 0 ? true : _ref101$hydrate,
    nonce = _ref101.nonce;
  invariant(router && context, "You must provide `router` and `context` to <StaticRouterProvider>");
  var dataRouterContext = {
    router: router,
    navigator: getStatelessNavigator(),
    "static": true,
    staticContext: context,
    basename: context.basename || "/"
  };
  var fetchersContext = /* @__PURE__ */new Map();
  var hydrateScript = "";
  if (hydrate2 !== false) {
    var data2 = {
      loaderData: context.loaderData,
      actionData: context.actionData,
      errors: serializeErrors(context.errors)
    };
    var json = htmlEscape(JSON.stringify(JSON.stringify(data2)));
    hydrateScript = "window.__staticRouterHydrationData = JSON.parse(".concat(json, ");");
  }
  var state = dataRouterContext.router.state;
  return /* @__PURE__ */React11.createElement(React11.Fragment, null, /* @__PURE__ */React11.createElement(DataRouterContext.Provider, {
    value: dataRouterContext
  }, /* @__PURE__ */React11.createElement(DataRouterStateContext.Provider, {
    value: state
  }, /* @__PURE__ */React11.createElement(FetchersContext.Provider, {
    value: fetchersContext
  }, /* @__PURE__ */React11.createElement(ViewTransitionContext.Provider, {
    value: {
      isTransitioning: false
    }
  }, /* @__PURE__ */React11.createElement(_Router, {
    basename: dataRouterContext.basename,
    location: state.location,
    navigationType: state.historyAction,
    navigator: dataRouterContext.navigator,
    "static": dataRouterContext["static"]
  }, /* @__PURE__ */React11.createElement(DataRoutes2, {
    routes: router.routes,
    future: router.future,
    state: state
  })))))), hydrateScript ? /* @__PURE__ */React11.createElement("script", {
    suppressHydrationWarning: true,
    nonce: nonce,
    dangerouslySetInnerHTML: {
      __html: hydrateScript
    }
  }) : null);
}
function DataRoutes2(_ref102) {
  var routes = _ref102.routes,
    future = _ref102.future,
    state = _ref102.state;
  return useRoutesImpl(routes, void 0, state, future);
}
function serializeErrors(errors) {
  if (!errors) return null;
  var entries = Object.entries(errors);
  var serialized = {};
  for (var _i0 = 0, _entries3 = entries; _i0 < _entries3.length; _i0++) {
    var _entries3$_i = (0, _slicedToArray2["default"])(_entries3[_i0], 2),
      key = _entries3$_i[0],
      val = _entries3$_i[1];
    if (_isRouteErrorResponse(val)) {
      serialized[key] = _objectSpread(_objectSpread({}, val), {}, {
        __type: "RouteErrorResponse"
      });
    } else if (val instanceof Error) {
      serialized[key] = _objectSpread({
        message: val.message,
        __type: "Error"
      }, val.name !== "Error" ? {
        __subType: val.name
      } : {});
    } else {
      serialized[key] = val;
    }
  }
  return serialized;
}
function getStatelessNavigator() {
  return {
    createHref: createHref,
    encodeLocation: encodeLocation,
    push: function push(to) {
      throw new Error("You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a `navigate(".concat(JSON.stringify(to), ")` somewhere in your app."));
    },
    replace: function replace(to) {
      throw new Error("You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a `navigate(".concat(JSON.stringify(to), ", { replace: true })` somewhere in your app."));
    },
    go: function go(delta) {
      throw new Error("You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a `navigate(".concat(delta, ")` somewhere in your app."));
    },
    back: function back() {
      throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.");
    },
    forward: function forward() {
      throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.");
    }
  };
}
function createStaticHandler2(routes, opts) {
  return createStaticHandler(routes, _objectSpread(_objectSpread({}, opts), {}, {
    mapRouteProperties: mapRouteProperties
  }));
}
function _createStaticRouter(routes, context) {
  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var manifest = {};
  var dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties, void 0, manifest);
  var matches = context.matches.map(function (match) {
    var route = manifest[match.route.id] || match.route;
    return _objectSpread(_objectSpread({}, match), {}, {
      route: route
    });
  });
  var msg = function msg(method) {
    return "You cannot use router.".concat(method, "() on the server because it is a stateless environment");
  };
  return {
    get basename() {
      return context.basename;
    },
    get future() {
      return _objectSpread({
        unstable_middleware: false
      }, opts === null || opts === void 0 ? void 0 : opts.future);
    },
    get state() {
      return {
        historyAction: "POP" /* Pop */,
        location: context.location,
        matches: matches,
        loaderData: context.loaderData,
        actionData: context.actionData,
        errors: context.errors,
        initialized: true,
        navigation: _IDLE_NAVIGATION,
        restoreScrollPosition: null,
        preventScrollReset: false,
        revalidation: "idle",
        fetchers: /* @__PURE__ */new Map(),
        blockers: /* @__PURE__ */new Map()
      };
    },
    get routes() {
      return dataRoutes;
    },
    get window() {
      return void 0;
    },
    initialize: function initialize() {
      throw msg("initialize");
    },
    subscribe: function subscribe() {
      throw msg("subscribe");
    },
    enableScrollRestoration: function enableScrollRestoration() {
      throw msg("enableScrollRestoration");
    },
    navigate: function navigate() {
      throw msg("navigate");
    },
    fetch: function fetch() {
      throw msg("fetch");
    },
    revalidate: function revalidate() {
      throw msg("revalidate");
    },
    createHref: createHref,
    encodeLocation: encodeLocation,
    getFetcher: function getFetcher() {
      return _IDLE_FETCHER;
    },
    deleteFetcher: function deleteFetcher() {
      throw msg("deleteFetcher");
    },
    dispose: function dispose() {
      throw msg("dispose");
    },
    getBlocker: function getBlocker() {
      return _IDLE_BLOCKER;
    },
    deleteBlocker: function deleteBlocker() {
      throw msg("deleteBlocker");
    },
    patchRoutes: function patchRoutes() {
      throw msg("patchRoutes");
    },
    _internalFetchControllers: /* @__PURE__ */new Map(),
    _internalSetRoutes: function _internalSetRoutes() {
      throw msg("_internalSetRoutes");
    }
  };
}
function createHref(to) {
  return typeof to === "string" ? to : _createPath(to);
}
function encodeLocation(to) {
  var href2 = typeof to === "string" ? to : _createPath(to);
  href2 = href2.replace(/ $/, "%20");
  var encoded = ABSOLUTE_URL_REGEX3.test(href2) ? new URL(href2) : new URL(href2, "http://localhost");
  return {
    pathname: encoded.pathname,
    search: encoded.search,
    hash: encoded.hash
  };
}
var ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var ESCAPE_LOOKUP2 = {
  "&": "\\u0026",
  ">": "\\u003e",
  "<": "\\u003c",
  "\u2028": "\\u2028",
  "\u2029": "\\u2029"
};
var ESCAPE_REGEX2 = /[&><\u2028\u2029]/g;
function htmlEscape(str) {
  return str.replace(ESCAPE_REGEX2, function (match) {
    return ESCAPE_LOOKUP2[match];
  });
}

// lib/dom/ssr/server.tsx
var React12 = __toESM(require("react"));
function _ServerRouter(_ref103) {
  var context = _ref103.context,
    url = _ref103.url,
    nonce = _ref103.nonce;
  if (typeof url === "string") {
    url = new URL(url);
  }
  var manifest = context.manifest,
    routeModules = context.routeModules,
    criticalCss = context.criticalCss,
    serverHandoffString = context.serverHandoffString;
  var routes = createServerRoutes(manifest.routes, routeModules, context.future, context.isSpaMode);
  context.staticHandlerContext.loaderData = _objectSpread({}, context.staticHandlerContext.loaderData);
  var _iterator21 = _createForOfIteratorHelper(context.staticHandlerContext.matches),
    _step21;
  try {
    for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {
      var match = _step21.value;
      var routeId = match.route.id;
      var route = routeModules[routeId];
      var manifestRoute = context.manifest.routes[routeId];
      if (route && manifestRoute && shouldHydrateRouteLoader(routeId, route.clientLoader, manifestRoute.hasLoader, context.isSpaMode) && (route.HydrateFallback || !manifestRoute.hasLoader)) {
        delete context.staticHandlerContext.loaderData[routeId];
      }
    }
  } catch (err) {
    _iterator21.e(err);
  } finally {
    _iterator21.f();
  }
  var router = _createStaticRouter(routes, context.staticHandlerContext);
  return /* @__PURE__ */React12.createElement(React12.Fragment, null, /* @__PURE__ */React12.createElement(FrameworkContext.Provider, {
    value: {
      manifest: manifest,
      routeModules: routeModules,
      criticalCss: criticalCss,
      serverHandoffString: serverHandoffString,
      future: context.future,
      ssr: context.ssr,
      isSpaMode: context.isSpaMode,
      routeDiscovery: context.routeDiscovery,
      serializeError: context.serializeError,
      renderMeta: context.renderMeta
    }
  }, /* @__PURE__ */React12.createElement(RemixErrorBoundary, {
    location: router.state.location
  }, /* @__PURE__ */React12.createElement(_StaticRouterProvider, {
    router: router,
    context: context.staticHandlerContext,
    hydrate: false
  }))), context.serverHandoffStream ? /* @__PURE__ */React12.createElement(React12.Suspense, null, /* @__PURE__ */React12.createElement(StreamTransfer, {
    context: context,
    identifier: 0,
    reader: context.serverHandoffStream.getReader(),
    textDecoder: new TextDecoder(),
    nonce: nonce
  })) : null);
}

// lib/dom/ssr/routes-test-stub.tsx
var React13 = __toESM(require("react"));
function _createRoutesStub(routes, unstable_getContext) {
  return function RoutesTestStub(_ref104) {
    var initialEntries = _ref104.initialEntries,
      initialIndex = _ref104.initialIndex,
      hydrationData = _ref104.hydrationData,
      future = _ref104.future;
    var routerRef = React13.useRef();
    var remixContextRef = React13.useRef();
    if (routerRef.current == null) {
      remixContextRef.current = {
        future: {
          unstable_subResourceIntegrity: (future === null || future === void 0 ? void 0 : future.unstable_subResourceIntegrity) === true,
          unstable_middleware: (future === null || future === void 0 ? void 0 : future.unstable_middleware) === true
        },
        manifest: {
          routes: {},
          entry: {
            imports: [],
            module: ""
          },
          url: "",
          version: ""
        },
        routeModules: {},
        ssr: false,
        isSpaMode: false,
        routeDiscovery: {
          mode: "lazy",
          manifestPath: "/__manifest"
        }
      };
      var patched = processRoutes(
      // @ts-expect-error `StubRouteObject` is stricter about `loader`/`action`
      // types compared to `AgnosticRouteObject`
      convertRoutesToDataRoutes(routes, function (r) {
        return r;
      }), remixContextRef.current.manifest, remixContextRef.current.routeModules);
      routerRef.current = _createMemoryRouter(patched, {
        unstable_getContext: unstable_getContext,
        initialEntries: initialEntries,
        initialIndex: initialIndex,
        hydrationData: hydrationData
      });
    }
    return /* @__PURE__ */React13.createElement(FrameworkContext.Provider, {
      value: remixContextRef.current
    }, /* @__PURE__ */React13.createElement(_RouterProvider, {
      router: routerRef.current
    }));
  };
}
function processRoutes(routes, manifest, routeModules, parentId) {
  return routes.map(function (route) {
    if (!route.id) {
      throw new Error("Expected a route.id in @remix-run/testing processRoutes() function");
    }
    var newRoute = {
      id: route.id,
      path: route.path,
      index: route.index,
      Component: route.Component ? withComponentProps(route.Component) : void 0,
      HydrateFallback: route.HydrateFallback ? withHydrateFallbackProps(route.HydrateFallback) : void 0,
      ErrorBoundary: route.ErrorBoundary ? withErrorBoundaryProps(route.ErrorBoundary) : void 0,
      action: route.action,
      loader: route.loader,
      handle: route.handle,
      shouldRevalidate: route.shouldRevalidate
    };
    var entryRoute = {
      id: route.id,
      path: route.path,
      index: route.index,
      parentId: parentId,
      hasAction: route.action != null,
      hasLoader: route.loader != null,
      // When testing routes, you should be stubbing loader/action/middleware,
      // not trying to re-implement the full loader/clientLoader/SSR/hydration
      // flow. That is better tested via E2E tests.
      hasClientAction: false,
      hasClientLoader: false,
      hasClientMiddleware: false,
      hasErrorBoundary: route.ErrorBoundary != null,
      // any need for these?
      module: "build/stub-path-to-module.js",
      clientActionModule: void 0,
      clientLoaderModule: void 0,
      clientMiddlewareModule: void 0,
      hydrateFallbackModule: void 0
    };
    manifest.routes[newRoute.id] = entryRoute;
    routeModules[route.id] = {
      "default": newRoute.Component || _Outlet,
      ErrorBoundary: newRoute.ErrorBoundary || void 0,
      handle: route.handle,
      links: route.links,
      meta: route.meta,
      shouldRevalidate: route.shouldRevalidate
    };
    if (route.children) {
      newRoute.children = processRoutes(route.children, manifest, routeModules, newRoute.id);
    }
    return newRoute;
  });
}

// lib/server-runtime/cookies.ts
var import_cookie = require("cookie");

// lib/server-runtime/crypto.ts
var encoder = /* @__PURE__ */new TextEncoder();
var sign = /*#__PURE__*/function () {
  var _ref105 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee55(value, secret) {
    var data2, key, signature, hash;
    return _regenerator["default"].wrap(function (_context57) {
      while (1) switch (_context57.prev = _context57.next) {
        case 0:
          data2 = encoder.encode(value);
          _context57.next = 1;
          return createKey2(secret, ["sign"]);
        case 1:
          key = _context57.sent;
          _context57.next = 2;
          return crypto.subtle.sign("HMAC", key, data2);
        case 2:
          signature = _context57.sent;
          hash = btoa(String.fromCharCode.apply(String, (0, _toConsumableArray2["default"])(new Uint8Array(signature)))).replace(/=+$/, "");
          return _context57.abrupt("return", value + "." + hash);
        case 3:
        case "end":
          return _context57.stop();
      }
    }, _callee55);
  }));
  return function sign(_x183, _x184) {
    return _ref105.apply(this, arguments);
  };
}();
var unsign = /*#__PURE__*/function () {
  var _ref106 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee56(cookie, secret) {
    var index, value, hash, data2, key, signature, valid;
    return _regenerator["default"].wrap(function (_context58) {
      while (1) switch (_context58.prev = _context58.next) {
        case 0:
          index = cookie.lastIndexOf(".");
          value = cookie.slice(0, index);
          hash = cookie.slice(index + 1);
          data2 = encoder.encode(value);
          _context58.next = 1;
          return createKey2(secret, ["verify"]);
        case 1:
          key = _context58.sent;
          signature = byteStringToUint8Array(atob(hash));
          _context58.next = 2;
          return crypto.subtle.verify("HMAC", key, signature, data2);
        case 2:
          valid = _context58.sent;
          return _context58.abrupt("return", valid ? value : false);
        case 3:
        case "end":
          return _context58.stop();
      }
    }, _callee56);
  }));
  return function unsign(_x185, _x186) {
    return _ref106.apply(this, arguments);
  };
}();
var createKey2 = /*#__PURE__*/function () {
  var _ref107 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee57(secret, usages) {
    return _regenerator["default"].wrap(function (_context59) {
      while (1) switch (_context59.prev = _context59.next) {
        case 0:
          return _context59.abrupt("return", crypto.subtle.importKey("raw", encoder.encode(secret), {
            name: "HMAC",
            hash: "SHA-256"
          }, false, usages));
        case 1:
        case "end":
          return _context59.stop();
      }
    }, _callee57);
  }));
  return function createKey2(_x187, _x188) {
    return _ref107.apply(this, arguments);
  };
}();
function byteStringToUint8Array(byteString) {
  var array = new Uint8Array(byteString.length);
  for (var i = 0; i < byteString.length; i++) {
    array[i] = byteString.charCodeAt(i);
  }
  return array;
}

// lib/server-runtime/cookies.ts
var _createCookie = function _createCookie(name) {
  var cookieOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var _path$sameSite$cookie = _objectSpread({
      path: "/",
      sameSite: "lax"
    }, cookieOptions),
    _path$sameSite$cookie2 = _path$sameSite$cookie.secrets,
    secrets = _path$sameSite$cookie2 === void 0 ? [] : _path$sameSite$cookie2,
    options = (0, _objectWithoutProperties2["default"])(_path$sameSite$cookie, _excluded9);
  warnOnceAboutExpiresCookie(name, options.expires);
  return {
    get name() {
      return name;
    },
    get isSigned() {
      return secrets.length > 0;
    },
    get expires() {
      return typeof options.maxAge !== "undefined" ? new Date(Date.now() + options.maxAge * 1e3) : options.expires;
    },
    parse: function parse(cookieHeader, parseOptions) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee58() {
        var cookies, value, decoded;
        return _regenerator["default"].wrap(function (_context60) {
          while (1) switch (_context60.prev = _context60.next) {
            case 0:
              if (cookieHeader) {
                _context60.next = 1;
                break;
              }
              return _context60.abrupt("return", null);
            case 1:
              cookies = (0, import_cookie.parse)(cookieHeader, _objectSpread(_objectSpread({}, options), parseOptions));
              if (!(name in cookies)) {
                _context60.next = 5;
                break;
              }
              value = cookies[name];
              if (!(typeof value === "string" && value !== "")) {
                _context60.next = 3;
                break;
              }
              _context60.next = 2;
              return decodeCookieValue(value, secrets);
            case 2:
              decoded = _context60.sent;
              return _context60.abrupt("return", decoded);
            case 3:
              return _context60.abrupt("return", "");
            case 4:
              _context60.next = 6;
              break;
            case 5:
              return _context60.abrupt("return", null);
            case 6:
            case "end":
              return _context60.stop();
          }
        }, _callee58);
      }))();
    },
    serialize: function serialize(value, serializeOptions) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee59() {
        var _t19, _t20, _t21, _t22, _t23;
        return _regenerator["default"].wrap(function (_context61) {
          while (1) switch (_context61.prev = _context61.next) {
            case 0:
              _t19 = (0, import_cookie.serialize);
              _t20 = name;
              if (!(value === "")) {
                _context61.next = 1;
                break;
              }
              _t21 = "";
              _context61.next = 3;
              break;
            case 1:
              _context61.next = 2;
              return encodeCookieValue(value, secrets);
            case 2:
              _t21 = _context61.sent;
            case 3:
              _t22 = _t21;
              _t23 = _objectSpread(_objectSpread({}, options), serializeOptions);
              return _context61.abrupt("return", _t19(_t20, _t22, _t23));
            case 4:
            case "end":
              return _context61.stop();
          }
        }, _callee59);
      }))();
    }
  };
};
var _isCookie = function _isCookie(object) {
  return object != null && typeof object.name === "string" && typeof object.isSigned === "boolean" && typeof object.parse === "function" && typeof object.serialize === "function";
};
function encodeCookieValue(_x189, _x190) {
  return _encodeCookieValue.apply(this, arguments);
}
function _encodeCookieValue() {
  _encodeCookieValue = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee109(value, secrets) {
    var encoded;
    return _regenerator["default"].wrap(function (_context111) {
      while (1) switch (_context111.prev = _context111.next) {
        case 0:
          encoded = encodeData(value);
          if (!(secrets.length > 0)) {
            _context111.next = 2;
            break;
          }
          _context111.next = 1;
          return sign(encoded, secrets[0]);
        case 1:
          encoded = _context111.sent;
        case 2:
          return _context111.abrupt("return", encoded);
        case 3:
        case "end":
          return _context111.stop();
      }
    }, _callee109);
  }));
  return _encodeCookieValue.apply(this, arguments);
}
function decodeCookieValue(_x191, _x192) {
  return _decodeCookieValue.apply(this, arguments);
}
function _decodeCookieValue() {
  _decodeCookieValue = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee110(value, secrets) {
    var _iterator25, _step25, secret, unsignedValue, _t62;
    return _regenerator["default"].wrap(function (_context112) {
      while (1) switch (_context112.prev = _context112.next) {
        case 0:
          if (!(secrets.length > 0)) {
            _context112.next = 9;
            break;
          }
          _iterator25 = _createForOfIteratorHelper(secrets);
          _context112.prev = 1;
          _iterator25.s();
        case 2:
          if ((_step25 = _iterator25.n()).done) {
            _context112.next = 5;
            break;
          }
          secret = _step25.value;
          _context112.next = 3;
          return unsign(value, secret);
        case 3:
          unsignedValue = _context112.sent;
          if (!(unsignedValue !== false)) {
            _context112.next = 4;
            break;
          }
          return _context112.abrupt("return", decodeData(unsignedValue));
        case 4:
          _context112.next = 2;
          break;
        case 5:
          _context112.next = 7;
          break;
        case 6:
          _context112.prev = 6;
          _t62 = _context112["catch"](1);
          _iterator25.e(_t62);
        case 7:
          _context112.prev = 7;
          _iterator25.f();
          return _context112.finish(7);
        case 8:
          return _context112.abrupt("return", null);
        case 9:
          return _context112.abrupt("return", decodeData(value));
        case 10:
        case "end":
          return _context112.stop();
      }
    }, _callee110, null, [[1, 6, 7, 8]]);
  }));
  return _decodeCookieValue.apply(this, arguments);
}
function encodeData(value) {
  return btoa(myUnescape(encodeURIComponent(JSON.stringify(value))));
}
function decodeData(value) {
  try {
    return JSON.parse(decodeURIComponent(myEscape(atob(value))));
  } catch (error) {
    return {};
  }
}
function myEscape(value) {
  var str = value.toString();
  var result = "";
  var index = 0;
  var chr, code;
  while (index < str.length) {
    chr = str.charAt(index++);
    if (/[\w*+\-./@]/.exec(chr)) {
      result += chr;
    } else {
      code = chr.charCodeAt(0);
      if (code < 256) {
        result += "%" + hex(code, 2);
      } else {
        result += "%u" + hex(code, 4).toUpperCase();
      }
    }
  }
  return result;
}
function hex(code, length) {
  var result = code.toString(16);
  while (result.length < length) result = "0" + result;
  return result;
}
function myUnescape(value) {
  var str = value.toString();
  var result = "";
  var index = 0;
  var chr, part;
  while (index < str.length) {
    chr = str.charAt(index++);
    if (chr === "%") {
      if (str.charAt(index) === "u") {
        part = str.slice(index + 1, index + 5);
        if (/^[\da-f]{4}$/i.exec(part)) {
          result += String.fromCharCode(parseInt(part, 16));
          index += 5;
          continue;
        }
      } else {
        part = str.slice(index, index + 2);
        if (/^[\da-f]{2}$/i.exec(part)) {
          result += String.fromCharCode(parseInt(part, 16));
          index += 2;
          continue;
        }
      }
    }
    result += chr;
  }
  return result;
}
function warnOnceAboutExpiresCookie(name, expires) {
  warnOnce(!expires, "The \"".concat(name, "\" cookie has an \"expires\" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use `commitSession(session, { expires })` if using a session storage object, or `cookie.serialize(\"value\", { expires })` if you're using the cookie directly."));
}

// lib/server-runtime/entry.ts
function createEntryRouteModules(manifest) {
  return Object.keys(manifest).reduce(function (memo2, routeId) {
    var route = manifest[routeId];
    if (route) {
      memo2[routeId] = route.module;
    }
    return memo2;
  }, {});
}

// lib/server-runtime/mode.ts
var ServerMode = /* @__PURE__ */function (ServerMode2) {
  ServerMode2["Development"] = "development";
  ServerMode2["Production"] = "production";
  ServerMode2["Test"] = "test";
  return ServerMode2;
}(ServerMode || {});
function isServerMode(value) {
  return value === "development" /* Development */ || value === "production" /* Production */ || value === "test" /* Test */;
}

// lib/server-runtime/errors.ts
function sanitizeError(error, serverMode) {
  if (error instanceof Error && serverMode !== "development" /* Development */) {
    var sanitized = new Error("Unexpected Server Error");
    sanitized.stack = void 0;
    return sanitized;
  }
  return error;
}
function sanitizeErrors(errors, serverMode) {
  return Object.entries(errors).reduce(function (acc, _ref108) {
    var _ref109 = (0, _slicedToArray2["default"])(_ref108, 2),
      routeId = _ref109[0],
      error = _ref109[1];
    return Object.assign(acc, (0, _defineProperty2["default"])({}, routeId, sanitizeError(error, serverMode)));
  }, {});
}
function _serializeError(error, serverMode) {
  var sanitized = sanitizeError(error, serverMode);
  return {
    message: sanitized.message,
    stack: sanitized.stack
  };
}
function serializeErrors2(errors, serverMode) {
  if (!errors) return null;
  var entries = Object.entries(errors);
  var serialized = {};
  for (var _i1 = 0, _entries4 = entries; _i1 < _entries4.length; _i1++) {
    var _entries4$_i = (0, _slicedToArray2["default"])(_entries4[_i1], 2),
      key = _entries4$_i[0],
      val = _entries4$_i[1];
    if (_isRouteErrorResponse(val)) {
      serialized[key] = _objectSpread(_objectSpread({}, val), {}, {
        __type: "RouteErrorResponse"
      });
    } else if (val instanceof Error) {
      var sanitized = sanitizeError(val, serverMode);
      serialized[key] = _objectSpread({
        message: sanitized.message,
        stack: sanitized.stack,
        __type: "Error"
      }, sanitized.name !== "Error" ? {
        __subType: sanitized.name
      } : {});
    } else {
      serialized[key] = val;
    }
  }
  return serialized;
}

// lib/server-runtime/routeMatching.ts
function matchServerRoutes(routes, pathname, basename) {
  var matches = _matchRoutes(routes, pathname, basename);
  if (!matches) return null;
  return matches.map(function (match) {
    return {
      params: match.params,
      pathname: match.pathname,
      route: match.route
    };
  });
}

// lib/server-runtime/data.ts
function callRouteHandler(_x193, _x194) {
  return _callRouteHandler.apply(this, arguments);
}
function _callRouteHandler() {
  _callRouteHandler = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee111(handler, args) {
    var result;
    return _regenerator["default"].wrap(function (_context113) {
      while (1) switch (_context113.prev = _context113.next) {
        case 0:
          _context113.next = 1;
          return handler({
            request: stripRoutesParam(stripIndexParam2(args.request)),
            params: args.params,
            context: args.context
          });
        case 1:
          result = _context113.sent;
          if (!(isDataWithResponseInit(result) && result.init && result.init.status && isRedirectStatusCode(result.init.status))) {
            _context113.next = 2;
            break;
          }
          throw new Response(null, result.init);
        case 2:
          return _context113.abrupt("return", result);
        case 3:
        case "end":
          return _context113.stop();
      }
    }, _callee111);
  }));
  return _callRouteHandler.apply(this, arguments);
}
function stripIndexParam2(request) {
  var url = new URL(request.url);
  var indexValues = url.searchParams.getAll("index");
  url.searchParams["delete"]("index");
  var indexValuesToKeep = [];
  var _iterator22 = _createForOfIteratorHelper(indexValues),
    _step22;
  try {
    for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {
      var indexValue = _step22.value;
      if (indexValue) {
        indexValuesToKeep.push(indexValue);
      }
    }
  } catch (err) {
    _iterator22.e(err);
  } finally {
    _iterator22.f();
  }
  for (var _i10 = 0, _indexValuesToKeep2 = indexValuesToKeep; _i10 < _indexValuesToKeep2.length; _i10++) {
    var toKeep = _indexValuesToKeep2[_i10];
    url.searchParams.append("index", toKeep);
  }
  var init = {
    method: request.method,
    body: request.body,
    headers: request.headers,
    signal: request.signal
  };
  if (init.body) {
    init.duplex = "half";
  }
  return new Request(url.href, init);
}
function stripRoutesParam(request) {
  var url = new URL(request.url);
  url.searchParams["delete"]("_routes");
  var init = {
    method: request.method,
    body: request.body,
    headers: request.headers,
    signal: request.signal
  };
  if (init.body) {
    init.duplex = "half";
  }
  return new Request(url.href, init);
}

// lib/server-runtime/invariant.ts
function invariant3(value, message) {
  if (value === false || value === null || typeof value === "undefined") {
    console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose");
    throw new Error(message);
  }
}

// lib/server-runtime/dev.ts
var globalDevServerHooksKey = "__reactRouterDevServerHooks";
function setDevServerHooks(devServerHooks) {
  globalThis[globalDevServerHooksKey] = devServerHooks;
}
function getDevServerHooks() {
  return globalThis[globalDevServerHooksKey];
}
function getBuildTimeHeader(request, headerName) {
  if (typeof process !== "undefined") {
    try {
      var _process$env;
      if (((_process$env = process.env) === null || _process$env === void 0 ? void 0 : _process$env.IS_RR_BUILD_REQUEST) === "yes") {
        return request.headers.get(headerName);
      }
    } catch (e) {}
  }
  return null;
}

// lib/server-runtime/routes.ts
function groupRoutesByParentId2(manifest) {
  var routes = {};
  Object.values(manifest).forEach(function (route) {
    if (route) {
      var parentId = route.parentId || "";
      if (!routes[parentId]) {
        routes[parentId] = [];
      }
      routes[parentId].push(route);
    }
  });
  return routes;
}
function createRoutes(manifest) {
  var parentId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
  var routesByParentId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : groupRoutesByParentId2(manifest);
  return (routesByParentId[parentId] || []).map(function (route) {
    return _objectSpread(_objectSpread({}, route), {}, {
      children: createRoutes(manifest, route.id, routesByParentId)
    });
  });
}
function createStaticHandlerDataRoutes(manifest, future) {
  var parentId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "";
  var routesByParentId = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : groupRoutesByParentId2(manifest);
  return (routesByParentId[parentId] || []).map(function (route) {
    var commonRoute = {
      // Always include root due to default boundaries
      hasErrorBoundary: route.id === "root" || route.module.ErrorBoundary != null,
      id: route.id,
      path: route.path,
      unstable_middleware: route.module.unstable_middleware,
      // Need to use RR's version in the param typed here to permit the optional
      // context even though we know it'll always be provided in remix
      loader: route.module.loader ? (/*#__PURE__*/function () {
        var _ref110 = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee60(args) {
          var preRenderedData, encoded, uint8array, stream, decoded, data2, result, init, _result, val;
          return _regenerator["default"].wrap(function (_context62) {
            while (1) switch (_context62.prev = _context62.next) {
              case 0:
                preRenderedData = getBuildTimeHeader(args.request, "X-React-Router-Prerender-Data");
                if (!(preRenderedData != null)) {
                  _context62.next = 6;
                  break;
                }
                encoded = preRenderedData ? decodeURI(preRenderedData) : preRenderedData;
                invariant3(encoded, "Missing prerendered data for route");
                uint8array = new TextEncoder().encode(encoded);
                stream = new ReadableStream({
                  start: function start(controller) {
                    controller.enqueue(uint8array);
                    controller.close();
                  }
                });
                _context62.next = 1;
                return decodeViaTurboStream(stream, global);
              case 1:
                decoded = _context62.sent;
                data2 = decoded.value;
                if (!(data2 && SingleFetchRedirectSymbol in data2)) {
                  _context62.next = 5;
                  break;
                }
                result = data2[SingleFetchRedirectSymbol];
                init = {
                  status: result.status
                };
                if (!result.reload) {
                  _context62.next = 2;
                  break;
                }
                throw _redirectDocument(result.redirect, init);
              case 2:
                if (!result.replace) {
                  _context62.next = 3;
                  break;
                }
                throw _replace(result.redirect, init);
              case 3:
                throw _redirect(result.redirect, init);
              case 4:
                _context62.next = 6;
                break;
              case 5:
                invariant3(data2 && route.id in data2, "Unable to decode prerendered data");
                _result = data2[route.id];
                invariant3("data" in _result, "Unable to process prerendered data");
                return _context62.abrupt("return", _result.data);
              case 6:
                _context62.next = 7;
                return callRouteHandler(route.module.loader, args);
              case 7:
                val = _context62.sent;
                return _context62.abrupt("return", val);
              case 8:
              case "end":
                return _context62.stop();
            }
          }, _callee60);
        }));
        return function (_x195) {
          return _ref110.apply(this, arguments);
        };
      }()) : void 0,
      action: route.module.action ? function (args) {
        return callRouteHandler(route.module.action, args);
      } : void 0,
      handle: route.module.handle
    };
    return route.index ? _objectSpread({
      index: true
    }, commonRoute) : _objectSpread({
      caseSensitive: route.caseSensitive,
      children: createStaticHandlerDataRoutes(manifest, future, route.id, routesByParentId)
    }, commonRoute);
  });
}

// lib/server-runtime/markup.ts
var ESCAPE_LOOKUP3 = {
  "&": "\\u0026",
  ">": "\\u003e",
  "<": "\\u003c",
  "\u2028": "\\u2028",
  "\u2029": "\\u2029"
};
var ESCAPE_REGEX3 = /[&><\u2028\u2029]/g;
function escapeHtml2(html) {
  return html.replace(ESCAPE_REGEX3, function (match) {
    return ESCAPE_LOOKUP3[match];
  });
}

// lib/server-runtime/serverHandoff.ts
function createServerHandoffString(serverHandoff) {
  return escapeHtml2(JSON.stringify(serverHandoff));
}

// lib/server-runtime/headers.ts
var import_set_cookie_parser = require("set-cookie-parser");
function getDocumentHeaders(build, context) {
  return getDocumentHeadersImpl(context, function (m) {
    var route = build.routes[m.route.id];
    invariant3(route, "Route with id \"".concat(m.route.id, "\" not found in build"));
    return route.module.headers;
  });
}
function getDocumentHeadersImpl(context, getRouteHeadersFn) {
  var boundaryIdx = context.errors ? context.matches.findIndex(function (m) {
    return context.errors[m.route.id];
  }) : -1;
  var matches = boundaryIdx >= 0 ? context.matches.slice(0, boundaryIdx + 1) : context.matches;
  var errorHeaders;
  if (boundaryIdx >= 0) {
    var actionHeaders = context.actionHeaders,
      actionData = context.actionData,
      loaderHeaders = context.loaderHeaders,
      loaderData = context.loaderData;
    context.matches.slice(boundaryIdx).some(function (match) {
      var id = match.route.id;
      if (actionHeaders[id] && (!actionData || !actionData.hasOwnProperty(id))) {
        errorHeaders = actionHeaders[id];
      } else if (loaderHeaders[id] && !loaderData.hasOwnProperty(id)) {
        errorHeaders = loaderHeaders[id];
      }
      return errorHeaders != null;
    });
  }
  return matches.reduce(function (parentHeaders, match, idx) {
    var id = match.route.id;
    var loaderHeaders = context.loaderHeaders[id] || new Headers();
    var actionHeaders = context.actionHeaders[id] || new Headers();
    var includeErrorHeaders = errorHeaders != null && idx === matches.length - 1;
    var includeErrorCookies = includeErrorHeaders && errorHeaders !== loaderHeaders && errorHeaders !== actionHeaders;
    var headersFn = getRouteHeadersFn(match);
    if (headersFn == null) {
      var headers2 = new Headers(parentHeaders);
      if (includeErrorCookies) {
        prependCookies(errorHeaders, headers2);
      }
      prependCookies(actionHeaders, headers2);
      prependCookies(loaderHeaders, headers2);
      return headers2;
    }
    var headers = new Headers(typeof headersFn === "function" ? headersFn({
      loaderHeaders: loaderHeaders,
      parentHeaders: parentHeaders,
      actionHeaders: actionHeaders,
      errorHeaders: includeErrorHeaders ? errorHeaders : void 0
    }) : headersFn);
    if (includeErrorCookies) {
      prependCookies(errorHeaders, headers);
    }
    prependCookies(actionHeaders, headers);
    prependCookies(loaderHeaders, headers);
    prependCookies(parentHeaders, headers);
    return headers;
  }, new Headers());
}
function prependCookies(parentHeaders, childHeaders) {
  var parentSetCookieString = parentHeaders.get("Set-Cookie");
  if (parentSetCookieString) {
    var cookies = (0, import_set_cookie_parser.splitCookiesString)(parentSetCookieString);
    var childCookies = new Set(childHeaders.getSetCookie());
    cookies.forEach(function (cookie) {
      if (!childCookies.has(cookie)) {
        childHeaders.append("Set-Cookie", cookie);
      }
    });
  }
}

// lib/server-runtime/single-fetch.ts
var SERVER_NO_BODY_STATUS_CODES = /* @__PURE__ */new Set([].concat((0, _toConsumableArray2["default"])(NO_BODY_STATUS_CODES), [304]));
function singleFetchAction(_x196, _x197, _x198, _x199, _x200, _x201, _x202) {
  return _singleFetchAction.apply(this, arguments);
}
function _singleFetchAction() {
  _singleFetchAction = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee112(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {
    var respond2, respond, handlerRequest, result, _t63;
    return _regenerator["default"].wrap(function (_context114) {
      while (1) switch (_context114.prev = _context114.next) {
        case 0:
          _context114.prev = 0;
          respond2 = function respond2(context) {
            var headers = getDocumentHeaders(build, context);
            if (isRedirectStatusCode(context.statusCode) && headers.has("Location")) {
              return generateSingleFetchResponse(request, build, serverMode, {
                result: getSingleFetchRedirect(context.statusCode, headers, build.basename),
                headers: headers,
                status: SINGLE_FETCH_REDIRECT_STATUS
              });
            }
            if (context.errors) {
              Object.values(context.errors).forEach(function (err) {
                if (!_isRouteErrorResponse(err) || err.error) {
                  handleError(err);
                }
              });
              context.errors = sanitizeErrors(context.errors, serverMode);
            }
            var singleFetchResult;
            if (context.errors) {
              singleFetchResult = {
                error: Object.values(context.errors)[0]
              };
            } else {
              singleFetchResult = {
                data: Object.values(context.actionData || {})[0]
              };
            }
            return generateSingleFetchResponse(request, build, serverMode, {
              result: singleFetchResult,
              headers: headers,
              status: context.statusCode
            });
          };
          respond = respond2;
          handlerRequest = new Request(handlerUrl, _objectSpread({
            method: request.method,
            body: request.body,
            headers: request.headers,
            signal: request.signal
          }, request.body ? {
            duplex: "half"
          } : void 0));
          _context114.next = 1;
          return staticHandler.query(handlerRequest, {
            requestContext: loadContext,
            skipLoaderErrorBubbling: true,
            skipRevalidation: true,
            unstable_respond: respond2
          });
        case 1:
          result = _context114.sent;
          if (!isResponse(result)) {
            result = respond2(result);
          }
          if (!isRedirectResponse(result)) {
            _context114.next = 2;
            break;
          }
          return _context114.abrupt("return", generateSingleFetchResponse(request, build, serverMode, {
            result: getSingleFetchRedirect(result.status, result.headers, build.basename),
            headers: result.headers,
            status: SINGLE_FETCH_REDIRECT_STATUS
          }));
        case 2:
          return _context114.abrupt("return", result);
        case 3:
          _context114.prev = 3;
          _t63 = _context114["catch"](0);
          handleError(_t63);
          return _context114.abrupt("return", generateSingleFetchResponse(request, build, serverMode, {
            result: {
              error: _t63
            },
            headers: new Headers(),
            status: 500
          }));
        case 4:
        case "end":
          return _context114.stop();
      }
    }, _callee112, null, [[0, 3]]);
  }));
  return _singleFetchAction.apply(this, arguments);
}
function singleFetchLoaders(_x203, _x204, _x205, _x206, _x207, _x208, _x209) {
  return _singleFetchLoaders.apply(this, arguments);
}
function _singleFetchLoaders() {
  _singleFetchLoaders = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee113(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {
    var respond2, respond, handlerRequest, routesParam, loadRouteIds, result, _t64;
    return _regenerator["default"].wrap(function (_context115) {
      while (1) switch (_context115.prev = _context115.next) {
        case 0:
          _context115.prev = 0;
          respond2 = function respond2(context) {
            var headers = getDocumentHeaders(build, context);
            if (isRedirectStatusCode(context.statusCode) && headers.has("Location")) {
              return generateSingleFetchResponse(request, build, serverMode, {
                result: (0, _defineProperty2["default"])({}, SingleFetchRedirectSymbol, getSingleFetchRedirect(context.statusCode, headers, build.basename)),
                headers: headers,
                status: SINGLE_FETCH_REDIRECT_STATUS
              });
            }
            if (context.errors) {
              Object.values(context.errors).forEach(function (err) {
                if (!_isRouteErrorResponse(err) || err.error) {
                  handleError(err);
                }
              });
              context.errors = sanitizeErrors(context.errors, serverMode);
            }
            var results = {};
            var loadedMatches = new Set(context.matches.filter(function (m) {
              return loadRouteIds ? loadRouteIds.has(m.route.id) : m.route.loader != null;
            }).map(function (m) {
              return m.route.id;
            }));
            if (context.errors) {
              for (var _i14 = 0, _Object$entries4 = Object.entries(context.errors); _i14 < _Object$entries4.length; _i14++) {
                var _Object$entries4$_i = (0, _slicedToArray2["default"])(_Object$entries4[_i14], 2),
                  id = _Object$entries4$_i[0],
                  error = _Object$entries4$_i[1];
                results[id] = {
                  error: error
                };
              }
            }
            for (var _i15 = 0, _Object$entries5 = Object.entries(context.loaderData); _i15 < _Object$entries5.length; _i15++) {
              var _Object$entries5$_i = (0, _slicedToArray2["default"])(_Object$entries5[_i15], 2),
                _id = _Object$entries5$_i[0],
                data2 = _Object$entries5$_i[1];
              if (!(_id in results) && loadedMatches.has(_id)) {
                results[_id] = {
                  data: data2
                };
              }
            }
            return generateSingleFetchResponse(request, build, serverMode, {
              result: results,
              headers: headers,
              status: context.statusCode
            });
          };
          respond = respond2;
          handlerRequest = new Request(handlerUrl, {
            headers: request.headers,
            signal: request.signal
          });
          routesParam = new URL(request.url).searchParams.get("_routes");
          loadRouteIds = routesParam ? new Set(routesParam.split(",")) : null;
          _context115.next = 1;
          return staticHandler.query(handlerRequest, {
            requestContext: loadContext,
            filterMatchesToLoad: function filterMatchesToLoad(m) {
              return !loadRouteIds || loadRouteIds.has(m.route.id);
            },
            skipLoaderErrorBubbling: true,
            unstable_respond: respond2
          });
        case 1:
          result = _context115.sent;
          if (!isResponse(result)) {
            result = respond2(result);
          }
          if (!isRedirectResponse(result)) {
            _context115.next = 2;
            break;
          }
          return _context115.abrupt("return", generateSingleFetchResponse(request, build, serverMode, {
            result: (0, _defineProperty2["default"])({}, SingleFetchRedirectSymbol, getSingleFetchRedirect(result.status, result.headers, build.basename)),
            headers: result.headers,
            status: SINGLE_FETCH_REDIRECT_STATUS
          }));
        case 2:
          return _context115.abrupt("return", result);
        case 3:
          _context115.prev = 3;
          _t64 = _context115["catch"](0);
          handleError(_t64);
          return _context115.abrupt("return", generateSingleFetchResponse(request, build, serverMode, {
            result: {
              root: {
                error: _t64
              }
            },
            headers: new Headers(),
            status: 500
          }));
        case 4:
        case "end":
          return _context115.stop();
      }
    }, _callee113, null, [[0, 3]]);
  }));
  return _singleFetchLoaders.apply(this, arguments);
}
function generateSingleFetchResponse(request, build, serverMode, _ref111) {
  var result = _ref111.result,
    headers = _ref111.headers,
    status = _ref111.status;
  var resultHeaders = new Headers(headers);
  resultHeaders.set("X-Remix-Response", "yes");
  if (SERVER_NO_BODY_STATUS_CODES.has(status)) {
    return new Response(null, {
      status: status,
      headers: resultHeaders
    });
  }
  resultHeaders.set("Content-Type", "text/x-script");
  return new Response(encodeViaTurboStream(result, request.signal, build.entry.module.streamTimeout, serverMode), {
    status: status || 200,
    headers: resultHeaders
  });
}
function getSingleFetchRedirect(status, headers, basename) {
  var redirect2 = headers.get("Location");
  if (basename) {
    redirect2 = stripBasename(redirect2, basename) || redirect2;
  }
  return {
    redirect: redirect2,
    status: status,
    revalidate:
    // Technically X-Remix-Revalidate isn't needed here - that was an implementation
    // detail of ?_data requests as our way to tell the front end to revalidate when
    // we didn't have a response body to include that information in.
    // With single fetch, we tell the front end via this revalidate boolean field.
    // However, we're respecting it for now because it may be something folks have
    // used in their own responses
    // TODO(v3): Consider removing or making this official public API
    headers.has("X-Remix-Revalidate") || headers.has("Set-Cookie"),
    reload: headers.has("X-Remix-Reload-Document"),
    replace: headers.has("X-Remix-Replace")
  };
}
function encodeViaTurboStream(data2, requestSignal, streamTimeout, serverMode) {
  var controller = new AbortController();
  var timeoutId = setTimeout(function () {
    return controller.abort(new Error("Server Timeout"));
  }, typeof streamTimeout === "number" ? streamTimeout : 4950);
  requestSignal.addEventListener("abort", function () {
    return clearTimeout(timeoutId);
  });
  return encode(data2, {
    signal: controller.signal,
    plugins: [function (value) {
      if (value instanceof Error) {
        var _ref112 = serverMode === "production" /* Production */ ? sanitizeError(value, serverMode) : value,
          name = _ref112.name,
          message = _ref112.message,
          stack = _ref112.stack;
        return ["SanitizedError", name, message, stack];
      }
      if (value instanceof ErrorResponseImpl) {
        var data3 = value.data,
          status = value.status,
          statusText = value.statusText;
        return ["ErrorResponse", data3, status, statusText];
      }
      if (value && (0, _typeof2["default"])(value) === "object" && SingleFetchRedirectSymbol in value) {
        return ["SingleFetchRedirect", value[SingleFetchRedirectSymbol]];
      }
    }],
    postPlugins: [function (value) {
      if (!value) return;
      if ((0, _typeof2["default"])(value) !== "object") return;
      return ["SingleFetchClassInstance", Object.fromEntries(Object.entries(value))];
    }, function () {
      return ["SingleFetchFallback"];
    }]
  });
}

// lib/server-runtime/server.ts
function derive(build, mode) {
  var routes = createRoutes(build.routes);
  var dataRoutes = createStaticHandlerDataRoutes(build.routes, build.future);
  var serverMode = isServerMode(mode) ? mode : "production" /* Production */;
  var staticHandler = createStaticHandler(dataRoutes, {
    basename: build.basename
  });
  var errorHandler = build.entry.module.handleError || function (error, _ref113) {
    var request = _ref113.request;
    if (serverMode !== "test" /* Test */ && !request.signal.aborted) {
      console.error(
      // @ts-expect-error This is "private" from users but intended for internal use
      _isRouteErrorResponse(error) && error.error ? error.error : error);
    }
  };
  return {
    routes: routes,
    dataRoutes: dataRoutes,
    serverMode: serverMode,
    staticHandler: staticHandler,
    errorHandler: errorHandler
  };
}
var _createRequestHandler = function _createRequestHandler(build, mode) {
  var _build;
  var routes;
  var serverMode;
  var staticHandler;
  var errorHandler;
  return /*#__PURE__*/function () {
    var _requestHandler = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee61(request, initialContext) {
      var derived, _derived, params, loadContext, handleError, error, url, normalizedBasename, normalizedPath, isSpaMode, manifestUrl, res, matches, response, handlerUrl, singleFetchMatches, result, headers, _getDevServerHooks2, pathname, criticalCss, _getDevServerHooks3, _getDevServerHooks3$g, _t24, _t25, _t26;
      return _regenerator["default"].wrap(function (_context63) {
        while (1) switch (_context63.prev = _context63.next) {
          case 0:
            if (!(typeof build === "function")) {
              _context63.next = 2;
              break;
            }
            _context63.next = 1;
            return build();
          case 1:
            _t24 = _context63.sent;
            _context63.next = 3;
            break;
          case 2:
            _t24 = build;
          case 3:
            _build = _t24;
            if (typeof build === "function") {
              derived = derive(_build, mode);
              routes = derived.routes;
              serverMode = derived.serverMode;
              staticHandler = derived.staticHandler;
              errorHandler = derived.errorHandler;
            } else if (!routes || !serverMode || !staticHandler || !errorHandler) {
              _derived = derive(_build, mode);
              routes = _derived.routes;
              serverMode = _derived.serverMode;
              staticHandler = _derived.staticHandler;
              errorHandler = _derived.errorHandler;
            }
            params = {};
            handleError = function handleError(error) {
              if (mode === "development" /* Development */) {
                var _getDevServerHooks, _getDevServerHooks$pr;
                (_getDevServerHooks = getDevServerHooks()) === null || _getDevServerHooks === void 0 || (_getDevServerHooks$pr = _getDevServerHooks.processRequestError) === null || _getDevServerHooks$pr === void 0 || _getDevServerHooks$pr.call(_getDevServerHooks, error);
              }
              errorHandler(error, {
                context: loadContext,
                params: params,
                request: request
              });
            };
            if (!_build.future.unstable_middleware) {
              _context63.next = 7;
              break;
            }
            if (!(initialContext == null)) {
              _context63.next = 4;
              break;
            }
            loadContext = new _unstable_RouterContextProvider();
            _context63.next = 6;
            break;
          case 4:
            _context63.prev = 4;
            loadContext = new _unstable_RouterContextProvider(initialContext);
            _context63.next = 6;
            break;
          case 5:
            _context63.prev = 5;
            _t25 = _context63["catch"](4);
            error = new Error("Unable to create initial `unstable_RouterContextProvider` instance. Please confirm you are returning an instance of `Map<unstable_routerContext, unknown>` from your `getLoadContext` function.\n\nError: ".concat(_t25 instanceof Error ? _t25.toString() : _t25));
            handleError(error);
            return _context63.abrupt("return", returnLastResortErrorResponse(error, serverMode));
          case 6:
            _context63.next = 8;
            break;
          case 7:
            loadContext = initialContext || {};
          case 8:
            url = new URL(request.url);
            normalizedBasename = _build.basename || "/";
            normalizedPath = url.pathname;
            if (stripBasename(normalizedPath, normalizedBasename) === "/_root.data") {
              normalizedPath = normalizedBasename;
            } else if (normalizedPath.endsWith(".data")) {
              normalizedPath = normalizedPath.replace(/\.data$/, "");
            }
            if (stripBasename(normalizedPath, normalizedBasename) !== "/" && normalizedPath.endsWith("/")) {
              normalizedPath = normalizedPath.slice(0, -1);
            }
            isSpaMode = getBuildTimeHeader(request, "X-React-Router-SPA-Mode") === "yes";
            if (_build.ssr) {
              _context63.next = 11;
              break;
            }
            if (!(_build.prerender.length === 0)) {
              _context63.next = 9;
              break;
            }
            isSpaMode = true;
            _context63.next = 11;
            break;
          case 9:
            if (!(!_build.prerender.includes(normalizedPath) && !_build.prerender.includes(normalizedPath + "/"))) {
              _context63.next = 11;
              break;
            }
            if (!url.pathname.endsWith(".data")) {
              _context63.next = 10;
              break;
            }
            errorHandler(new ErrorResponseImpl(404, "Not Found", "Refusing to SSR the path `".concat(normalizedPath, "` because `ssr:false` is set and the path is not included in the `prerender` config, so in production the path will be a 404.")), {
              context: loadContext,
              params: params,
              request: request
            });
            return _context63.abrupt("return", new Response("Not Found", {
              status: 404,
              statusText: "Not Found"
            }));
          case 10:
            isSpaMode = true;
          case 11:
            manifestUrl = getManifestPath(_build.routeDiscovery.manifestPath, normalizedBasename);
            if (!(url.pathname === manifestUrl)) {
              _context63.next = 15;
              break;
            }
            _context63.prev = 12;
            _context63.next = 13;
            return handleManifestRequest(_build, routes, url);
          case 13:
            res = _context63.sent;
            return _context63.abrupt("return", res);
          case 14:
            _context63.prev = 14;
            _t26 = _context63["catch"](12);
            handleError(_t26);
            return _context63.abrupt("return", new Response("Unknown Server Error", {
              status: 500
            }));
          case 15:
            matches = matchServerRoutes(routes, normalizedPath, _build.basename);
            if (matches && matches.length > 0) {
              Object.assign(params, matches[0].params);
            }
            if (!url.pathname.endsWith(".data")) {
              _context63.next = 19;
              break;
            }
            handlerUrl = new URL(request.url);
            handlerUrl.pathname = normalizedPath;
            singleFetchMatches = matchServerRoutes(routes, handlerUrl.pathname, _build.basename);
            _context63.next = 16;
            return handleSingleFetchRequest(serverMode, _build, staticHandler, request, handlerUrl, loadContext, handleError);
          case 16:
            response = _context63.sent;
            if (!_build.entry.module.handleDataRequest) {
              _context63.next = 18;
              break;
            }
            _context63.next = 17;
            return _build.entry.module.handleDataRequest(response, {
              context: loadContext,
              params: singleFetchMatches ? singleFetchMatches[0].params : {},
              request: request
            });
          case 17:
            response = _context63.sent;
            if (!isRedirectResponse(response)) {
              _context63.next = 18;
              break;
            }
            result = getSingleFetchRedirect(response.status, response.headers, _build.basename);
            if (request.method === "GET") {
              result = (0, _defineProperty2["default"])({}, SingleFetchRedirectSymbol, result);
            }
            headers = new Headers(response.headers);
            headers.set("Content-Type", "text/x-script");
            return _context63.abrupt("return", new Response(encodeViaTurboStream(result, request.signal, _build.entry.module.streamTimeout, serverMode), {
              status: SINGLE_FETCH_REDIRECT_STATUS,
              headers: headers
            }));
          case 18:
            _context63.next = 27;
            break;
          case 19:
            if (!(!isSpaMode && matches && matches[matches.length - 1].route.module["default"] == null && matches[matches.length - 1].route.module.ErrorBoundary == null)) {
              _context63.next = 21;
              break;
            }
            _context63.next = 20;
            return handleResourceRequest(serverMode, _build, staticHandler, matches.slice(-1)[0].route.id, request, loadContext, handleError);
          case 20:
            response = _context63.sent;
            _context63.next = 27;
            break;
          case 21:
            pathname = url.pathname;
            criticalCss = void 0;
            if (!_build.unstable_getCriticalCss) {
              _context63.next = 23;
              break;
            }
            _context63.next = 22;
            return _build.unstable_getCriticalCss({
              pathname: pathname
            });
          case 22:
            criticalCss = _context63.sent;
            _context63.next = 25;
            break;
          case 23:
            if (!(mode === "development" /* Development */ && (_getDevServerHooks2 = getDevServerHooks()) !== null && _getDevServerHooks2 !== void 0 && _getDevServerHooks2.getCriticalCss)) {
              _context63.next = 25;
              break;
            }
            _context63.next = 24;
            return (_getDevServerHooks3 = getDevServerHooks()) === null || _getDevServerHooks3 === void 0 || (_getDevServerHooks3$g = _getDevServerHooks3.getCriticalCss) === null || _getDevServerHooks3$g === void 0 ? void 0 : _getDevServerHooks3$g.call(_getDevServerHooks3, pathname);
          case 24:
            criticalCss = _context63.sent;
          case 25:
            _context63.next = 26;
            return handleDocumentRequest(serverMode, _build, staticHandler, request, loadContext, handleError, isSpaMode, criticalCss);
          case 26:
            response = _context63.sent;
          case 27:
            if (!(request.method === "HEAD")) {
              _context63.next = 28;
              break;
            }
            return _context63.abrupt("return", new Response(null, {
              headers: response.headers,
              status: response.status,
              statusText: response.statusText
            }));
          case 28:
            return _context63.abrupt("return", response);
          case 29:
          case "end":
            return _context63.stop();
        }
      }, _callee61, null, [[4, 5], [12, 14]]);
    }));
    function requestHandler(_x210, _x211) {
      return _requestHandler.apply(this, arguments);
    }
    return requestHandler;
  }();
};
function handleManifestRequest(_x212, _x213, _x214) {
  return _handleManifestRequest.apply(this, arguments);
}
function _handleManifestRequest() {
  _handleManifestRequest = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee114(build, routes, url) {
    var patches, paths, _iterator26, _step26, path, matches, _iterator27, _step27, _match3, routeId, route;
    return _regenerator["default"].wrap(function (_context116) {
      while (1) switch (_context116.prev = _context116.next) {
        case 0:
          if (!(build.assets.version !== url.searchParams.get("version"))) {
            _context116.next = 1;
            break;
          }
          return _context116.abrupt("return", new Response(null, {
            status: 204,
            headers: {
              "X-Remix-Reload-Document": "true"
            }
          }));
        case 1:
          patches = {};
          if (!url.searchParams.has("p")) {
            _context116.next = 2;
            break;
          }
          paths = /* @__PURE__ */new Set();
          url.searchParams.getAll("p").forEach(function (path) {
            if (!path.startsWith("/")) {
              path = "/".concat(path);
            }
            var segments = path.split("/").slice(1);
            segments.forEach(function (_, i) {
              var partialPath = segments.slice(0, i + 1).join("/");
              paths.add("/".concat(partialPath));
            });
          });
          _iterator26 = _createForOfIteratorHelper(paths);
          try {
            for (_iterator26.s(); !(_step26 = _iterator26.n()).done;) {
              path = _step26.value;
              matches = matchServerRoutes(routes, path, build.basename);
              if (matches) {
                _iterator27 = _createForOfIteratorHelper(matches);
                try {
                  for (_iterator27.s(); !(_step27 = _iterator27.n()).done;) {
                    _match3 = _step27.value;
                    routeId = _match3.route.id;
                    route = build.assets.routes[routeId];
                    if (route) {
                      patches[routeId] = route;
                    }
                  }
                } catch (err) {
                  _iterator27.e(err);
                } finally {
                  _iterator27.f();
                }
              }
            }
          } catch (err) {
            _iterator26.e(err);
          } finally {
            _iterator26.f();
          }
          return _context116.abrupt("return", Response.json(patches, {
            headers: {
              "Cache-Control": "public, max-age=31536000, immutable"
            }
          }));
        case 2:
          return _context116.abrupt("return", new Response("Invalid Request", {
            status: 400
          }));
        case 3:
        case "end":
          return _context116.stop();
      }
    }, _callee114);
  }));
  return _handleManifestRequest.apply(this, arguments);
}
function handleSingleFetchRequest(_x215, _x216, _x217, _x218, _x219, _x220, _x221) {
  return _handleSingleFetchRequest.apply(this, arguments);
}
function _handleSingleFetchRequest() {
  _handleSingleFetchRequest = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee115(serverMode, build, staticHandler, request, handlerUrl, loadContext, handleError) {
    var response, _t65;
    return _regenerator["default"].wrap(function (_context117) {
      while (1) switch (_context117.prev = _context117.next) {
        case 0:
          if (!(request.method !== "GET")) {
            _context117.next = 2;
            break;
          }
          _context117.next = 1;
          return singleFetchAction(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError);
        case 1:
          _t65 = _context117.sent;
          _context117.next = 4;
          break;
        case 2:
          _context117.next = 3;
          return singleFetchLoaders(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError);
        case 3:
          _t65 = _context117.sent;
        case 4:
          response = _t65;
          return _context117.abrupt("return", response);
        case 5:
        case "end":
          return _context117.stop();
      }
    }, _callee115);
  }));
  return _handleSingleFetchRequest.apply(this, arguments);
}
function handleDocumentRequest(_x222, _x223, _x224, _x225, _x226, _x227, _x228, _x229) {
  return _handleDocumentRequest.apply(this, arguments);
}
function _handleDocumentRequest() {
  _handleDocumentRequest = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee117(serverMode, build, staticHandler, request, loadContext, handleError, isSpaMode, criticalCss) {
    var response, renderHtml, _renderHtml, _t69;
    return _regenerator["default"].wrap(function (_context119) {
      while (1) switch (_context119.prev = _context119.next) {
        case 0:
          _renderHtml = function _renderHtml3() {
            _renderHtml = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee116(context, isSpaMode2) {
              var headers, state, baseServerHandoff, entryContext, handleDocumentRequestFunction, errorForSecondRender, data2, state2, _t66, _t67, _t68;
              return _regenerator["default"].wrap(function (_context118) {
                while (1) switch (_context118.prev = _context118.next) {
                  case 0:
                    if (!isResponse(context)) {
                      _context118.next = 1;
                      break;
                    }
                    return _context118.abrupt("return", context);
                  case 1:
                    headers = getDocumentHeaders(build, context);
                    if (!SERVER_NO_BODY_STATUS_CODES.has(context.statusCode)) {
                      _context118.next = 2;
                      break;
                    }
                    return _context118.abrupt("return", new Response(null, {
                      status: context.statusCode,
                      headers: headers
                    }));
                  case 2:
                    if (context.errors) {
                      Object.values(context.errors).forEach(function (err) {
                        if (!_isRouteErrorResponse(err) || err.error) {
                          handleError(err);
                        }
                      });
                      context.errors = sanitizeErrors(context.errors, serverMode);
                    }
                    state = {
                      loaderData: context.loaderData,
                      actionData: context.actionData,
                      errors: serializeErrors2(context.errors, serverMode)
                    };
                    baseServerHandoff = {
                      basename: build.basename,
                      future: build.future,
                      routeDiscovery: build.routeDiscovery,
                      ssr: build.ssr,
                      isSpaMode: isSpaMode2
                    };
                    entryContext = {
                      manifest: build.assets,
                      routeModules: createEntryRouteModules(build.routes),
                      staticHandlerContext: context,
                      criticalCss: criticalCss,
                      serverHandoffString: createServerHandoffString(_objectSpread(_objectSpread({}, baseServerHandoff), {}, {
                        criticalCss: criticalCss
                      })),
                      serverHandoffStream: encodeViaTurboStream(state, request.signal, build.entry.module.streamTimeout, serverMode),
                      renderMeta: {},
                      future: build.future,
                      ssr: build.ssr,
                      routeDiscovery: build.routeDiscovery,
                      isSpaMode: isSpaMode2,
                      serializeError: function serializeError(err) {
                        return _serializeError(err, serverMode);
                      }
                    };
                    handleDocumentRequestFunction = build.entry.module["default"];
                    _context118.prev = 3;
                    _context118.next = 4;
                    return handleDocumentRequestFunction(request, context.statusCode, headers, entryContext, loadContext);
                  case 4:
                    return _context118.abrupt("return", _context118.sent);
                  case 5:
                    _context118.prev = 5;
                    _t66 = _context118["catch"](3);
                    handleError(_t66);
                    errorForSecondRender = _t66;
                    if (!isResponse(_t66)) {
                      _context118.next = 9;
                      break;
                    }
                    _context118.prev = 6;
                    _context118.next = 7;
                    return unwrapResponse(_t66);
                  case 7:
                    data2 = _context118.sent;
                    errorForSecondRender = new ErrorResponseImpl(_t66.status, _t66.statusText, data2);
                    _context118.next = 9;
                    break;
                  case 8:
                    _context118.prev = 8;
                    _t67 = _context118["catch"](6);
                  case 9:
                    context = getStaticContextFromError(staticHandler.dataRoutes, context, errorForSecondRender);
                    if (context.errors) {
                      context.errors = sanitizeErrors(context.errors, serverMode);
                    }
                    state2 = {
                      loaderData: context.loaderData,
                      actionData: context.actionData,
                      errors: serializeErrors2(context.errors, serverMode)
                    };
                    entryContext = _objectSpread(_objectSpread({}, entryContext), {}, {
                      staticHandlerContext: context,
                      serverHandoffString: createServerHandoffString(baseServerHandoff),
                      serverHandoffStream: encodeViaTurboStream(state2, request.signal, build.entry.module.streamTimeout, serverMode),
                      renderMeta: {}
                    });
                    _context118.prev = 10;
                    _context118.next = 11;
                    return handleDocumentRequestFunction(request, context.statusCode, headers, entryContext, loadContext);
                  case 11:
                    return _context118.abrupt("return", _context118.sent);
                  case 12:
                    _context118.prev = 12;
                    _t68 = _context118["catch"](10);
                    handleError(_t68);
                    return _context118.abrupt("return", returnLastResortErrorResponse(_t68, serverMode));
                  case 13:
                  case "end":
                    return _context118.stop();
                }
              }, _callee116, null, [[3, 5], [6, 8], [10, 12]]);
            }));
            return _renderHtml.apply(this, arguments);
          };
          renderHtml = function _renderHtml2(_x244, _x245) {
            return _renderHtml.apply(this, arguments);
          };
          _context119.prev = 1;
          _context119.next = 2;
          return staticHandler.query(request, {
            requestContext: loadContext,
            unstable_respond: build.future.unstable_middleware ? function (ctx) {
              return renderHtml(ctx, isSpaMode);
            } : void 0
          });
        case 2:
          response = _context119.sent;
          return _context119.abrupt("return", isResponse(response) ? response : renderHtml(response, isSpaMode));
        case 3:
          _context119.prev = 3;
          _t69 = _context119["catch"](1);
          handleError(_t69);
          return _context119.abrupt("return", new Response(null, {
            status: 500
          }));
        case 4:
        case "end":
          return _context119.stop();
      }
    }, _callee117, null, [[1, 3]]);
  }));
  return _handleDocumentRequest.apply(this, arguments);
}
function handleResourceRequest(_x230, _x231, _x232, _x233, _x234, _x235, _x236) {
  return _handleResourceRequest.apply(this, arguments);
}
function _handleResourceRequest() {
  _handleResourceRequest = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee118(serverMode, build, staticHandler, routeId, request, loadContext, handleError) {
    var response, newError, _t70;
    return _regenerator["default"].wrap(function (_context120) {
      while (1) switch (_context120.prev = _context120.next) {
        case 0:
          _context120.prev = 0;
          _context120.next = 1;
          return staticHandler.queryRoute(request, {
            routeId: routeId,
            requestContext: loadContext,
            unstable_respond: build.future.unstable_middleware ? function (ctx) {
              return ctx;
            } : void 0
          });
        case 1:
          response = _context120.sent;
          if (!isResponse(response)) {
            _context120.next = 2;
            break;
          }
          return _context120.abrupt("return", response);
        case 2:
          if (!(typeof response === "string")) {
            _context120.next = 3;
            break;
          }
          return _context120.abrupt("return", new Response(response));
        case 3:
          return _context120.abrupt("return", Response.json(response));
        case 4:
          _context120.prev = 4;
          _t70 = _context120["catch"](0);
          if (!isResponse(_t70)) {
            _context120.next = 5;
            break;
          }
          _t70.headers.set("X-Remix-Catch", "yes");
          return _context120.abrupt("return", _t70);
        case 5:
          if (!_isRouteErrorResponse(_t70)) {
            _context120.next = 6;
            break;
          }
          if (_t70) {
            handleError(_t70);
          }
          return _context120.abrupt("return", errorResponseToJson(_t70, serverMode));
        case 6:
          if (!(_t70 instanceof Error && _t70.message === "Expected a response from queryRoute")) {
            _context120.next = 7;
            break;
          }
          newError = new Error("Expected a Response to be returned from resource route handler");
          handleError(newError);
          return _context120.abrupt("return", returnLastResortErrorResponse(newError, serverMode));
        case 7:
          handleError(_t70);
          return _context120.abrupt("return", returnLastResortErrorResponse(_t70, serverMode));
        case 8:
        case "end":
          return _context120.stop();
      }
    }, _callee118, null, [[0, 4]]);
  }));
  return _handleResourceRequest.apply(this, arguments);
}
function errorResponseToJson(errorResponse, serverMode) {
  return Response.json(_serializeError(
  // @ts-expect-error This is "private" from users but intended for internal use
  errorResponse.error || new Error("Unexpected Server Error"), serverMode), {
    status: errorResponse.status,
    statusText: errorResponse.statusText,
    headers: {
      "X-Remix-Error": "yes"
    }
  });
}
function returnLastResortErrorResponse(error, serverMode) {
  var message = "Unexpected Server Error";
  if (serverMode !== "production" /* Production */) {
    message += "\n\n".concat(String(error));
  }
  return new Response(message, {
    status: 500,
    headers: {
      "Content-Type": "text/plain"
    }
  });
}
function unwrapResponse(response) {
  var contentType = response.headers.get("Content-Type");
  return contentType && /\bapplication\/json\b/.test(contentType) ? response.body == null ? null : response.json() : response.text();
}

// lib/server-runtime/sessions.ts
function _flash(name) {
  return "__flash_".concat(name, "__");
}
var _createSession = function _createSession() {
  var initialData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
  var map = new Map(Object.entries(initialData));
  return {
    get id() {
      return id;
    },
    get data() {
      return Object.fromEntries(map);
    },
    has: function has(name) {
      return map.has(name) || map.has(_flash(name));
    },
    get: function get(name) {
      if (map.has(name)) return map.get(name);
      var flashName = _flash(name);
      if (map.has(flashName)) {
        var value = map.get(flashName);
        map["delete"](flashName);
        return value;
      }
      return void 0;
    },
    set: function set(name, value) {
      map.set(name, value);
    },
    flash: function flash(name, value) {
      map.set(_flash(name), value);
    },
    unset: function unset(name) {
      map["delete"](name);
    }
  };
};
var _isSession = function _isSession(object) {
  return object != null && typeof object.id === "string" && typeof object.data !== "undefined" && typeof object.has === "function" && typeof object.get === "function" && typeof object.set === "function" && typeof object.flash === "function" && typeof object.unset === "function";
};
function _createSessionStorage(_ref114) {
  var cookieArg = _ref114.cookie,
    createData = _ref114.createData,
    readData = _ref114.readData,
    updateData = _ref114.updateData,
    deleteData = _ref114.deleteData;
  var cookie = _isCookie(cookieArg) ? cookieArg : _createCookie((cookieArg === null || cookieArg === void 0 ? void 0 : cookieArg.name) || "__session", cookieArg);
  warnOnceAboutSigningSessionCookie(cookie);
  return {
    getSession: function getSession(cookieHeader, options) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee62() {
        var id, data2, _t27, _t28;
        return _regenerator["default"].wrap(function (_context64) {
          while (1) switch (_context64.prev = _context64.next) {
            case 0:
              _t27 = cookieHeader;
              if (!_t27) {
                _context64.next = 2;
                break;
              }
              _context64.next = 1;
              return cookie.parse(cookieHeader, options);
            case 1:
              _t27 = _context64.sent;
            case 2:
              id = _t27;
              _t28 = id;
              if (!_t28) {
                _context64.next = 4;
                break;
              }
              _context64.next = 3;
              return readData(id);
            case 3:
              _t28 = _context64.sent;
            case 4:
              data2 = _t28;
              return _context64.abrupt("return", _createSession(data2 || {}, id || ""));
            case 5:
            case "end":
              return _context64.stop();
          }
        }, _callee62);
      }))();
    },
    commitSession: function commitSession(session, options) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee63() {
        var id, data2, expires;
        return _regenerator["default"].wrap(function (_context65) {
          while (1) switch (_context65.prev = _context65.next) {
            case 0:
              id = session.id, data2 = session.data;
              expires = (options === null || options === void 0 ? void 0 : options.maxAge) != null ? new Date(Date.now() + options.maxAge * 1e3) : (options === null || options === void 0 ? void 0 : options.expires) != null ? options.expires : cookie.expires;
              if (!id) {
                _context65.next = 2;
                break;
              }
              _context65.next = 1;
              return updateData(id, data2, expires);
            case 1:
              _context65.next = 4;
              break;
            case 2:
              _context65.next = 3;
              return createData(data2, expires);
            case 3:
              id = _context65.sent;
            case 4:
              return _context65.abrupt("return", cookie.serialize(id, options));
            case 5:
            case "end":
              return _context65.stop();
          }
        }, _callee63);
      }))();
    },
    destroySession: function destroySession(session, options) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee64() {
        return _regenerator["default"].wrap(function (_context66) {
          while (1) switch (_context66.prev = _context66.next) {
            case 0:
              _context66.next = 1;
              return deleteData(session.id);
            case 1:
              return _context66.abrupt("return", cookie.serialize("", _objectSpread(_objectSpread({}, options), {}, {
                maxAge: void 0,
                expires: /* @__PURE__ */new Date(0)
              })));
            case 2:
            case "end":
              return _context66.stop();
          }
        }, _callee64);
      }))();
    }
  };
}
function warnOnceAboutSigningSessionCookie(cookie) {
  warnOnce(cookie.isSigned, "The \"".concat(cookie.name, "\" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://reactrouter.com/explanation/sessions-and-cookies#signing-cookies for more information."));
}

// lib/server-runtime/sessions/cookieStorage.ts
function _createCookieSessionStorage() {
  var _ref115 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    cookieArg = _ref115.cookie;
  var cookie = _isCookie(cookieArg) ? cookieArg : _createCookie((cookieArg === null || cookieArg === void 0 ? void 0 : cookieArg.name) || "__session", cookieArg);
  warnOnceAboutSigningSessionCookie(cookie);
  return {
    getSession: function getSession(cookieHeader, options) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee65() {
        var _t29, _t30, _t31, _t32;
        return _regenerator["default"].wrap(function (_context67) {
          while (1) switch (_context67.prev = _context67.next) {
            case 0:
              _t29 = _createSession;
              _t31 = cookieHeader;
              if (!_t31) {
                _context67.next = 2;
                break;
              }
              _context67.next = 1;
              return cookie.parse(cookieHeader, options);
            case 1:
              _t31 = _context67.sent;
            case 2:
              _t30 = _t31;
              if (_t30) {
                _context67.next = 3;
                break;
              }
              _t30 = {};
            case 3:
              _t32 = _t30;
              return _context67.abrupt("return", _t29(_t32));
            case 4:
            case "end":
              return _context67.stop();
          }
        }, _callee65);
      }))();
    },
    commitSession: function commitSession(session, options) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee66() {
        var serializedCookie;
        return _regenerator["default"].wrap(function (_context68) {
          while (1) switch (_context68.prev = _context68.next) {
            case 0:
              _context68.next = 1;
              return cookie.serialize(session.data, options);
            case 1:
              serializedCookie = _context68.sent;
              if (!(serializedCookie.length > 4096)) {
                _context68.next = 2;
                break;
              }
              throw new Error("Cookie length will exceed browser maximum. Length: " + serializedCookie.length);
            case 2:
              return _context68.abrupt("return", serializedCookie);
            case 3:
            case "end":
              return _context68.stop();
          }
        }, _callee66);
      }))();
    },
    destroySession: function destroySession(_session, options) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee67() {
        return _regenerator["default"].wrap(function (_context69) {
          while (1) switch (_context69.prev = _context69.next) {
            case 0:
              return _context69.abrupt("return", cookie.serialize("", _objectSpread(_objectSpread({}, options), {}, {
                maxAge: void 0,
                expires: /* @__PURE__ */new Date(0)
              })));
            case 1:
            case "end":
              return _context69.stop();
          }
        }, _callee67);
      }))();
    }
  };
}

// lib/server-runtime/sessions/memoryStorage.ts
function _createMemorySessionStorage() {
  var _ref116 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    cookie = _ref116.cookie;
  var map = /* @__PURE__ */new Map();
  return _createSessionStorage({
    cookie: cookie,
    createData: function createData(data2, expires) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee68() {
        var id;
        return _regenerator["default"].wrap(function (_context70) {
          while (1) switch (_context70.prev = _context70.next) {
            case 0:
              id = Math.random().toString(36).substring(2, 10);
              map.set(id, {
                data: data2,
                expires: expires
              });
              return _context70.abrupt("return", id);
            case 1:
            case "end":
              return _context70.stop();
          }
        }, _callee68);
      }))();
    },
    readData: function readData(id) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee69() {
        var _map$get, data2, expires;
        return _regenerator["default"].wrap(function (_context71) {
          while (1) switch (_context71.prev = _context71.next) {
            case 0:
              if (!map.has(id)) {
                _context71.next = 2;
                break;
              }
              _map$get = map.get(id), data2 = _map$get.data, expires = _map$get.expires;
              if (!(!expires || expires > /* @__PURE__ */new Date())) {
                _context71.next = 1;
                break;
              }
              return _context71.abrupt("return", data2);
            case 1:
              if (expires) map["delete"](id);
            case 2:
              return _context71.abrupt("return", null);
            case 3:
            case "end":
              return _context71.stop();
          }
        }, _callee69);
      }))();
    },
    updateData: function updateData(id, data2, expires) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee70() {
        return _regenerator["default"].wrap(function (_context72) {
          while (1) switch (_context72.prev = _context72.next) {
            case 0:
              map.set(id, {
                data: data2,
                expires: expires
              });
            case 1:
            case "end":
              return _context72.stop();
          }
        }, _callee70);
      }))();
    },
    deleteData: function deleteData(id) {
      return (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee71() {
        return _regenerator["default"].wrap(function (_context73) {
          while (1) switch (_context73.prev = _context73.next) {
            case 0:
              map["delete"](id);
            case 1:
            case "end":
              return _context73.stop();
          }
        }, _callee71);
      }))();
    }
  });
}

// lib/href.ts
function _href(path) {
  var params = arguments.length <= 1 ? undefined : arguments[1];
  return path.split("/").map(function (segment) {
    if (segment === "*") {
      return params ? params["*"] : void 0;
    }
    var match = segment.match(/^:([\w-]+)(\?)?/);
    if (!match) return segment;
    var param = match[1];
    var value = params ? params[param] : void 0;
    var isRequired = match[2] === void 0;
    if (isRequired && value === void 0) {
      throw Error("Path '".concat(path, "' requires param '").concat(param, "' but it was not provided"));
    }
    return value;
  }).filter(function (segment) {
    return segment !== void 0;
  }).join("/");
}

// lib/dom/ssr/errors.ts
function deserializeErrors2(errors) {
  if (!errors) return null;
  var entries = Object.entries(errors);
  var serialized = {};
  for (var _i11 = 0, _entries5 = entries; _i11 < _entries5.length; _i11++) {
    var _entries5$_i = (0, _slicedToArray2["default"])(_entries5[_i11], 2),
      key = _entries5$_i[0],
      val = _entries5$_i[1];
    if (val && val.__type === "RouteErrorResponse") {
      serialized[key] = new ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);
    } else if (val && val.__type === "Error") {
      if (val.__subType) {
        var ErrorConstructor = window[val.__subType];
        if (typeof ErrorConstructor === "function") {
          try {
            var error = new ErrorConstructor(val.message);
            error.stack = val.stack;
            serialized[key] = error;
          } catch (e) {}
        }
      }
      if (serialized[key] == null) {
        var _error7 = new Error(val.message);
        _error7.stack = val.stack;
        serialized[key] = _error7;
      }
    } else {
      serialized[key] = val;
    }
  }
  return serialized;
}

// lib/dom/ssr/hydration.tsx
function getHydrationData(state, routes, getRouteInfo, location, basename, isSpaMode) {
  var hydrationData = _objectSpread(_objectSpread({}, state), {}, {
    loaderData: _objectSpread({}, state.loaderData)
  });
  var initialMatches = _matchRoutes(routes, location, basename);
  if (initialMatches) {
    var _iterator23 = _createForOfIteratorHelper(initialMatches),
      _step23;
    try {
      for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {
        var match = _step23.value;
        var routeId = match.route.id;
        var routeInfo = getRouteInfo(routeId);
        if (shouldHydrateRouteLoader(routeId, routeInfo.clientLoader, routeInfo.hasLoader, isSpaMode) && (routeInfo.hasHydrateFallback || !routeInfo.hasLoader)) {
          delete hydrationData.loaderData[routeId];
        } else if (!routeInfo.hasLoader) {
          hydrationData.loaderData[routeId] = null;
        }
      }
    } catch (err) {
      _iterator23.e(err);
    } finally {
      _iterator23.f();
    }
  }
  return hydrationData;
}
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  Await: _Await,
  BrowserRouter: _BrowserRouter,
  Form: _Form,
  HashRouter: _HashRouter,
  IDLE_BLOCKER: _IDLE_BLOCKER,
  IDLE_FETCHER: _IDLE_FETCHER,
  IDLE_NAVIGATION: _IDLE_NAVIGATION,
  Link: _Link,
  Links: _Links,
  MemoryRouter: _MemoryRouter,
  Meta: _Meta,
  NavLink: _NavLink,
  Navigate: _Navigate,
  NavigationType: NavigationType,
  Outlet: _Outlet,
  PrefetchPageLinks: _PrefetchPageLinks,
  Route: _Route,
  Router: _Router,
  RouterProvider: _RouterProvider,
  Routes: _Routes,
  Scripts: _Scripts,
  ScrollRestoration: _ScrollRestoration,
  ServerRouter: _ServerRouter,
  StaticRouter: _StaticRouter,
  StaticRouterProvider: _StaticRouterProvider,
  UNSAFE_DataRouterContext: UNSAFE_DataRouterContext,
  UNSAFE_DataRouterStateContext: UNSAFE_DataRouterStateContext,
  UNSAFE_ErrorResponseImpl: UNSAFE_ErrorResponseImpl,
  UNSAFE_FetchersContext: UNSAFE_FetchersContext,
  UNSAFE_FrameworkContext: UNSAFE_FrameworkContext,
  UNSAFE_LocationContext: UNSAFE_LocationContext,
  UNSAFE_NavigationContext: UNSAFE_NavigationContext,
  UNSAFE_RemixErrorBoundary: UNSAFE_RemixErrorBoundary,
  UNSAFE_RouteContext: UNSAFE_RouteContext,
  UNSAFE_ServerMode: UNSAFE_ServerMode,
  UNSAFE_SingleFetchRedirectSymbol: UNSAFE_SingleFetchRedirectSymbol,
  UNSAFE_ViewTransitionContext: UNSAFE_ViewTransitionContext,
  UNSAFE_createBrowserHistory: UNSAFE_createBrowserHistory,
  UNSAFE_createClientRoutes: UNSAFE_createClientRoutes,
  UNSAFE_createClientRoutesWithHMRRevalidationOptOut: UNSAFE_createClientRoutesWithHMRRevalidationOptOut,
  UNSAFE_createRouter: UNSAFE_createRouter,
  UNSAFE_decodeViaTurboStream: UNSAFE_decodeViaTurboStream,
  UNSAFE_deserializeErrors: UNSAFE_deserializeErrors,
  UNSAFE_getHydrationData: UNSAFE_getHydrationData,
  UNSAFE_getPatchRoutesOnNavigationFunction: UNSAFE_getPatchRoutesOnNavigationFunction,
  UNSAFE_getTurboStreamSingleFetchDataStrategy: UNSAFE_getTurboStreamSingleFetchDataStrategy,
  UNSAFE_hydrationRouteProperties: UNSAFE_hydrationRouteProperties,
  UNSAFE_invariant: UNSAFE_invariant,
  UNSAFE_mapRouteProperties: UNSAFE_mapRouteProperties,
  UNSAFE_shouldHydrateRouteLoader: UNSAFE_shouldHydrateRouteLoader,
  UNSAFE_useFogOFWarDiscovery: UNSAFE_useFogOFWarDiscovery,
  UNSAFE_useScrollRestoration: UNSAFE_useScrollRestoration,
  UNSAFE_withComponentProps: UNSAFE_withComponentProps,
  UNSAFE_withErrorBoundaryProps: UNSAFE_withErrorBoundaryProps,
  UNSAFE_withHydrateFallbackProps: UNSAFE_withHydrateFallbackProps,
  createBrowserRouter: _createBrowserRouter,
  createCookie: _createCookie,
  createCookieSessionStorage: _createCookieSessionStorage,
  createHashRouter: _createHashRouter,
  createMemoryRouter: _createMemoryRouter,
  createMemorySessionStorage: _createMemorySessionStorage,
  createPath: _createPath,
  createRequestHandler: _createRequestHandler,
  createRoutesFromChildren: _createRoutesFromChildren,
  createRoutesFromElements: _createRoutesFromElements,
  createRoutesStub: _createRoutesStub,
  createSearchParams: _createSearchParams,
  createSession: _createSession,
  createSessionStorage: _createSessionStorage,
  createStaticHandler: createStaticHandler,
  createStaticRouter: _createStaticRouter,
  data: _data,
  generatePath: _generatePath,
  href: _href,
  isCookie: _isCookie,
  isRouteErrorResponse: _isRouteErrorResponse,
  isSession: _isSession,
  matchPath: _matchPath,
  matchRoutes: _matchRoutes,
  parsePath: _parsePath,
  redirect: _redirect,
  redirectDocument: _redirectDocument,
  renderMatches: _renderMatches2,
  replace: _replace,
  resolvePath: _resolvePath,
  unstable_HistoryRouter: unstable_HistoryRouter,
  unstable_RouterContextProvider: _unstable_RouterContextProvider,
  unstable_createContext: _unstable_createContext,
  unstable_setDevServerHooks: unstable_setDevServerHooks,
  unstable_usePrompt: unstable_usePrompt,
  useActionData: _useActionData,
  useAsyncError: _useAsyncError,
  useAsyncValue: _useAsyncValue,
  useBeforeUnload: _useBeforeUnload,
  useBlocker: _useBlocker,
  useFetcher: _useFetcher,
  useFetchers: _useFetchers,
  useFormAction: _useFormAction,
  useHref: _useHref,
  useInRouterContext: _useInRouterContext,
  useLinkClickHandler: _useLinkClickHandler,
  useLoaderData: _useLoaderData,
  useLocation: _useLocation,
  useMatch: _useMatch,
  useMatches: _useMatches,
  useNavigate: _useNavigate,
  useNavigation: _useNavigation,
  useNavigationType: _useNavigationType,
  useOutlet: _useOutlet,
  useOutletContext: _useOutletContext,
  useParams: _useParams,
  useResolvedPath: _useResolvedPath,
  useRevalidator: _useRevalidator,
  useRouteError: _useRouteError,
  useRouteLoaderData: _useRouteLoaderData,
  useRoutes: _useRoutes,
  useSearchParams: _useSearchParams,
  useSubmit: _useSubmit,
  useViewTransitionState: _useViewTransitionState
});
}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/classCallCheck":79,"@babel/runtime/helpers/createClass":81,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/getPrototypeOf":84,"@babel/runtime/helpers/inherits":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/objectWithoutProperties":94,"@babel/runtime/helpers/possibleConstructorReturn":96,"@babel/runtime/helpers/slicedToArray":107,"@babel/runtime/helpers/toArray":109,"@babel/runtime/helpers/toConsumableArray":110,"@babel/runtime/helpers/typeof":113,"@babel/runtime/helpers/wrapNativeSuper":115,"@babel/runtime/regenerator":116,"_process":231,"cookie":246,"react":"react","set-cookie-parser":248}],246:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parse = parse;
exports.serialize = serialize;
/**
 * RegExp to match cookie-name in RFC 6265 sec 4.1.1
 * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2
 * which has been replaced by the token definition in RFC 7230 appendix B.
 *
 * cookie-name       = token
 * token             = 1*tchar
 * tchar             = "!" / "#" / "$" / "%" / "&" / "'" /
 *                     "*" / "+" / "-" / "." / "^" / "_" /
 *                     "`" / "|" / "~" / DIGIT / ALPHA
 *
 * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191
 * Allow same range as cookie value, except `=`, which delimits end of name.
 */
var cookieNameRegExp = /^[\u0021-\u003A\u003C\u003E-\u007E]+$/;
/**
 * RegExp to match cookie-value in RFC 6265 sec 4.1.1
 *
 * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )
 * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E
 *                     ; US-ASCII characters excluding CTLs,
 *                     ; whitespace DQUOTE, comma, semicolon,
 *                     ; and backslash
 *
 * Allowing more characters: https://github.com/jshttp/cookie/issues/191
 * Comma, backslash, and DQUOTE are not part of the parsing algorithm.
 */
var cookieValueRegExp = /^[\u0021-\u003A\u003C-\u007E]*$/;
/**
 * RegExp to match domain-value in RFC 6265 sec 4.1.1
 *
 * domain-value      = <subdomain>
 *                     ; defined in [RFC1034], Section 3.5, as
 *                     ; enhanced by [RFC1123], Section 2.1
 * <subdomain>       = <label> | <subdomain> "." <label>
 * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]
 *                     Labels must be 63 characters or less.
 *                     'let-dig' not 'letter' in the first char, per RFC1123
 * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>
 * <let-dig-hyp>     = <let-dig> | "-"
 * <let-dig>         = <letter> | <digit>
 * <letter>          = any one of the 52 alphabetic characters A through Z in
 *                     upper case and a through z in lower case
 * <digit>           = any one of the ten digits 0 through 9
 *
 * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173
 *
 * > (Note that a leading %x2E ("."), if present, is ignored even though that
 * character is not permitted, but a trailing %x2E ("."), if present, will
 * cause the user agent to ignore the attribute.)
 */
var domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;
/**
 * RegExp to match path-value in RFC 6265 sec 4.1.1
 *
 * path-value        = <any CHAR except CTLs or ";">
 * CHAR              = %x01-7F
 *                     ; defined in RFC 5234 appendix B.1
 */
var pathValueRegExp = /^[\u0020-\u003A\u003D-\u007E]*$/;
var __toString = Object.prototype.toString;
var NullObject = /* @__PURE__ */function () {
  var C = function C() {};
  C.prototype = Object.create(null);
  return C;
}();
/**
 * Parse a cookie header.
 *
 * Parse the given cookie header string into an object
 * The object has the various cookies as keys(names) => values
 */
function parse(str, options) {
  var obj = new NullObject();
  var len = str.length;
  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.
  if (len < 2) return obj;
  var dec = (options === null || options === void 0 ? void 0 : options.decode) || decode;
  var index = 0;
  do {
    var eqIdx = str.indexOf("=", index);
    if (eqIdx === -1) break; // No more cookie pairs.
    var colonIdx = str.indexOf(";", index);
    var endIdx = colonIdx === -1 ? len : colonIdx;
    if (eqIdx > endIdx) {
      // backtrack on prior semicolon
      index = str.lastIndexOf(";", eqIdx - 1) + 1;
      continue;
    }
    var keyStartIdx = startIndex(str, index, eqIdx);
    var keyEndIdx = endIndex(str, eqIdx, keyStartIdx);
    var key = str.slice(keyStartIdx, keyEndIdx);
    // only assign once
    if (obj[key] === undefined) {
      var valStartIdx = startIndex(str, eqIdx + 1, endIdx);
      var valEndIdx = endIndex(str, endIdx, valStartIdx);
      var value = dec(str.slice(valStartIdx, valEndIdx));
      obj[key] = value;
    }
    index = endIdx + 1;
  } while (index < len);
  return obj;
}
function startIndex(str, index, max) {
  do {
    var code = str.charCodeAt(index);
    if (code !== 0x20 /*   */ && code !== 0x09 /* \t */) return index;
  } while (++index < max);
  return max;
}
function endIndex(str, index, min) {
  while (index > min) {
    var code = str.charCodeAt(--index);
    if (code !== 0x20 /*   */ && code !== 0x09 /* \t */) return index + 1;
  }
  return min;
}
/**
 * Serialize data into a cookie header.
 *
 * Serialize a name value pair into a cookie string suitable for
 * http headers. An optional options object specifies cookie parameters.
 *
 * serialize('foo', 'bar', { httpOnly: true })
 *   => "foo=bar; httpOnly"
 */
function serialize(name, val, options) {
  var enc = (options === null || options === void 0 ? void 0 : options.encode) || encodeURIComponent;
  if (!cookieNameRegExp.test(name)) {
    throw new TypeError("argument name is invalid: ".concat(name));
  }
  var value = enc(val);
  if (!cookieValueRegExp.test(value)) {
    throw new TypeError("argument val is invalid: ".concat(val));
  }
  var str = name + "=" + value;
  if (!options) return str;
  if (options.maxAge !== undefined) {
    if (!Number.isInteger(options.maxAge)) {
      throw new TypeError("option maxAge is invalid: ".concat(options.maxAge));
    }
    str += "; Max-Age=" + options.maxAge;
  }
  if (options.domain) {
    if (!domainValueRegExp.test(options.domain)) {
      throw new TypeError("option domain is invalid: ".concat(options.domain));
    }
    str += "; Domain=" + options.domain;
  }
  if (options.path) {
    if (!pathValueRegExp.test(options.path)) {
      throw new TypeError("option path is invalid: ".concat(options.path));
    }
    str += "; Path=" + options.path;
  }
  if (options.expires) {
    if (!isDate(options.expires) || !Number.isFinite(options.expires.valueOf())) {
      throw new TypeError("option expires is invalid: ".concat(options.expires));
    }
    str += "; Expires=" + options.expires.toUTCString();
  }
  if (options.httpOnly) {
    str += "; HttpOnly";
  }
  if (options.secure) {
    str += "; Secure";
  }
  if (options.partitioned) {
    str += "; Partitioned";
  }
  if (options.priority) {
    var priority = typeof options.priority === "string" ? options.priority.toLowerCase() : undefined;
    switch (priority) {
      case "low":
        str += "; Priority=Low";
        break;
      case "medium":
        str += "; Priority=Medium";
        break;
      case "high":
        str += "; Priority=High";
        break;
      default:
        throw new TypeError("option priority is invalid: ".concat(options.priority));
    }
  }
  if (options.sameSite) {
    var sameSite = typeof options.sameSite === "string" ? options.sameSite.toLowerCase() : options.sameSite;
    switch (sameSite) {
      case true:
      case "strict":
        str += "; SameSite=Strict";
        break;
      case "lax":
        str += "; SameSite=Lax";
        break;
      case "none":
        str += "; SameSite=None";
        break;
      default:
        throw new TypeError("option sameSite is invalid: ".concat(options.sameSite));
    }
  }
  return str;
}
/**
 * URL-decode string value. Optimized to skip native call when no %.
 */
function decode(str) {
  if (str.indexOf("%") === -1) return str;
  try {
    return decodeURIComponent(str);
  } catch (e) {
    return str;
  }
}
/**
 * Determine if value is a Date.
 */
function isDate(val) {
  return __toString.call(val) === "[object Date]";
}
},{}],247:[function(require,module,exports){
"use strict";

/* eslint-disable function-call-argument-newline */
/**
 * Production-optimized Roman numeral conversion library
 * Combines lookup tables, fast validation, and optimized algorithms
 * Performance: 10x-50x faster than standard implementations
 */

// Pre-computed lookup tables for O(1) conversions
var ROMAN_LOOKUP = new Array(4000);
var DECIMAL_LOOKUP = new Map();

// Fast character value mapping
var CHAR_VALUES = Object.freeze({
  I: 1,
  V: 5,
  X: 10,
  L: 50,
  C: 100,
  D: 500,
  M: 1000
});

// Optimized conversion pairs (ordered by value descending)
var CONVERSION_PAIRS = Object.freeze([[1000, 'M'], [900, 'CM'], [500, 'D'], [400, 'CD'], [100, 'C'], [90, 'XC'], [50, 'L'], [40, 'XL'], [10, 'X'], [9, 'IX'], [5, 'V'], [4, 'IV'], [1, 'I']]);

// Fast validation patterns (replaces complex regex)
var INVALID_PATTERNS = Object.freeze([/I{4,}/, /V{2,}/, /X{4,}/, /L{2,}/, /C{4,}/, /D{2,}/, /M{4,}/, /IL|IC|ID|IM/, /VL|VC|VD|VM|VX/, /XD|XM/, /LC|LD|LM/, /DM/, /IVIV|IXIX|XLXL|XCXC|CDCD|CMCM/]);

// Valid character set for fast validation
var VALID_CHARS = new Set(['I', 'V', 'X', 'L', 'C', 'D', 'M']);

// Initialize lookup tables on module load
var initialized = false;
function initializeLookupTables() {
  if (initialized) return;
  for (var i = 1; i < 4000; i++) {
    ROMAN_LOOKUP[i] = buildRomanFast(i);
    DECIMAL_LOOKUP.set(ROMAN_LOOKUP[i], i);
  }
  initialized = true;
}

// Ultra-fast roman numeral builder for initialization
function buildRomanFast(num) {
  var result = '';

  // Unrolled loop for maximum performance
  if (num >= 1000) {
    var count = Math.floor(num / 1000);
    result += 'M'.repeat(count);
    num %= 1000;
  }
  if (num >= 900) {
    result += 'CM';
    num -= 900;
  }
  if (num >= 500) {
    result += 'D';
    num -= 500;
  }
  if (num >= 400) {
    result += 'CD';
    num -= 400;
  }
  if (num >= 100) {
    var _count = Math.floor(num / 100);
    result += 'C'.repeat(_count);
    num %= 100;
  }
  if (num >= 90) {
    result += 'XC';
    num -= 90;
  }
  if (num >= 50) {
    result += 'L';
    num -= 50;
  }
  if (num >= 40) {
    result += 'XL';
    num -= 40;
  }
  if (num >= 10) {
    var _count2 = Math.floor(num / 10);
    result += 'X'.repeat(_count2);
    num %= 10;
  }
  if (num >= 9) {
    result += 'IX';
    num -= 9;
  }
  if (num >= 5) {
    result += 'V';
    num -= 5;
  }
  if (num >= 4) {
    result += 'IV';
    num -= 4;
  }
  if (num >= 1) {
    result += 'I'.repeat(num);
  }
  return result;
}

// Fast validation function
function isValidRoman(str) {
  if (typeof str !== 'string' || str.length === 0) return false;

  // Check for invalid characters
  for (var i = 0; i < str.length; i++) {
    if (!VALID_CHARS.has(str[i])) return false;
  }

  // Check for invalid patterns
  for (var _i = 0; _i < INVALID_PATTERNS.length; _i++) {
    if (INVALID_PATTERNS[_i].test(str)) return false;
  }
  return true;
}

/**
 * Converts a decimal number to its Roman numeral representation
 * @param {number} decimal - The decimal number to convert (1-3999)
 * @returns {string} The Roman numeral representation
 * @throws {Error} When input is invalid
 */
var romanize = function romanize(decimal) {
  // Handle special cases first
  if (decimal === Infinity) {
    throw new Error('requires max value of less than 4000');
  }

  // Fast input validation (bitwise operations for integer check)
  if ((decimal | 0) !== decimal || decimal <= 0) {
    throw new Error('requires an unsigned integer');
  }
  if (decimal >= 4000) {
    throw new Error('requires max value of less than 4000');
  }

  // Ensure lookup tables are initialized
  if (!initialized) initializeLookupTables();

  // O(1) lookup for pre-computed values
  return ROMAN_LOOKUP[decimal];
};

/**
 * Converts a Roman numeral string to its decimal representation
 * @param {string} romanStr - The Roman numeral string to convert
 * @returns {number} The decimal value (1-3999)
 * @throws {Error} When input is invalid
 */
var deromanize = function deromanize(romanStr) {
  // Type check
  if (typeof romanStr !== 'string') {
    throw new Error('requires valid roman numeral string');
  }
  if (!initialized) initializeLookupTables();

  // O(1) lookup for pre-computed values
  var cached = DECIMAL_LOOKUP.get(romanStr);
  if (cached !== undefined) {
    return cached;
  }
  if (!isValidRoman(romanStr)) {
    throw new Error('requires valid roman numeral string');
  }
  var result = 0;
  var prevValue = 0;
  for (var i = romanStr.length - 1; i >= 0; i--) {
    var currentValue = CHAR_VALUES[romanStr[i]];
    result += currentValue < prevValue ? -currentValue : currentValue;
    prevValue = currentValue;
  }
  return result;
};
initializeLookupTables();

// Export compatibility arrays
var allChars = CONVERSION_PAIRS.map(function (pair) {
  return pair[1];
});
var allNumerals = CONVERSION_PAIRS.map(function (pair) {
  return pair[0];
});
module.exports = {
  deromanize: deromanize,
  romanize: romanize,
  allChars: allChars,
  allNumerals: allNumerals
};
},{}],248:[function(require,module,exports){
"use strict";

var defaultParseOptions = {
  decodeValues: true,
  map: false,
  silent: false
};
function isNonEmptyString(str) {
  return typeof str === "string" && !!str.trim();
}
function parseString(setCookieValue, options) {
  var parts = setCookieValue.split(";").filter(isNonEmptyString);
  var nameValuePairStr = parts.shift();
  var parsed = parseNameValuePair(nameValuePairStr);
  var name = parsed.name;
  var value = parsed.value;
  options = options ? Object.assign({}, defaultParseOptions, options) : defaultParseOptions;
  try {
    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value
  } catch (e) {
    console.error("set-cookie-parser encountered an error while decoding a cookie with value '" + value + "'. Set options.decodeValues to false to disable this feature.", e);
  }
  var cookie = {
    name: name,
    value: value
  };
  parts.forEach(function (part) {
    var sides = part.split("=");
    var key = sides.shift().trimLeft().toLowerCase();
    var value = sides.join("=");
    if (key === "expires") {
      cookie.expires = new Date(value);
    } else if (key === "max-age") {
      cookie.maxAge = parseInt(value, 10);
    } else if (key === "secure") {
      cookie.secure = true;
    } else if (key === "httponly") {
      cookie.httpOnly = true;
    } else if (key === "samesite") {
      cookie.sameSite = value;
    } else if (key === "partitioned") {
      cookie.partitioned = true;
    } else {
      cookie[key] = value;
    }
  });
  return cookie;
}
function parseNameValuePair(nameValuePairStr) {
  // Parses name-value-pair according to rfc6265bis draft

  var name = "";
  var value = "";
  var nameValueArr = nameValuePairStr.split("=");
  if (nameValueArr.length > 1) {
    name = nameValueArr.shift();
    value = nameValueArr.join("="); // everything after the first =, joined by a "=" if there was more than one part
  } else {
    value = nameValuePairStr;
  }
  return {
    name: name,
    value: value
  };
}
function parse(input, options) {
  options = options ? Object.assign({}, defaultParseOptions, options) : defaultParseOptions;
  if (!input) {
    if (!options.map) {
      return [];
    } else {
      return {};
    }
  }
  if (input.headers) {
    if (typeof input.headers.getSetCookie === "function") {
      // for fetch responses - they combine headers of the same type in the headers array,
      // but getSetCookie returns an uncombined array
      input = input.headers.getSetCookie();
    } else if (input.headers["set-cookie"]) {
      // fast-path for node.js (which automatically normalizes header names to lower-case
      input = input.headers["set-cookie"];
    } else {
      // slow-path for other environments - see #25
      var sch = input.headers[Object.keys(input.headers).find(function (key) {
        return key.toLowerCase() === "set-cookie";
      })];
      // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36
      if (!sch && input.headers.cookie && !options.silent) {
        console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.");
      }
      input = sch;
    }
  }
  if (!Array.isArray(input)) {
    input = [input];
  }
  if (!options.map) {
    return input.filter(isNonEmptyString).map(function (str) {
      return parseString(str, options);
    });
  } else {
    var cookies = {};
    return input.filter(isNonEmptyString).reduce(function (cookies, str) {
      var cookie = parseString(str, options);
      cookies[cookie.name] = cookie;
      return cookies;
    }, cookies);
  }
}

/*
  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas
  that are within a single set-cookie field-value, such as in the Expires portion.

  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2
  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128
  React Native's fetch does this for *every* header, including set-cookie.

  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25
  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation
*/
function splitCookiesString(cookiesString) {
  if (Array.isArray(cookiesString)) {
    return cookiesString;
  }
  if (typeof cookiesString !== "string") {
    return [];
  }
  var cookiesStrings = [];
  var pos = 0;
  var start;
  var ch;
  var lastComma;
  var nextStart;
  var cookiesSeparatorFound;
  function skipWhitespace() {
    while (pos < cookiesString.length && /\s/.test(cookiesString.charAt(pos))) {
      pos += 1;
    }
    return pos < cookiesString.length;
  }
  function notSpecialChar() {
    ch = cookiesString.charAt(pos);
    return ch !== "=" && ch !== ";" && ch !== ",";
  }
  while (pos < cookiesString.length) {
    start = pos;
    cookiesSeparatorFound = false;
    while (skipWhitespace()) {
      ch = cookiesString.charAt(pos);
      if (ch === ",") {
        // ',' is a cookie separator if we have later first '=', not ';' or ','
        lastComma = pos;
        pos += 1;
        skipWhitespace();
        nextStart = pos;
        while (pos < cookiesString.length && notSpecialChar()) {
          pos += 1;
        }

        // currently special character
        if (pos < cookiesString.length && cookiesString.charAt(pos) === "=") {
          // we found cookies separator
          cookiesSeparatorFound = true;
          // pos is inside the next cookie, so back up and return it.
          pos = nextStart;
          cookiesStrings.push(cookiesString.substring(start, lastComma));
          start = pos;
        } else {
          // in param ',' or param separator ';',
          // we continue from that comma
          pos = lastComma + 1;
        }
      } else {
        pos += 1;
      }
    }
    if (!cookiesSeparatorFound || pos >= cookiesString.length) {
      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));
    }
  }
  return cookiesStrings;
}
module.exports = parse;
module.exports.parse = parse;
module.exports.parseString = parseString;
module.exports.splitCookiesString = splitCookiesString;
},{}],249:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _excluded = ["children"],
  _excluded2 = ["tag", "children"];
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var React = require('react');
var obj2props = function obj2props(obj) {
  return Object.entries(obj).map(function (_ref) {
    var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
      k = _ref2[0],
      v = _ref2[1];
    return "".concat(k, "=\"").concat(v, "\"");
  }).join(' ');
};
var toStr = function toStr(chld) {
  return Array.isArray(chld) ? chld.join('') : chld;
};
var onServer = typeof window === 'undefined';
var injectTag = require('./utils/injectTag.js');
var NamedTags = {};
var UnnamedTags = [];
var HeadComponents = {
  Title: function Title(_ref3) {
    var children = _ref3.children;
    if (onServer) NamedTags.title = "<title>".concat(toStr(children), "</title>");
    React.useEffect(function () {
      document.title = toStr(children);
    }, [children]);
    return null;
  },
  Favicon: function Favicon(_ref4) {
    var _ref4$type = _ref4.type,
      type = _ref4$type === void 0 ? 'image/png' : _ref4$type,
      _ref4$href = _ref4.href,
      href = _ref4$href === void 0 ? '' : _ref4$href,
      _ref4$rel = _ref4.rel,
      rel = _ref4$rel === void 0 ? 'icon' : _ref4$rel,
      _ref4$id = _ref4.id,
      id = _ref4$id === void 0 ? 'favicon' : _ref4$id;
    if (onServer) NamedTags.favicon = "<link rel='shortcut icon' type=\"".concat(type, "\" id=\"").concat(id, "\" href=\"").concat(href, "\" />");
    React.useEffect(function () {
      document.getElementById(id).href = href;
    }, [id, href]);
    return null;
  },
  Description: function Description(_ref5) {
    var children = _ref5.children;
    if (onServer) NamedTags.description = "<meta name='description' content='".concat(toStr(children), "' />");
    return null;
  },
  Noscript: function Noscript(_ref6) {
    var children = _ref6.children;
    if (onServer) UnnamedTags.push("<noscript>".concat(toStr(children), "</noscript>"));
    return null;
  },
  Script: function Script(_ref7) {
    var _ref7$children = _ref7.children,
      children = _ref7$children === void 0 ? [] : _ref7$children,
      props = (0, _objectWithoutProperties2["default"])(_ref7, _excluded);
    if (onServer) {
      UnnamedTags.push(children.length ? "<script ".concat(obj2props(props), ">").concat(toStr(children), "</script>") : "<script ".concat(obj2props(props), " />"));
    }
    return null;
  },
  Meta: function Meta(props) {
    if (onServer) {}
    var tag = "<meta ".concat(obj2props(props), " />");
    props.property || props.name ? NamedTags[props.property || props.name] = tag : UnnamedTags.push(tag);
    React.useEffect(function () {
      document.getElementsByTagName('head')[0].insertAdjacentHTML('beforeend', Object.values(NamedTags).join('\n'));
    }, [NamedTags]);
    return null;
  },
  Style: function Style(_ref8) {
    var children = _ref8.children,
      _ref8$type = _ref8.type,
      type = _ref8$type === void 0 ? 'text/css' : _ref8$type;
    if (onServer) UnnamedTags.push("<style type=\"".concat(type, "\">").concat(toStr(children), "</style>"));
    return null;
  }
};
var Inject = function Inject(_ref9) {
  var tag = _ref9.tag,
    children = _ref9.children,
    props = (0, _objectWithoutProperties2["default"])(_ref9, _excluded2);
  React.useEffect(function () {
    injectTag(tag, props, children);
  }, []);
  return null;
};
module.exports = _objectSpread(_objectSpread({
  Inject: Inject
}, HeadComponents), {}, {
  generate: function generate() {
    return Object.values(NamedTags).concat(UnnamedTags).join('\n');
  },
  flush: function flush() {
    NamedTags = {};
    UnnamedTags = [];
  }
});
},{"./utils/injectTag.js":250,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/objectWithoutProperties":94,"@babel/runtime/helpers/slicedToArray":107,"react":"react"}],250:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var injectTag = function injectTag(tag, props, children) {
  var injectNode = document.createElement(tag);
  Object.entries(props).map(function (_ref) {
    var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
      key = _ref2[0],
      val = _ref2[1];
    return injectNode[key] = val;
  });
  if (children) injectNode.appendChild(document.createTextNode(children));
  document.getElementsByTagName('head')[0].appendChild(injectNode);
};
module.exports = injectTag;
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107}],251:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": "",
  "unitSeparator": "",
  "allSeparator": "و",
  "base": {
    "0": "صفر",
    "1": "واحد",
    "2": "اثنان",
    "3": "ثلاثة",
    "4": "أربعة",
    "5": "خمسة",
    "6": "ستة",
    "7": "سبعة",
    "8": "ثمانية",
    "9": "تسعة",

    "10": "عشرة",
    "11": "أحد عشر",
    "12": "إثنا عشر",
    "13": "ثلاثة عشر",
    "14": "أربعة عشر",
    "15": "خمسة عشر",
    "16": "ستة عشر",
    "17": "سبعة عشر",
    "18": "ثمانية عشر",
    "19": "تسعة عشر",

    "20": "عشرون",
    "21": "واحد وعشرون",
    "22": "اثنان وعشرون",
    "23": "ثلاثة وعشرون",
    "24": "أربعة وعشرون",
    "25": "خمسة وعشرون",
    "26": "ستة وعشرون",
    "27": "سبعة وعشرون",
    "28": "ثمانية وعشرون",
    "29": "تسعة وعشرون",
    
    "30": "ثلاثون",    
    "31": "واحد وثلاثون",
    "32": "اثنان وثلاثون",
    "33": "ثلاثة وثلاثون",
    "34": "أربعة وثلاثون",
    "35": "خمسة وثلاثون",
    "36": "ستة وثلاثون",
    "37": "سبعة وثلاثون",
    "38": "ثمانية وثلاثون",
    "39": "تسعة وثلاثون",

    "40": "أربعون",
    "41": "واحد وأربعون",
    "42": "اثنان وأربعون",
    "43": "ثلاثة وأربعون",
    "44": "أربعة وأربعون",
    "45": "خمسة وأربعون",
    "46": "ستة وأربعون",
    "47": "سبعة وأربعون",
    "48": "ثمانية وأربعون",
    "49": "تسعة وأربعون",

    "50": "خمسون",
    "51": "واحد وخمسون",
    "52": "اثنان وخمسون",
    "53": "ثلاثة وخمسون",
    "54": "أربعة وخمسون",
    "55": "خمسة وخمسون",
    "56": "ستة وخمسون",
    "57": "سبعة وخمسون",
    "58": "ثمانية وخمسون",
    "59": "تسعة وخمسون",

    "60": "ستون",
    "61": "واحد وستون",
    "62": "اثنان وستون",
    "63": "ثلاثة وستون",
    "64": "أربعة وستون",
    "65": "خمسة وستون",
    "66": "ستة وستون",
    "67": "سبعة وستون",
    "68": "ثمانية وستون",
    "69": "تسعة وستون",

    "70": "سبعون",
    "71": "واحد وسبعون",
    "72": "اثنان وسبعون",
    "73": "ثلاثة وسبعون",
    "74": "أربعة وسبعون",
    "75": "خمسة وسبعون",
    "76": "ستة وسبعون",
    "77": "سبعة وسبعون",
    "78": "ثمانية وسبعون",
    "79": "تسعة وسبعون",

    "80": "ثمانون",
    "81": "واحد وثمانون",
    "82": "اثنان وثمانون",
    "83": "ثلاثة وثمانون",
    "84": "أربعة وثمانون",
    "85": "خمسة وثمانون",
    "86": "ستة وثمانون",
    "87": "سبعة وثمانون",
    "88": "ثمانية وثمانون",
    "89": "تسعة وثمانون",
    
    "90": "تسعون",
    "91": "واحد وتسعون",
    "92": "اثنان وتسعون",
    "93": "ثلاثة وتسعون",
    "94": "أربعة وتسعون",
    "95": "خمسة وتسعون",
    "96": "ستة وتسعون",
    "97": "سبعة وتسعون",
    "98": "ثمانية وتسعون",
    "99": "تسعة وتسعون",

    "200": "مائتان",
    "300": "ثلاثمائة",
    "400": "أربعمائة",
    "500": "خمسمائة",
    "600": "ستمائة",
    "700": "سبعمائة",
    "800": "ثمانمائة",
    "900": "تسعمائة"
  },
  "units" : [
    {"singular":"مائة", "useBaseInstead": true, "useBaseException": [1]},
    {"singular":"ألف", "dual":"ألفان", "plural":"آلاف", "restrictedPlural": true, "avoidPrefixException": [1, 2]},
    {"singular":"مليون", "dual":"مليونان", "plural":"ملايين", "restrictedPlural": true, "avoidPrefixException": [1, 2]},
    {"singular":"مليار", "dual":"ملياران", "plural":"ملايير", "restrictedPlural": true, "avoidPrefixException": [1, 2]},

    {"singular":"تريليون", "avoidPrefixException": [1]},
    {"singular":"كوادريليون", "avoidPrefixException": [1]},
    {"singular":"كوينتليون", "avoidPrefixException": [1]},
    {"singular":"سكستليون", "avoidPrefixException": [1]},
    {"singular":"سبتيلليون", "avoidPrefixException": [1]},
    {"singular":"أوكتيليون", "avoidPrefixException": [1]},
    {"singular":"نونيلليون", "avoidPrefixException": [1]},
    {"singular":"دشيليون", "avoidPrefixException": [1]},
    {"singular":"أوندشيلليون", "avoidPrefixException": [1]},
    {"singular":"دودشيليون", "avoidPrefixException": [1]},
    {"singular":"تريدشيليون", "avoidPrefixException": [1]},
    {"singular":"كواتوردشيليون", "avoidPrefixException": [1]},
    {"singular":"كويندشيليون" , "avoidPrefixException": [1]}
  ],
  "unitExceptions": {}
};
},{}],252:[function(require,module,exports){
module.exports=module.exports={
    "useLongScale": false,
    "baseSeparator": " ",
    "unitSeparator": "",
    "base": {
      "0": "sıfır",
      "1": "bir",
      "2": "iki",
      "3": "üç",
      "4": "dörd",
      "5": "beş",
      "6": "altı",
      "7": "yeddi",
      "8": "səkkiz",
      "9": "doqquz",
      "10": "on",
      "20": "iyirmi",
      "30": "otuz",
      "40": "qırx",
      "50": "əlli",
      "60": "altmış",
      "70": "yetmiş",
      "80": "səksən",
      "90": "doxsan"
    },
    "units" : [
      { 
        "singular": "yüz",
        "avoidPrefixException": [1]
      },
      { 
        "singular": "min",
        "avoidPrefixException": [1]
      },
      "milyon",
      "milyard",
      "trilyon",
      "kvadrilyon",
      "kentilyon",
      "sekstilyon",
      "septilyon",
      "oktilyon",
      "nonilyon",
      "desilyon",
      "andesilyon",
      "dodesilyon",
      "tredesilyon",
      "katordesilyon",
      "kendesilyon"
    ],
    "unitExceptions": []
  };
},{}],253:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": "-",
  "unitSeparator": "and ",
  "base": {
    "0": "zero",
    "1": "one",
    "2": "two",
    "3": "three",
    "4": "four",
    "5": "five",
    "6": "six",
    "7": "seven",
    "8": "eight",
    "9": "nine",
    "10": "ten",
    "11": "eleven",
    "12": "twelve",
    "13": "thirteen",
    "14": "fourteen",
    "15": "fifteen",
    "16": "sixteen",
    "17": "seventeen",
    "18": "eighteen",
    "19": "nineteen",
    "20": "twenty",
    "30": "thirty",
    "40": "forty",
    "50": "fifty",
    "60": "sixty",
    "70": "seventy",
    "80": "eighty",
    "90": "ninety"
  },
  "units" : {
    "2": "hundred",
    "3": "thousand",
    "5": "lakh",
    "7": "crore"
  },
  "unitExceptions": []
};
},{}],254:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": "-",
  "unitSeparator": "and ",
  "base": {
    "0": "zero",
    "1": "one",
    "2": "two",
    "3": "three",
    "4": "four",
    "5": "five",
    "6": "six",
    "7": "seven",
    "8": "eight",
    "9": "nine",
    "10": "ten",
    "11": "eleven",
    "12": "twelve",
    "13": "thirteen",
    "14": "fourteen",
    "15": "fifteen",
    "16": "sixteen",
    "17": "seventeen",
    "18": "eighteen",
    "19": "nineteen",
    "20": "twenty",
    "30": "thirty",
    "40": "forty",
    "50": "fifty",
    "60": "sixty",
    "70": "seventy",
    "80": "eighty",
    "90": "ninety"
  },
  "units" : [
    "hundred",
    "thousand",
    "million",
    "billion",
    "trillion",
    "quadrillion",
    "quintillion",
    "sextillion",
    "septillion",
    "octillion",
    "nonillion",
    "decillion",
    "undecillion",
    "duodecillion",
    "tredecillion",
    "quattuordecillion",
    "quindecillion"
  ],
  "unitExceptions": []
};
},{}],255:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": " ",
  "unitSeparator": "",
  "base": {
    "0": "nulo",
    "1": "unu",
    "2": "du",
    "3": "tri",
    "4": "kvar",
    "5": "kvin",
    "6": "ses",
    "7": "sep",
    "8": "ok",
    "9": "naŭ",
    "10": "dek",
    "20": "dudek",
    "30": "tridek",
    "40": "kvardek",
    "50": "kvindek",
    "60": "sesdek",
    "70": "sepdek",
    "80": "okdek",
    "90": "naŭdek",
    "100": "cent",
    "200": "ducent",
    "300": "tricent",
    "400": "kvarcent",
    "500": "kvincent",
    "600": "sescent",
    "700": "sepcent",
    "800": "okcent",
    "900": "naŭcent"
  },
  "units" : [
    {
      "useBaseInstead": true,
      "useBaseException": []
    },
    {
      "singular": "mil",
      "avoidPrefixException": [1]
    },
    {
      "singular": "miliono",
      "plural": "milionoj",
      "avoidPrefixException": [1]
    },
    {
      "singular": "miliardo",
      "plural": "miliardoj",
      "avoidPrefixException": [1]
    },
    {
      "singular": "biliono",
      "plural": "bilionoj",
      "avoidPrefixException": [1]
    }
  ],
  "unitExceptions": []
}
;
},{}],256:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": true,
  "baseSeparator": " y ",
  "unitSeparator": "",
  "base": {
    "0": "cero",
    "1": "uno",
    "2": "dos",
    "3": "tres",
    "4": "cuatro",
    "5": "cinco",
    "6": "seis",
    "7": "siete",
    "8": "ocho",
    "9": "nueve",
    "10": "diez",
    "11": "once",
    "12": "doce",
    "13": "trece",
    "14": "catorce",
    "15": "quince",
    "16": "dieciséis",
    "17": "diecisiete",
    "18": "dieciocho",
    "19": "diecinueve",
    "20": "veinte",
    "21": "veintiuno",
    "22": "veintidós",
    "23": "veintitrés",
    "24": "veinticuatro",
    "25": "veinticinco",
    "26": "veintiséis",
    "27": "veintisiete",
    "28": "veintiocho",
    "29": "veintinueve",
    "30": "treinta",
    "40": "cuarenta",
    "50": "cincuenta",
    "60": "sesenta",
    "70": "setenta",
    "80": "ochenta",
    "90": "noventa",
    "100": "cien",
    "200": "doscientos",
    "300": "trescientos",
    "400": "cuatrocientos",
    "500": "quinientos",
    "600": "seiscientos",
    "700": "setecientos",
    "800": "ochocientos",
    "900": "novecientos",
    "1000": "mil"
  },
  "unitExceptions": {
    "1000000": "un millón",
    "1000000000000": "un billón",
    "1000000000000000000": "un trillón",
    "1000000000000000000000000": "un cuatrillones",
    "1000000000000000000000000000000": "un quintillón",
    "1000000000000000000000000000000000000": "un sextillón",
    "1000000000000000000000000000000000000000000": "un septillón",
    "1000000000000000000000000000000000000000000000000": "un octillón",
    "1000000000000000000000000000000000000000000000000000000": "un nonillón",
    "1000000000000000000000000000000000000000000000000000000000000": "un decillón",
    "1000000000000000000000000000000000000000000000000000000000000000000": "un undecillón",
    "1000000000000000000000000000000000000000000000000000000000000000000000000": "un duodecillón",
    "1000000000000000000000000000000000000000000000000000000000000000000000000000000": "un tredecillón",
    "1000000000000000000000000000000000000000000000000000000000000000000000000000000000000": "un cuatordecillón",
    "1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000": "un quindecillón"
  },
  "units" : [
    {
      "singular": "ciento",
      "useBaseInstead": true,
      "useBaseException": [1],
      "useBaseExceptionWhenNoTrailingNumbers": true
    },
    {
      "singular": "mil",
      "avoidPrefixException": [1]
    },
    {
      "singular": "millón",
      "plural": "millones"
    },
    {
      "singular": "billón",
      "plural": "billones"
    },
    {
      "singular": "trillón",
      "plural": "trillones"
    },
    {
      "singular": "cuatrillón",
      "plural": "cuatrillones"
    },
    {
      "singular": "quintillón",
      "plural": "quintillones"
    },
    {
      "singular": "sextillón",
      "plural": "sextillones"
    },
    {
      "singular": "septillón",
      "plural": "septillones"
    },
    {
      "singular": "octillón",
      "plural": "octillones"
    },
    {
      "singular": "nonillón",
      "plural": "nonillones"
    },
    {
      "singular": "decillón",
      "plural": "decillones"
    },
    {
      "singular": "undecillón",
      "plural": "undecillones"
    },
    {
      "singular": "duodecillón",
      "plural": "duodecillones"
    },
    {
      "singular": "tredecillón",
      "plural": "tredecillones"
    },
    {
      "singular": "cuatrodecillón",
      "plural": "cuatrodecillones"
    },
    {
      "singular": "quindecillón",
      "plural": "quindecillones"
    }
  ]
}
;
},{}],257:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": "-",
  "unitSeparator": "",
  "base": {
    "0": "zéro",
    "1": "un",
    "2": "deux",
    "3": "trois",
    "4": "quatre",
    "5": "cinq",
    "6": "six",
    "7": "sept",
    "8": "huit",
    "9": "neuf",
    "10": "dix",
    "11": "onze",
    "12": "douze",
    "13": "treize",
    "14": "quatorze",
    "15": "quinze",
    "16": "seize",
    "17": "dix-sept",
    "18": "dix-huit",
    "19": "dix-neuf",
    "20": "vingt",
    "30": "trente",
    "40": "quarante",
    "50": "cinquante",
    "60": "soixante",
    "70": "soixante-dix",
    "80": "quatre-vingt",
    "90": "quatre-vingt-dix"
  },
  "units" : [
    {
      "singular": "cent",
      "plural": "cents",
      "avoidInNumberPlural": true,
      "avoidPrefixException": [1]
    },
    {
      "singular": "mille",
      "avoidPrefixException": [1]
    },
    {
      "singular": "million",
      "plural": "millions"
    },
    {
      "singular": "milliard",
      "plural": "milliards"
    },
    {
      "singular": "billion",
      "plural": "billions"
    },
    {
      "singular": "billiard",
      "plural": "billiards"
    },
    {
      "singular": "trillion",
      "plural": "trillions"
    },
    {
      "singular": "trilliard",
      "plural": "trilliards"
    },
    {
      "singular": "quadrillion",
      "plural": "quadrillions"
    },
    {
      "singular": "quadrilliard",
      "plural": "quadrilliards"
    },
    {
      "singular": "quintillion",
      "plural": "quintillions"
    },
    {
      "singular": "quintilliard",
      "plural": "quintilliards"
    },
    {
      "singular": "sextillion",
      "plural": "sextillions"
    },
    {
      "singular": "sextilliard",
      "plural": "sextilliards"
    },
    {
      "singular": "septillion",
      "plural": "septillions"
    },
    {
      "singular": "septilliard",
      "plural": "septilliards"
    },
    {
      "singular": "octillion",
      "plural": "octillions"
    }
  ],
  "unitExceptions": {
    "21": "vingt et un",
    "31": "trente et un",
    "41": "quarante et un",
    "51": "cinquante et un",
    "61": "soixante et un",
    "71": "soixante et onze",
    "72": "soixante-douze",
    "73": "soixante-treize",
    "74": "soixante-quatorze",
    "75": "soixante-quinze",
    "76": "soixante-seize",
    "77": "soixante-dix-sept",
    "78": "soixante-dix-huit",
    "79": "soixante-dix-neuf",
    "80": "quatre-vingts",
    "91": "quatre-vingt-onze",
    "92": "quatre-vingt-douze",
    "93": "quatre-vingt-treize",
    "94": "quatre-vingt-quatorze",
    "95": "quatre-vingt-quinze",
    "96": "quatre-vingt-seize",
    "97": "quatre-vingt-dix-sept",
    "98": "quatre-vingt-dix-huit",
    "99": "quatre-vingt-dix-neuf"
  }
}
;
},{}],258:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": true,
  "baseSeparator": "",
  "unitSeparator": "és ",
  "base": {
    "0": "nulla",
    "1": "egy",
    "2": "kettő",
    "3": "három",
    "4": "négy",
    "5": "öt",
    "6": "hat",
    "7": "hét",
    "8": "nyolc",
    "9": "kilenc",
    "10": "tíz",
    "11": "tizenegy",
    "12": "tizenkettő",
    "13": "tizenhárom",
    "14": "tizennégy",
    "15": "tizenöt",
    "16": "tizenhat",
    "17": "tizenhét",
    "18": "tizennyolc",
    "19": "tizenkilenc",
    "20": "húsz",
    "21": "huszonegy",
    "22": "huszonkettő",
    "23": "huszonhárom",
    "24": "huszonnégy",
    "25": "huszonöt",
    "26": "huszonhat",
    "27": "huszonhét",
    "28": "huszonnyolc",
    "29": "huszonkilenc",
    "30": "harminc",
    "40": "negyven",
    "50": "ötven",
    "60": "hatvan",
    "70": "hetven",
    "80": "nyolcvan",
    "90": "kilencven",
    "100": "száz",
    "200": "kétszáz",
    "300": "háromszáz",
    "400": "négyszáz",
    "500": "ötszáz",
    "600": "hatszáz",
    "700": "hétszáz",
    "800": "nyolcszáz",
    "900": "kilencszáz",
    "1000": "ezer"
  },
  "unitExceptions": {
    "1": "egy"
  },
  "units" : [
    {
      "singular": "száz",
      "useBaseInstead": true,
      "useBaseException": [1]
    },
    {
      "singular": "ezer",
      "avoidPrefixException": [1]
    },
    {
      "singular": "millió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "milliárd",
      "avoidPrefixException": [1]
    },
    {
      "singular": "-billió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "billiárd",
      "avoidPrefixException": [1]
    },
    {
      "singular": "trillió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "trilliárd",
      "avoidPrefixException": [1]
    },
    {
      "singular": "kvadrillió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "kvadrilliárd",
      "avoidPrefixException": [1]
    },
    {
      "singular": "kvintillió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "kvintilliárd",
      "avoidPrefixException": [1]
    },
    {
      "singular": "szextillió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "szeptillió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "oktillió",
      "avoidPrefixException": [1]
    },
    {
      "singular": "nonillió",
      "avoidPrefixException": [1]
    }
  ]
}
;
},{}],259:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": " ",
  "unitSeparator": "",
  "base": {
    "0": "nol",
    "1": "satu",
    "2": "dua",
    "3": "tiga",
    "4": "empat",
    "5": "lima",
    "6": "enam",
    "7": "tujuh",
    "8": "delapan",
    "9": "sembilan",
    "10": "sepuluh",
    "11": "sebelas",
    "12": "dua belas",
    "13": "tiga belas",
    "14": "empat belas",
    "15": "lima belas",
    "16": "enam belas",
    "17": "tujuh belas",
    "18": "delapan belas",
    "19": "sembilan belas",
    "20": "dua puluh",
    "30": "tiga puluh",
    "40": "empat puluh",
    "50": "lima puluh",
    "60": "enam puluh",
    "70": "tujuh puluh",
    "80": "delapan puluh",
    "90": "sembilan puluh"
  },
  "units" : [
    {
        "singular": "seratus",
        "plural": "ratus",
        "avoidPrefixException": [1]
    },
    {
        "singular": "seribu",
        "plural": "ribu",
        "avoidPrefixException": [1]
    },
    "juta",
    "miliar",
    "triliun",
    "kuadiliun"
  ],
  "unitExceptions": []
}
;
},{}],260:[function(require,module,exports){
module.exports=module.exports={
    "useLongScale": false,
    "baseSeparator": "",
    "unitSeparator": "",
    "generalSeparator": "",
    "wordSeparator": "",
    "base": {
        "0": "zero",
        "1": "uno",
        "2": "due",
        "3": "tre",
        "4": "quattro",
        "5": "cinque",
        "6": "sei",
        "7": "sette",
        "8": "otto",
        "9": "nove",
        "10": "dieci",
        "11": "undici",
        "12": "dodici",
        "13": "tredici",
        "14": "quattordici",
        "15": "quindici",
        "16": "sedici",
        "17": "diciassette",
        "18": "diciotto",
        "19": "diciannove",
        "20": "venti",
        "21": "ventuno",
        "23": "ventitré",
        "28": "ventotto",
        "30": "trenta",
        "31": "trentuno",
        "33": "trentatré",
        "38": "trentotto",
        "40": "quaranta",
        "41": "quarantuno",
        "43": "quaranta­tré",
        "48": "quarantotto",
        "50": "cinquanta",
        "51": "cinquantuno",
        "53": "cinquantatré",
        "58": "cinquantotto",
        "60": "sessanta",
        "61": "sessantuno",
        "63": "sessanta­tré",
        "68": "sessantotto",
        "70": "settanta",
        "71": "settantuno",
        "73": "settantatré",
        "78": "settantotto",
        "80": "ottanta",
        "81": "ottantuno",
        "83": "ottantatré",
        "88": "ottantotto",
        "90": "novanta",
        "91": "novantuno",
        "93": "novantatré",
        "98": "novantotto",
        "100": "cento",
        "101": "centuno",
        "108": "centootto",
        "180": "centottanta",
        "201": "duecentuno",
        "301": "tre­cent­uno",
        "401": "quattro­cent­uno",
        "501": "cinque­cent­uno",
        "601": "sei­cent­uno",
        "701": "sette­cent­uno",
        "801": "otto­cent­uno",
        "901": "nove­cent­uno"
    },
    "unitExceptions": {
        "1": "un"
    },
    "units": [
        {
            "singular": "cento",
            "avoidPrefixException": [
                1
            ]
        },
        {
            "singular": "mille",
            "plural": "mila",
            "avoidPrefixException": [
                1
            ]
        },
        {
            "singular": "milione",
            "plural": "milioni"
        },
        {
            "singular": "miliardo",
            "plural": "miliardi"
        },
        {
            "singular": "bilione",
            "plural": "bilioni"
        },
        {
            "singular": "biliardo",
            "plural": "biliardi"
        },
        {
            "singular": "trilione",
            "plural": "trilioni"
        },
        {
            "singular": "triliardo",
            "plural": "triliardi"
        },
        {
            "singular": "quadrilione",
            "plural": "quadrilioni"
        },
        {
            "singular": "quadriliardo",
            "plural": "quadriliardi"
        }
    ]
}
;
},{}],261:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": true,
  "baseSeparator": " e ",
  "unitSeparator": "e ",
  "andWhenTrailing": true,
  "base": {
    "0": "zero",
    "1": "um",
    "2": "dois",
    "3": "três",
    "4": "quatro",
    "5": "cinco",
    "6": "seis",
    "7": "sete",
    "8": "oito",
    "9": "nove",
    "10": "dez",
    "11": "onze",
    "12": "doze",
    "13": "treze",
    "14": "catorze",
    "15": "quinze",
    "16": "dezasseis",
    "17": "dezassete",
    "18": "dezoito",
    "19": "dezanove",
    "20": "vinte",
    "30": "trinta",
    "40": "quarenta",
    "50": "cinquenta",
    "60": "sessenta",
    "70": "setenta",
    "80": "oitenta",
    "90": "noventa",
    "100": "cem",
    "200": "duzentos",
    "300": "trezentos",
    "400": "quatrocentos",
    "500": "quinhentos",
    "600": "seiscentos",
    "700": "setecentos",
    "800": "oitocentos",
    "900": "novecentos",
    "1000": "mil"
  },
  "unitExceptions": {
    "1": "um"
  },
  "units" : [
    {
      "singular": "cento",
      "useBaseInstead": true,
      "useBaseException": [
        1
      ],
      "useBaseExceptionWhenNoTrailingNumbers": true,
      "andException": true
    },
    {
      "singular": "mil",
      "avoidPrefixException": [1],
      "andException": true
    },
    {
      "singular": "milhão",
      "plural": "milhões"
    },
    {
      "singular": "bilião",
      "plural": "biliões"
    },
    {
      "singular": "trilião",
      "plural": "triliões"
    },
    {
      "singular": "quadrilião",
      "plural": "quadriliões"
    },
    {
      "singular": "quintilião",
      "plural": "quintiliões"
    },
    {
      "singular": "sextilião",
      "plural": "sextiliões"
    },
    {
      "singular": "septilião",
      "plural": "septiliões"
    },
    {
      "singular": "octilião",
      "plural": "octiliões"
    },
    {
      "singular": "nonilião",
      "plural": "noniliões"
    },
    {
      "singular": "decilião",
      "plural": "deciliões"
    }
  ]
}
;
},{}],262:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": " e ",
  "unitSeparator": "e ",
  "andWhenTrailing": true,
  "base": {
    "0": "zero",
    "1": "um",
    "2": "dois",
    "3": "três",
    "4": "quatro",
    "5": "cinco",
    "6": "seis",
    "7": "sete",
    "8": "oito",
    "9": "nove",
    "10": "dez",
    "11": "onze",
    "12": "doze",
    "13": "treze",
    "14": "catorze",
    "15": "quinze",
    "16": "dezesseis",
    "17": "dezessete",
    "18": "dezoito",
    "19": "dezenove",
    "20": "vinte",
    "30": "trinta",
    "40": "quarenta",
    "50": "cinquenta",
    "60": "sessenta",
    "70": "setenta",
    "80": "oitenta",
    "90": "noventa",
    "100": "cem",
    "200": "duzentos",
    "300": "trezentos",
    "400": "quatrocentos",
    "500": "quinhentos",
    "600": "seiscentos",
    "700": "setecentos",
    "800": "oitocentos",
    "900": "novecentos",
    "1000": "mil"
  },
  "unitExceptions": {
    "1": "um"
  },
  "units" : [
    {
      "singular": "cento",
      "useBaseInstead": true,
      "useBaseException": [
        1
      ],
      "useBaseExceptionWhenNoTrailingNumbers": true,
      "andException": true
    },
    {
      "singular": "mil",
      "avoidPrefixException": [1],
      "andException": true
    },
    {
      "singular": "milhão",
      "plural": "milhões"
    },
    {
      "singular": "bilhão",
      "plural": "bilhões"
    },
    {
      "singular": "trilhão",
      "plural": "trilhões"
    },
    {
      "singular": "quadrilhão",
      "plural": "quadrilhão"
    },
    {
      "singular": "quintilhão",
      "plural": "quintilhões"
    },
    {
      "singular": "sextilhão",
      "plural": "sextilhões"
    },
    {
      "singular": "septilhão",
      "plural": "septilhões"
    },
    {
      "singular": "octilhão",
      "plural": "octilhões"
    },
    {
      "singular": "nonilhão",
      "plural": "nonilhões"
    },
    {
      "singular": "decilhão",
      "plural": "decilhões"
    },
    {
      "singular": "undecilhão",
      "plural": "undecilhões"
    },
    {
      "singular": "doudecilhão",
      "plural": "doudecilhões"
    },
    {
      "singular": "tredecilhão",
      "plural": "tredecilhões"
    }
  ]
}
;
},{}],263:[function(require,module,exports){
module.exports=module.exports={
    "useLongScale": false,
    "baseSeparator": " ",
    "unitSeparator": "",
    "base": {
        "0": "ноль",
        "1": "один",
        "2": "два",
        "3": "три",
        "4": "четыре",
        "5": "пять",
        "6": "шесть",
        "7": "семь",
        "8": "восемь",
        "9": "девять",
        "10": "десять",
        "11": "одинадцать",
        "12": "двенадцать",
        "13": "тринадцать",
        "14": "четырнадцать",
        "15": "пятнадцать",
        "16": "шестнадцать",
        "17": "семнадцать",
        "18": "восемнадцать",
        "19": "девятнадцать",
        "20": "двадцать",
        "30": "тридцать",
        "40": "сорок",
        "50": "пятьдесят",
        "60": "шестьдесят",
        "70": "семьдесят",
        "80": "восемьдесят",
        "90": "девяносто",
        "100": "сто",
        "200": "двести",
        "300": "триста",
        "400": "четыреста",
        "500": "пятьсот",
        "600": "шестьсот",
        "700": "семьсот",
        "800": "восемьсот",
        "900": "девятьсот"
    },
    "alternativeBase": {
        "feminine": {
            "1": "одна",
            "2": "две"
        }
    },
    "units": [
        {
            "useBaseInstead": true,
            "useBaseException": []
        },
        {
            "singular": "тысяча",
            "few": "тысячи",
            "plural": "тысяч",
            "useAlternativeBase": "feminine",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "миллион",
            "few": "миллиона",
            "plural": "миллионов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "миллиард",
            "few": "миллиарда",
            "plural": "миллиардов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "триллион",
            "few": "триллиона",
            "plural": "триллионов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "квадрильон",
            "few": "квадриллион",
            "plural": "квадрилон",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "квинтиллион",
            "few": "квинтиллиона",
            "plural": "квинтильонов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "секстиллионов",
            "few": "секстильона",
            "plural": "секстиллионов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "септиллион",
            "few": "септиллиона",
            "plural": "септиллионов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "октиллион",
            "few": "октиллиона",
            "plural": "октиллионов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "нониллион",
            "few": "нониллиона",
            "plural": "нониллионов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "дециллион",
            "few": "дециллиона",
            "plural": "дециллионов",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "ундециллион",
            "few": "ундециллиона",
            "plural": "ундециллионив",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "дуодециллион",
            "few": "дуодециллиона",
            "plural": "дуодециллионив",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "тредециллион",
            "few": "тредециллиона",
            "plural": "тредециллионив",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "кватуордециллион",
            "few": "кватуордециллиона",
            "plural": "кватуордециллионив",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        },
        {
            "singular": "квиндециллион",
            "few": "квиндециллиона",
            "plural": "квиндециллионив",
            "useSingularEnding": true,
            "useFewEnding": true,
            "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
        }
    ],
    "unitExceptions": []
};
},{}],264:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": " ",
  "unitSeparator": "",
  "base": {
    "0": "sıfır",
    "1": "bir",
    "2": "iki",
    "3": "üç",
    "4": "dört",
    "5": "beş",
    "6": "altı",
    "7": "yedi",
    "8": "sekiz",
    "9": "dokuz",
    "10": "on",
    "20": "yirmi",
    "30": "otuz",
    "40": "kırk",
    "50": "elli",
    "60": "altmış",
    "70": "yetmiş",
    "80": "seksen",
    "90": "doksan"
  },
  "units" : [
    { 
      "singular": "yüz",
      "avoidPrefixException": [1]
    },
    { 
      "singular": "bin",
      "avoidPrefixException": [1]
    },
    "milyon",
    "milyar",
    "trilyon",
    "katrilyon",
    "kentilyon",
    "sekstilyon",
    "septilyon",
    "oktilyon",
    "nonilyon",
    "desilyon",
    "andesilyon",
    "dodesilyon",
    "tredesilyon",
    "katordesilyon",
    "kendesilyon"
  ],
  "unitExceptions": []
};
},{}],265:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": " ",
  "unitSeparator": "",
  "base": {
    "0": "нуль",
    "1": "один",
    "2": "два",
    "3": "три",
    "4": "чотири",
    "5": "п’ять",
    "6": "шість",
    "7": "сім",
    "8": "вісім",
    "9": "дев’ять",
    "10": "десять",
    "11": "одинадцять",
    "12": "дванадцять",
    "13": "тринадцять",
    "14": "чотирнадцять",
    "15": "п’ятнадцять",
    "16": "шістнадцять",
    "17": "сімнадцять",
    "18": "вісімнадцять",
    "19": "дев’ятнадцять",
    "20": "двадцять",
    "30": "тридцять",
    "40": "сорок",
    "50": "п’ятдесят",
    "60": "шістдесят",
    "70": "сімдесят",
    "80": "вісімдесят",
    "90": "дев’яносто",
    "100": "сто",
    "200": "двісті",
    "300": "триста",
    "400": "чотириста",
    "500": "п’ятсот",
    "600": "шістсот",
    "700": "сімсот",
    "800": "вісімсот",
    "900": "дев’ятсот"
  },
  "alternativeBase": {
    "feminine": {
      "1": "одна",
      "2": "дві"
    }
  },
  "units" : [
    {
      "useBaseInstead": true,
      "useBaseException": []
    },
    {
      "singular": "тисяча",
      "few": "тисячі",
      "plural": "тисяч",
      "useAlternativeBase": "feminine",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "мільйон",
      "few": "мільйони",
      "plural": "мільйонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "мільярд",
      "few": "мільярди",
      "plural": "мільярдів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "трильйон",
      "few": "трильйони",
      "plural": "трильйонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "квадрильйон",
      "few": "квадрильйони",
      "plural": "квадрильйонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "квінтильйон",
      "few": "квінтильйони",
      "plural": "квінтильйонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "секстильйон",
      "few": "секстильйони",
      "plural": "секстильйонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "септілліон",
      "few": "септілліони",
      "plural": "септілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "октілліон",
      "few": "октілліони",
      "plural": "октілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "нонілліон",
      "few": "нонілліони",
      "plural": "нонілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "децілліон",
      "few": "децілліони",
      "plural": "децілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "ундецілліон",
      "few": "ундецілліони",
      "plural": "ундецілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "дуодецілліон",
      "few": "дуодецілліони",
      "plural": "дуодецілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "тредецілліон",
      "few": "тредецілліони",
      "plural": "тредецілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "кватуордецілліон",
      "few": "кватуордецілліони",
      "plural": "кватуордецілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    },
    {
      "singular": "квіндецілліон",
      "few": "квіндецілліони",
      "plural": "квіндецілліонів",
      "useSingularEnding": true,
      "useFewEnding": true,
      "avoidEndingRules": [11, 12, 13, 14, 111, 112, 113, 114, 211, 212, 213, 214, 311, 312, 313, 314, 411, 412, 413, 414, 511, 512, 513, 514, 611, 612, 613, 614, 711, 712, 713, 714, 811, 812, 813, 814, 911, 912, 913, 914]
    }
  ],
  "unitExceptions": []
}
;
},{}],266:[function(require,module,exports){
module.exports=module.exports={
  "useLongScale": false,
  "baseSeparator": " ",
  "unitSeparator": "và ",
  "base": {
    "0": "không",
    "1": "một",
    "2": "hai",
    "3": "ba",
    "4": "bốn",
    "5": "năm",
    "6": "sáu",
    "7": "bảy",
    "8": "tám",
    "9": "chín",
    "10": "mười",
    "15": "mười lăm",
    "20": "hai mươi",
    "21": "hai mươi mốt",
    "25": "hai mươi lăm",
    "30": "ba mươi",
    "31": "ba mươi mốt",
    "40": "bốn mươi",
    "41": "bốn mươi mốt",
    "45": "bốn mươi lăm",
    "50": "năm mươi",
    "51": "năm mươi mốt",
    "55": "năm mươi lăm",
    "60": "sáu mươi",
    "61": "sáu mươi mốt",
    "65": "sáu mươi lăm",
    "70": "bảy mươi",
    "71": "bảy mươi mốt",
    "75": "bảy mươi lăm",
    "80": "tám mươi",
    "81": "tám mươi mốt",
    "85": "tám mươi lăm",
    "90": "chín mươi",
    "91": "chín mươi mốt",
    "95": "chín mươi lăm"
  },
  "units" : [
    "trăm",
    "ngàn",
    "triệu",
    "tỷ",
    "nghìn tỷ"
  ],
  "unitExceptions": []
};
},{}],267:[function(require,module,exports){
"use strict";

exports = module.exports = writtenNumber;
var util = require("./util");
var languages = ["en", "es", "ar", "az", "pt", "fr", "eo", "it", "vi", "tr", "uk", "ru", "id"];
var i18n = {
  en: require("./i18n/en.json"),
  es: require("./i18n/es.json"),
  ar: require("./i18n/ar.json"),
  az: require("./i18n/az.json"),
  pt: require("./i18n/pt.json"),
  ptPT: require("./i18n/pt-PT.json"),
  fr: require("./i18n/fr.json"),
  eo: require("./i18n/eo.json"),
  it: require("./i18n/it.json"),
  vi: require("./i18n/vi.json"),
  tr: require("./i18n/tr.json"),
  hu: require("./i18n/hu.json"),
  enIndian: require("./i18n/en-indian.json"),
  uk: require("./i18n/uk.json"),
  ru: require("./i18n/ru.json"),
  id: require("./i18n/id.json")
};
exports.i18n = i18n;
var shortScale = [100];
for (var i = 1; i <= 16; i++) {
  shortScale.push(Math.pow(10, i * 3));
}
var longScale = [100, 1000];
for (i = 1; i <= 15; i++) {
  longScale.push(Math.pow(10, i * 6));
}
writtenNumber.defaults = {
  noAnd: false,
  alternativeBase: null,
  lang: "en"
};

/**
 * Converts numbers to their written form.
 *
 * @param {Number} n The number to convert
 * @param {Object} [options] An object representation of the options
 * @return {String} writtenN The written form of `n`
 */

function writtenNumber(n, options) {
  options = options || {};
  options = util.defaults(options, writtenNumber.defaults);
  if (n < 0) {
    return "";
  }
  n = Math.round(+n);
  var language = typeof options.lang === "string" ? i18n[options.lang] : options.lang;
  if (!language) {
    if (languages.indexOf(writtenNumber.defaults.lang) < 0) {
      writtenNumber.defaults.lang = "en";
    }
    language = i18n[writtenNumber.defaults.lang];
  }
  var scale = language.useLongScale ? longScale : shortScale;
  var units = language.units;
  var unit;
  if (!(units instanceof Array)) {
    var rawUnits = units;
    units = [];
    scale = Object.keys(rawUnits);
    for (var i in scale) {
      units.push(rawUnits[scale[i]]);
      scale[i] = Math.pow(10, parseInt(scale[i]));
    }
  }
  var baseCardinals = language.base;
  var alternativeBaseCardinals = options.alternativeBase ? language.alternativeBase[options.alternativeBase] : {};
  if (language.unitExceptions[n]) return language.unitExceptions[n];
  if (alternativeBaseCardinals[n]) return alternativeBaseCardinals[n];
  if (baseCardinals[n]) return baseCardinals[n];
  if (n < 100) return handleSmallerThan100(n, language, unit, baseCardinals, alternativeBaseCardinals, options);
  var m = n % 100;
  var ret = [];
  if (m) {
    if (options.noAnd && !(language.andException && language.andException[10])) {
      ret.push(writtenNumber(m, options));
    } else {
      ret.push(language.unitSeparator + writtenNumber(m, options));
    }
  }
  var firstSignificant;
  for (var i = 0, len = units.length; i < len; i++) {
    var r = Math.floor(n / scale[i]);
    var divideBy;
    if (i === len - 1) divideBy = 1000000;else divideBy = scale[i + 1] / scale[i];
    r %= divideBy;
    unit = units[i];
    if (!r) continue;
    firstSignificant = scale[i];
    if (unit.useBaseInstead) {
      var shouldUseBaseException = unit.useBaseException.indexOf(r) > -1 && (unit.useBaseExceptionWhenNoTrailingNumbers ? i === 0 && ret.length : true);
      if (!shouldUseBaseException) {
        ret.push(alternativeBaseCardinals[r * scale[i]] || baseCardinals[r * scale[i]]);
      } else {
        ret.push(r > 1 && unit.plural ? unit.plural : unit.singular);
      }
      continue;
    }
    var str;
    if (typeof unit === "string") {
      str = unit;
    } else if (r === 1 || unit.useSingularEnding && r % 10 === 1 && (!unit.avoidEndingRules || unit.avoidEndingRules.indexOf(r) < 0)) {
      str = unit.singular;
    } else if (unit.few && (r > 1 && r < 5 || unit.useFewEnding && r % 10 > 1 && r % 10 < 5 && (!unit.avoidEndingRules || unit.avoidEndingRules.indexOf(r) < 0))) {
      str = unit.few;
    } else {
      str = unit.plural && (!unit.avoidInNumberPlural || !m) ? unit.plural : unit.singular;

      // Languages with dual
      str = r === 2 && unit.dual ? unit.dual : str;

      // "restrictedPlural" : use plural only for 3 to 10
      str = r > 10 && unit.restrictedPlural ? unit.singular : str;
    }
    if (unit.avoidPrefixException && unit.avoidPrefixException.indexOf(r) > -1) {
      ret.push(str);
      continue;
    }
    var exception = language.unitExceptions[r];
    var number = exception || writtenNumber(r, util.defaults({
      // Languages with and exceptions need to set `noAnd` to false
      noAnd: !(language.andException && language.andException[r] || unit.andException) && true,
      alternativeBase: unit.useAlternativeBase
    }, options));
    n -= r * scale[i];
    ret.push(number + " " + str);
  }
  var firstSignificantN = firstSignificant * Math.floor(n / firstSignificant);
  var rest = n - firstSignificantN;
  if (language.andWhenTrailing && firstSignificant && 0 < rest && ret[0].indexOf(language.unitSeparator) !== 0) {
    ret = [ret[0], language.unitSeparator.replace(/\s+$/, "")].concat(ret.slice(1));
  }

  // Languages that have separators for all cardinals.
  if (language.allSeparator) {
    for (var j = 0; j < ret.length - 1; j++) {
      ret[j] = language.allSeparator + ret[j];
    }
  }
  var result = ret.reverse().join(" ");
  return result;
}
function handleSmallerThan100(n, language, unit, baseCardinals, alternativeBaseCardinals, options) {
  var dec = Math.floor(n / 10) * 10;
  unit = n - dec;
  if (unit) {
    return alternativeBaseCardinals[dec] || baseCardinals[dec] + language.baseSeparator + writtenNumber(unit, options);
  }
  return alternativeBaseCardinals[dec] || baseCardinals[dec];
}
},{"./i18n/ar.json":251,"./i18n/az.json":252,"./i18n/en-indian.json":253,"./i18n/en.json":254,"./i18n/eo.json":255,"./i18n/es.json":256,"./i18n/fr.json":257,"./i18n/hu.json":258,"./i18n/id.json":259,"./i18n/it.json":260,"./i18n/pt-PT.json":261,"./i18n/pt.json":262,"./i18n/ru.json":263,"./i18n/tr.json":264,"./i18n/uk.json":265,"./i18n/vi.json":266,"./util":268}],268:[function(require,module,exports){
"use strict";

/**
 * Merges a set of default keys with a target object
 * (Like _.defaults, but will also extend onto null/undefined)
 *
 * @param {Object} [target] The object to extend
 * @param {Object} defaults The object to default to
 * @return {Object} extendedTarget
 */
function defaults(target, defs) {
  if (target == null) target = {};
  var ret = {};
  var keys = Object.keys(defs);
  for (var i = 0, len = keys.length; i < len; i++) {
    var key = keys[i];
    ret[key] = target[key] || defs[key];
  }
  return ret;
}
exports.defaults = defaults;
},{}],269:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DEFAULT_BREW_LOAD = exports.DEFAULT_BREW = void 0;
var _lodash = _interopRequireDefault(require("lodash"));
// Default properties for newly-created brews
var DEFAULT_BREW = exports.DEFAULT_BREW = {
  title: '',
  text: '',
  style: undefined,
  description: '',
  editId: undefined,
  shareId: undefined,
  createdAt: undefined,
  updatedAt: undefined,
  renderer: 'V3',
  theme: '5ePHB',
  authors: [],
  tags: [],
  systems: [],
  lang: 'en',
  thumbnail: '',
  views: 0,
  published: false,
  pageCount: 1,
  gDrive: false,
  trashed: false
};
// Default values for older brews with missing properties
// e.g., missing "renderer" is assumed to be "legacy"
var DEFAULT_BREW_LOAD = exports.DEFAULT_BREW_LOAD = _lodash["default"].defaults({
  renderer: 'legacy'
}, DEFAULT_BREW);
},{"@babel/runtime/helpers/interopRequireDefault":86,"lodash":"lodash"}],270:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.splitTextStyleAndMetadata = exports.printCurrentBrew = exports.fetchThemeBundle = exports.debugTextMismatch = exports.brewSnippetsToJSON = void 0;
var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _lodash = _interopRequireDefault(require("lodash"));
var _jsYaml = _interopRequireDefault(require("js-yaml"));
var _requestMiddleware = _interopRequireDefault(require("../client/homebrew/utils/request-middleware.js"));
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
// Convert the templates from a brew to a Snippets Structure.
var brewSnippetsToJSON = exports.brewSnippetsToJSON = function brewSnippetsToJSON(menuTitle, userBrewSnippets) {
  var themeBundleSnippets = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var full = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  var textSplit = /^(\\snippet +.+\n)/gm;
  var mpAsSnippets = [];
  // Snippets from Themes first.
  if (themeBundleSnippets) {
    var _iterator = _createForOfIteratorHelper(themeBundleSnippets),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var themes = _step.value;
        if (typeof themes !== 'string') {
          var userSnippets = [];
          var snipSplit = themes.snippets.trim().split(textSplit).slice(1);
          for (var snips = 0; snips < snipSplit.length; snips += 2) {
            if (!snipSplit[snips].startsWith('\\snippet ')) break;
            var snippetName = snipSplit[snips].split(/\\snippet +/)[1].split('\n')[0].trim();
            if (snippetName.length != 0) {
              userSnippets.push({
                name: snippetName,
                icon: '',
                gen: snipSplit[snips + 1]
              });
            }
          }
          if (userSnippets.length > 0) {
            mpAsSnippets.push({
              name: themes.name,
              icon: '',
              gen: '',
              subsnippets: userSnippets
            });
          }
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  }
  // Local Snippets
  if (userBrewSnippets) {
    var _userSnippets = [];
    var _snipSplit = userBrewSnippets.trim().split(textSplit).slice(1);
    for (var _snips = 0; _snips < _snipSplit.length; _snips += 2) {
      if (!_snipSplit[_snips].startsWith('\\snippet ')) break;
      var _snippetName = _snipSplit[_snips].split(/\\snippet +/)[1].split('\n')[0].trim();
      if (_snippetName.length != 0) {
        var subSnip = {
          name: _snippetName,
          gen: _snipSplit[_snips + 1]
        };
        // if(full) subSnip.icon = '';
        _userSnippets.push(subSnip);
      }
    }
    if (_userSnippets.length) {
      mpAsSnippets.push({
        name: menuTitle,
        // icon        : '',
        subsnippets: _userSnippets
      });
    }
  }
  var returnObj = {
    snippets: mpAsSnippets
  };
  if (full) {
    returnObj.groupName = 'Brew Snippets';
    returnObj.icon = 'fas fa-th-list';
    returnObj.view = 'text';
  }
  return returnObj;
};
var yamlSnippetsToText = function yamlSnippetsToText(yamlObj) {
  if (typeof yamlObj == 'string') return yamlObj;
  var snippetsText = '';
  var _iterator2 = _createForOfIteratorHelper(yamlObj),
    _step2;
  try {
    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
      var snippet = _step2.value;
      var _iterator3 = _createForOfIteratorHelper(snippet.subsnippets),
        _step3;
      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var subSnippet = _step3.value;
          snippetsText = "".concat(snippetsText, "\\snippet ").concat(subSnippet.name, "\n").concat(subSnippet.gen || '', "\n");
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
    }
  } catch (err) {
    _iterator2.e(err);
  } finally {
    _iterator2.f();
  }
  return snippetsText;
};
var splitTextStyleAndMetadata = exports.splitTextStyleAndMetadata = function splitTextStyleAndMetadata(brew) {
  brew.text = brew.text.replaceAll('\r\n', '\n');
  if (brew.text.startsWith('```metadata')) {
    var index = brew.text.indexOf('\n```\n\n');
    var metadataSection = brew.text.slice(11, index + 1);
    var metadata = _jsYaml["default"].load(metadataSection);
    Object.assign(brew, _lodash["default"].pick(metadata, ['title', 'description', 'tags', 'systems', 'renderer', 'theme', 'lang']));
    brew.snippets = yamlSnippetsToText(_lodash["default"].pick(metadata, ['snippets']).snippets || '');
    brew.text = brew.text.slice(index + 6);
  }
  if (brew.text.startsWith('```css')) {
    var _index = brew.text.indexOf('\n```\n\n');
    brew.style = brew.text.slice(7, _index + 1);
    brew.text = brew.text.slice(_index + 6);
  }

  // Handle old brews that still have empty strings in the tags metadata
  if (typeof brew.tags === 'string') brew.tags = brew.tags ? [brew.tags] : [];
};
var printCurrentBrew = exports.printCurrentBrew = function printCurrentBrew() {
  if (window["typeof"] !== 'undefined') {
    window.frames['BrewRenderer'].contentWindow.print();
    //Force DOM reflow; Print dialog causes a repaint, and @media print CSS somehow makes out-of-view pages disappear
    var node = window.frames['BrewRenderer'].contentDocument.getElementsByClassName('brewRenderer').item(0);
    node.style.display = 'none';
    node.offsetHeight; // accessing this is enough to trigger a reflow
    node.style.display = '';
  }
};
var fetchThemeBundle = exports.fetchThemeBundle = /*#__PURE__*/function () {
  var _ref = (0, _asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(setError, setThemeBundle, renderer, theme) {
    var res, themeBundle;
    return _regenerator["default"].wrap(function (_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          if (!(!renderer || !theme)) {
            _context.next = 1;
            break;
          }
          return _context.abrupt("return");
        case 1:
          _context.next = 2;
          return _requestMiddleware["default"].get("/api/theme/".concat(renderer, "/").concat(theme))["catch"](function (err) {
            setError(err);
          });
        case 2:
          res = _context.sent;
          if (res) {
            _context.next = 3;
            break;
          }
          setThemeBundle({});
          return _context.abrupt("return");
        case 3:
          themeBundle = res.body;
          themeBundle.joinedStyles = themeBundle.styles.map(function (style) {
            return "<style>".concat(style, "</style>");
          }).join('\n\n');
          setThemeBundle(themeBundle);
          setError(null);
        case 4:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return function fetchThemeBundle(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();
var debugTextMismatch = exports.debugTextMismatch = function debugTextMismatch(clientTextRaw, serverTextRaw, label) {
  var clientText = (clientTextRaw === null || clientTextRaw === void 0 ? void 0 : clientTextRaw.normalize('NFC')) || '';
  var serverText = (serverTextRaw === null || serverTextRaw === void 0 ? void 0 : serverTextRaw.normalize('NFC')) || '';
  var clientBuffer = Buffer.from(clientText, 'utf8');
  var serverBuffer = Buffer.from(serverText, 'utf8');
  if (clientBuffer.equals(serverBuffer)) {
    console.log("\u2705 ".concat(label, " text matches byte-for-byte."));
    return;
  }
  console.warn("\u2757".concat(label, " text mismatch detected."));
  console.log("Client length: ".concat(clientBuffer.length));
  console.log("Server length: ".concat(serverBuffer.length));

  // Byte-level diff
  for (var i = 0; i < Math.min(clientBuffer.length, serverBuffer.length); i++) {
    if (clientBuffer[i] !== serverBuffer[i]) {
      console.log("Byte mismatch at offset ".concat(i, ": client=0x").concat(clientBuffer[i].toString(16), " server=0x").concat(serverBuffer[i].toString(16)));
      break;
    }
  }

  // Char-level diff
  for (var _i = 0; _i < Math.min(clientText.length, serverText.length); _i++) {
    if (clientText[_i] !== serverText[_i]) {
      console.log("Char mismatch at index ".concat(_i, ":"));
      console.log("  Client: '".concat(clientText[_i], "' (U+").concat(clientText.charCodeAt(_i).toString(16).toUpperCase(), ")"));
      console.log("  Server: '".concat(serverText[_i], "' (U+").concat(serverText.charCodeAt(_i).toString(16).toUpperCase(), ")"));
      break;
    }
  }
};
}).call(this)}).call(this,require("buffer").Buffer)
},{"../client/homebrew/utils/request-middleware.js":71,"@babel/runtime/helpers/asyncToGenerator":78,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":116,"buffer":118,"js-yaml":195,"lodash":"lodash"}],271:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _dialog = _interopRequireDefault(require("../../../client/components/dialog.jsx"));
require('./renderWarnings.less');
var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
var RenderWarnings = createClass({
  displayName: 'RenderWarnings',
  getInitialState: function getInitialState() {
    return {
      warnings: {}
    };
  },
  componentDidMount: function componentDidMount() {
    this.checkWarnings();
    window.addEventListener('resize', this.checkWarnings);
  },
  componentWillUnmount: function componentWillUnmount() {
    window.removeEventListener('resize', this.checkWarnings);
  },
  warnings: {
    chrome: function chrome() {
      var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
      if (!isChrome) {
        return /*#__PURE__*/React.createElement("li", {
          key: "chrome"
        }, /*#__PURE__*/React.createElement("em", null, "Built for Chrome "), " ", /*#__PURE__*/React.createElement("br", null), "Other browsers have not been tested for compatiblilty. If you experience issues with your document not rendering or printing properly, please try using the latest version of Chrome before submitting a bug report.");
      }
    }
  },
  checkWarnings: function checkWarnings() {
    this.setState({
      warnings: _.reduce(this.warnings, function (r, fn, type) {
        var element = fn();
        if (element) r[type] = element;
        return r;
      }, {})
    });
  },
  render: function render() {
    if (_.isEmpty(this.state.warnings)) return null;
    var DISMISS_KEY = 'dismiss_render_warning';
    var DISMISS_TEXT = /*#__PURE__*/React.createElement("i", {
      className: "fas fa-times dismiss"
    });
    return /*#__PURE__*/React.createElement(_dialog["default"], {
      className: "renderWarnings",
      dismissKey: DISMISS_KEY,
      closeText: DISMISS_TEXT
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-exclamation-triangle ohno"
    }), /*#__PURE__*/React.createElement("h3", null, "Render Warnings"), /*#__PURE__*/React.createElement("small", null, "If this homebrew is rendering badly if might be because of the following:"), /*#__PURE__*/React.createElement("ul", null, _.values(this.state.warnings)));
  }
});
module.exports = RenderWarnings;
},{"../../../client/components/dialog.jsx":6,"./renderWarnings.less":272,"@babel/runtime/helpers/interopRequireDefault":86,"create-react-class":"create-react-class","lodash":"lodash","react":"react"}],272:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],273:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _diceFont = _interopRequireDefault(require("../../../themes/fonts/iconFonts/diceFont.js"));
var _elderberryInn = _interopRequireDefault(require("../../../themes/fonts/iconFonts/elderberryInn.js"));
var _fontAwesome = _interopRequireDefault(require("../../../themes/fonts/iconFonts/fontAwesome.js"));
var _gameIcons = _interopRequireDefault(require("../../../themes/fonts/iconFonts/gameIcons.js"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var emojis = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, _diceFont["default"]), _elderberryInn["default"]), _fontAwesome["default"]), _gameIcons["default"]);
var showAutocompleteEmoji = function showAutocompleteEmoji(CodeMirror, editor) {
  CodeMirror.commands.autocomplete = function (editor) {
    editor.showHint({
      completeSingle: false,
      hint: function hint(editor) {
        var cursor = editor.getCursor();
        var line = cursor.line;
        var lineContent = editor.getLine(line);
        var start = lineContent.lastIndexOf(':', cursor.ch - 1) + 1;
        var end = cursor.ch;
        var currentWord = lineContent.slice(start, end);
        var list = Object.keys(emojis).filter(function (emoji) {
          return emoji.toLowerCase().indexOf(currentWord.toLowerCase()) >= 0;
        }).sort(function (a, b) {
          var lowerA = a.replace(/\d+/g, function (match) {
            // Temporarily convert any numbers in emoji string
            return match.padStart(4, '0'); // to 4-digits, left-padded with 0's, to aid in
          }).toLowerCase(); // sorting numbers, i.e., "d6, d10, d20", not "d10, d20, d6"
          var lowerB = b.replace(/\d+/g, function (match) {
            // Also make lowercase for case-insensitive alpha sorting
            return match.padStart(4, '0');
          }).toLowerCase();
          if (lowerA < lowerB) return -1;
          return 1;
        }).map(function (emoji) {
          return {
            text: "".concat(emoji, ":"),
            // Text to output to editor when option is selected
            render: function render(element, self, data) {
              // How to display the option in the dropdown
              var div = document.createElement('div');
              div.innerHTML = "<i class=\"emojiPreview ".concat(emojis[emoji], "\"></i> ").concat(emoji);
              element.appendChild(div);
            }
          };
        });
        return {
          list: list.length ? list : [],
          from: CodeMirror.Pos(line, start),
          to: CodeMirror.Pos(line, end)
        };
      }
    });
  };
  editor.on('inputRead', function (instance, change) {
    var cursor = editor.getCursor();
    var line = editor.getLine(cursor.line);

    // Get the text from the start of the line to the cursor
    var textToCursor = line.slice(0, cursor.ch);

    // Do not autosuggest emojis in curly span/div/injector properties
    if (line.includes('{')) {
      var curlyToCursor = textToCursor.slice(textToCursor.indexOf("{"));
      var curlySpanRegex = /{(?=((?:[:=](?:"[\w,\-()#%. ]*"|[\w\-()#%.]*)|[^"':={}\s]*)*))\1$/g;
      if (curlySpanRegex.test(curlyToCursor)) return;
    }

    // Check if the text ends with ':xyz'
    if (/:[^\s:]+$/.test(textToCursor)) {
      CodeMirror.commands.autocomplete(editor);
    }
  });
};
module.exports = {
  showAutocompleteEmoji: showAutocompleteEmoji
};
},{"../../../themes/fonts/iconFonts/diceFont.js":306,"../../../themes/fonts/iconFonts/elderberryInn.js":307,"../../../themes/fonts/iconFonts/fontAwesome.js":308,"../../../themes/fonts/iconFonts/gameIcons.js":309,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86}],274:[function(require,module,exports){
"use strict";

var _autoCloseCurlyBraces = function autoCloseCurlyBraces(CodeMirror, cm, typingClosingBrace) {
  var ranges = cm.listSelections(),
    replacements = [];
  for (var i = 0; i < ranges.length; i++) {
    if (!ranges[i].empty()) return CodeMirror.Pass;
    var pos = ranges[i].head,
      line = cm.getLine(pos.line),
      tok = cm.getTokenAt(pos);
    if (!typingClosingBrace && (tok.type == 'string' || tok.string.charAt(0) != '{' || tok.start != pos.ch - 1)) return CodeMirror.Pass;else if (typingClosingBrace) {
      var hasUnclosedBraces = false,
        index = -1;
      do {
        index = line.indexOf('{{', index + 1);
        if (index !== -1 && line.indexOf('}}', index + 1) === -1) {
          hasUnclosedBraces = true;
          break;
        }
      } while (index !== -1);
      if (!hasUnclosedBraces) return CodeMirror.Pass;
    }
    replacements[i] = typingClosingBrace ? {
      text: '}}',
      newPos: CodeMirror.Pos(pos.line, pos.ch + 2)
    } : {
      text: '{}}',
      newPos: CodeMirror.Pos(pos.line, pos.ch + 1)
    };
  }
  for (var _i = ranges.length - 1; _i >= 0; _i--) {
    var info = replacements[_i];
    cm.replaceRange(info.text, ranges[_i].head, ranges[_i].anchor, '+insert');
    var sel = cm.listSelections().slice(0);
    sel[_i] = {
      head: info.newPos,
      anchor: info.newPos
    };
    cm.setSelections(sel);
  }
};
module.exports = {
  autoCloseCurlyBraces: function autoCloseCurlyBraces(CodeMirror, codeMirror) {
    var map = {
      name: 'autoCloseCurlyBraces'
    };
    map["'{'"] = function (cm) {
      return _autoCloseCurlyBraces(CodeMirror, cm);
    };
    map["'}'"] = function (cm) {
      return _autoCloseCurlyBraces(CodeMirror, cm, true);
    };
    codeMirror.addKeyMap(map);
  }
};
},{}],275:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
/* eslint-disable max-lines */
require('./codeEditor.less');
var React = require('react');
var createClass = require('create-react-class');
var _ = require('lodash');
var closeTag = require('./close-tag');
var autoCompleteEmoji = require('./autocompleteEmoji');
var CodeMirror;
if (typeof window !== 'undefined') {
  CodeMirror = require('codemirror');

  //Language Modes
  require('codemirror/mode/gfm/gfm.js'); //Github flavoured markdown
  require('codemirror/mode/css/css.js');
  require('codemirror/mode/javascript/javascript.js');

  //Addons
  //Code folding
  require('codemirror/addon/fold/foldcode.js');
  require('codemirror/addon/fold/foldgutter.js');
  //Search and replace
  require('codemirror/addon/search/search.js');
  require('codemirror/addon/search/searchcursor.js');
  require('codemirror/addon/search/jump-to-line.js');
  require('codemirror/addon/search/match-highlighter.js');
  require('codemirror/addon/search/matchesonscrollbar.js');
  require('codemirror/addon/dialog/dialog.js');
  //Trailing space highlighting
  // require('codemirror/addon/edit/trailingspace.js');
  //Active line highlighting
  // require('codemirror/addon/selection/active-line.js');
  //Scroll past last line
  require('codemirror/addon/scroll/scrollpastend.js');
  //Auto-closing
  //XML code folding is a requirement of the auto-closing tag feature and is not enabled
  require('codemirror/addon/fold/xml-fold.js');
  require('codemirror/addon/edit/closetag.js');
  //Autocompletion
  require('codemirror/addon/hint/show-hint.js');
  var foldPagesCode = require('./fold-pages');
  foldPagesCode.registerHomebreweryHelper(CodeMirror);
  var foldCSSCode = require('./fold-css');
  foldCSSCode.registerHomebreweryHelper(CodeMirror);
}
var CodeEditor = createClass({
  displayName: 'CodeEditor',
  getDefaultProps: function getDefaultProps() {
    return {
      language: '',
      value: '',
      wrap: true,
      onChange: function onChange() {},
      enableFolding: true,
      editorTheme: 'default'
    };
  },
  getInitialState: function getInitialState() {
    return {
      docs: {}
    };
  },
  editor: React.createRef(null),
  componentDidMount: function componentDidMount() {
    this.buildEditor();
    var newDoc = CodeMirror.Doc(this.props.value, this.props.language);
    this.codeMirror.swapDoc(newDoc);
  },
  componentDidUpdate: function componentDidUpdate(prevProps) {
    var _this$codeMirror;
    if (prevProps.view !== this.props.view) {
      //view changed; swap documents
      var newDoc;
      if (!this.state.docs[this.props.view]) {
        newDoc = CodeMirror.Doc(this.props.value, this.props.language);
      } else {
        newDoc = this.state.docs[this.props.view];
      }
      var oldDoc = (0, _defineProperty2["default"])({}, prevProps.view, this.codeMirror.swapDoc(newDoc));
      this.setState(function (prevState) {
        return {
          docs: _.merge({}, prevState.docs, oldDoc)
        };
      });
      this.props.rerenderParent();
    } else if (((_this$codeMirror = this.codeMirror) === null || _this$codeMirror === void 0 ? void 0 : _this$codeMirror.getValue()) != this.props.value) {
      //update editor contents if brew.text is changed from outside
      this.codeMirror.setValue(this.props.value);
    }
    if (this.props.enableFolding) {
      this.codeMirror.setOption('foldOptions', this.foldOptions(this.codeMirror));
    } else {
      this.codeMirror.setOption('foldOptions', false);
    }
    if (prevProps.editorTheme !== this.props.editorTheme) {
      this.codeMirror.setOption('theme', this.props.editorTheme);
    }
  },
  buildEditor: function buildEditor() {
    var _this = this;
    this.codeMirror = CodeMirror(this.editor.current, {
      lineNumbers: true,
      lineWrapping: this.props.wrap,
      indentWithTabs: false,
      tabSize: 2,
      smartIndent: false,
      historyEventDelay: 250,
      scrollPastEnd: true,
      extraKeys: {
        'Tab': this.indent,
        'Shift-Tab': this.dedent,
        'Ctrl-B': this.makeBold,
        'Cmd-B': this.makeBold,
        'Shift-Ctrl-=': this.makeSuper,
        'Shift-Cmd-=': this.makeSuper,
        'Ctrl-=': this.makeSub,
        'Cmd-=': this.makeSub,
        'Ctrl-I': this.makeItalic,
        'Cmd-I': this.makeItalic,
        'Ctrl-U': this.makeUnderline,
        'Cmd-U': this.makeUnderline,
        'Ctrl-.': this.makeNbsp,
        'Cmd-.': this.makeNbsp,
        'Shift-Ctrl-.': this.makeSpace,
        'Shift-Cmd-.': this.makeSpace,
        'Shift-Ctrl-,': this.removeSpace,
        'Shift-Cmd-,': this.removeSpace,
        'Ctrl-M': this.makeSpan,
        'Cmd-M': this.makeSpan,
        'Shift-Ctrl-M': this.makeDiv,
        'Shift-Cmd-M': this.makeDiv,
        'Ctrl-/': this.makeComment,
        'Cmd-/': this.makeComment,
        'Ctrl-K': this.makeLink,
        'Cmd-K': this.makeLink,
        'Ctrl-L': function CtrlL() {
          return _this.makeList('UL');
        },
        'Cmd-L': function CmdL() {
          return _this.makeList('UL');
        },
        'Shift-Ctrl-L': function ShiftCtrlL() {
          return _this.makeList('OL');
        },
        'Shift-Cmd-L': function ShiftCmdL() {
          return _this.makeList('OL');
        },
        'Shift-Ctrl-1': function ShiftCtrl1() {
          return _this.makeHeader(1);
        },
        'Shift-Ctrl-2': function ShiftCtrl2() {
          return _this.makeHeader(2);
        },
        'Shift-Ctrl-3': function ShiftCtrl3() {
          return _this.makeHeader(3);
        },
        'Shift-Ctrl-4': function ShiftCtrl4() {
          return _this.makeHeader(4);
        },
        'Shift-Ctrl-5': function ShiftCtrl5() {
          return _this.makeHeader(5);
        },
        'Shift-Ctrl-6': function ShiftCtrl6() {
          return _this.makeHeader(6);
        },
        'Shift-Cmd-1': function ShiftCmd1() {
          return _this.makeHeader(1);
        },
        'Shift-Cmd-2': function ShiftCmd2() {
          return _this.makeHeader(2);
        },
        'Shift-Cmd-3': function ShiftCmd3() {
          return _this.makeHeader(3);
        },
        'Shift-Cmd-4': function ShiftCmd4() {
          return _this.makeHeader(4);
        },
        'Shift-Cmd-5': function ShiftCmd5() {
          return _this.makeHeader(5);
        },
        'Shift-Cmd-6': function ShiftCmd6() {
          return _this.makeHeader(6);
        },
        'Shift-Ctrl-Enter': this.newColumn,
        'Shift-Cmd-Enter': this.newColumn,
        'Ctrl-Enter': this.newPage,
        'Cmd-Enter': this.newPage,
        'Ctrl-F': 'findPersistent',
        'Cmd-F': 'findPersistent',
        'Shift-Enter': 'findPersistentPrevious',
        'Ctrl-[': this.foldAllCode,
        'Cmd-[': this.foldAllCode,
        'Ctrl-]': this.unfoldAllCode,
        'Cmd-]': this.unfoldAllCode
      },
      foldGutter: true,
      foldOptions: this.foldOptions(this.codeMirror),
      gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],
      autoCloseTags: true,
      styleActiveLine: true,
      showTrailingSpace: false,
      theme: this.props.editorTheme
      // specialChars           : / /,
      // specialCharPlaceholder : function(char) {
      // 	const el = document.createElement('span');
      // 	el.className = 'cm-space';
      // 	el.innerHTML = ' ';
      // 	return el;
      // }
    });

    // Add custom behaviors (auto-close curlies and auto-complete emojis)
    closeTag.autoCloseCurlyBraces(CodeMirror, this.codeMirror);
    autoCompleteEmoji.showAutocompleteEmoji(CodeMirror, this.codeMirror);

    // Note: codeMirror passes a copy of itself in this callback. cm === this.codeMirror. Either one works.
    this.codeMirror.on('change', function (cm) {
      _this.props.onChange(cm.getValue());
    });
    this.updateSize();
  },
  indent: function indent() {
    var cm = this.codeMirror;
    if (cm.somethingSelected()) {
      cm.execCommand('indentMore');
    } else {
      cm.execCommand('insertSoftTab');
    }
  },
  dedent: function dedent() {
    this.codeMirror.execCommand('indentLess');
  },
  makeHeader: function makeHeader(number) {
    var selection = this.codeMirror.getSelection();
    var header = Array(number).fill('#').join('');
    this.codeMirror.replaceSelection("".concat(header, " ").concat(selection), 'around');
    var cursor = this.codeMirror.getCursor();
    this.codeMirror.setCursor({
      line: cursor.line,
      ch: cursor.ch + selection.length + number + 1
    });
  },
  makeBold: function makeBold() {
    var selection = this.codeMirror.getSelection(),
      t = selection.slice(0, 2) === '**' && selection.slice(-2) === '**';
    this.codeMirror.replaceSelection(t ? selection.slice(2, -2) : "**".concat(selection, "**"), 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line,
        ch: cursor.ch - 2
      });
    }
  },
  makeItalic: function makeItalic() {
    var selection = this.codeMirror.getSelection(),
      t = selection.slice(0, 1) === '*' && selection.slice(-1) === '*';
    this.codeMirror.replaceSelection(t ? selection.slice(1, -1) : "*".concat(selection, "*"), 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line,
        ch: cursor.ch - 1
      });
    }
  },
  makeSuper: function makeSuper() {
    var selection = this.codeMirror.getSelection(),
      t = selection.slice(0, 1) === '^' && selection.slice(-1) === '^';
    this.codeMirror.replaceSelection(t ? selection.slice(1, -1) : "^".concat(selection, "^"), 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line,
        ch: cursor.ch - 1
      });
    }
  },
  makeSub: function makeSub() {
    var selection = this.codeMirror.getSelection(),
      t = selection.slice(0, 2) === '^^' && selection.slice(-2) === '^^';
    this.codeMirror.replaceSelection(t ? selection.slice(2, -2) : "^^".concat(selection, "^^"), 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line,
        ch: cursor.ch - 2
      });
    }
  },
  makeNbsp: function makeNbsp() {
    this.codeMirror.replaceSelection('&nbsp;', 'end');
  },
  makeSpace: function makeSpace() {
    var selection = this.codeMirror.getSelection();
    var t = selection.slice(0, 8) === '{{width:' && selection.slice(0 - 4) === '% }}';
    if (t) {
      var percent = parseInt(selection.slice(8, -4)) + 10;
      this.codeMirror.replaceSelection(percent < 90 ? "{{width:".concat(percent, "% }}") : '{{width:100% }}', 'around');
    } else {
      this.codeMirror.replaceSelection("{{width:10% }}", 'around');
    }
  },
  removeSpace: function removeSpace() {
    var selection = this.codeMirror.getSelection();
    var t = selection.slice(0, 8) === '{{width:' && selection.slice(0 - 4) === '% }}';
    if (t) {
      var percent = parseInt(selection.slice(8, -4)) - 10;
      this.codeMirror.replaceSelection(percent > 10 ? "{{width:".concat(percent, "% }}") : '', 'around');
    }
  },
  newColumn: function newColumn() {
    this.codeMirror.replaceSelection('\n\\column\n\n', 'end');
  },
  newPage: function newPage() {
    this.codeMirror.replaceSelection('\n\\page\n\n', 'end');
  },
  injectText: function injectText(_injectText) {
    var overwrite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    var cm = this.codeMirror;
    if (!overwrite) {
      cm.setCursor(cm.getCursor('from'));
    }
    cm.replaceSelection(_injectText, 'end');
    cm.focus();
  },
  makeUnderline: function makeUnderline() {
    var selection = this.codeMirror.getSelection(),
      t = selection.slice(0, 3) === '<u>' && selection.slice(-4) === '</u>';
    this.codeMirror.replaceSelection(t ? selection.slice(3, -4) : "<u>".concat(selection, "</u>"), 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line,
        ch: cursor.ch - 4
      });
    }
  },
  makeSpan: function makeSpan() {
    var selection = this.codeMirror.getSelection(),
      t = selection.slice(0, 2) === '{{' && selection.slice(-2) === '}}';
    this.codeMirror.replaceSelection(t ? selection.slice(2, -2) : "{{ ".concat(selection, "}}"), 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line,
        ch: cursor.ch - 2
      });
    }
  },
  makeDiv: function makeDiv() {
    var selection = this.codeMirror.getSelection(),
      t = selection.slice(0, 2) === '{{' && selection.slice(-2) === '}}';
    this.codeMirror.replaceSelection(t ? selection.slice(2, -2) : "{{\n".concat(selection, "\n}}"), 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line - 1,
        ch: cursor.ch
      }); // set to -2? if wanting to enter classes etc.  if so, get rid of first \n when replacing selection
    }
  },
  makeComment: function makeComment() {
    var regex;
    var cursorPos;
    var newComment;
    var selection = this.codeMirror.getSelection();
    if (this.props.language === 'gfm') {
      regex = /^\s*(<!--\s?)([^]*?)(\s?-->)\s*$/g;
      cursorPos = 4;
      newComment = "<!-- ".concat(selection, " -->");
    } else {
      regex = /^\s*(\/\*\s?)([^]*?)(\s?\*\/)\s*$/g;
      cursorPos = 3;
      newComment = "/* ".concat(selection, " */");
    }
    this.codeMirror.replaceSelection(regex.test(selection) == true ? selection.replace(regex, '$2') : newComment, 'around');
    if (selection.length === 0) {
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setCursor({
        line: cursor.line,
        ch: cursor.ch - cursorPos
      });
    }
    ;
  },
  makeLink: function makeLink() {
    var isLink = /^\[(.*)\]\((.*)\)$/;
    var selection = this.codeMirror.getSelection().trim();
    var match;
    if (match = isLink.exec(selection)) {
      var altText = match[1];
      var url = match[2];
      this.codeMirror.replaceSelection("".concat(altText, " ").concat(url));
      var cursor = this.codeMirror.getCursor();
      this.codeMirror.setSelection({
        line: cursor.line,
        ch: cursor.ch - url.length
      }, {
        line: cursor.line,
        ch: cursor.ch
      });
    } else {
      this.codeMirror.replaceSelection("[".concat(selection || 'alt text', "](url)"));
      var _cursor = this.codeMirror.getCursor();
      this.codeMirror.setSelection({
        line: _cursor.line,
        ch: _cursor.ch - 4
      }, {
        line: _cursor.line,
        ch: _cursor.ch - 1
      });
    }
  },
  makeList: function makeList(listType) {
    var selectionStart = this.codeMirror.getCursor('from'),
      selectionEnd = this.codeMirror.getCursor('to');
    this.codeMirror.setSelection({
      line: selectionStart.line,
      ch: 0
    }, {
      line: selectionEnd.line,
      ch: this.codeMirror.getLine(selectionEnd.line).length
    });
    var newSelection = this.codeMirror.getSelection();
    var regex = /^\d+\.\s|^-\s/gm;
    if (newSelection.match(regex) != null) {
      // if selection IS A LIST
      this.codeMirror.replaceSelection(newSelection.replace(regex, ''), 'around');
    } else {
      // if selection IS NOT A LIST
      listType == 'UL' ? this.codeMirror.replaceSelection(newSelection.replace(/^/gm, "- "), 'around') : this.codeMirror.replaceSelection(newSelection.replace(/^/gm, function () {
        var n = 1;
        return function () {
          return "".concat(n++, ". ");
        };
      }()), 'around');
    }
  },
  foldAllCode: function foldAllCode() {
    this.codeMirror.execCommand('foldAll');
  },
  unfoldAllCode: function unfoldAllCode() {
    this.codeMirror.execCommand('unfoldAll');
  },
  //=-- Externally used -==//
  setCursorPosition: function setCursorPosition(line, _char) {
    var _this2 = this;
    setTimeout(function () {
      _this2.codeMirror.focus();
      _this2.codeMirror.doc.setCursor(line, _char);
    }, 10);
  },
  getCursorPosition: function getCursorPosition() {
    return this.codeMirror.getCursor();
  },
  getTopVisibleLine: function getTopVisibleLine() {
    var rect = this.codeMirror.getWrapperElement().getBoundingClientRect();
    var topVisibleLine = this.codeMirror.lineAtHeight(rect.top, 'window');
    return topVisibleLine;
  },
  updateSize: function updateSize() {
    this.codeMirror.refresh();
  },
  redo: function redo() {
    return this.codeMirror.redo();
  },
  undo: function undo() {
    return this.codeMirror.undo();
  },
  historySize: function historySize() {
    return this.codeMirror.doc.historySize();
  },
  foldOptions: function foldOptions(cm) {
    var _this3 = this;
    return {
      scanUp: true,
      rangeFinder: this.props.language === 'css' ? CodeMirror.fold.homebrewerycss : CodeMirror.fold.homebrewery,
      widget: function widget(from, to) {
        var text = '';
        var currentLine = from.line;
        var maxLength = 50;
        var foldPreviewText = '';
        while (currentLine <= to.line && text.length <= maxLength) {
          var currentText = _this3.codeMirror.getLine(currentLine);
          currentLine++;
          if (currentText[0] == '#') {
            foldPreviewText = currentText;
            break;
          }
          if (!foldPreviewText && currentText != '\n') {
            foldPreviewText = currentText;
          }
        }
        text = foldPreviewText || "Lines ".concat(from.line + 1, "-").concat(to.line + 1);
        text = text.replace('{', '').trim();

        // Truncate data URLs at `data:`
        var startOfData = text.indexOf('data:');
        if (startOfData > 0) maxLength = Math.min(startOfData + 5, maxLength);
        if (text.length > maxLength) text = "".concat(text.slice(0, maxLength), "...");
        return "\u21A4 ".concat(text, " \u21A6");
      }
    };
  },
  //----------------------//

  render: function render() {
    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("link", {
      href: "../homebrew/cm-themes/".concat(this.props.editorTheme, ".css"),
      type: "text/css",
      rel: "stylesheet"
    }), /*#__PURE__*/React.createElement("div", {
      className: "codeEditor",
      ref: this.editor,
      style: this.props.style
    }));
  }
});
module.exports = CodeEditor;
},{"./autocompleteEmoji":273,"./close-tag":274,"./codeEditor.less":276,"./fold-css":277,"./fold-pages":278,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"codemirror":"codemirror","codemirror/addon/dialog/dialog.js":"codemirror/addon/dialog/dialog.js","codemirror/addon/edit/closetag.js":"codemirror/addon/edit/closetag.js","codemirror/addon/fold/foldcode.js":"codemirror/addon/fold/foldcode.js","codemirror/addon/fold/foldgutter.js":"codemirror/addon/fold/foldgutter.js","codemirror/addon/fold/xml-fold.js":"codemirror/addon/fold/xml-fold.js","codemirror/addon/hint/show-hint.js":"codemirror/addon/hint/show-hint.js","codemirror/addon/scroll/scrollpastend.js":"codemirror/addon/scroll/scrollpastend.js","codemirror/addon/search/jump-to-line.js":"codemirror/addon/search/jump-to-line.js","codemirror/addon/search/match-highlighter.js":"codemirror/addon/search/match-highlighter.js","codemirror/addon/search/matchesonscrollbar.js":"codemirror/addon/search/matchesonscrollbar.js","codemirror/addon/search/search.js":"codemirror/addon/search/search.js","codemirror/addon/search/searchcursor.js":"codemirror/addon/search/searchcursor.js","codemirror/mode/css/css.js":"codemirror/mode/css/css.js","codemirror/mode/gfm/gfm.js":"codemirror/mode/gfm/gfm.js","codemirror/mode/javascript/javascript.js":"codemirror/mode/javascript/javascript.js","create-react-class":"create-react-class","lodash":"lodash","react":"react"}],276:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],277:[function(require,module,exports){
"use strict";

module.exports = {
  registerHomebreweryHelper: function registerHomebreweryHelper(CodeMirror) {
    CodeMirror.registerHelper('fold', 'homebrewerycss', function (cm, start) {
      // BRACE FOLDING
      var startMatcher = /\{[ \t]*$/;
      var endMatcher = /\}[ \t]*$/;
      var activeLine = cm.getLine(start.line);
      if (activeLine.match(startMatcher)) {
        var lastLineNo = cm.lastLine();
        var end = start.line + 1;
        var braceCount = 1;
        while (end < lastLineNo) {
          var curLine = cm.getLine(end);
          if (curLine.match(startMatcher)) braceCount++;
          if (curLine.match(endMatcher)) braceCount--;
          if (braceCount == 0) break;
          ++end;
        }
        return {
          from: CodeMirror.Pos(start.line, 0),
          to: CodeMirror.Pos(end, cm.getLine(end).length)
        };
      }

      // @import and data-url folding
      var importMatcher = /^@import.*?;/;
      var dataURLMatcher = /url\(.*?data\:.*\)/;
      if (activeLine.match(importMatcher) || activeLine.match(dataURLMatcher)) {
        return {
          from: CodeMirror.Pos(start.line, 0),
          to: CodeMirror.Pos(start.line, activeLine.length)
        };
      }
      return null;
    });
  }
};
},{}],278:[function(require,module,exports){
"use strict";

module.exports = {
  registerHomebreweryHelper: function registerHomebreweryHelper(CodeMirror) {
    CodeMirror.registerHelper('fold', 'homebrewery', function (cm, start) {
      var matcher = /^\\page.*/;
      var prevLine = cm.getLine(start.line - 1);
      if (start.line === cm.firstLine() || prevLine.match(matcher)) {
        var lastLineNo = cm.lastLine();
        var end = start.line;
        while (end < lastLineNo) {
          if (cm.getLine(end + 1).match(matcher)) break;
          ++end;
        }
        return {
          from: CodeMirror.Pos(start.line, 0),
          to: CodeMirror.Pos(end, cm.getLine(end).length)
        };
      }
      return null;
    });
  }
};
},{}],279:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _lodash = _interopRequireDefault(require("lodash"));
var _exprEval = require("expr-eval");
var _marked = require("marked");
var _markedExtendedTables = _interopRequireDefault(require("marked-extended-tables"));
var _markedDefinitionLists = _interopRequireDefault(require("marked-definition-lists"));
var _markedAlignmentParagraphs = _interopRequireDefault(require("marked-alignment-paragraphs"));
var _markedNonbreakingSpaces = _interopRequireDefault(require("marked-nonbreaking-spaces"));
var _markedSubsuperText = _interopRequireDefault(require("marked-subsuper-text"));
var _markedSmartypantsLite = require("marked-smartypants-lite");
var _markedGfmHeadingId = require("marked-gfm-heading-id");
var _markedEmoji = require("marked-emoji");
var _romans = require("romans");
var _writtenNumber = _interopRequireDefault(require("written-number"));
var _diceFont = _interopRequireDefault(require("../../themes/fonts/iconFonts/diceFont.js"));
var _elderberryInn = _interopRequireDefault(require("../../themes/fonts/iconFonts/elderberryInn.js"));
var _gameIcons = _interopRequireDefault(require("../../themes/fonts/iconFonts/gameIcons.js"));
var _fontAwesome = _interopRequireDefault(require("../../themes/fonts/iconFonts/fontAwesome.js"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; } /* eslint-disable max-depth */ /* eslint-disable max-lines */ //Icon fonts included so they can appear in emoji autosuggest dropdown
var renderer = new _marked.marked.Renderer();
var tokenizer = new _marked.marked.Tokenizer();

//Limit math features to simple items
var mathParser = new _exprEval.Parser({
  operators: {
    // These default to true, but are included to be explicit
    add: true,
    subtract: true,
    multiply: true,
    divide: true,
    power: true,
    round: true,
    floor: true,
    ceil: true,
    abs: true,
    sin: false,
    cos: false,
    tan: false,
    asin: false,
    acos: false,
    atan: false,
    sinh: false,
    cosh: false,
    tanh: false,
    asinh: false,
    acosh: false,
    atanh: false,
    sqrt: false,
    cbrt: false,
    log: false,
    log2: false,
    ln: false,
    lg: false,
    log10: false,
    expm1: false,
    log1p: false,
    trunc: false,
    join: false,
    sum: false,
    indexOf: false,
    '-': false,
    '+': false,
    exp: false,
    not: false,
    length: false,
    '!': false,
    sign: false,
    random: false,
    fac: false,
    min: false,
    max: false,
    hypot: false,
    pyt: false,
    pow: false,
    atan2: false,
    'if': false,
    gamma: false,
    roundTo: false,
    map: false,
    fold: false,
    filter: false,
    remainder: false,
    factorial: false,
    comparison: false,
    concatenate: false,
    logical: false,
    assignment: false,
    array: false,
    fndef: false
  }
});
// Add sign function
mathParser.functions.sign = function (a) {
  if (a >= 0) return '+';
  return '-';
};
// Add signed function
mathParser.functions.signed = function (a) {
  if (a >= 0) return "+".concat(a);
  return "".concat(a);
};
// Add Roman numeral functions
mathParser.functions.toRomans = function (a) {
  return (0, _romans.romanize)(a);
};
mathParser.functions.toRomansUpper = function (a) {
  return (0, _romans.romanize)(a).toUpperCase();
};
mathParser.functions.toRomansLower = function (a) {
  return (0, _romans.romanize)(a).toLowerCase();
};
// Add character functions
mathParser.functions.toChar = function (a) {
  if (a <= 0) return a;
  var _genChars = function genChars(i) {
    return (i > 26 ? _genChars(Math.floor((i - 1) / 26)) : '') + 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'[(i - 1) % 26];
  };
  return _genChars(a);
};
mathParser.functions.toCharUpper = function (a) {
  return mathParser.functions.toChar(a).toUpperCase();
};
mathParser.functions.toCharLower = function (a) {
  return mathParser.functions.toChar(a).toLowerCase();
};
// Add word functions
mathParser.functions.toWords = function (a) {
  return (0, _writtenNumber["default"])(a);
};
mathParser.functions.toWordsUpper = function (a) {
  return mathParser.functions.toWords(a).toUpperCase();
};
mathParser.functions.toWordsLower = function (a) {
  return mathParser.functions.toWords(a).toLowerCase();
};
mathParser.functions.toWordsCaps = function (a) {
  var words = mathParser.functions.toWords(a).split(' ');
  return words.map(function (word) {
    return word.replace(/(?:^|\b|\s)(\w)/g, function (w, index) {
      return index === 0 ? w.toLowerCase() : w.toUpperCase();
    });
  }).join(' ');
};

// Normalize variable names; trim edge spaces and shorten blocks of whitespace to 1 space
var normalizeVarNames = function normalizeVarNames(label) {
  return label.trim().replace(/\s+/g, ' ');
};

//Processes the markdown within an HTML block if it's just a class-wrapper
renderer.html = function (token) {
  var html = token.text;
  if (_lodash["default"].startsWith(_lodash["default"].trim(html), '<div') && _lodash["default"].endsWith(_lodash["default"].trim(html), '</div>')) {
    var openTag = html.substring(0, html.indexOf('>') + 1);
    html = html.substring(html.indexOf('>') + 1);
    html = html.substring(0, html.lastIndexOf('</div>'));
    return "".concat(openTag, " ").concat(_marked.marked.parse(html), " </div>");
  }
  return html;
};

// Don't wrap {{ Spans alone on a line, or {{ Divs in <p> tags
renderer.paragraph = function (token) {
  var match;
  var text = this.parser.parseInline(token.tokens);
  if (text.startsWith('<div') || text.startsWith('</div')) return "".concat(text);else if (match = text.match(/(^|^.*?\n)<span class="inline-block(.*?<\/span>)$/)) return "".concat(match[1].trim() ? "<p>".concat(match[1], "</p>") : '', "<span class=\"inline-block").concat(match[2]);else return "<p>".concat(text, "</p>\n");
};

//Fix local links in the Preview iFrame to link inside the frame
renderer.link = function (token) {
  var href = token.href,
    title = token.title,
    tokens = token.tokens;
  var text = this.parser.parseInline(tokens);
  var self = false;
  if (href[0] == '#') {
    self = true;
  }
  href = cleanUrl(href);
  if (href === null) {
    return text;
  }
  var out = "<a href=\"".concat(escape(href), "\"");
  if (title) {
    out += " title=\"".concat(escape(title), "\"");
  }
  if (self) {
    out += ' target="_self"';
  }
  out += ">".concat(text, "</a>");
  return out;
};

// Expose `src` attribute as `--HB_src` to make the URL accessible via CSS
renderer.image = function (token) {
  var href = token.href,
    title = token.title,
    text = token.text;
  if (href === null) return text;
  var out = "<img src=\"".concat(href, "\" alt=\"").concat(text, "\" style=\"--HB_src:url(").concat(href, ");\"");
  if (title) out += " title=\"".concat(title, "\"");
  out += '>';
  return out;
};

// Disable default reflink behavior, as it steps on our variables extension
tokenizer.def = function () {
  return undefined;
};
var mustacheSpans = {
  name: 'mustacheSpans',
  level: 'inline',
  // Is this a block-level or inline-level tokenizer?
  start: function start(src) {
    var _src$match;
    return (_src$match = src.match(/{{[^{]/)) === null || _src$match === void 0 ? void 0 : _src$match.index;
  },
  // Hint to Marked.js to stop and check for a match
  tokenizer: function tokenizer(src, tokens) {
    var completeSpan = /^{{[^\n]*}}/; // Regex for the complete token
    var inlineRegex = /{{(?=((?:[:=](?:"['\w,\-+*/()#%=?. ]*"|[\w\-+*/()#%.]*)|[^"=':{}\s]*)*))\1 *|}}/g;
    var match = completeSpan.exec(src);
    if (match) {
      //Find closing delimiter
      var blockCount = 0;
      var tags = {};
      var endTags = 0;
      var endToken = 0;
      var delim;
      while (delim = inlineRegex.exec(match[0])) {
        if (_lodash["default"].isEmpty(tags)) {
          tags = processStyleTags(delim[0].substring(2));
          endTags = delim[0].length;
        }
        if (delim[0].startsWith('{{')) {
          blockCount++;
        } else if (delim[0] == '}}' && blockCount !== 0) {
          blockCount--;
          if (blockCount == 0) {
            endToken = inlineRegex.lastIndex;
            break;
          }
        }
      }
      if (endToken) {
        var raw = src.slice(0, endToken);
        var text = raw.slice(endTags || -2, -2);
        return {
          // Token to generate
          type: 'mustacheSpans',
          // Should match "name" above
          raw: raw,
          // Text to consume from the source
          text: text,
          // Additional custom properties
          tags: tags,
          tokens: this.lexer.inlineTokens(text) // inlineTokens to process **bold**, *italics*, etc.
        };
      }
    }
  },
  renderer: function renderer(token) {
    var tags = token.tags;
    tags.classes = ['inline-block', tags.classes].join(' ').trim();
    return "<span" + "".concat(tags.classes ? " class=\"".concat(tags.classes, "\"") : '') + "".concat(tags.id ? " id=\"".concat(tags.id, "\"") : '') + "".concat(tags.styles ? " style=\"".concat(Object.entries(tags.styles).map(function (_ref) {
      var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
        key = _ref2[0],
        value = _ref2[1];
      return "".concat(key, ":").concat(value, ";");
    }).join(' '), "\"") : '') + "".concat(tags.attributes ? " ".concat(Object.entries(tags.attributes).map(function (_ref3) {
      var _ref4 = (0, _slicedToArray2["default"])(_ref3, 2),
        key = _ref4[0],
        value = _ref4[1];
      return "".concat(key, "=\"").concat(value, "\"");
    }).join(' ')) : '') + ">".concat(this.parser.parseInline(token.tokens), "</span>"); // parseInline to turn child tokens into HTML
  }
};
var mustacheDivs = {
  name: 'mustacheDivs',
  level: 'block',
  start: function start(src) {
    var _src$match2;
    return (_src$match2 = src.match(/\n *{{[^{]/m)) === null || _src$match2 === void 0 ? void 0 : _src$match2.index;
  },
  // Hint to Marked.js to stop and check for a match
  tokenizer: function tokenizer(src, tokens) {
    var completeBlock = /^ *{{[^\n}]* *\n[^]*\n *}}/; // Regex for the complete token
    var blockRegex = /^ *{{(?=((?:[:=](?:"['\w,\-+*/()#%=?. ]*"|[\w\-+*/()#%.]*)|[^"=':{}\s]*)*))\1 *$|^ *}}$/gm;
    var match = completeBlock.exec(src);
    if (match) {
      //Find closing delimiter
      var blockCount = 0;
      var tags = {};
      var endTags = 0;
      var endToken = 0;
      var delim;
      while (delim = (_blockRegex$exec = blockRegex.exec(match[0])) === null || _blockRegex$exec === void 0 ? void 0 : _blockRegex$exec[0].trim()) {
        var _blockRegex$exec;
        if (_lodash["default"].isEmpty(tags)) {
          tags = processStyleTags(delim.substring(2));
          endTags = delim.length + src.indexOf(delim);
        }
        if (delim.startsWith('{{')) {
          blockCount++;
        } else if (delim == '}}' && blockCount !== 0) {
          blockCount--;
          if (blockCount == 0) {
            endToken = blockRegex.lastIndex;
            break;
          }
        }
      }
      if (endToken) {
        var raw = src.slice(0, endToken);
        var text = raw.slice(endTags || -2, -2);
        return {
          // Token to generate
          type: 'mustacheDivs',
          // Should match "name" above
          raw: raw,
          // Text to consume from the source
          text: text,
          // Additional custom properties
          tags: tags,
          tokens: this.lexer.blockTokens(text)
        };
      }
    }
  },
  renderer: function renderer(token) {
    var tags = token.tags;
    tags.classes = ['block', tags.classes].join(' ').trim();
    return "<div" + "".concat(tags.classes ? " class=\"".concat(tags.classes, "\"") : '') + "".concat(tags.id ? " id=\"".concat(tags.id, "\"") : '') + "".concat(tags.styles ? " style=\"".concat(Object.entries(tags.styles).map(function (_ref5) {
      var _ref6 = (0, _slicedToArray2["default"])(_ref5, 2),
        key = _ref6[0],
        value = _ref6[1];
      return "".concat(key, ":").concat(value, ";");
    }).join(' '), "\"") : '') + "".concat(tags.attributes ? " ".concat(Object.entries(tags.attributes).map(function (_ref7) {
      var _ref8 = (0, _slicedToArray2["default"])(_ref7, 2),
        key = _ref8[0],
        value = _ref8[1];
      return "".concat(key, "=\"").concat(value, "\"");
    }).join(' ')) : '') + ">".concat(this.parser.parse(token.tokens), "</div>"); // parse to turn child tokens into HTML
  }
};
var mustacheInjectInline = {
  name: 'mustacheInjectInline',
  level: 'inline',
  start: function start(src) {
    var _src$match3;
    return (_src$match3 = src.match(/ *{[^{\n]/)) === null || _src$match3 === void 0 ? void 0 : _src$match3.index;
  },
  // Hint to Marked.js to stop and check for a match
  tokenizer: function tokenizer(src, tokens) {
    var inlineRegex = /^ *{(?=((?:[:=](?:"['\w,\-+*/()#%=?. ]*"|[\w\-+*/()#%.]*)|[^"=':{}\s]*)*))\1}/g;
    var match = inlineRegex.exec(src);
    if (match) {
      var lastToken = tokens[tokens.length - 1];
      if (!lastToken || lastToken.type == 'mustacheInjectInline') return false;
      var tags = processStyleTags(match[1]);
      lastToken.originalType = lastToken.type;
      lastToken.type = 'mustacheInjectInline';
      lastToken.injectedTags = tags;
      return {
        type: 'mustacheInjectInline',
        // Should match "name" above
        raw: match[0],
        // Text to consume from the source
        text: ''
      };
    }
  },
  renderer: function renderer(token) {
    if (!token.originalType) {
      return;
    }
    token.type = token.originalType;
    var text = this.parser.parseInline([token]);
    var originalTags = extractHTMLStyleTags(text);
    var injectedTags = token.injectedTags;
    var tags = mergeHTMLTags(originalTags, injectedTags);
    var openingTag = /(<[^\s<>]+)[^\n<>]*(>[^]*)/.exec(text);
    if (openingTag) {
      return "".concat(openingTag[1]) + "".concat(tags.classes ? " class=\"".concat(tags.classes, "\"") : '') + "".concat(tags.id ? " id=\"".concat(tags.id, "\"") : '') + "".concat(!_lodash["default"].isEmpty(tags.styles) ? " style=\"".concat(Object.entries(tags.styles).map(function (_ref9) {
        var _ref0 = (0, _slicedToArray2["default"])(_ref9, 2),
          key = _ref0[0],
          value = _ref0[1];
        return "".concat(key, ":").concat(value, ";");
      }).join(' '), "\"") : '') + "".concat(!_lodash["default"].isEmpty(tags.attributes) ? " ".concat(Object.entries(tags.attributes).map(function (_ref1) {
        var _ref10 = (0, _slicedToArray2["default"])(_ref1, 2),
          key = _ref10[0],
          value = _ref10[1];
        return "".concat(key, "=\"").concat(value, "\"");
      }).join(' ')) : '') + "".concat(openingTag[2]); // parse to turn child tokens into HTML
    }
    return text;
  }
};
var mustacheInjectBlock = {
  extensions: [{
    name: 'mustacheInjectBlock',
    level: 'block',
    start: function start(src) {
      var _src$match4;
      return (_src$match4 = src.match(/\n *{[^{\n]/m)) === null || _src$match4 === void 0 ? void 0 : _src$match4.index;
    },
    // Hint to Marked.js to stop and check for a match
    tokenizer: function tokenizer(src, tokens) {
      var inlineRegex = new RegExp("^ *{(?=((?:[:=](?:\"['\\w,\\-+*/()#%=?. ]*\"|[\\w\\-+*/()#%.]*)|[^\"=':{}\\s]*)*))\\1}", "ym");
      var match = inlineRegex.exec(src);
      if (match) {
        var lastToken = tokens[tokens.length - 1];
        if (!lastToken || lastToken.type == 'mustacheInjectBlock') return false;
        lastToken.originalType = 'mustacheInjectBlock';
        lastToken.injectedTags = processStyleTags(match[1]);
        return {
          type: 'mustacheInjectBlock',
          // Should match "name" above
          raw: match[0],
          // Text to consume from the source
          text: ''
        };
      }
    },
    renderer: function renderer(token) {
      if (!token.originalType) {
        return;
      }
      token.type = token.originalType;
      var text = this.parser.parse([token]);
      var originalTags = extractHTMLStyleTags(text);
      var injectedTags = token.injectedTags;
      var tags = mergeHTMLTags(originalTags, injectedTags);
      var openingTag = /(<[^\s<>]+)[^\n<>]*(>[^]*)/.exec(text);
      if (openingTag) {
        return "".concat(openingTag[1]) + "".concat(tags.classes ? " class=\"".concat(tags.classes, "\"") : '') + "".concat(tags.id ? " id=\"".concat(tags.id, "\"") : '') + "".concat(!_lodash["default"].isEmpty(tags.styles) ? " style=\"".concat(Object.entries(tags.styles).map(function (_ref11) {
          var _ref12 = (0, _slicedToArray2["default"])(_ref11, 2),
            key = _ref12[0],
            value = _ref12[1];
          return "".concat(key, ":").concat(value, ";");
        }).join(' '), "\"") : '') + "".concat(!_lodash["default"].isEmpty(tags.attributes) ? " ".concat(Object.entries(tags.attributes).map(function (_ref13) {
          var _ref14 = (0, _slicedToArray2["default"])(_ref13, 2),
            key = _ref14[0],
            value = _ref14[1];
          return "".concat(key, "=\"").concat(value, "\"");
        }).join(' ')) : '') + "".concat(openingTag[2]); // parse to turn child tokens into HTML
      }
      return text;
    }
  }],
  walkTokens: function walkTokens(token) {
    // After token tree is finished, tag tokens to apply styles to so Renderer can find them
    // Does not work with tables since Marked.js tables generate invalid "tokens", and changing "type" ruins Marked handling that edge-case
    if (token.originalType == 'mustacheInjectBlock' && token.type !== 'table') {
      token.originalType = token.type;
      token.type = 'mustacheInjectBlock';
    }
  }
};
var forcedParagraphBreaks = {
  name: 'hardBreaks',
  level: 'block',
  start: function start(src) {
    var _src$match5;
    return (_src$match5 = src.match(/\n:+$/m)) === null || _src$match5 === void 0 ? void 0 : _src$match5.index;
  },
  // Hint to Marked.js to stop and check for a match
  tokenizer: function tokenizer(src, tokens) {
    var regex = new RegExp("^(:+)(?:\\n|$)", "ym");
    var match = regex.exec(src);
    if (match !== null && match !== void 0 && match.length) {
      return {
        type: 'hardBreaks',
        // Should match "name" above
        raw: match[0],
        // Text to consume from the source
        length: match[1].length,
        text: ''
      };
    }
  },
  renderer: function renderer(token) {
    return "<div class='blank'></div>\n".repeat(token.length);
  }
};

//v=====--------------------< Variable Handling >-------------------=====v// 242 lines
var replaceVar = function replaceVar(input) {
  var _matches$filter, _linkMatch$;
  var hoist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var allowUnresolved = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var regex = /([!$]?)\[((?!\s*\])(?:\\.|[^\[\]\\])+)\]/g;
  var match = regex.exec(input);
  var prefix = match[1];
  var label = normalizeVarNames(match[2]); // Ensure the label name is normalized as it should be in the var stack.

  //v=====--------------------< HANDLE MATH >-------------------=====v//
  var mathRegex = /[a-z]+\(|[+\-*/^(),]/g;
  var matches = label.split(mathRegex);
  var mathVars = (_matches$filter = matches.filter(function (match) {
    return isNaN(match);
  })) === null || _matches$filter === void 0 ? void 0 : _matches$filter.map(function (s) {
    return s.trim();
  }); // Capture any variable names

  var replacedLabel = label;
  if (prefix[0] == '$' && (mathVars === null || mathVars === void 0 ? void 0 : mathVars[0]) !== label.trim()) {
    // If there was mathy stuff not captured, let's do math!
    mathVars === null || mathVars === void 0 || mathVars.forEach(function (variable) {
      var foundVar = lookupVar(variable, globalPageNumber, hoist);
      if (foundVar && foundVar.resolved && foundVar.content && !isNaN(foundVar.content))
        // Only subsitute math values if fully resolved, not empty strings, and numbers
        replacedLabel = replacedLabel.replaceAll(new RegExp("(?<!\\w)(".concat(variable, ")(?!\\w)"), 'g'), foundVar.content);
    });
    try {
      return mathParser.evaluate(replacedLabel);
    } catch (error) {
      return undefined; // Return undefined if invalid math result
    }
  }
  //^=====--------------------< HANDLE MATH >-------------------=====^//

  var foundVar = lookupVar(label, globalPageNumber, hoist);
  if (!foundVar || !foundVar.resolved && !allowUnresolved) return undefined; // Return undefined if not found, or parially-resolved vars are not allowed

  //                    url or <url>            "title"    or   'title'     or  (title)
  var linkRegex = /^([^<\s][^\s]*|<.*?>)(?: ("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\((?:\\\(|\\\)|[^()])*\)))?$/m;
  var linkMatch = linkRegex.exec(foundVar.content);
  var href = linkMatch ? linkMatch[1] : null; //TODO: TRIM OFF < > IF PRESENT
  var title = linkMatch ? (_linkMatch$ = linkMatch[2]) === null || _linkMatch$ === void 0 ? void 0 : _linkMatch$.slice(1, -1) : null;
  if (!prefix[0] && href)
    // Link
    return "[".concat(label, "](").concat(href).concat(title ? " \"".concat(title, "\"") : '', ")");
  if (prefix[0] == '!' && href)
    // Image
    return "![".concat(label, "](").concat(href, " ").concat(title ? " \"".concat(title, "\"") : '', ")");
  if (prefix[0] == '$')
    // Variable
    return foundVar.content;
};
var lookupVar = function lookupVar(label, index) {
  var hoist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  while (index >= 0) {
    var _globalVarsList$index;
    if (((_globalVarsList$index = globalVarsList[index]) === null || _globalVarsList$index === void 0 ? void 0 : _globalVarsList$index[label]) !== undefined) return globalVarsList[index][label];
    index--;
  }
  if (hoist) {
    //If normal lookup failed, attempt hoisting
    index = Object.keys(globalVarsList).length; // Move index to start from last page
    while (index >= 0) {
      var _globalVarsList$index2;
      if (((_globalVarsList$index2 = globalVarsList[index]) === null || _globalVarsList$index2 === void 0 ? void 0 : _globalVarsList$index2[label]) !== undefined) return globalVarsList[index][label];
      index--;
    }
  }
  return undefined;
};
var processVariableQueue = function processVariableQueue() {
  var resolvedOne = true;
  var finalLoop = false;
  while (resolvedOne || finalLoop) {
    // Loop through queue until no more variable calls can be resolved
    resolvedOne = false;
    var _iterator = _createForOfIteratorHelper(varsQueue),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var item = _step.value;
        if (item.type == 'text') continue;
        if (item.type == 'varDefBlock') {
          var regex = /[!$]?\[((?!\s*\])(?:\\.|[^\[\]\\])+)\]/g;
          var match = void 0;
          var resolved = true;
          var tempContent = item.content;
          while (match = regex.exec(item.content)) {
            // regex to find variable calls
            var value = replaceVar(match[0], true);
            if (value == undefined) resolved = false;else tempContent = tempContent.replaceAll(match[0], value);
          }
          if (resolved == true || item.content != tempContent) {
            resolvedOne = true;
            item.content = tempContent;
          }
          globalVarsList[globalPageNumber][item.varName] = {
            content: item.content,
            resolved: resolved
          };
          if (resolved) item.type = 'resolved';
        }
        if (item.type == 'varCallBlock' || item.type == 'varCallInline') {
          var _value = replaceVar(item.content, true, finalLoop); // final loop will just use the best value so far

          if (_value == undefined) continue;
          resolvedOne = true;
          item.content = _value;
          item.type = 'text';
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    varsQueue = varsQueue.filter(function (item) {
      return item.type !== 'resolved';
    }); // Remove any fully-resolved variable definitions

    if (finalLoop) break;
    if (!resolvedOne) finalLoop = true;
  }
  varsQueue = varsQueue.filter(function (item) {
    return item.type !== 'varDefBlock';
  });
};
function MarkedVariables() {
  return {
    hooks: {
      preprocess: function preprocess(src) {
        var codeBlockSkip = /^(?: {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+|^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})(?:[^\n]*)(?:\n|$)(?:|(?:[\s\S]*?)(?:\n|$))(?: {0,3}\2[~`]* *(?=\n|$))|`[^`]*?`/;
        var blockDefRegex = /^[!$]?\[((?!\s*\])(?:\\.|[^\[\]\\])+)\]:(?!\() *((?:\n? *[^\s].*)+)(?=\n+|$)/; //Matches 3, [4]:5
        var blockCallRegex = /^[!$]?\[((?!\s*\])(?:\\.|[^\[\]\\])+)\](?=\n|$)/; //Matches 6, [7]
        var inlineDefRegex = /([!$]?\[((?!\s*\])(?:\\.|[^\[\]\\])+)\])\(([^\n]+)\)/; //Matches 8, 9[10](11)
        var inlineCallRegex = /[!$]?\[((?!\s*\])(?:\\.|[^\[\]\\])+)\](?!\()/; //Matches 12, [13]

        // Combine regexes and wrap in parens like so: (regex1)|(regex2)|(regex3)|(regex4)
        var combinedRegex = new RegExp([codeBlockSkip, blockDefRegex, blockCallRegex, inlineDefRegex, inlineCallRegex].map(function (s) {
          return "(".concat(s.source, ")");
        }).join('|'), 'gm');
        var lastIndex = 0;
        var match;
        while ((match = combinedRegex.exec(src)) !== null) {
          // Format any matches into tokens and store
          if (match.index > lastIndex) {
            // Any non-variable stuff
            varsQueue.push({
              type: 'text',
              varName: null,
              content: src.slice(lastIndex, match.index)
            });
          }
          if (match[1]) {
            varsQueue.push({
              type: 'text',
              varName: null,
              content: match[0]
            });
          }
          if (match[3]) {
            // Block Definition
            var label = match[4] ? normalizeVarNames(match[4]) : null;
            var content = match[5] ? match[5].trim().replace(/[ \t]+/g, ' ') : null; // Normalize text content (except newlines for block-level content)

            varsQueue.push({
              type: 'varDefBlock',
              varName: label,
              content: content
            });
          }
          if (match[6]) {
            // Block Call
            var _label = match[7] ? normalizeVarNames(match[7]) : null;
            varsQueue.push({
              type: 'varCallBlock',
              varName: _label,
              content: match[0]
            });
          }
          if (match[8]) {
            // Inline Definition
            var _label2 = match[10] ? normalizeVarNames(match[10]) : null;
            var _content = match[11] || null;

            // In case of nested (), find the correct matching end )
            var level = 0;
            var i = void 0;
            for (i = 0; i < _content.length; i++) {
              if (_content[i] === '\\') {
                i++;
              } else if (_content[i] === '(') {
                level++;
              } else if (_content[i] === ')') {
                level--;
                if (level < 0) break;
              }
            }
            combinedRegex.lastIndex = combinedRegex.lastIndex - (_content.length - i);
            _content = _content.slice(0, i).trim().replace(/\s+/g, ' ');
            varsQueue.push({
              type: 'varDefBlock',
              varName: _label2,
              content: _content
            });
            varsQueue.push({
              type: 'varCallInline',
              varName: _label2,
              content: match[9]
            });
          }
          if (match[12]) {
            // Inline Call
            var _label3 = match[13] ? normalizeVarNames(match[13]) : null;
            varsQueue.push({
              type: 'varCallInline',
              varName: _label3,
              content: match[0]
            });
          }
          lastIndex = combinedRegex.lastIndex;
        }
        if (lastIndex < src.length) {
          varsQueue.push({
            type: 'text',
            varName: null,
            content: src.slice(lastIndex)
          });
        }
        processVariableQueue();
        var output = varsQueue.map(function (item) {
          return item.content;
        }).join('');
        varsQueue = []; // Must clear varsQueue because custom HTML renderer uses Marked.parse which will preprocess again without clearing the array
        return output;
      }
    }
  };
}
;
//^=====--------------------< Variable Handling >-------------------=====^//

// Emoji options
// To add more icon fonts, need to do these things
// 1) Add the font file as .woff2 to themes/fonts/iconFonts folder
// 2) Create a .less file mapping CSS class names to the font character
// 3) Create a .js file mapping Autosuggest names to CSS class names
// 4) Import the .less file into shared/naturalcrit/codeEditor/codeEditor.less
// 5) Import the .less file into themes/V3/blank.style.less
// 6) Import the .js file to shared/naturalcrit/codeEditor/autocompleteEmoji.js and add to `emojis` object
// 7) Import the .js file here to markdown.js, and add to `emojis` object below
var MarkedEmojiOptions = {
  emojis: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, _diceFont["default"]), _elderberryInn["default"]), _fontAwesome["default"]), _gameIcons["default"]),
  renderer: function renderer(token) {
    return "<i class=\"".concat(token.emoji, "\"></i>");
  }
};
var tableTerminators = [":+\\n", // hardBreak
" *{[^\n]+}", // blockInjector
" *{{[^{\n]*\n.*?\n}}" // mustacheDiv
];
_marked.marked.use(MarkedVariables());
_marked.marked.use((0, _markedDefinitionLists["default"])());
_marked.marked.use({
  extensions: [forcedParagraphBreaks, mustacheSpans, mustacheDivs, mustacheInjectInline]
});
_marked.marked.use(mustacheInjectBlock);
_marked.marked.use((0, _markedAlignmentParagraphs["default"])());
_marked.marked.use((0, _markedSubsuperText["default"])());
_marked.marked.use((0, _markedNonbreakingSpaces["default"])());
_marked.marked.use({
  renderer: renderer,
  tokenizer: tokenizer,
  mangle: false
});
_marked.marked.use((0, _markedExtendedTables["default"])({
  interruptPatterns: tableTerminators
}), (0, _markedGfmHeadingId.gfmHeadingId)({
  globalSlugs: true
}), (0, _markedSmartypantsLite.markedSmartypantsLite)(), (0, _markedEmoji.markedEmoji)(MarkedEmojiOptions));
function cleanUrl(href) {
  try {
    href = encodeURI(href).replace(/%25/g, '%');
  } catch (_unused) {
    return null;
  }
  return href;
}
var escapeTest = /[&<>"']/;
var escapeReplace = /[&<>"']/g;
var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
var escapeReplacements = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  '\'': '&#39;'
};
var getEscapeReplacement = function getEscapeReplacement(ch) {
  return escapeReplacements[ch];
};
var escape = function escape(html, encode) {
  if (encode) {
    if (escapeTest.test(html)) {
      return html.replace(escapeReplace, getEscapeReplacement);
    }
  } else {
    if (escapeTestNoEncode.test(html)) {
      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
    }
  }
  return html;
};
var tagTypes = ['div', 'span', 'a'];
var tagRegex = new RegExp("(".concat(_lodash["default"].map(tagTypes, function (type) {
  return "\\<".concat(type, "\\b|\\</").concat(type, ">");
}).join('|'), ")"), 'g');

// Special "void" tags that can be self-closed but don't need to be.
var voidTags = new Set(['area', 'base', 'br', 'col', 'command', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source']);
var processStyleTags = function processStyleTags(string) {
  var _$remove$map;
  //split tags up. quotes can only occur right after : or =.
  //TODO: can we simplify to just split on commas?
  var tags = string.match(/(?:[^, ":=]+|[:=](?:"[^"]*"|))+/g);
  var id = _lodash["default"].remove(tags, function (tag) {
    return tag.startsWith('#');
  }).map(function (tag) {
    return tag.slice(1);
  })[0] || null;
  var classes = _lodash["default"].remove(tags, function (tag) {
    return !tag.includes(':') && !tag.includes('=');
  }).join(' ') || null;
  var attributes = ((_$remove$map = _lodash["default"].remove(tags, function (tag) {
    return tag.includes('=');
  }).map(function (tag) {
    return tag.replace(/="?([^"]*)"?/g, '="$1"');
  })) === null || _$remove$map === void 0 ? void 0 : _$remove$map.filter(function (attr) {
    return !attr.startsWith('class="') && !attr.startsWith('style="') && !attr.startsWith('id="');
  }).reduce(function (obj, attr) {
    var index = attr.indexOf('=');
    var _ref15 = [attr.substring(0, index), attr.substring(index + 1)],
      key = _ref15[0],
      value = _ref15[1];
    value = value.replace(/"/g, '');
    obj[key.trim()] = value.trim();
    return obj;
  }, {})) || null;
  var styles = tags !== null && tags !== void 0 && tags.length ? tags.reduce(function (styleObj, style) {
    var index = style.indexOf(':');
    var _ref16 = [style.substring(0, index), style.substring(index + 1)],
      key = _ref16[0],
      value = _ref16[1];
    styleObj[key.trim()] = value.replace(/"?([^"]*)"?/g, '$1').trim();
    return styleObj;
  }, {}) : null;
  return {
    id: id,
    classes: classes,
    styles: _lodash["default"].isEmpty(styles) ? null : styles,
    attributes: _lodash["default"].isEmpty(attributes) ? null : attributes
  };
};

//Given a string representing an HTML element, extract all of its properties (id, class, style, and other attributes)
var extractHTMLStyleTags = function extractHTMLStyleTags(htmlString) {
  var _firstElementOnly$mat, _firstElementOnly$mat2, _firstElementOnly$mat3, _firstElementOnly$mat4;
  var firstElementOnly = htmlString.split('>')[0];
  var id = ((_firstElementOnly$mat = firstElementOnly.match(/id="([^"]*)"/)) === null || _firstElementOnly$mat === void 0 ? void 0 : _firstElementOnly$mat[1]) || null;
  var classes = ((_firstElementOnly$mat2 = firstElementOnly.match(/class="([^"]*)"/)) === null || _firstElementOnly$mat2 === void 0 ? void 0 : _firstElementOnly$mat2[1]) || null;
  var styles = ((_firstElementOnly$mat3 = firstElementOnly.match(/style="([^"]*)"/)) === null || _firstElementOnly$mat3 === void 0 || (_firstElementOnly$mat3 = _firstElementOnly$mat3[1]) === null || _firstElementOnly$mat3 === void 0 ? void 0 : _firstElementOnly$mat3.split(';').reduce(function (styleObj, style) {
    if (style.trim() === '') return styleObj;
    var index = style.indexOf(':');
    var _ref17 = [style.substring(0, index), style.substring(index + 1)],
      key = _ref17[0],
      value = _ref17[1];
    styleObj[key.trim()] = value.trim();
    return styleObj;
  }, {})) || null;
  var attributes = ((_firstElementOnly$mat4 = firstElementOnly.match(/[a-zA-Z]+="[^"]*"/g)) === null || _firstElementOnly$mat4 === void 0 ? void 0 : _firstElementOnly$mat4.filter(function (attr) {
    return !attr.startsWith('class="') && !attr.startsWith('style="') && !attr.startsWith('id="');
  }).reduce(function (obj, attr) {
    var index = attr.indexOf('=');
    var _ref18 = [attr.substring(0, index), attr.substring(index + 1)],
      key = _ref18[0],
      value = _ref18[1];
    obj[key.trim()] = value.replace(/"/g, '');
    return obj;
  }, {})) || null;
  return {
    id: id,
    classes: classes,
    styles: _lodash["default"].isEmpty(styles) ? null : styles,
    attributes: _lodash["default"].isEmpty(attributes) ? null : attributes
  };
};
var mergeHTMLTags = function mergeHTMLTags(originalTags, newTags) {
  var _originalTags$styles, _newTags$styles, _originalTags$attribu, _newTags$attributes;
  return {
    id: newTags.id || originalTags.id || null,
    classes: [originalTags.classes, newTags.classes].join(' ').trim() || null,
    styles: Object.assign((_originalTags$styles = originalTags.styles) !== null && _originalTags$styles !== void 0 ? _originalTags$styles : {}, (_newTags$styles = newTags.styles) !== null && _newTags$styles !== void 0 ? _newTags$styles : {}),
    attributes: Object.assign((_originalTags$attribu = originalTags.attributes) !== null && _originalTags$attribu !== void 0 ? _originalTags$attribu : {}, (_newTags$attributes = newTags.attributes) !== null && _newTags$attributes !== void 0 ? _newTags$attributes : {})
  };
};
var globalVarsList = {};
var varsQueue = [];
var globalPageNumber = 0;
var Markdown = {
  marked: _marked.marked,
  render: function render(rawBrewText) {
    var pageNumber = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var lastPageNumber = pageNumber > 0 ? globalVarsList[pageNumber - 1].HB_pageNumber.content : 0;
    globalVarsList[pageNumber] = {
      //Reset global links for current page, to ensure values are parsed in order
      'HB_pageNumber': {
        //Add document variables for this page
        content: !isNaN(Number(lastPageNumber)) ? Number(lastPageNumber) + 1 : lastPageNumber,
        resolved: true
      }
    };
    varsQueue = []; //Could move into MarkedVariables()
    globalPageNumber = pageNumber;
    if (pageNumber == 0) {
      (0, _markedGfmHeadingId.resetHeadings)();
    }
    rawBrewText = rawBrewText.replace(/^\\column(?:break)?$/gm, "\n<div class='columnSplit'></div>\n");
    var opts = _marked.marked.defaults;
    rawBrewText = opts.hooks.preprocess(rawBrewText);
    var tokens = _marked.marked.lexer(rawBrewText, opts);
    _marked.marked.walkTokens(tokens, opts.walkTokens);
    var html = _marked.marked.parser(tokens, opts);
    return opts.hooks.postprocess(html);
  },
  validate: function validate(rawBrewText) {
    var errors = [];
    var leftovers = _lodash["default"].reduce(rawBrewText.split('\n'), function (acc, line, _lineNumber) {
      var lineNumber = _lineNumber + 1;
      var matches = line.match(tagRegex);
      if (!matches || !matches.length) return acc;
      _lodash["default"].each(matches, function (match) {
        _lodash["default"].each(tagTypes, function (type) {
          if (match == "<".concat(type)) {
            acc.push({
              type: type,
              line: lineNumber
            });
          }
          if (match === "</".concat(type, ">")) {
            // Closing tag: Check we expect it to be closed.
            // The accumulator may contain a sequence of voidable opening tags,
            // over which we skip before checking validity of the close.
            while (acc.length && voidTags.has(_lodash["default"].last(acc).type) && _lodash["default"].last(acc).type != type) {
              acc.pop();
            }
            // Now check that what remains in the accumulator is valid.
            if (!acc.length) {
              errors.push({
                line: lineNumber,
                type: type,
                text: 'Unmatched closing tag',
                id: 'CLOSE'
              });
            } else if (_lodash["default"].last(acc).type == type) {
              acc.pop();
            } else {
              errors.push({
                line: "".concat(_lodash["default"].last(acc).line, " to ").concat(lineNumber),
                type: type,
                text: 'Type mismatch on closing tag',
                id: 'MISMATCH'
              });
              acc.pop();
            }
          }
        });
      });
      return acc;
    }, []);
    _lodash["default"].each(leftovers, function (unmatched) {
      errors.push({
        line: unmatched.line,
        type: unmatched.type,
        text: 'Unmatched opening tag',
        id: 'OPEN'
      });
    });
    return errors;
  }
};
var _default = exports["default"] = Markdown;
},{"../../themes/fonts/iconFonts/diceFont.js":306,"../../themes/fonts/iconFonts/elderberryInn.js":307,"../../themes/fonts/iconFonts/fontAwesome.js":308,"../../themes/fonts/iconFonts/gameIcons.js":309,"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"expr-eval":191,"lodash":"lodash","marked":229,"marked-alignment-paragraphs":220,"marked-definition-lists":221,"marked-emoji":222,"marked-extended-tables":223,"marked-gfm-heading-id":224,"marked-nonbreaking-spaces":225,"marked-smartypants-lite":226,"marked-subsuper-text":227,"romans":247,"written-number":267}],280:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var Markdown = require('markedLegacy');
var renderer = new Markdown.Renderer();

//Processes the markdown within an HTML block if it's just a class-wrapper
renderer.html = function (html) {
  if (_.startsWith(_.trim(html), '<div') && _.endsWith(_.trim(html), '</div>')) {
    var openTag = html.substring(0, html.indexOf('>') + 1);
    html = html.substring(html.indexOf('>') + 1);
    html = html.substring(0, html.lastIndexOf('</div>'));
    return "".concat(openTag, " ").concat(Markdown(html), " </div>");
  }
  // if(_.startsWith(_.trim(html), '<style') && _.endsWith(_.trim(html), '</style>')){
  // 	const openTag = html.substring(0, html.indexOf('>')+1);
  // 	html = html.substring(html.indexOf('>')+1);
  // 	html = html.substring(0, html.lastIndexOf('</style>'));
  // 	html = html.replaceAll(/\s(\.[^{]*)/gm, '.legacy $1');
  // 	return `${openTag} ${html} </style>`;
  // }
  return html;
};
renderer.link = function (href, title, text) {
  var self = false;
  if (href[0] == '#') {
    self = true;
  }
  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
  if (href === null) {
    return text;
  }
  var out = "<a href=\"".concat(escape(href), "\"");
  if (title) {
    out += " title=\"".concat(title, "\"");
  }
  if (self) {
    out += ' target="_self"';
  }
  out += ">".concat(text, "</a>");
  return out;
};
var nonWordAndColonTest = /[^\w:]/g;
var cleanUrl = function cleanUrl(sanitize, base, href) {
  if (sanitize) {
    var prot;
    try {
      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();
    } catch (e) {
      return null;
    }
    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
      return null;
    }
  }
  try {
    href = encodeURI(href).replace(/%25/g, '%');
  } catch (e) {
    return null;
  }
  return href;
};
var escapeTest = /[&<>"']/;
var escapeReplace = /[&<>"']/g;
var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
var escapeReplacements = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  '\'': '&#39;'
};
var getEscapeReplacement = function getEscapeReplacement(ch) {
  return escapeReplacements[ch];
};
var escape = function escape(html, encode) {
  if (encode) {
    if (escapeTest.test(html)) {
      return html.replace(escapeReplace, getEscapeReplacement);
    }
  } else {
    if (escapeTestNoEncode.test(html)) {
      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
    }
  }
  return html;
};
var tagTypes = ['div', 'span', 'a'];
var tagRegex = new RegExp("(".concat(_.map(tagTypes, function (type) {
  return "\\<".concat(type, "\\b|\\</").concat(type, ">");
}).join('|'), ")"), 'g');

// Special "void" tags that can be self-closed but don't need to be.
var voidTags = new Set(['area', 'base', 'br', 'col', 'command', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source']);
module.exports = {
  marked: Markdown,
  render: function render(rawBrewText) {
    return Markdown(rawBrewText, {
      renderer: renderer
    });
  },
  validate: function validate(rawBrewText) {
    var errors = [];
    var leftovers = _.reduce(rawBrewText.split('\n'), function (acc, line, _lineNumber) {
      var lineNumber = _lineNumber + 1;
      var matches = line.match(tagRegex);
      if (!matches || !matches.length) return acc;
      _.each(matches, function (match) {
        _.each(tagTypes, function (type) {
          if (match == "<".concat(type)) {
            acc.push({
              type: type,
              line: lineNumber
            });
          }
          if (match === "</".concat(type, ">")) {
            // Closing tag: Check we expect it to be closed.
            // The accumulator may contain a sequence of voidable opening tags,
            // over which we skip before checking validity of the close.
            while (acc.length && voidTags.has(_.last(acc).type) && _.last(acc).type != type) {
              acc.pop();
            }
            // Now check that what remains in the accumulator is valid.
            if (!acc.length) {
              errors.push({
                line: lineNumber,
                type: type,
                text: 'Unmatched closing tag',
                id: 'CLOSE'
              });
            } else if (_.last(acc).type == type) {
              acc.pop();
            } else {
              errors.push({
                line: "".concat(_.last(acc).line, " to ").concat(lineNumber),
                type: type,
                text: 'Type mismatch on closing tag',
                id: 'MISMATCH'
              });
              acc.pop();
            }
          }
        });
      });
      return acc;
    }, []);
    _.each(leftovers, function (unmatched) {
      errors.push({
        line: unmatched.line,
        type: unmatched.type,
        text: 'Unmatched opening tag',
        id: 'OPEN'
      });
    });
    return errors;
  }
};
},{"lodash":"lodash","markedLegacy":228}],281:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
require('client/homebrew/navbar/navbar.less');
var React = require('react');
var useState = React.useState,
  useRef = React.useRef,
  useEffect = React.useEffect;
var createClass = require('create-react-class');
var _ = require('lodash');
var cx = require('classnames');
var NaturalCritIcon = require('naturalcrit/svg/naturalcrit.svg.jsx');
var Nav = {
  base: createClass({
    displayName: 'Nav.base',
    render: function render() {
      return /*#__PURE__*/React.createElement("nav", null, this.props.children);
    }
  }),
  logo: function logo() {
    return /*#__PURE__*/React.createElement("a", {
      className: "navLogo",
      href: "https://www.naturalcrit.com"
    }, /*#__PURE__*/React.createElement(NaturalCritIcon, null), /*#__PURE__*/React.createElement("span", {
      className: "name"
    }, "Natural", /*#__PURE__*/React.createElement("span", {
      className: "crit"
    }, "Crit")));
  },
  section: createClass({
    displayName: 'Nav.section',
    render: function render() {
      var _this$props$className;
      return /*#__PURE__*/React.createElement("div", {
        className: "navSection ".concat((_this$props$className = this.props.className) !== null && _this$props$className !== void 0 ? _this$props$className : '')
      }, this.props.children);
    }
  }),
  item: createClass({
    displayName: 'Nav.item',
    getDefaultProps: function getDefaultProps() {
      return {
        icon: null,
        href: null,
        newTab: false,
        onClick: function onClick() {},
        color: null
      };
    },
    handleClick: function handleClick(e) {
      this.props.onClick(e);
    },
    render: function render() {
      var classes = cx('navItem', this.props.color, this.props.className);
      var icon;
      if (this.props.icon) icon = /*#__PURE__*/React.createElement("i", {
        className: this.props.icon
      });
      var props = _.omit(this.props, ['newTab']);
      if (this.props.href) {
        return /*#__PURE__*/React.createElement("a", (0, _extends2["default"])({}, props, {
          className: classes,
          target: this.props.newTab ? '_blank' : '_self'
        }), this.props.children, icon);
      } else {
        return /*#__PURE__*/React.createElement("div", (0, _extends2["default"])({}, props, {
          className: classes,
          onClick: this.handleClick
        }), this.props.children, icon);
      }
    }
  }),
  dropdown: function dropdown(props) {
    var _props$className;
    props = Object.assign({}, props, {
      trigger: 'hover click'
    });
    var myRef = useRef(null);
    var _useState = useState(false),
      _useState2 = (0, _slicedToArray2["default"])(_useState, 2),
      showDropdown = _useState2[0],
      setShowDropdown = _useState2[1];
    useEffect(function () {
      document.addEventListener('click', handleClickOutside);
      return function () {
        document.removeEventListener('click', handleClickOutside);
      };
    }, []);
    function handleClickOutside(e) {
      var _myRef$current;
      // Close dropdown when clicked outside
      if (!((_myRef$current = myRef.current) !== null && _myRef$current !== void 0 && _myRef$current.contains(e.target))) {
        handleDropdown(false);
      }
    }
    function handleDropdown(show) {
      setShowDropdown(show !== null && show !== void 0 ? show : !showDropdown);
    }
    var dropdownChildren = React.Children.map(props.children, function (child, i) {
      if (i < 1) return;
      return child;
    });
    return /*#__PURE__*/React.createElement("div", {
      className: "navDropdownContainer ".concat((_props$className = props.className) !== null && _props$className !== void 0 ? _props$className : ''),
      ref: myRef,
      onMouseEnter: props.trigger.includes('hover') ? function () {
        return handleDropdown(true);
      } : undefined,
      onMouseLeave: props.trigger.includes('hover') ? function () {
        return handleDropdown(false);
      } : undefined,
      onClick: props.trigger.includes('click') ? function () {
        return handleDropdown(true);
      } : undefined
    }, props.children[0] || props.children /*children is not an array when only one child*/, showDropdown && /*#__PURE__*/React.createElement("div", {
      className: "navDropdown"
    }, dropdownChildren));
  }
};
module.exports = Nav;
},{"@babel/runtime/helpers/extends":83,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/slicedToArray":107,"classnames":"classnames","client/homebrew/navbar/navbar.less":38,"create-react-class":"create-react-class","lodash":"lodash","naturalcrit/svg/naturalcrit.svg.jsx":282,"react":"react"}],282:[function(require,module,exports){
"use strict";

var React = require('react');
var createClass = require('create-react-class');
module.exports = function (props) {
  return /*#__PURE__*/React.createElement("svg", {
    version: "1.1",
    x: "0px",
    y: "0px",
    viewBox: "0 0 100 100",
    enableBackground: "new 0 0 100 100"
  }, /*#__PURE__*/React.createElement("path", {
    d: "M80.644,87.982l16.592-41.483c0.054-0.128,0.088-0.26,0.108-0.394c0.006-0.039,0.007-0.077,0.011-0.116  c0.007-0.087,0.008-0.174,0.002-0.26c-0.003-0.046-0.007-0.091-0.014-0.137c-0.014-0.089-0.036-0.176-0.063-0.262  c-0.012-0.034-0.019-0.069-0.031-0.103c-0.047-0.118-0.106-0.229-0.178-0.335c-0.004-0.006-0.006-0.012-0.01-0.018L67.999,3.358  c-0.01-0.013-0.003-0.026-0.013-0.04L68,3.315V4c0,0-0.033,0-0.037,0c-0.403-1-1.094-1.124-1.752-0.976  c0,0.004-0.004-0.012-0.007-0.012C66.201,3.016,66.194,3,66.194,3H66.19h-0.003h-0.003h-0.004h-0.003c0,0-0.004,0-0.007,0  s-0.003-0.151-0.007-0.151L20.495,15.227c-0.025,0.007-0.046-0.019-0.071-0.011c-0.087,0.028-0.172,0.041-0.253,0.083  c-0.054,0.027-0.102,0.053-0.152,0.085c-0.051,0.033-0.101,0.061-0.147,0.099c-0.044,0.036-0.084,0.073-0.124,0.113  c-0.048,0.048-0.093,0.098-0.136,0.152c-0.03,0.039-0.059,0.076-0.085,0.117c-0.046,0.07-0.084,0.145-0.12,0.223  c-0.011,0.023-0.027,0.042-0.036,0.066L2.911,57.664C2.891,57.715,3,57.768,3,57.82v0.002c0,0.186,0,0.375,0,0.562  c0,0.004,0,0.004,0,0.008c0,0,0,0,0,0.002c0,0,0,0,0,0.004v0.004v0.002c0,0.074-0.002,0.15,0.012,0.223  C3.015,58.631,3,58.631,3,58.633c0,0.004,0,0.004,0,0.008c0,0,0,0,0,0.002c0,0,0,0,0,0.004v0.004c0,0,0,0,0,0.002v0.004  c0,0.191-0.046,0.377,0.06,0.545c0-0.002-0.03,0.004-0.03,0.004c0,0.004-0.03,0.004-0.03,0.004c0,0.002,0,0.002,0,0.002  l-0.045,0.004c0.03,0.047,0.036,0.09,0.068,0.133l29.049,37.359c0.002,0.004,0,0.006,0.002,0.01c0.002,0.002,0,0.004,0.002,0.008  c0.006,0.008,0.014,0.014,0.021,0.021c0.024,0.029,0.052,0.051,0.078,0.078c0.027,0.029,0.053,0.057,0.082,0.082  c0.03,0.027,0.055,0.062,0.086,0.088c0.026,0.02,0.057,0.033,0.084,0.053c0.04,0.027,0.081,0.053,0.123,0.076  c0.005,0.004,0.01,0.008,0.016,0.01c0.087,0.051,0.176,0.09,0.269,0.123c0.042,0.014,0.082,0.031,0.125,0.043  c0.021,0.006,0.041,0.018,0.062,0.021c0.123,0.027,0.249,0.043,0.375,0.043c0.099,0,0.202-0.012,0.304-0.027l45.669-8.303  c0.057-0.01,0.108-0.021,0.163-0.037C79.547,88.992,79.562,89,79.575,89c0.004,0,0.004,0,0.004,0c0.021,0,0.039-0.027,0.06-0.035  c0.041-0.014,0.08-0.034,0.12-0.052c0.021-0.01,0.044-0.019,0.064-0.03c0.017-0.01,0.026-0.015,0.033-0.017  c0.014-0.008,0.023-0.021,0.037-0.028c0.14-0.078,0.269-0.174,0.38-0.285c0.014-0.016,0.024-0.034,0.038-0.048  c0.109-0.119,0.201-0.252,0.271-0.398c0.006-0.01,0.016-0.018,0.021-0.029c0.004-0.008,0.008-0.017,0.011-0.026  c0.002-0.004,0.003-0.006,0.005-0.01C80.627,88.021,80.635,88.002,80.644,87.982z M77.611,84.461L48.805,66.453l32.407-25.202  L77.611,84.461z M46.817,63.709L35.863,23.542l43.818,14.608L46.817,63.709z M84.668,40.542l8.926,5.952l-11.902,29.75  L84.668,40.542z M89.128,39.446L84.53,36.38l-6.129-12.257L89.128,39.446z M79.876,34.645L37.807,20.622L65.854,6.599L79.876,34.645  z M33.268,19.107l-6.485-2.162l23.781-6.487L33.268,19.107z M21.92,18.895l8.67,2.891L10.357,47.798L21.92,18.895z M32.652,24.649  l10.845,39.757L7.351,57.178L32.652,24.649z M43.472,67.857L32.969,92.363L8.462,60.855L43.472,67.857z M46.631,69.09l27.826,17.393  l-38.263,6.959L46.631,69.09z"
  }));
};
},{"create-react-class":"create-react-class","react":"react"}],283:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4;
/* eslint-disable max-lines */

var MagicGen = require('./snippets/magic.gen.js');
var ClassTableGen = require('./snippets/classtable.gen.js');
var MonsterBlockGen = require('./snippets/monsterblock.gen.js');
var ClassFeatureGen = require('./snippets/classfeature.gen.js');
var CoverPageGen = require('./snippets/coverpage.gen.js');
var TableOfContentsGen = require('./snippets/tableOfContents.gen.js');
var dedent = require('dedent-tabs')["default"];
module.exports = [{
  groupName: 'Text Editor',
  icon: 'fas fa-pencil-alt',
  view: 'text',
  snippets: [{
    name: 'Column Break',
    icon: 'fas fa-columns',
    gen: '```\n```\n\n'
  }, {
    name: 'New Page',
    icon: 'fas fa-file-alt',
    gen: '\\page\n\n'
  }, {
    name: 'Vertical Spacing',
    icon: 'fas fa-arrows-alt-v',
    gen: '<div style=\'margin-top:140px\'></div>\n\n'
  }, {
    name: 'Wide Block',
    icon: 'fas fa-arrows-alt-h',
    gen: '<div class=\'wide\'>\nEverything in here will be extra wide. Tables, text, everything! Beware though, CSS columns can behave a bit weird sometimes.\n</div>\n'
  }, {
    name: 'Image',
    icon: 'fas fa-image',
    gen: ['<img ', '  src=\'https://s-media-cache-ak0.pinimg.com/736x/4a/81/79/4a8179462cfdf39054a418efd4cb743e.jpg\' ', '  style=\'width:325px\' />', 'Credit: Kyounghwan Kim'].join('\n')
  }, {
    name: 'Background Image',
    icon: 'fas fa-tree',
    gen: ['<img ', '  src=\'http://i.imgur.com/hMna6G0.png\' ', '  style=\'position:absolute; top:50px; right:30px; width:280px\' />'].join('\n')
  }, {
    name: 'Page Number',
    icon: 'fas fa-bookmark',
    gen: '<div class=\'pageNumber\'>1</div>\n<div class=\'footnote\'>PART 1 | FANCINESS</div>\n\n'
  }, {
    name: 'Auto-incrementing Page Number',
    icon: 'fas fa-sort-numeric-down',
    gen: '<div class=\'pageNumber auto\'></div>\n'
  }, {
    name: 'Link to page',
    icon: 'fas fa-link',
    gen: '[Click here](#p3) to go to page 3\n'
  }, {
    name: 'Table of Contents',
    icon: 'fas fa-book',
    gen: TableOfContentsGen
  }, {
    name: 'Add Comment',
    icon: 'fas fa-code',
    gen: '<!-- This is a comment that will not be rendered into your brew. Hotkey (Ctrl/Cmd + /). -->'
  }]
}, {
  groupName: 'Style Editor',
  icon: 'fas fa-pencil-alt',
  view: 'style',
  snippets: [{
    name: 'Remove Drop Cap',
    icon: 'fas fa-remove-format',
    gen: dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["/* Removes Drop Caps */\n\t\t\t\t\t\t.phb h1+p:first-letter {\n\t\t\t\t\t\t\tall: unset;\n\t\t\t\t\t\t}\n\n"], ["/* Removes Drop Caps */\n\t\t\t\t\t\t.phb h1+p:first-letter {\n\t\t\t\t\t\t\tall: unset;\n\t\t\t\t\t\t}\\n\\n"])))
  }, {
    name: 'Tweak Drop Cap',
    icon: 'fas fa-sliders-h',
    gen: dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["/* Drop Cap Settings */\n\t\t\t\t\t\t.phb h1 + p::first-letter {\n\t\t\t\t\t\t\tfloat: left;\n\t\t\t\t\t\t\tfont-family: Solberry;\n\t\t\t\t\t\t\tfont-size: 10em;\n\t\t\t\t\t\t\tcolor: #222;\n\t\t\t\t\t\t\tline-height: .8em;\n\t\t\t\t\t\t}\n\n"], ["/* Drop Cap Settings */\n\t\t\t\t\t\t.phb h1 + p::first-letter {\n\t\t\t\t\t\t\tfloat: left;\n\t\t\t\t\t\t\tfont-family: Solberry;\n\t\t\t\t\t\t\tfont-size: 10em;\n\t\t\t\t\t\t\tcolor: #222;\n\t\t\t\t\t\t\tline-height: .8em;\n\t\t\t\t\t\t}\\n\\n"])))
  }, {
    name: 'Add Comment',
    icon: 'fas fa-code',
    gen: '/* This is a comment that will not be rendered into your brew. */'
  }]
}, /************************* PHB ********************/

{
  groupName: 'PHB',
  icon: 'fas fa-book',
  view: 'text',
  snippets: [{
    name: 'Spell',
    icon: 'fas fa-magic',
    gen: MagicGen.spell
  }, {
    name: 'Spell List',
    icon: 'fas fa-list',
    gen: MagicGen.spellList
  }, {
    name: 'Class Feature',
    icon: 'fas fa-trophy',
    gen: ClassFeatureGen
  }, {
    name: 'Note',
    icon: 'fas fa-sticky-note',
    gen: function gen() {
      return ['> ##### Time to Drop Knowledge', '> Use notes to point out some interesting information. ', '> ', '> **Tables and lists** both work within a note.'].join('\n');
    }
  }, {
    name: 'Descriptive Text Box',
    icon: 'far fa-sticky-note',
    gen: function gen() {
      return ['<div class=\'descriptive\'>', '##### Time to Drop Knowledge', 'Use notes to point out some interesting information. ', '', '**Tables and lists** both work within a note.', '</div>'].join('\n');
    }
  }, {
    name: 'Monster Stat Block',
    icon: 'fas fa-bug',
    gen: MonsterBlockGen.half
  }, {
    name: 'Wide Monster Stat Block',
    icon: 'fas fa-paw',
    gen: MonsterBlockGen.full
  }, {
    name: 'Cover Page',
    icon: 'far fa-file-word',
    gen: CoverPageGen
  }, {
    name: 'Artist Credit',
    icon: 'fas fa-signature',
    gen: '<div class=\'artist\' style=\'top:90px;right:30px;\'>\n' + '##### Starry Night\n' + '[Van Gogh](https://www.vangoghmuseum.nl/en)\n' + '</div>\n'
  }]
}, /*********************  TABLES *********************/

{
  groupName: 'Tables',
  icon: 'fas fa-table',
  view: 'text',
  snippets: [{
    name: 'Class Table',
    icon: 'fas fa-table',
    gen: ClassTableGen.full
  }, {
    name: 'Half Class Table',
    icon: 'fas fa-list-alt',
    gen: ClassTableGen.half
  }, {
    name: 'Table',
    icon: 'fas fa-th-list',
    gen: function gen() {
      return ['##### Cookie Tastiness', '| Tastiness | Cookie Type |', '|:----:|:-------------|', '| -5  | Raisin |', '| 8th  | Chocolate Chip |', '| 11th | 2 or lower |', '| 14th | 3 or lower |', '| 17th | 4 or lower |\n\n'].join('\n');
    }
  }, {
    name: 'Wide Table',
    icon: 'fas fa-list',
    gen: function gen() {
      return ['<div class=\'wide\'>', '##### Cookie Tastiness', '| Tastiness | Cookie Type |', '|:----:|:-------------|', '| -5  | Raisin |', '| 8th  | Chocolate Chip |', '| 11th | 2 or lower |', '| 14th | 3 or lower |', '| 17th | 4 or lower |', '</div>\n\n'].join('\n');
    }
  }, {
    name: 'Split Table',
    icon: 'fas fa-th-large',
    gen: dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n\n\t\t\t\t\t<div style='column-count:2'>\n\t\t\t\t\t| d10 | Damage Type |\n\t\t\t\t\t|:---:|:------------|\n\t\t\t\t\t|  1  | Acid        |\n\t\t\t\t\t|  2  | Cold        |\n\t\t\t\t\t|  3  | Fire        |\n\t\t\t\t\t|  4  | Force       |\n\t\t\t\t\t|  5  | Lightning   |\n\n\t\t\t\t\t| d10 | Damage Type |\n\t\t\t\t\t|:---:|:------------|\n\t\t\t\t\t|  6  | Necrotic    |\n\t\t\t\t\t|  7  | Poison      |\n\t\t\t\t\t|  8  | Psychic     |\n\t\t\t\t\t|  9  | Radiant     |\n\t\t\t\t\t|  10 | Thunder     |\n\t\t\t\t\t</div>\n\t\t\t\t\t\n"], ["\\n\n\t\t\t\t\t<div style='column-count:2'>\n\t\t\t\t\t| d10 | Damage Type |\n\t\t\t\t\t|:---:|:------------|\n\t\t\t\t\t|  1  | Acid        |\n\t\t\t\t\t|  2  | Cold        |\n\t\t\t\t\t|  3  | Fire        |\n\t\t\t\t\t|  4  | Force       |\n\t\t\t\t\t|  5  | Lightning   |\n\n\t\t\t\t\t| d10 | Damage Type |\n\t\t\t\t\t|:---:|:------------|\n\t\t\t\t\t|  6  | Necrotic    |\n\t\t\t\t\t|  7  | Poison      |\n\t\t\t\t\t|  8  | Psychic     |\n\t\t\t\t\t|  9  | Radiant     |\n\t\t\t\t\t|  10 | Thunder     |\n\t\t\t\t\t</div>\n\t\t\t\t\t\\n"])))
  }]
}, /**************** PRINT *************/

{
  groupName: 'Print',
  icon: 'fas fa-print',
  view: 'style',
  snippets: [{
    name: 'A4 Page Size',
    icon: 'far fa-file',
    gen: ['/* A4 Page Size */', '.phb {', '	width  : 210mm;', '	height : 296.8mm;', '}'].join('\n')
  }, {
    name: 'Square Page Size',
    icon: 'far fa-file',
    gen: ['/* Square Page Size */', '.phb {', '	width   : 125mm;', '	height  : 125mm;', '	padding : 12.5mm;', '	columns : unset;', '}', ''].join('\n')
  }, {
    name: 'Ink Friendly',
    icon: 'fas fa-tint',
    gen: dedent(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t/* Ink Friendly */\n\t\t\t\t\t.phb, .phb blockquote, .phb hr+blockquote {\n\t\t\t\t\t\tbackground : white;\n\t\t\t\t\t\tbox-shadow : 0px 0px 3px;\n\t\t\t\t\t}\n\n\t\t\t\t\t.phb img {\n\t\t\t\t\t\tvisibility : hidden;\n\t\t\t\t\t}"])))
  }]
}];
},{"./snippets/classfeature.gen.js":284,"./snippets/classtable.gen.js":285,"./snippets/coverpage.gen.js":286,"./snippets/magic.gen.js":287,"./snippets/monsterblock.gen.js":288,"./snippets/tableOfContents.gen.js":289,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190}],284:[function(require,module,exports){
"use strict";

var _ = require('lodash');
module.exports = function (classname) {
  classname = _.sample(['archivist', 'fancyman', 'linguist', 'fletcher', 'notary', 'berserker-typist', 'fishmongerer', 'manicurist', 'haberdasher', 'concierge']);
  classname = classname.toLowerCase();
  var hitDie = _.sample([4, 6, 8, 10, 12]);
  var spellSkill = _.sample(['Wisdom', 'Charisma', 'Intelligence']);
  var abilityList = ['Strength', 'Dexerity', 'Constitution', 'Wisdom', 'Charisma', 'Intelligence'];
  var skillList = ['Acrobatics ', 'Animal Handling', 'Arcana', 'Athletics', 'Deception', 'History', 'Insight', 'Intimidation', 'Investigation', 'Medicine', 'Nature', 'Perception', 'Performance', 'Persuasion', 'Religion', 'Sleight of Hand', 'Stealth', 'Survival'];
  return ['## Class Features', "As a ".concat(classname, ", you gain the following class features"), '#### Hit Points', '___', "- **Hit Dice:** 1d".concat(hitDie, " per ").concat(classname, " level"), "- **Hit Points at 1st Level:** ".concat(hitDie, " + your Constitution modifier"), "- **Hit Points at Higher Levels:** 1d".concat(hitDie, " (or ").concat(hitDie / 2 + 1, ") + your Constitution modifier per ").concat(classname, " level after 1st"), '', '#### Proficiencies', '___', "- **Armor:** ".concat(_.sampleSize(['Light armor', 'Medium armor', 'Heavy armor', 'Shields'], _.random(0, 3)).join(', ') || 'None'), "- **Weapons:** ".concat(_.sampleSize(['Squeegee', 'Rubber Chicken', 'Simple weapons', 'Martial weapons'], _.random(0, 2)).join(', ') || 'None'), "- **Tools:** ".concat(_.sampleSize(['Artisan\'s tools', 'one musical instrument', 'Thieves\' tools'], _.random(0, 2)).join(', ') || 'None'), '', '___', "- **Saving Throws:** ".concat(_.sampleSize(abilityList, 2).join(', ')), "- **Skills:** Choose two from ".concat(_.sampleSize(skillList, _.random(4, 6)).join(', ')), '', '#### Spellcasting Ability', '', "<div style=text-align:center>", '___', "- **Spell save DC** = ".concat(_.sample([6, 8, 10]), " + your proficiency bonus + your ").concat(spellSkill, " modifier"), '', "- **Spell attack modifier** = your proficiency bonus + your ".concat(spellSkill, " modifier"), "</div>", '', '#### Equipment', 'You start with the following equipment, in addition to the equipment granted by your background:', '- *(a)* a martial weapon and a shield or *(b)* two martial weapons', '- *(a)* five javelins or *(b)* any simple melee weapon', "- ".concat(_.sample(['10 lint fluffs', '1 button', 'a cherished lost sock'])), '\n\n\n'].join('\n');
};
},{"lodash":"lodash"}],285:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var features = ['Astrological Botany', 'Astrological Chemistry', 'Biochemical Sorcery', 'Civil Alchemy', 'Consecrated Biochemistry', 'Demonic Anthropology', 'Divinatory Mineralogy', 'Genetic Banishing', 'Hermetic Geography', 'Immunological Incantations', 'Nuclear Illusionism', 'Ritual Astronomy', 'Seismological Divination', 'Spiritual Biochemistry', 'Statistical Occultism', 'Police Necromancer', 'Sixgun Poisoner', 'Pharmaceutical Gunslinger', 'Infernal Banker', 'Spell Analyst', 'Gunslinger Corruptor', 'Torque Interfacer', 'Exo Interfacer', 'Gunpowder Torturer', 'Orbital Gravedigger', 'Phased Linguist', 'Mathematical Pharmacist', 'Plasma Outlaw', 'Malefic Chemist', 'Police Cultist'];
var classnames = ['Archivist', 'Fancyman', 'Linguist', 'Fletcher', 'Notary', 'Berserker-Typist', 'Fishmongerer', 'Manicurist', 'Haberdasher', 'Concierge'];
var levels = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', '16th', '17th', '18th', '19th', '20th'];
var profBonus = [2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6];
var getFeature = function getFeature(level) {
  var res = [];
  if (_.includes([4, 6, 8, 12, 14, 16, 19], level + 1)) {
    res = ['Ability Score Improvement'];
  }
  res = _.union(res, _.sampleSize(features, _.sample([0, 1, 1, 1, 1, 1])));
  if (!res.length) return '─';
  return res.join(', ');
};
module.exports = {
  full: function full() {
    var classname = _.sample(classnames);
    var maxes = [4, 3, 3, 3, 3, 2, 2, 1, 1];
    var drawSlots = function drawSlots(Slots) {
      var slots = Number(Slots);
      return _.times(9, function (i) {
        var max = maxes[i];
        if (slots < 1) return '—';
        var res = _.min([max, slots]);
        slots -= res;
        return res;
      }).join(' | ');
    };
    var cantrips = 3;
    var spells = 1;
    var slots = 2;
    return "<div class='classTable wide'>\n##### The ".concat(classname, "\n") + "| Level | Proficiency Bonus | Features | Cantrips Known | Spells Known | 1st | 2nd | 3rd | 4th | 5th | 6th | 7th | 8th | 9th |\n" + "|:---:|:---:|:---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|\n".concat(_.map(levels, function (levelName, level) {
      var res = [levelName, "+".concat(profBonus[level]), getFeature(level), cantrips, spells, drawSlots(slots)].join(' | ');
      cantrips += _.random(0, 1);
      spells += _.random(0, 1);
      slots += _.random(0, 2);
      return "| ".concat(res, " |");
    }).join('\n'), "\n</div>\n\n");
  },
  half: function half() {
    var classname = _.sample(classnames);
    var featureScore = 1;
    return "<div class='classTable'>\n##### The ".concat(classname, "\n") + "| Level | Proficiency Bonus | Features | ".concat(_.sample(features), "|\n") + "|:---:|:---:|:---|:---:|\n".concat(_.map(levels, function (levelName, level) {
      var res = [levelName, "+".concat(profBonus[level]), getFeature(level), "+".concat(featureScore)].join(' | ');
      featureScore += _.random(0, 1);
      return "| ".concat(res, " |");
    }).join('\n'), "\n</div>\n\n");
  }
};
},{"lodash":"lodash"}],286:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var titles = ['The Burning Gallows', 'The Ring of Nenlast', 'Below the Blind Tavern', 'Below the Hungering River', 'Before Bahamut\'s Land', 'The Cruel Grave from Within', 'The Strength of Trade Road', 'Through The Raven Queen\'s Worlds', 'Within the Settlement', 'The Crown from Within', 'The Merchant Within the Battlefield', 'Ioun\'s Fading Traveler', 'The Legion Ingredient', 'The Explorer Lure', 'Before the Charming Badlands', 'The Living Dead Above the Fearful Cage', 'Vecna\'s Hidden Sage', 'Bahamut\'s Demonspawn', 'Across Gruumsh\'s Elemental Chaos', 'The Blade of Orcus', 'Beyond Revenge', 'Brain of Insanity', 'Breed Battle!, A New Beginning', 'Evil Lake, A New Beginning', 'Invasion of the Gigantic Cat, Part II', 'Kraken War 2020', 'The Body Whisperers', 'The Diabolical Tales of the Ape-Women', 'The Doctor Immortal', 'The Doctor from Heaven', 'The Graveyard', 'Azure Core', 'Core Battle', 'Core of Heaven: The Guardian of Amazement', 'Deadly Amazement III', 'Dry Chaos IX', 'Gate Thunder', 'Guardian: Skies of the Dark Wizard', 'Lute of Eternity', 'Mercury\'s Planet: Brave Evolution', 'Ruby of Atlantis: The Quake of Peace', 'Sky of Zelda: The Thunder of Force', 'Vyse\'s Skies', 'White Greatness III', 'Yellow Divinity', 'Zidane\'s Ghost'];
var subtitles = ['In an ominous universe, a botanist opposes terrorism.', 'In a demon-haunted city, in an age of lies and hate, a physicist tries to find an ancient treasure and battles a mob of aliens.', 'In a land of corruption, two cyberneticists and a dungeon delver search for freedom.', 'In an evil empire of horror, two rangers battle the forces of hell.', 'In a lost city, in an age of sorcery, a librarian quests for revenge.', 'In a universe of illusions and danger, three time travellers and an adventurer search for justice.', 'In a forgotten universe of barbarism, in an era of terror and mysticism, a virtual reality programmer and a spy try to find vengance and battle crime.', 'In a universe of demons, in an era of insanity and ghosts, three bodyguards and a bodyguard try to find vengance.', 'In a kingdom of corruption and battle, seven artificial intelligences try to save the last living fertile woman.', 'In a universe of virutal reality and agony, in an age of ghosts and ghosts, a fortune-teller and a wanderer try to avert the apocalypse.', 'In a crime-infested kingdom, three martial artists quest for the truth and oppose evil.', 'In a terrifying universe of lost souls, in an era of lost souls, eight dancers fight evil.', 'In a galaxy of confusion and insanity, three martial artists and a duke battle a mob of psychics.', 'In an amazing kingdom, a wizard and a secretary hope to prevent the destruction of mankind.', 'In a kingdom of deception, a reporter searches for fame.', 'In a hellish empire, a swordswoman and a duke try to find the ultimate weapon and battle a conspiracy.', 'In an evil galaxy of illusion, in a time of technology and misery, seven psychiatrists battle crime.', 'In a dark city of confusion, three swordswomen and a singer battle lawlessness.', 'In an ominous empire, in an age of hate, two philosophers and a student try to find justice and battle a mob of mages intent on stealing the souls of the innocent.', 'In a kingdom of panic, six adventurers oppose lawlessness.', 'In a land of dreams and hopelessness, three hackers and a cyborg search for justice.', 'On a planet of mysticism, three travelers and a fire fighter quest for the ultimate weapon and oppose evil.', 'In a wicked universe, five seers fight lawlessness.', 'In a kingdom of death, in an era of illusion and blood, four colonists search for fame.', 'In an amazing kingdom, in an age of sorcery and lost souls, eight space pirates quest for freedom.', 'In a cursed empire, five inventors oppose terrorism.', 'On a crime-ridden planet of conspiracy, a watchman and an artificial intelligence try to find love and oppose lawlessness.', 'In a forgotten land, a reporter and a spy try to stop the apocalypse.', 'In a forbidden land of prophecy, a scientist and an archivist oppose a cabal of barbarians intent on stealing the souls of the innocent.', 'On an infernal world of illusion, a grave robber and a watchman try to find revenge and combat a syndicate of mages intent on stealing the source of all magic.', 'In a galaxy of dark magic, four fighters seek freedom.', 'In an empire of deception, six tomb-robbers quest for the ultimate weapon and combat an army of raiders.', 'In a kingdom of corruption and lost souls, in an age of panic, eight planetologists oppose evil.', 'In a galaxy of misery and hopelessness, in a time of agony and pain, five planetologists search for vengance.', 'In a universe of technology and insanity, in a time of sorcery, a computer techician quests for hope.', 'On a planet of dark magic and barbarism, in an age of horror and blasphemy, seven librarians search for fame.', 'In an empire of dark magic, in a time of blood and illusions, four monks try to find the ultimate weapon and combat terrorism.', 'In a forgotten empire of dark magic, six kings try to prevent the destruction of mankind.', 'In a galaxy of dark magic and horror, in an age of hopelessness, four marines and an outlaw combat evil.', 'In a mysterious city of illusion, in an age of computerization, a witch-hunter tries to find the ultimate weapon and opposes an evil corporation.', 'In a damned kingdom of technology, a virtual reality programmer and a fighter seek fame.', 'In a hellish kingdom, in an age of blasphemy and blasphemy, an astrologer searches for fame.', 'In a damned world of devils, an alien and a ranger quest for love and oppose a syndicate of demons.', 'In a cursed galaxy, in a time of pain, seven librarians hope to avert the apocalypse.', 'In a crime-infested galaxy, in an era of hopelessness and panic, three champions and a grave robber try to solve the ultimate crime.'];
module.exports = function () {
  return "<style>\n  .phb#p1{ text-align:center; }\n  .phb#p1:after{ display:none; }\n</style>\n\n<div style='margin-top:450px;'></div>\n\n# ".concat(_.sample(titles), "\n\n<div style='margin-top:25px'></div>\n<div class='wide'>\n##### ").concat(_.sample(subtitles), "\n</div>\n\n\\page");
};
},{"lodash":"lodash"}],287:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var spellNames = ['Astral Rite of Acne', 'Create Acne', 'Cursed Ramen Erruption', 'Dark Chant of the Dentists', 'Erruption of Immaturity', 'Flaming Disc of Inconvenience', 'Heal Bad Hygene', 'Heavenly Transfiguration of the Cream Devil', 'Hellish Cage of Mucus', 'Irritate Peanut Butter Fairy', 'Luminous Erruption of Tea', 'Mystic Spell of the Poser', 'Sorcerous Enchantment of the Chimneysweep', 'Steak Sauce Ray', 'Talk to Groupie', 'Astonishing Chant of Chocolate', 'Astounding Pasta Puddle', 'Ball of Annoyance', 'Cage of Yarn', 'Control Noodles Elemental', 'Create Nervousness', 'Cure Baldness', 'Cursed Ritual of Bad Hair', 'Dispell Piles in Dentist', 'Eliminate Florists', 'Illusionary Transfiguration of the Babysitter', 'Necromantic Armor of Salad Dressing', 'Occult Transfiguration of Foot Fetish', 'Protection from Mucus Giant', 'Tinsel Blast', 'Alchemical Evocation of the Goths', 'Call Fangirl', 'Divine Spell of Crossdressing', 'Dominate Ramen Giant', 'Eliminate Vindictiveness in Gym Teacher', 'Extra-Planar Spell of Irritation', 'Induce Whining in Babysitter', 'Invoke Complaining', 'Magical Enchantment of Arrogance', 'Occult Globe of Salad Dressing', 'Overwhelming Enchantment of the Chocolate Fairy', 'Sorcerous Dandruff Globe', 'Spiritual Invocation of the Costumers', 'Ultimate Rite of the Confetti Angel', 'Ultimate Ritual of Mouthwash'];
module.exports = {
  spellList: function spellList() {
    var levels = ['Cantrips (0 Level)', '1st Level', '2nd Level', '3rd Level', '4th Level', '5th Level', '6th Level', '7th Level', '8th Level', '9th Level'];
    var content = _.map(levels, function (level) {
      var spells = _.map(_.sampleSize(spellNames, _.random(5, 15)), function (spell) {
        return "- ".concat(spell);
      }).join('\n');
      return "##### ".concat(level, " \n").concat(spells, " \n");
    }).join('\n');
    return "<div class='spellList'>\n".concat(content, "\n</div>");
  },
  spell: function spell() {
    var level = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th'];
    var spellSchools = ['abjuration', 'conjuration', 'divination', 'enchantment', 'evocation', 'illusion', 'necromancy', 'transmutation'];
    var components = _.sampleSize(['V', 'S', 'M'], _.random(1, 3)).join(', ');
    if (components.indexOf('M') !== -1) {
      components += " (".concat(_.sampleSize(['a small doll', 'a crushed button worth at least 1cp', 'discarded gum wrapper'], _.random(1, 3)).join(', '), ")");
    }
    return ["#### ".concat(_.sample(spellNames)), "*".concat(_.sample(level), "-level ").concat(_.sample(spellSchools), "*"), '___', '- **Casting Time:** 1 action', "- **Range:** ".concat(_.sample(['Self', 'Touch', '30 feet', '60 feet'])), "- **Components:** ".concat(components), "- **Duration:** ".concat(_.sample(['Until dispelled', '1 round', 'Instantaneous', 'Concentration, up to 10 minutes', '1 hour'])), '', 'A flame, equivalent in brightness to a torch, springs from an object that you touch. ', 'The effect look like a regular flame, but it creates no heat and doesn\'t use oxygen. ', 'A *continual flame* can be covered or hidden but not smothered or quenched.', '\n\n\n'].join('\n');
  }
};
},{"lodash":"lodash"}],288:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var genList = function genList(list, max) {
  return _.sampleSize(list, _.random(0, max)).join(', ') || 'None';
};
var getMonsterName = function getMonsterName() {
  return _.sample(['All-devouring Baseball Imp', 'All-devouring Gumdrop Wraith', 'Chocolate Hydra', 'Devouring Peacock', 'Economy-sized Colossus of the Lemonade Stand', 'Ghost Pigeon', 'Gibbering Duck', 'Sparklemuffin Peacock Spider', 'Gum Elemental', 'Illiterate Construct of the Candy Store', 'Ineffable Chihuahua', 'Irritating Death Hamster', 'Irritating Gold Mouse', 'Juggernaut Snail', 'Juggernaut of the Sock Drawer', 'Koala of the Cosmos', 'Mad Koala of the West', 'Milk Djinni of the Lemonade Stand', 'Mind Ferret', 'Mystic Salt Spider', 'Necrotic Halitosis Angel', 'Pinstriped Famine Sheep', 'Ritalin Leech', 'Shocker Kangaroo', 'Stellar Tennis Juggernaut', 'Wailing Quail of the Sun', 'Angel Pigeon', 'Anime Sphinx', 'Bored Avalanche Sheep of the Wasteland', 'Devouring Nougat Sphinx of the Sock Drawer', 'Djinni of the Footlocker', 'Ectoplasmic Jazz Devil', 'Flatuent Angel', 'Gelatinous Duck of the Dream-Lands', 'Gelatinous Mouse', 'Golem of the Footlocker', 'Lich Wombat', 'Mechanical Sloth of the Past', 'Milkshake Succubus', 'Puffy Bone Peacock of the East', 'Rainbow Manatee', 'Rune Parrot', 'Sand Cow', 'Sinister Vanilla Dragon', 'Snail of the North', 'Spider of the Sewer', 'Stellar Sawdust Leech', 'Storm Anteater of Hell', 'Stupid Spirit of the Brewery', 'Time Kangaroo', 'Tomb Poodle']);
};
var getType = function getType() {
  return "".concat(_.sample(['Tiny', 'Small', 'Medium', 'Large', 'Gargantuan', 'Stupidly vast']), " ").concat(_.sample(['beast', 'fiend', 'annoyance', 'guy', 'cutie']));
};
var getAlignment = function getAlignment() {
  return _.sample(['annoying evil', 'chaotic gossipy', 'chaotic sloppy', 'depressed neutral', 'lawful bogus', 'lawful coy', 'manic-depressive evil', 'narrow-minded neutral', 'neutral annoying', 'neutral ignorant', 'oedpipal neutral', 'silly neutral', 'unoriginal neutral', 'weird neutral', 'wordy evil', 'unaligned']);
};
var getStats = function getStats() {
  return ">|".concat(_.times(6, function () {
    var num = _.random(1, 20);
    var mod = Math.ceil(num / 2 - 5);
    return "".concat(num, " (").concat(mod >= 0 ? "+".concat(mod) : mod, ")");
  }).join('|'), "|");
};
var genAbilities = function genAbilities() {
  return _.sample(['> ***Pack Tactics.*** These guys work together. Like super well, you don\'t even know.', '> ***Fowl Appearance.*** While the creature remains motionless, it is indistinguishable from a normal chicken.', '> ***Onion Stench.*** Any creatures within 5 feet of this thing develops an irrational craving for onion rings.', '> ***Enormous Nose.*** This creature gains advantage on any check involving putting things in its nose.', '> ***Sassiness.*** When questioned, this creature will talk back instead of answering.', '> ***Big Jerk.*** Thinks he is just *waaaay* better than you.']);
};
var genAction = function genAction() {
  var name = _.sample(['Abdominal Drop', 'Airplane Hammer', 'Atomic Death Throw', 'Bulldog Rake', 'Corkscrew Strike', 'Crossed Splash', 'Crossface Suplex', 'DDT Powerbomb', 'Dual Cobra Wristlock', 'Dual Throw', 'Elbow Hold', 'Gory Body Sweep', 'Heel Jawbreaker', 'Jumping Driver', 'Open Chin Choke', 'Scorpion Flurry', 'Somersault Stump Fists', 'Suffering Wringer', 'Super Hip Submission', 'Super Spin', 'Team Elbow', 'Team Foot', 'Tilt-a-whirl Chin Sleeper', 'Tilt-a-whirl Eye Takedown', 'Turnbuckle Roll']);
  return "> ***".concat(name, ".*** *Melee Weapon Attack:* +4 to hit, reach 5ft., one target. *Hit* 5 (1d6 + 2) ");
};
module.exports = {
  full: function full() {
    return "".concat(['___', '___', "> ## ".concat(getMonsterName()), ">*".concat(getType(), ", ").concat(getAlignment(), "*"), '> ___', "> - **Armor Class** ".concat(_.random(10, 20)), "> - **Hit Points** ".concat(_.random(1, 150), "(1d4 + 5)"), "> - **Speed** ".concat(_.random(0, 50), "ft."), '>___', '>|STR|DEX|CON|INT|WIS|CHA|', '>|:---:|:---:|:---:|:---:|:---:|:---:|', getStats(), '>___', "> - **Condition Immunities** ".concat(genList(['groggy', 'swagged', 'weak-kneed', 'buzzed', 'groovy', 'melancholy', 'drunk'], 3)), "> - **Senses** passive Perception ".concat(_.random(3, 20)), "> - **Languages** ".concat(genList(['Common', 'Pottymouth', 'Gibberish', 'Latin', 'Jive'], 2)), "> - **Challenge** ".concat(_.random(0, 15), " (").concat(_.random(10, 10000), " XP)"), '> ___', _.times(_.random(3, 6), function () {
      return genAbilities();
    }).join('\n>\n'), '> ### Actions', _.times(_.random(4, 6), function () {
      return genAction();
    }).join('\n>\n')].join('\n'), "\n\n\n");
  },
  half: function half() {
    return "".concat(['___', "> ## ".concat(getMonsterName()), ">*".concat(getType(), ", ").concat(getAlignment(), "*"), '> ___', "> - **Armor Class** ".concat(_.random(10, 20)), "> - **Hit Points** ".concat(_.random(1, 150), "(1d4 + 5)"), "> - **Speed** ".concat(_.random(0, 50), "ft."), '>___', '>|STR|DEX|CON|INT|WIS|CHA|', '>|:---:|:---:|:---:|:---:|:---:|:---:|', getStats(), '>___', "> - **Condition Immunities** ".concat(genList(['groggy', 'swagged', 'weak-kneed', 'buzzed', 'groovy', 'melancholy', 'drunk'], 3)), "> - **Senses** passive Perception ".concat(_.random(3, 20)), "> - **Languages** ".concat(genList(['Common', 'Pottymouth', 'Gibberish', 'Latin', 'Jive'], 2)), "> - **Challenge** ".concat(_.random(0, 15), " (").concat(_.random(10, 10000), " XP)"), '> ___', _.times(_.random(2, 3), function () {
      return genAbilities();
    }).join('\n>\n'), '> ### Actions', _.times(_.random(1, 2), function () {
      return genAction();
    }).join('\n>\n')].join('\n'), "\n\n\n");
  }
};
},{"lodash":"lodash"}],289:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var getTOC = function getTOC(pages) {
  var add1 = function add1(title, page) {
    res.push({
      title: title,
      page: page + 1,
      children: []
    });
  };
  var add2 = function add2(title, page) {
    if (!_.last(res)) add1('', page);
    _.last(res).children.push({
      title: title,
      page: page + 1,
      children: []
    });
  };
  var add3 = function add3(title, page) {
    if (!_.last(res)) add1('', page);
    if (!_.last(_.last(res).children)) add2('', page);
    _.last(_.last(res).children).children.push({
      title: title,
      page: page + 1,
      children: []
    });
  };
  var res = [];
  _.each(pages, function (page, pageNum) {
    var lines = page.split('\n');
    _.each(lines, function (line) {
      if (_.startsWith(line, '# ')) {
        var title = line.replace('# ', '');
        add1(title, pageNum);
      }
      if (_.startsWith(line, '## ')) {
        var _title = line.replace('## ', '');
        add2(_title, pageNum);
      }
      if (_.startsWith(line, '### ')) {
        var _title2 = line.replace('### ', '');
        add3(_title2, pageNum);
      }
    });
  });
  return res;
};
module.exports = function (props) {
  var pages = props.brew.text.split('\\page');
  var TOC = getTOC(pages);
  var markdown = _.reduce(TOC, function (r, g1, idx1) {
    r.push("- **[".concat(idx1 + 1, " ").concat(g1.title, "](#p").concat(g1.page, ")**"));
    if (g1.children.length) {
      _.each(g1.children, function (g2, idx2) {
        r.push("  - [".concat(idx1 + 1, ".").concat(idx2 + 1, " ").concat(g2.title, "](#p").concat(g2.page, ")"));
        if (g2.children.length) {
          _.each(g2.children, function (g3, idx3) {
            r.push("    - [".concat(idx1 + 1, ".").concat(idx2 + 1, ".").concat(idx3 + 1, " ").concat(g3.title, "](#p").concat(g3.page, ")"));
          });
        }
      });
    }
    return r;
  }, []).join('\n');
  return "<div class='toc'>\n##### Table Of Contents\n".concat(markdown, "\n</div>\n");
};
},{"lodash":"lodash"}],290:[function(require,module,exports){
"use strict";

module.exports = [];
},{}],291:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;
/* eslint-disable max-lines */

var MagicGen = require('./snippets/magic.gen.js');
var ClassTableGen = require('./snippets/classtable.gen.js');
var MonsterBlockGen = require('./snippets/monsterblock.gen.js');
var scriptGen = require('./snippets/script.gen.js');
var ClassFeatureGen = require('./snippets/classfeature.gen.js');
var CoverPageGen = require('./snippets/coverpage.gen.js');
var QuoteGen = require('./snippets/quote.gen.js');
var dedent = require('dedent-tabs')["default"];
module.exports = [{
  groupName: 'Style Editor',
  icon: 'fas fa-pencil-alt',
  view: 'style',
  snippets: [{
    name: 'Remove Drop Cap',
    icon: 'fas fa-remove-format',
    gen: dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["/* Removes Drop Caps */\n\t\t\t\t\t\t.page h1+p:first-letter {\n\t\t\t\t\t\t\tall: unset;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t/* Removes Small-Caps in first line */\n\t\t\t\t\t\t.page h1+p:first-line {\n\t\t\t\t\t\t\tall: unset;\n\t\t\t\t\t\t}"], ["/* Removes Drop Caps */\n\t\t\t\t\t\t.page h1+p:first-letter {\n\t\t\t\t\t\t\tall: unset;\n\t\t\t\t\t\t}\\n\\n\n\t\t\t\t\t\t/* Removes Small-Caps in first line */\n\t\t\t\t\t\t.page h1+p:first-line {\n\t\t\t\t\t\t\tall: unset;\n\t\t\t\t\t\t}"])))
  }, {
    name: 'Tweak Drop Cap',
    icon: 'fas fa-sliders-h',
    gen: dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["/* Drop Cap settings */\n\t\t\t\t\t\t.page h1 + p::first-letter {\n\t\t\t\t\t\t\tfont-family: SolberaImitationRemake;\n\t\t\t\t\t\t\tfont-size: 3.5cm;\n\t\t\t\t\t\t\tbackground-image: linear-gradient(-45deg, #322814, #998250, #322814);\n\t\t\t\t\t\t\tline-height: 1em;\n\t\t\t\t\t\t}\n\n"], ["/* Drop Cap settings */\n\t\t\t\t\t\t.page h1 + p::first-letter {\n\t\t\t\t\t\t\tfont-family: SolberaImitationRemake;\n\t\t\t\t\t\t\tfont-size: 3.5cm;\n\t\t\t\t\t\t\tbackground-image: linear-gradient(-45deg, #322814, #998250, #322814);\n\t\t\t\t\t\t\tline-height: 1em;\n\t\t\t\t\t\t}\\n\\n"])))
  }]
}, /************************* PHB ********************/
{
  groupName: 'PHB',
  icon: 'fas fa-book',
  view: 'text',
  snippets: [{
    name: 'Spell',
    icon: 'fas fa-magic',
    gen: MagicGen.spell
  }, {
    name: 'Spell List',
    icon: 'fas fa-scroll',
    gen: MagicGen.spellList
  }, {
    name: 'Class Feature',
    icon: 'fas fa-mask',
    gen: ClassFeatureGen
  }, {
    name: 'Quote',
    icon: 'fas fa-quote-right',
    gen: QuoteGen
  }, {
    name: 'Note',
    icon: 'fas fa-sticky-note',
    gen: function gen() {
      return dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t\t{{note\n\t\t\t\t\t\t##### Time to Drop Knowledge\n\t\t\t\t\t\tUse notes to point out some interesting information.\n\n\t\t\t\t\t\t**Tables and lists** both work within a note.\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n"], ["\n\t\t\t\t\t\t{{note\n\t\t\t\t\t\t##### Time to Drop Knowledge\n\t\t\t\t\t\tUse notes to point out some interesting information.\n\n\t\t\t\t\t\t**Tables and lists** both work within a note.\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\\n"])));
    }
  }, {
    name: 'Descriptive Text Box',
    icon: 'fas fa-comment-alt',
    gen: function gen() {
      return dedent(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t\t{{descriptive\n\t\t\t\t\t\t##### Time to Drop Knowledge\n\t\t\t\t\t\tUse descriptive boxes to highlight text that should be read aloud.\n\n\t\t\t\t\t\t**Tables and lists** both work within a descriptive box.\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n"], ["\n\t\t\t\t\t\t{{descriptive\n\t\t\t\t\t\t##### Time to Drop Knowledge\n\t\t\t\t\t\tUse descriptive boxes to highlight text that should be read aloud.\n\n\t\t\t\t\t\t**Tables and lists** both work within a descriptive box.\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\\n"])));
    }
  }, {
    name: 'Monster Stat Block (unframed)',
    icon: 'fas fa-paw',
    gen: MonsterBlockGen.monster('monster', 2)
  }, {
    name: 'Monster Stat Block',
    icon: 'fas fa-spider',
    gen: MonsterBlockGen.monster('monster,frame', 2)
  }, {
    name: 'Wide Monster Stat Block',
    icon: 'fas fa-dragon',
    gen: MonsterBlockGen.monster('monster,frame,wide', 4)
  }, {
    name: 'Front Cover Page',
    icon: 'fac book-front-cover',
    gen: CoverPageGen.front,
    experimental: true
  }, {
    name: 'Inside Cover Page',
    icon: 'fac book-inside-cover',
    gen: CoverPageGen.inside,
    experimental: true
  }, {
    name: 'Part Cover Page',
    icon: 'fac book-part-cover',
    gen: CoverPageGen.part,
    experimental: true
  }, {
    name: 'Back Cover Page',
    icon: 'fac book-back-cover',
    gen: CoverPageGen.back,
    experimental: true
  }, {
    name: 'Magic Item',
    icon: 'fas fa-hat-wizard',
    gen: MagicGen.item
  }, {
    name: 'Artist Credit',
    icon: 'fas fa-signature',
    gen: function gen() {
      return dedent(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t\t{{artist,top:90px,right:30px\n\t\t\t\t\t\t##### Starry Night\n\t\t\t\t\t\t[Van Gogh](https://www.vangoghmuseum.nl/en)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n"], ["\n\t\t\t\t\t\t{{artist,top:90px,right:30px\n\t\t\t\t\t\t##### Starry Night\n\t\t\t\t\t\t[Van Gogh](https://www.vangoghmuseum.nl/en)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\\n"])));
    }
  }]
}, /*********************  TABLES *********************/

{
  groupName: 'Tables',
  icon: 'fas fa-table',
  view: 'text',
  snippets: [{
    name: 'Class Tables',
    icon: 'fas fa-table',
    gen: ClassTableGen.full('classTable,frame,decoration,wide'),
    subsnippets: [{
      name: 'Martial Class Table',
      icon: 'fas fa-table',
      gen: ClassTableGen.non('classTable,frame,decoration')
    }, {
      name: 'Martial Class Table (unframed)',
      icon: 'fas fa-border-none',
      gen: ClassTableGen.non('classTable')
    }, {
      name: 'Full Caster Class Table',
      icon: 'fas fa-table',
      gen: ClassTableGen.full('classTable,frame,decoration,wide')
    }, {
      name: 'Full Caster Class Table (unframed)',
      icon: 'fas fa-border-none',
      gen: ClassTableGen.full('classTable,wide')
    }, {
      name: 'Half Caster Class Table',
      icon: 'fas fa-list-alt',
      gen: ClassTableGen.half('classTable,frame,decoration,wide')
    }, {
      name: 'Half Caster Class Table (unframed)',
      icon: 'fas fa-border-none',
      gen: ClassTableGen.half('classTable,wide')
    }, {
      name: 'Third Caster Spell Table',
      icon: 'fas fa-border-all',
      gen: ClassTableGen.third('classTable,frame,decoration')
    }, {
      name: 'Third Caster Spell Table (unframed)',
      icon: 'fas fa-border-none',
      gen: ClassTableGen.third('classTable')
    }]
  }, {
    name: 'Rune Table',
    icon: 'fas fa-language',
    gen: scriptGen.dwarvish,
    experimental: true,
    subsnippets: [{
      name: 'Dwarvish',
      icon: 'fac davek',
      gen: scriptGen.dwarvish
    }, {
      name: 'Elvish',
      icon: 'fac rellanic',
      gen: scriptGen.elvish
    }, {
      name: 'Draconic',
      icon: 'fac iokharic',
      gen: scriptGen.draconic
    }]
  }]
}, /**************** PAGE *************/

{
  groupName: 'Print',
  icon: 'fas fa-print',
  view: 'style',
  snippets: [{
    name: 'Ink Friendly',
    icon: 'fas fa-tint',
    gen: dedent(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t/* Ink Friendly */\n\t\t\t\t\t*:is(.page,.monster,.note,.descriptive) {\n\t\t\t\t\t\tbackground : white !important;\n\t\t\t\t\t\tbox-shadow : 1px 4px 14px #888 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.page img {\n\t\t\t\t\t\tvisibility : hidden;\n\t\t\t\t\t}\n\n"], ["\n\t\t\t\t\t/* Ink Friendly */\n\t\t\t\t\t*:is(.page,.monster,.note,.descriptive) {\n\t\t\t\t\t\tbackground : white !important;\n\t\t\t\t\t\tbox-shadow : 1px 4px 14px #888 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.page img {\n\t\t\t\t\t\tvisibility : hidden;\n\t\t\t\t\t}\\n\\n"])))
  }]
}];
},{"./snippets/classfeature.gen.js":292,"./snippets/classtable.gen.js":293,"./snippets/coverpage.gen.js":294,"./snippets/magic.gen.js":295,"./snippets/monsterblock.gen.js":296,"./snippets/quote.gen.js":297,"./snippets/script.gen.js":298,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190}],292:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject;
var _ = require('lodash');
var dedent = require('dedent-tabs')["default"];
module.exports = function (classname) {
  classname = _.sample(['archivist', 'fancyman', 'linguist', 'fletcher', 'notary', 'berserker-typist', 'fishmongerer', 'manicurist', 'haberdasher', 'concierge']);
  classname = classname.toLowerCase();
  var hitDie = _.sample([4, 6, 8, 10, 12]);
  var spellSkill = _.sample(['Wisdom', 'Charisma', 'Intelligence']);
  var abilityList = ['Strength', 'Dexerity', 'Constitution', 'Wisdom', 'Charisma', 'Intelligence'];
  var skillList = ['Acrobatics', 'Animal Handling', 'Arcana', 'Athletics', 'Deception', 'History', 'Insight', 'Intimidation', 'Investigation', 'Medicine', 'Nature', 'Perception', 'Performance', 'Persuasion', 'Religion', 'Sleight of Hand', 'Stealth', 'Survival'];
  return dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t## Class Features\n\n\t\tAs a ", ", you gain the following class features\n\n\t\t#### Hit Points\n\t\t**Hit Dice:**                    :: 1d", " per ", " level\n\t\t**Hit Points at 1st Level:**     :: ", " + your Constitution modifier\n\t\t**Hit Points at Higher Levels:** :: 1d", " (or ", ") + your Constitution modifier per ", " level after 1st\n\n\t\t#### Proficiencies\n\t\t**Armor:**   :: ", "\n\t\t**Weapons:** :: ", "\n\t\t**Tools:**   :: ", "\n\n\t\t**Saving Throws:** :: ", "\n\t\t**Skills:**        :: Choose two from ", "\n\n\t\t#### Spellcasting Ability\n\t\t{{text-align:center\n\t\t**Spell save DC**:: = ", " + your proficiency bonus + your ", " modifier\n\n\t\t**Spell attack modifier**:: = your proficiency bonus + your ", " modifier\n\t\t}}\n\n\t\t#### Equipment\n\t\tYou start with the following equipment, in addition to the equipment granted by your background:\n\t\t- (*a*) a martial weapon and a shield or (*b*) two martial weapons\n\t\t- (*a*) five javelins or (*b*) any simple melee weapon\n\t\t- ", "\n\t\t"])), classname, hitDie, classname, hitDie, hitDie, hitDie / 2 + 1, classname, _.sampleSize(['Light armor', 'Medium armor', 'Heavy armor', 'Shields'], _.random(0, 3)).join(', ') || 'None', _.sampleSize(['Squeegee', 'Rubber Chicken', 'Simple weapons', 'Martial weapons'], _.random(0, 2)).join(', ') || 'None', _.sampleSize(['Artisan\'s tools', 'one musical instrument', 'Thieves\' tools'], _.random(0, 2)).join(', ') || 'None', _.sampleSize(abilityList, 2).join(', '), _.sampleSize(skillList, _.random(4, 6)).join(', '), _.sample([6, 8, 10]), spellSkill, spellSkill, _.sample(['10 lint fluffs', '1 button', 'a cherished lost sock']));
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"lodash":"lodash"}],293:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4;
var _ = require('lodash');
var dedent = require('dedent-tabs')["default"];
var features = ['Astrological Botany', 'Biochemical Sorcery', 'Civil Divination', 'Consecrated Augury', 'Demonic Anthropology', 'Divinatory Mineralogy', 'Exo Interfacer', 'Genetic Banishing', 'Gunpowder Torturer', 'Gunslinger Corruptor', 'Hermetic Geography', 'Immunological Cultist', 'Malefic Chemist', 'Mathematical Pharmacy', 'Nuclear Biochemistry', 'Orbital Gravedigger', 'Pharmaceutical Outlaw', 'Phased Linguist', 'Plasma Gunslinger', 'Police Necromancer', 'Ritual Astronomy', 'Sixgun Poisoner', 'Seismological Alchemy', 'Spiritual Illusionism', 'Statistical Occultism', 'Spell Analyst', 'Torque Interfacer'].map(function (f) {
  return _.padEnd(f, 21);
}); // Pad to equal length of 21 chars long

var classnames = ['Ackerman', 'Berserker-Typist', 'Concierge', 'Fishmonger', 'Haberdasher', 'Manicurist', 'Netrunner', 'Weirkeeper'];
module.exports = {
  non: function non(snippetClasses) {
    return dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t{{", "\n\t\t##### The ", "\n\t\t| Level | Proficiency Bonus | Features | ", " |\n\t\t|:-----:|:-----------------:|:---------|:---------------------:|\n\t\t|  1st  |  +2  | ", " |          2            |\n\t\t|  2nd  |  +2  | ", " |          2            |\n\t\t|  3rd  |  +2  | ", " |          3            |\n\t\t|  4th  |  +2  | ", " |          3            |\n\t\t|  5th  |  +3  | ", " |          3            |\n\t\t|  6th  |  +3  | ", " |          4            |\n\t\t|  7th  |  +3  | ", " |          4            |\n\t\t|  8th  |  +3  | ", " |          4            |\n\t\t|  9th  |  +4  | ", " |          4            |\n\t\t| 10th  |  +4  | ", " |          4            |\n\t\t| 11th  |  +4  | ", " |          4            |\n\t\t| 12th  |  +4  | ", " |          5            |\n\t\t| 13th  |  +5  | ", " |          5            |\n\t\t| 14th  |  +5  | ", " |          5            |\n\t\t| 15th  |  +5  | ", " |          5            |\n\t\t| 16th  |  +5  | ", " |          5            |\n\t\t| 17th  |  +6  | ", " |          6            |\n\t\t| 18th  |  +6  | ", " |          6            |\n\t\t| 19th  |  +6  | ", " |          6            |\n\t\t| 20th  |  +6  | ", " |      unlimited        |\n\t\t}}\n\n"], ["\n\t\t{{", "\n\t\t##### The ", "\n\t\t| Level | Proficiency Bonus | Features | ", " |\n\t\t|:-----:|:-----------------:|:---------|:---------------------:|\n\t\t|  1st  |  +2  | ", " |          2            |\n\t\t|  2nd  |  +2  | ", " |          2            |\n\t\t|  3rd  |  +2  | ", " |          3            |\n\t\t|  4th  |  +2  | ", " |          3            |\n\t\t|  5th  |  +3  | ", " |          3            |\n\t\t|  6th  |  +3  | ", " |          4            |\n\t\t|  7th  |  +3  | ", " |          4            |\n\t\t|  8th  |  +3  | ", " |          4            |\n\t\t|  9th  |  +4  | ", " |          4            |\n\t\t| 10th  |  +4  | ", " |          4            |\n\t\t| 11th  |  +4  | ", " |          4            |\n\t\t| 12th  |  +4  | ", " |          5            |\n\t\t| 13th  |  +5  | ", " |          5            |\n\t\t| 14th  |  +5  | ", " |          5            |\n\t\t| 15th  |  +5  | ", " |          5            |\n\t\t| 16th  |  +5  | ", " |          5            |\n\t\t| 17th  |  +6  | ", " |          6            |\n\t\t| 18th  |  +6  | ", " |          6            |\n\t\t| 19th  |  +6  | ", " |          6            |\n\t\t| 20th  |  +6  | ", " |      unlimited        |\n\t\t}}\\n\\n"])), snippetClasses, _.sample(classnames), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features));
  },
  full: function full(snippetClasses) {
    return dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t{{", "\n\t\t##### The ", "\n\t\t| Level | Proficiency | Features     | Cantrips | --- Spell Slots Per Spell Level ---|||||||||\n\t\t|      ^| Bonus      ^|             ^| Known   ^|1st |2nd |3rd |4th |5th |6th |7th |8th |9th |\n\t\t|:-----:|:-----------:|:-------------|:--------:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|\n\t\t|  1st  | +2 | ", " |    2     | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  2nd  | +2 | ", " |    2     | 3  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  3rd  | +2 | ", " |    2     | 4  | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  4th  | +2 | ", " |    3     | 4  | 3  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  5th  | +3 | ", " |    3     | 4  | 3  | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  6th  | +3 | ", " |    3     | 4  | 3  | 3  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  7th  | +3 | ", " |    3     | 4  | 3  | 3  | 1  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  8th  | +3 | ", " |    3     | 4  | 3  | 3  | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  9th  | +4 | ", " |    3     | 4  | 3  | 3  | 2  | 1  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t| 10th  | +4 | ", " |    3     | 4  | 3  | 3  | 2  | 1  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t| 11th  | +4 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | \u2014  | \u2014  | \u2014  |\n\t\t| 12th  | +4 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | \u2014  | \u2014  | \u2014  |\n\t\t| 13th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | \u2014  | \u2014  |\n\t\t| 14th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | \u2014  | \u2014  |\n\t\t| 15th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | 1  | \u2014  |\n\t\t| 16th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | 1  | \u2014  |\n\t\t| 17th  | +6 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | 1  | 1  |\n\t\t| 18th  | +6 | ", " |    4     | 4  | 3  | 3  | 3  | 1  | 1  | 1  | 1  | 1  |\n\t\t| 19th  | +6 | ", " |    4     | 4  | 3  | 3  | 3  | 2  | 2  | 1  | 1  | 1  |\n\t\t| 20th  | +6 | ", " |    4     | 4  | 3  | 3  | 3  | 2  | 2  | 2  | 1  | 1  |\n\t\t}}\n\n"], ["\n\t\t{{", "\n\t\t##### The ", "\n\t\t| Level | Proficiency | Features     | Cantrips | --- Spell Slots Per Spell Level ---|||||||||\n\t\t|      ^| Bonus      ^|             ^| Known   ^|1st |2nd |3rd |4th |5th |6th |7th |8th |9th |\n\t\t|:-----:|:-----------:|:-------------|:--------:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|\n\t\t|  1st  | +2 | ", " |    2     | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  2nd  | +2 | ", " |    2     | 3  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  3rd  | +2 | ", " |    2     | 4  | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  4th  | +2 | ", " |    3     | 4  | 3  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  5th  | +3 | ", " |    3     | 4  | 3  | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  6th  | +3 | ", " |    3     | 4  | 3  | 3  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  7th  | +3 | ", " |    3     | 4  | 3  | 3  | 1  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  8th  | +3 | ", " |    3     | 4  | 3  | 3  | 2  | \u2014  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t|  9th  | +4 | ", " |    3     | 4  | 3  | 3  | 2  | 1  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t| 10th  | +4 | ", " |    3     | 4  | 3  | 3  | 2  | 1  | \u2014  | \u2014  | \u2014  | \u2014  |\n\t\t| 11th  | +4 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | \u2014  | \u2014  | \u2014  |\n\t\t| 12th  | +4 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | \u2014  | \u2014  | \u2014  |\n\t\t| 13th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | \u2014  | \u2014  |\n\t\t| 14th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | \u2014  | \u2014  |\n\t\t| 15th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | 1  | \u2014  |\n\t\t| 16th  | +5 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | 1  | \u2014  |\n\t\t| 17th  | +6 | ", " |    4     | 4  | 3  | 3  | 2  | 1  | 1  | 1  | 1  | 1  |\n\t\t| 18th  | +6 | ", " |    4     | 4  | 3  | 3  | 3  | 1  | 1  | 1  | 1  | 1  |\n\t\t| 19th  | +6 | ", " |    4     | 4  | 3  | 3  | 3  | 2  | 2  | 1  | 1  | 1  |\n\t\t| 20th  | +6 | ", " |    4     | 4  | 3  | 3  | 3  | 2  | 2  | 2  | 1  | 1  |\n\t\t}}\\n\\n"])), snippetClasses, _.sample(classnames), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features));
  },
  half: function half(snippetClasses) {
    return dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t{{", "\n\t\t##### The ", "\n\t\t| Level | Proficiency | Features     | Spells |--- Spell Slots Per Spell Level ---|||||\n\t\t|      ^| Bonus      ^|             ^| Known ^|  1st  |  2nd  |  3rd  |  4th  |  5th  |\n\t\t|:-----:|:-----------:|:-------------|:------:|:-----:|:-----:|:-----:|:-----:|:-----:|\n\t\t|  1st  | +2 | ", " |   \u2014    |   \u2014   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  2nd  | +2 | ", " |   2    |   2   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  3rd  | +2 | ", " |   3    |   3   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  4th  | +2 | ", " |   3    |   3   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  5th  | +3 | ", " |   4    |   4   |   2   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  6th  | +3 | ", " |   4    |   4   |   2   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  7th  | +3 | ", " |   5    |   4   |   3   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  8th  | +3 | ", " |   5    |   4   |   3   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  9th  | +4 | ", " |   6    |   4   |   3   |   2   |   \u2014   |   \u2014   |\n\t\t| 10th  | +4 | ", " |   6    |   4   |   3   |   2   |   \u2014   |   \u2014   |\n\t\t| 11th  | +4 | ", " |   7    |   4   |   3   |   3   |   \u2014   |   \u2014   |\n\t\t| 12th  | +4 | ", " |   7    |   4   |   3   |   3   |   \u2014   |   \u2014   |\n\t\t| 13th  | +5 | ", " |   8    |   4   |   3   |   3   |   1   |   \u2014   |\n\t\t| 14th  | +5 | ", " |   8    |   4   |   3   |   3   |   1   |   \u2014   |\n\t\t| 15th  | +5 | ", " |   9    |   4   |   3   |   3   |   2   |   \u2014   |\n\t\t| 16th  | +5 | ", " |   9    |   4   |   3   |   3   |   2   |   \u2014   |\n\t\t| 17th  | +6 | ", " |   10   |   4   |   3   |   3   |   3   |   1   |\n\t\t| 18th  | +6 | ", " |   10   |   4   |   3   |   3   |   3   |   1   |\n\t\t| 19th  | +6 | ", " |   11   |   4   |   3   |   3   |   3   |   2   |\n\t\t| 20th  | +6 | ", " |   11   |   4   |   3   |   3   |   3   |   2   |\n\t\t}}\n\n"], ["\n\t\t{{", "\n\t\t##### The ", "\n\t\t| Level | Proficiency | Features     | Spells |--- Spell Slots Per Spell Level ---|||||\n\t\t|      ^| Bonus      ^|             ^| Known ^|  1st  |  2nd  |  3rd  |  4th  |  5th  |\n\t\t|:-----:|:-----------:|:-------------|:------:|:-----:|:-----:|:-----:|:-----:|:-----:|\n\t\t|  1st  | +2 | ", " |   \u2014    |   \u2014   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  2nd  | +2 | ", " |   2    |   2   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  3rd  | +2 | ", " |   3    |   3   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  4th  | +2 | ", " |   3    |   3   |   \u2014   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  5th  | +3 | ", " |   4    |   4   |   2   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  6th  | +3 | ", " |   4    |   4   |   2   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  7th  | +3 | ", " |   5    |   4   |   3   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  8th  | +3 | ", " |   5    |   4   |   3   |   \u2014   |   \u2014   |   \u2014   |\n\t\t|  9th  | +4 | ", " |   6    |   4   |   3   |   2   |   \u2014   |   \u2014   |\n\t\t| 10th  | +4 | ", " |   6    |   4   |   3   |   2   |   \u2014   |   \u2014   |\n\t\t| 11th  | +4 | ", " |   7    |   4   |   3   |   3   |   \u2014   |   \u2014   |\n\t\t| 12th  | +4 | ", " |   7    |   4   |   3   |   3   |   \u2014   |   \u2014   |\n\t\t| 13th  | +5 | ", " |   8    |   4   |   3   |   3   |   1   |   \u2014   |\n\t\t| 14th  | +5 | ", " |   8    |   4   |   3   |   3   |   1   |   \u2014   |\n\t\t| 15th  | +5 | ", " |   9    |   4   |   3   |   3   |   2   |   \u2014   |\n\t\t| 16th  | +5 | ", " |   9    |   4   |   3   |   3   |   2   |   \u2014   |\n\t\t| 17th  | +6 | ", " |   10   |   4   |   3   |   3   |   3   |   1   |\n\t\t| 18th  | +6 | ", " |   10   |   4   |   3   |   3   |   3   |   1   |\n\t\t| 19th  | +6 | ", " |   11   |   4   |   3   |   3   |   3   |   2   |\n\t\t| 20th  | +6 | ", " |   11   |   4   |   3   |   3   |   3   |   2   |\n\t\t}}\\n\\n"])), snippetClasses, _.sample(classnames), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features), _.sample(features));
  },
  third: function third(snippetClasses) {
    return dedent(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t{{", "\n\t\t##### ", " Spellcasting\n\t\t| Level | Cantrips | Spells |--- Spells Slots per Spell Level ---||||\n\t\t|      ^| Known   ^| Known ^|   1st   |   2nd   |   3rd   |   4th   |\n\t\t|:-----:|:--------:|:------:|:-------:|:-------:|:-------:|:-------:|\n\t\t|  3rd  |    2     |   3    |    2    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  4th  |    2     |   4    |    3    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  5th  |    2     |   4    |    3    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  6th  |    2     |   4    |    3    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  7th  |    2     |   5    |    4    |    2    |    \u2014    |    \u2014    |\n\t\t|  8th  |    2     |   6    |    4    |    2    |    \u2014    |    \u2014    |\n\t\t|  9th  |    2     |   6    |    4    |    2    |    \u2014    |    \u2014    |\n\t\t| 10th  |    3     |   7    |    4    |    3    |    \u2014    |    \u2014    |\n\t\t| 11th  |    3     |   8    |    4    |    3    |    \u2014    |    \u2014    |\n\t\t| 12th  |    3     |   8    |    4    |    3    |    \u2014    |    \u2014    |\n\t\t| 13th  |    3     |   9    |    4    |    3    |    2    |    \u2014    |\n\t\t| 14th  |    3     |   10   |    4    |    3    |    2    |    \u2014    |\n\t\t| 15th  |    3     |   10   |    4    |    3    |    2    |    \u2014    |\n\t\t| 16th  |    3     |   11   |    4    |    3    |    3    |    \u2014    |\n\t\t| 17th  |    3     |   11   |    4    |    3    |    3    |    \u2014    |\n\t\t| 18th  |    3     |   11   |    4    |    3    |    3    |    \u2014    |\n\t\t| 19th  |    3     |   12   |    4    |    3    |    3    |    1    |\n\t\t| 20th  |    3     |   13   |    4    |    3    |    3    |    1    |\n\t\t}}\n\n"], ["\n\t\t{{", "\n\t\t##### ", " Spellcasting\n\t\t| Level | Cantrips | Spells |--- Spells Slots per Spell Level ---||||\n\t\t|      ^| Known   ^| Known ^|   1st   |   2nd   |   3rd   |   4th   |\n\t\t|:-----:|:--------:|:------:|:-------:|:-------:|:-------:|:-------:|\n\t\t|  3rd  |    2     |   3    |    2    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  4th  |    2     |   4    |    3    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  5th  |    2     |   4    |    3    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  6th  |    2     |   4    |    3    |    \u2014    |    \u2014    |    \u2014    |\n\t\t|  7th  |    2     |   5    |    4    |    2    |    \u2014    |    \u2014    |\n\t\t|  8th  |    2     |   6    |    4    |    2    |    \u2014    |    \u2014    |\n\t\t|  9th  |    2     |   6    |    4    |    2    |    \u2014    |    \u2014    |\n\t\t| 10th  |    3     |   7    |    4    |    3    |    \u2014    |    \u2014    |\n\t\t| 11th  |    3     |   8    |    4    |    3    |    \u2014    |    \u2014    |\n\t\t| 12th  |    3     |   8    |    4    |    3    |    \u2014    |    \u2014    |\n\t\t| 13th  |    3     |   9    |    4    |    3    |    2    |    \u2014    |\n\t\t| 14th  |    3     |   10   |    4    |    3    |    2    |    \u2014    |\n\t\t| 15th  |    3     |   10   |    4    |    3    |    2    |    \u2014    |\n\t\t| 16th  |    3     |   11   |    4    |    3    |    3    |    \u2014    |\n\t\t| 17th  |    3     |   11   |    4    |    3    |    3    |    \u2014    |\n\t\t| 18th  |    3     |   11   |    4    |    3    |    3    |    \u2014    |\n\t\t| 19th  |    3     |   12   |    4    |    3    |    3    |    1    |\n\t\t| 20th  |    3     |   13   |    4    |    3    |    3    |    1    |\n\t\t}}\\n\\n"])), snippetClasses, _.sample(classnames));
  }
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"lodash":"lodash"}],294:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4;
var _ = require('lodash');
var dedent = require('dedent-tabs')["default"];
var titles = ['The Burning Gallows', 'The Ring of Nenlast', 'Below the Blind Tavern', 'Below the Hungering River', 'Before Bahamut\'s Land', 'The Cruel Grave from Within', 'The Strength of Trade Road', 'Through The Raven Queen\'s Worlds', 'Within the Settlement', 'The Crown from Within', 'The Merchant Within the Battlefield', 'Ioun\'s Fading Traveler', 'The Legion Ingredient', 'The Explorer Lure', 'Before the Charming Badlands', 'Vecna\'s Hidden Sage', 'The Living Dead Above the Fearful Cage', 'Bahamut\'s Demonspawn', 'Across Gruumsh\'s Elemental Chaos', 'The Blade of Orcus', 'Beyond Revenge', 'Brain of Insanity', 'A New Beginning', 'Evil Lake of the Merfolk', 'Invasion of the Gigantic Cat, Part II', 'Kraken War 2020', 'The Body Whisperers', 'The Doctor from Heaven', 'The Diabolical Tales of the Ape-Women', 'The Doctor Immortal', 'Core of Heaven: Guardian of Amazement', 'The Graveyard', 'Guardian: Skies of the Dark Wizard', 'Lute of Eternity', 'Mercury\'s Planet: Brave Evolution', 'Azure Core', 'Sky of Zelda: The Thunder of Force', 'Core Battle', 'Ruby of Atlantis: The Quake of Peace', 'Deadly Amazement III', 'Dry Chaos IX', 'Gate Thunder', 'Vyse\'s Skies', 'Blue Greatness III', 'Yellow Divinity', 'Zidane\'s Ghost'];
var subtitles = ['Tomb of Shadows', 'Dragon\'s Lair', 'Lost Caverns', 'The Necromancer', 'Mystic Forest', 'Cursed Ruins', 'The Dark Abyss', 'Enchanted Maze', 'Haunted Castle', 'Sands of Fate', 'Dragon\'s Hoard', 'Undead Menace', 'Lost City Ruins', 'Goblin Ambush', 'Enchanted Forest', 'Darkness Rising', 'Quest for Glory', 'Ancient Prophecy', 'Shadowy Depths', 'Mystic Isles'];
var footnote = ['In an ominous universe, a botanist opposes terrorism.', 'In a demon-haunted city, in an age of lies and hate, a physicist tries to find an ancient treasure and battles a mob of aliens.', 'In a land of corruption, two cyberneticists and a dungeon delver search for freedom.', 'In an evil empire of horror, two rangers battle the forces of hell.', 'In a lost city, in an age of sorcery, a librarian quests for revenge.', 'In a universe of illusions and danger, three time travellers and an adventurer search for justice.', 'In a forgotten universe of barbarism, in an era of terror and mysticism, a virtual reality programmer and a spy try to find vengance and battle crime.', 'In a universe of demons, in an era of insanity and ghosts, three bodyguards and a bodyguard try to find vengance.', 'In a kingdom of corruption and battle, seven artificial intelligences try to save the last living fertile woman.', 'In a universe of virutal reality and agony, in an age of ghosts and ghosts, a fortune-teller and a wanderer try to avert the apocalypse.', 'In a crime-infested kingdom, three martial artists quest for the truth and oppose evil.', 'In a terrifying universe of lost souls, in an era of lost souls, eight dancers fight evil.', 'In a galaxy of confusion and insanity, three martial artists and a duke battle a mob of psychics.', 'In an amazing kingdom, a wizard and a secretary hope to prevent the destruction of mankind.', 'In a kingdom of deception, a reporter searches for fame.', 'In a hellish empire, a swordswoman and a duke try to find the ultimate weapon and battle a conspiracy.', 'In an evil galaxy of illusion, in a time of technology and misery, seven psychiatrists battle crime.', 'In a dark city of confusion, three swordswomen and a singer battle lawlessness.', 'In an ominous empire, in an age of hate, two philosophers and a student try to find justice and battle a mob of mages intent on stealing the souls of the innocent.', 'In a kingdom of panic, six adventurers oppose lawlessness.', 'In a land of dreams and hopelessness, three hackers and a cyborg search for justice.', 'On a planet of mysticism, three travelers and a fire fighter quest for the ultimate weapon and oppose evil.', 'In a wicked universe, five seers fight lawlessness.', 'In a kingdom of death, in an era of illusion and blood, four colonists search for fame.', 'In an amazing kingdom, in an age of sorcery and lost souls, eight space pirates quest for freedom.'];
var coverText = ['Embark on a thrilling journey across a vast and varied world, where magic and mystery await you at every turn. Encounter strange creatures and ancient secrets, and forge your own destiny with your choices. The world is yours to shape and explore.', 'Join a band of brave adventurers and set out to explore the unknown lands beyond the horizon. Along the way, you’ll face perilous challenges, make new friends and enemies, and uncover a plot that threatens to destroy everything you hold dear. The fate of the world rests in your hands.', 'Create your own character and enter a realm of endless possibilities, where you can be whoever you want to be. Whether you prefer to fight, sneak, charm, or craft your way through the game, you’ll find a style that suits you. The only limit is your imagination.', 'Experience a rich and immersive story that adapts to your actions and decisions. Every choice you make has consequences, for good or ill. Will you be a hero or a villain? A leader or a follower? A friend or a foe? The choice is yours.', 'Dive into a world of epic fantasy and adventure, where you can explore ancient civilizations, dark dungeons, and hidden secrets. Along the way, you’ll meet colorful characters, collect powerful items, and learn new skills. The more you play, the more you’ll discover.', 'Explore a vast and dynamic world that changes according to your actions. You can shape the environment, influence the politics, and alter the history of the game world. But be careful, as every change has a ripple effect that may have unforeseen consequences.', 'Enter a world of wonder and danger, where you can find allies and enemies among the various races and factions that inhabit it. You can choose to join or oppose any of them, or forge your own path. The game world is alive and responsive to your actions.'];
module.exports = {
  front: function front() {
    return dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t  {{frontCover}}\n\n\t\t  {{logo ![](/assets/naturalCritLogoRed.svg)}}\n\n\t\t  # ", "\n\t\t  ## ", "\n\t\t  ___\n\n\t\t  {{banner HOMEBREW}}\n\n\t\t  {{footnote\n\t\t    ", "\n\t\t  }}\n\n\t\t  ![background image](https://i.imgur.com/IwHRrbF.jpg){position:absolute,bottom:0,left:0,height:100%}\n\n\t\t  page"], ["\n\t\t  {{frontCover}}\n\n\t\t  {{logo ![](/assets/naturalCritLogoRed.svg)}}\n\n\t\t  # ", "\n\t\t  ## ", "\n\t\t  ___\n\n\t\t  {{banner HOMEBREW}}\n\n\t\t  {{footnote\n\t\t    ", "\n\t\t  }}\n\n\t\t  ![background image](https://i.imgur.com/IwHRrbF.jpg){position:absolute,bottom:0,left:0,height:100%}\n\n\t\t  \\page"])), _.sample(titles), _.sample(subtitles), _.sample(footnote));
  },
  inside: function inside() {
    return dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t{{insideCover}}\n\n\t\t\t# ", "\n\t\t\t## ", "\n\t\t\t___\n\n\t\t\t{{imageMaskCenter", ",--offsetX:0%,--offsetY:0%,--rotation:0\n\t\t\t  ![background image](https://i.imgur.com/IsfUnFR.jpg){position:absolute,bottom:0,left:0,height:100%}\n\t\t\t}}\n\n\t\t\t{{logo ![](/assets/naturalCritLogoRed.svg)}}\n\n\t\t\tpage"], ["\n\t\t\t{{insideCover}}\n\n\t\t\t# ", "\n\t\t\t## ", "\n\t\t\t___\n\n\t\t\t{{imageMaskCenter", ",--offsetX:0%,--offsetY:0%,--rotation:0\n\t\t\t  ![background image](https://i.imgur.com/IsfUnFR.jpg){position:absolute,bottom:0,left:0,height:100%}\n\t\t\t}}\n\n\t\t\t{{logo ![](/assets/naturalCritLogoRed.svg)}}\n\n\t\t\t\\page"])), _.sample(titles), _.sample(subtitles), _.random(1, 16));
  },
  part: function part() {
    return dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t{{partCover}}\n\n\t\t\t# PART X\n\t\t\t## ", "\n\n\t\t\t{{imageMaskEdge", ",--offset:10cm,--rotation:180\n\t\t\t  ![Background image](https://i.imgur.com/9TU96xY.jpg){position:absolute,bottom:0,left:0,height:100%}\n\t\t\t}}\n\n\t\t\tpage"], ["\n\t\t\t{{partCover}}\n\n\t\t\t# PART X\n\t\t\t## ", "\n\n\t\t\t{{imageMaskEdge", ",--offset:10cm,--rotation:180\n\t\t\t  ![Background image](https://i.imgur.com/9TU96xY.jpg){position:absolute,bottom:0,left:0,height:100%}\n\t\t\t}}\n\n\t\t\t\\page"])), _.sample(subtitles), _.random(1, 8));
  },
  back: function back() {
    return dedent(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t{{backCover}}\n\n\t\t\t# ", "\n\n\t\t\t", "\n\t\t\t___\n\n\t\t\tFor use with any fantasy roleplaying ruleset. Play the best game of your life!\n\n\t\t\t![background image](https://i.imgur.com/MJ4YHu7.jpg){position:absolute,bottom:0,left:0,height:100%}\n\n\t\t\t{{logo\n\t\t\t![](/assets/naturalCritLogoWhite.svg)\n\n\t\t\tHomebrewery.Naturalcrit.com\n\t\t\t}}"])), _.sample(subtitles), _.sampleSize(coverText, 3).join('\n:\n'));
  }
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"lodash":"lodash"}],295:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var spellNames = ['Astral Rite of Acne', 'Create Acne', 'Cursed Ramen Erruption', 'Dark Chant of the Dentists', 'Erruption of Immaturity', 'Flaming Disc of Inconvenience', 'Heal Bad Hygene', 'Heavenly Transfiguration of the Cream Devil', 'Hellish Cage of Mucus', 'Irritate Peanut Butter Fairy', 'Luminous Erruption of Tea', 'Mystic Spell of the Poser', 'Sorcerous Enchantment of the Chimneysweep', 'Steak Sauce Ray', 'Talk to Groupie', 'Astonishing Chant of Chocolate', 'Astounding Pasta Puddle', 'Ball of Annoyance', 'Cage of Yarn', 'Control Noodles Elemental', 'Create Nervousness', 'Cure Baldness', 'Cursed Ritual of Bad Hair', 'Dispell Piles in Dentist', 'Eliminate Florists', 'Illusionary Transfiguration of the Babysitter', 'Necromantic Armor of Salad Dressing', 'Occult Transfiguration of Foot Fetish', 'Protection from Mucus Giant', 'Tinsel Blast', 'Alchemical Evocation of the Goths', 'Call Fangirl', 'Divine Spell of Crossdressing', 'Dominate Ramen Giant', 'Eliminate Vindictiveness in Gym Teacher', 'Extra-Planar Spell of Irritation', 'Induce Whining in Babysitter', 'Invoke Complaining', 'Magical Enchantment of Arrogance', 'Occult Globe of Salad Dressing', 'Overwhelming Enchantment of the Chocolate Fairy', 'Sorcerous Dandruff Globe', 'Spiritual Invocation of the Costumers', 'Ultimate Rite of the Confetti Angel', 'Ultimate Ritual of Mouthwash'];
var itemNames = ['Doorknob of Niceness', 'Paper Armor of Folding', 'Mixtape of Sadness', 'Staff of Endless Confetti'];
module.exports = {
  spellList: function spellList() {
    var levels = ['Cantrips (0 Level)', '1st Level', '2nd Level', '3rd Level', '4th Level', '5th Level', '6th Level', '7th Level', '8th Level', '9th Level'];
    var content = _.map(levels, function (level) {
      var spells = _.map(_.sampleSize(spellNames, _.random(4, 10)), function (spell) {
        return "- ".concat(spell);
      }).join('\n');
      return "##### ".concat(level, " \n").concat(spells, " \n");
    }).join('\n');
    return "{{spellList,wide\n".concat(content, "\n}}");
  },
  spell: function spell() {
    var level = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th'];
    var spellSchools = ['abjuration', 'conjuration', 'divination', 'enchantment', 'evocation', 'illusion', 'necromancy', 'transmutation'];
    var components = _.sampleSize(['V', 'S', 'M'], _.random(1, 3)).join(', ');
    if (components.indexOf('M') !== -1) {
      components += " (".concat(_.sampleSize(['a small doll', 'a crushed button worth at least 1cp', 'discarded gum wrapper'], _.random(1, 3)).join(', '), ")");
    }
    return ["#### ".concat(_.sample(spellNames)), "*".concat(_.sample(level), "-level ").concat(_.sample(spellSchools), "*"), '', '**Casting Time:** :: 1 action', "**Range:**        :: ".concat(_.sample(['Self', 'Touch', '30 feet', '60 feet'])), "**Components:**   :: ".concat(components), "**Duration:**     :: ".concat(_.sample(['Until dispelled', '1 round', 'Instantaneous', 'Concentration, up to 10 minutes', '1 hour'])), '', 'A flame, equivalent in brightness to a torch, springs from an object that you touch. ', 'The effect look like a regular flame, but it creates no heat and doesn\'t use oxygen. ', 'A *continual flame* can be covered or hidden but not smothered or quenched.', '\n\n\n'].join('\n');
  },
  item: function item() {
    return ["#### ".concat(_.sample(itemNames)), "*".concat(_.sample(['Wondrous item', 'Armor', 'Weapon']), ", ").concat(_.sample(['Common', 'Uncommon', 'Rare', 'Very Rare', 'Legendary', 'Artifact']), " (requires attunement)*"), ":", "This knob is pretty nice. When attached to a door, it allows a user to", "open that door with the strength of the nearest animal. For example, if", "there is a cow nearby, the user will have the \"strength of a cow\" while", "opening this door."].join('\n');
  }
};
},{"lodash":"lodash"}],296:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4;
var _ = require('lodash');
var dedent = require('dedent-tabs')["default"];
var genList = function genList(list, max) {
  return _.sampleSize(list, _.random(0, max)).join(', ') || 'None';
};
var getMonsterName = function getMonsterName() {
  return _.sample(['All-devouring Baseball Imp', 'All-devouring Gumdrop Wraith', 'Chocolate Hydra', 'Devouring Peacock', 'Economy-sized Colossus of the Lemonade Stand', 'Ghost Pigeon', 'Gibbering Duck', 'Sparklemuffin Peacock Spider', 'Gum Elemental', 'Illiterate Construct of the Candy Store', 'Ineffable Chihuahua', 'Irritating Death Hamster', 'Irritating Gold Mouse', 'Juggernaut Snail', 'Juggernaut of the Sock Drawer', 'Koala of the Cosmos', 'Mad Koala of the West', 'Milk Djinni of the Lemonade Stand', 'Mind Ferret', 'Mystic Salt Spider', 'Necrotic Halitosis Angel', 'Pinstriped Famine Sheep', 'Ritalin Leech', 'Shocker Kangaroo', 'Stellar Tennis Juggernaut', 'Wailing Quail of the Sun', 'Angel Pigeon', 'Anime Sphinx', 'Bored Avalanche Sheep of the Wasteland', 'Devouring Nougat Sphinx of the Sock Drawer', 'Djinni of the Footlocker', 'Ectoplasmic Jazz Devil', 'Flatuent Angel', 'Gelatinous Duck of the Dream-Lands', 'Gelatinous Mouse', 'Golem of the Footlocker', 'Lich Wombat', 'Mechanical Sloth of the Past', 'Milkshake Succubus', 'Puffy Bone Peacock of the East', 'Rainbow Manatee', 'Rune Parrot', 'Sand Cow', 'Sinister Vanilla Dragon', 'Snail of the North', 'Spider of the Sewer', 'Stellar Sawdust Leech', 'Storm Anteater of Hell', 'Stupid Spirit of the Brewery', 'Time Kangaroo', 'Tomb Poodle']);
};
var getType = function getType() {
  return "".concat(_.sample(['Tiny', 'Small', 'Medium', 'Large', 'Gargantuan', 'Stupidly vast']), " ").concat(_.sample(['beast', 'fiend', 'annoyance', 'guy', 'cutie']));
};
var getAlignment = function getAlignment() {
  return _.sample(['annoying evil', 'chaotic gossipy', 'chaotic sloppy', 'depressed neutral', 'lawful bogus', 'lawful coy', 'manic-depressive evil', 'narrow-minded neutral', 'neutral annoying', 'neutral ignorant', 'oedpipal neutral', 'silly neutral', 'unoriginal neutral', 'weird neutral', 'wordy evil', 'unaligned']);
};
var getStats = function getStats() {
  return "|".concat(_.times(6, function () {
    var num = _.random(1, 20);
    var mod = Math.ceil(num / 2 - 5);
    return "".concat(num, " (").concat(mod >= 0 ? "+".concat(mod) : mod, ")");
  }).join('|'), "|");
};
var genAbilities = function genAbilities() {
  return _.sample(['***Pack Tactics.*** These guys work together like peanut butter and jelly.', '***Fowl Appearance.*** While the creature remains motionless, it is indistinguishable from a normal chicken.', '***Onion Stench.*** Any creatures within 5 feet of this thing develops an irrational craving for onion rings.', '***Enormous Nose.*** This creature gains advantage on any check involving putting things in its nose.', '***Sassiness.*** When questioned, this creature will talk back instead of answering.', '***Big Jerk.*** Whenever this creature makes an attack, it starts telling you how much cooler it is than you.']);
};
var genLongAbilities = function genLongAbilities() {
  return _.sample([dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["***Pack Tactics.*** These guys work together like peanut butter and jelly. Jelly and peanut butter.\n\n\t\tWhen one of these guys attacks, the target is covered with, well, peanut butter and jelly."]))), dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["***Hangriness.*** This creature is angry, and hungry. It will refuse to do anything with you until its hunger is satisfied.\n\n\t\tWhen in visual contact with this creature, you must purchase an extra order of fries, even if they say they aren't hungry."]))), dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["***Full of Detergent.*** This creature has swallowed an entire bottle of dish detergent and is actually having a pretty good time.\n\n\t\tWhile walking near this creature, you must make a dexterity check or become \"a soapy mess\" for three hours, after which your skin will get all dry and itchy."])))]);
};
var genAction = function genAction() {
  var name = _.sample(['Abdominal Drop', 'Airplane Hammer', 'Atomic Death Throw', 'Bulldog Rake', 'Corkscrew Strike', 'Crossed Splash', 'Crossface Suplex', 'DDT Powerbomb', 'Dual Cobra Wristlock', 'Dual Throw', 'Elbow Hold', 'Gory Body Sweep', 'Heel Jawbreaker', 'Jumping Driver', 'Open Chin Choke', 'Scorpion Flurry', 'Somersault Stump Fists', 'Suffering Wringer', 'Super Hip Submission', 'Super Spin', 'Team Elbow', 'Team Foot', 'Tilt-a-whirl Chin Sleeper', 'Tilt-a-whirl Eye Takedown', 'Turnbuckle Roll']);
  return "***".concat(name, ".*** *Melee Weapon Attack:* +4 to hit, reach 5 ft., one target. *Hit:* 5 (1d6 + 2) ");
};
module.exports = {
  monster: function monster(classes, genLines) {
    return dedent(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t{{", "\n\t\t\t## ", "\n\t\t\t*", ", ", "*\n\t\t\t___\n\t\t\t**Armor Class** :: ", " (chain mail, shield)\n\t\t\t**Hit Points**  :: ", " (1d4 + 5)\n\t\t\t**Speed**       :: ", " ft.\n\t\t\t___\n\t\t\t|  STR  |  DEX  |  CON  |  INT  |  WIS  |  CHA  |\n\t\t\t|:-----:|:-----:|:-----:|:-----:|:-----:|:-----:|\n\t\t\t", "\n\t\t\t___\n\t\t\t**Condition Immunities** :: ", "\n\t\t\t**Senses**               :: darkvision 60 ft., passive Perception ", "\n\t\t\t**Languages**            :: ", "\n\t\t\t**Challenge**            :: ", " (", " XP) {{bonus **Proficiency Bonus** +", "}}\n\t\t\t___\n\t\t\t", "\n\t\t\t:\n\t\t\t", "\n\t\t\t### Actions\n\t\t\t", "\n\t\t\t}}\n\t\t\t\n"], ["\n\t\t\t{{", "\n\t\t\t## ", "\n\t\t\t*", ", ", "*\n\t\t\t___\n\t\t\t**Armor Class** :: ", " (chain mail, shield)\n\t\t\t**Hit Points**  :: ", " (1d4 + 5)\n\t\t\t**Speed**       :: ", " ft.\n\t\t\t___\n\t\t\t|  STR  |  DEX  |  CON  |  INT  |  WIS  |  CHA  |\n\t\t\t|:-----:|:-----:|:-----:|:-----:|:-----:|:-----:|\n\t\t\t", "\n\t\t\t___\n\t\t\t**Condition Immunities** :: ", "\n\t\t\t**Senses**               :: darkvision 60 ft., passive Perception ", "\n\t\t\t**Languages**            :: ", "\n\t\t\t**Challenge**            :: ", " (", " XP) {{bonus **Proficiency Bonus** +", "}}\n\t\t\t___\n\t\t\t", "\n\t\t\t:\n\t\t\t", "\n\t\t\t### Actions\n\t\t\t", "\n\t\t\t}}\n\t\t\t\\n"])), classes, getMonsterName(), getType(), getAlignment(), _.random(10, 20), _.random(1, 150), _.random(0, 50), getStats(), genList(['groggy', 'swagged', 'weak-kneed', 'buzzed', 'groovy', 'melancholy', 'drunk'], 3), _.random(3, 20), genList(['Common', 'Pottymouth', 'Gibberish', 'Latin', 'Jive'], 2), _.random(0, 15), _.random(10, 10000), _.random(2, 6), _.times(_.random(genLines, genLines + 2), function () {
      return genAbilities();
    }).join('\n:\n'), genLongAbilities(), _.times(_.random(genLines, genLines + 2), function () {
      return genAction();
    }).join('\n:\n'));
  }
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"lodash":"lodash"}],297:[function(require,module,exports){
"use strict";

var _ = require('lodash');
var quotes = ['The sword glinted in the dim light, its edges keen and deadly. As the adventurer reached for it, he couldn\'t help but feel a surge of excitement mixed with fear. This was no ordinary blade.', 'The dragon\'s roar shook the ground beneath their feet, and the brave knight stood tall, his sword at the ready. He knew that this would be the battle of his life, but he was determined to emerge victorious.', 'The wizard\'s laboratory was a sight to behold, filled with bubbling cauldrons, ancient tomes, and strange artifacts from distant lands. As the apprentice gazed around in wonder, she knew that she was about to embark on a journey unlike any other.', 'The tavern was packed with rowdy patrons, their voices raised in song and laughter. The bard took center stage, strumming his lute and launching into a tale of adventure and heroism that had the crowd hanging on his every word.', 'The thief crept through the shadows, his eyes scanning the room for any sign of danger. He knew that one false move could mean the difference between success and failure, and he was determined to come out on top.', 'The elf queen stood atop her castle walls, surveying the kingdom below with a mix of pride and sadness. She knew that the coming war would be brutal, but she was determined to protect her people at all costs.', 'The necromancer\'s tower loomed in the distance, its dark spires piercing the sky. As the adventurers approached, they could feel the chill of death emanating from within', 'The ranger moved through the forest like a shadow, his senses attuned to every sound and movement around him. He knew that danger lurked behind every tree, but he was ready for whatever came his way.', 'The paladin knelt before the altar, his hands clasped in prayer. He knew that his faith would be tested in the days ahead, but he was ready to face whatever trials lay in store for him.', 'The druid communed with the spirits of nature, his mind merging with the trees, the animals, and the very earth itself. He knew that his power came with a great responsibility, and he was determined to use it for the greater good.'];
var authors = ['Unknown', 'James Wyatt', 'Eolande Blackwood', 'Ragnar Ironheart', 'Lyra Nightshade', 'Valtorius Darkstar', 'Isadora Fireheart', 'Theron Shadowbane', 'Lirien Starweaver', 'Drogathar Bonecrusher', 'Kaelen Frostblade'];
var books = ['The Blade of Destiny', 'Dragonfire and Steel', 'The Bard\'s Tale', 'Darkness Rising', 'The Sacred Quest', 'Shadows in the Forest', 'The Starweaver Chronicles', 'Beneath the Bones', 'Moonlit Magic', 'Frost and Fury'];
module.exports = function () {
  return "\n{{quote\n".concat(_.sample(quotes), "\n\n{{attribution ").concat(_.sample(authors), ", *").concat(_.sample(books), "*}}\n}}\n\n");
};
},{"lodash":"lodash"}],298:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3;
var _ = require('lodash');
var dedent = require('dedent-tabs')["default"];
module.exports = {
  dwarvish: function dwarvish() {
    return dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["##### Dwarvish Runes: Sample Alphabet\n            {{runeTable,wide,frame,font-family:Davek\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            :\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            }}\n\n"], ["##### Dwarvish Runes: Sample Alphabet\n            {{runeTable,wide,frame,font-family:Davek\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            :\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            }}\\n\\n"])));
  },
  elvish: function elvish() {
    return dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["##### Elvish Runes: Sample Alphabet\n            {{runeTable,wide,frame,font-family:Rellanic\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            :\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            }}\n\n"], ["##### Elvish Runes: Sample Alphabet\n            {{runeTable,wide,frame,font-family:Rellanic\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            :\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            }}\\n\\n"])));
  },
  draconic: function draconic() {
    return dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["##### Draconic Runes: Sample Alphabet\n            {{runeTable,wide,frame,font-family:Iokharic\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            :\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            }}\n\n"], ["##### Draconic Runes: Sample Alphabet\n            {{runeTable,wide,frame,font-family:Iokharic\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | a | b | c | d | e | f | g | h | i | j | k | l | m |\n            :\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n            | n | o | p | q | r | s | t | u | v | w | x | y | z |\n            }}\\n\\n"])));
  }
};
(function () {});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"lodash":"lodash"}],299:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject0, _templateObject1, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24, _templateObject25, _templateObject26, _templateObject27, _templateObject28, _templateObject29, _templateObject30, _templateObject31, _templateObject32, _templateObject33, _templateObject34, _templateObject35, _templateObject36, _templateObject37;
/* eslint-disable max-lines */

var WatercolorGen = require('./snippets/watercolor.gen.js');
var ImageMaskGen = require('./snippets/imageMask.gen.js');
var FooterGen = require('./snippets/footer.gen.js');
var dedent = require('dedent-tabs')["default"];
var TableOfContentsGen = require('./snippets/tableOfContents.gen.js');
var indexGen = require('./snippets/index.gen.js');
module.exports = [{
  groupName: 'Text Editor',
  icon: 'fas fa-pencil-alt',
  view: 'text',
  snippets: [{
    name: 'Column Break',
    icon: 'fas fa-columns',
    gen: '\n\\column\n'
  }, {
    name: 'New Page',
    icon: 'fas fa-file-alt',
    gen: '\n\\page\n'
  }, {
    name: 'Page Numbering',
    icon: 'fas fa-bookmark',
    subsnippets: [{
      name: 'Page Number',
      icon: 'fas fa-bookmark',
      gen: '{{pageNumber 1}}\n'
    }, {
      name: 'Auto-incrementing Page Number',
      icon: 'fas fa-sort-numeric-down',
      gen: '{{pageNumber,auto}}\n'
    }, {
      name: 'Variable Auto Page Number',
      icon: 'fas fa-sort-numeric-down',
      gen: '{{pageNumber $[HB_pageNumber]}}\n'
    }, {
      name: 'Skip Page Number Increment this Page',
      icon: 'fas fa-xmark',
      gen: '{{skipCounting}}\n'
    }, {
      name: 'Restart Numbering',
      icon: 'fas fa-arrow-rotate-left',
      gen: '{{resetCounting}}\n'
    }]
  }, {
    name: 'Footer',
    icon: 'fas fa-shoe-prints',
    gen: FooterGen.createFooterFunc(),
    subsnippets: [{
      name: 'Footer from H1',
      icon: 'fas fa-dice-one',
      gen: FooterGen.createFooterFunc(1)
    }, {
      name: 'Footer from H2',
      icon: 'fas fa-dice-two',
      gen: FooterGen.createFooterFunc(2)
    }, {
      name: 'Footer from H3',
      icon: 'fas fa-dice-three',
      gen: FooterGen.createFooterFunc(3)
    }, {
      name: 'Footer from H4',
      icon: 'fas fa-dice-four',
      gen: FooterGen.createFooterFunc(4)
    }, {
      name: 'Footer from H5',
      icon: 'fas fa-dice-five',
      gen: FooterGen.createFooterFunc(5)
    }, {
      name: 'Footer from H6',
      icon: 'fas fa-dice-six',
      gen: FooterGen.createFooterFunc(6)
    }]
  }, {
    name: 'Vertical Spacing',
    icon: 'fas fa-arrows-alt-v',
    gen: '\n::::\n'
  }, {
    name: 'Horizontal Spacing',
    icon: 'fas fa-arrows-alt-h',
    gen: ' {{width:100px}} '
  }, {
    name: 'Wide Block',
    icon: 'fas fa-window-maximize',
    gen: dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\n\t\t\t\t\t{{wide\n\t\t\t\t\tEverything in here will be extra wide. Tables, text, everything!\n\t\t\t\t\tBeware though, CSS columns can behave a bit weird sometimes. You may\n\t\t\t\t\thave to manually place column breaks with `column` to make the\n\t\t\t\t\tsurrounding text flow with this wide block the way you want.\n\t\t\t\t\t}}\n\t\t\t\t\t\n"], ["\\n\n\t\t\t\t\t{{wide\n\t\t\t\t\tEverything in here will be extra wide. Tables, text, everything!\n\t\t\t\t\tBeware though, CSS columns can behave a bit weird sometimes. You may\n\t\t\t\t\thave to manually place column breaks with \\`\\column\\` to make the\n\t\t\t\t\tsurrounding text flow with this wide block the way you want.\n\t\t\t\t\t}}\n\t\t\t\t\t\\n"])))
  }, {
    name: 'QR Code',
    icon: 'fas fa-qrcode',
    gen: function gen(brew) {
      return "![]" + "(https://api.qrserver.com/v1/create-qr-code/?data=" + "https://homebrewery.naturalcrit.com".concat(brew.shareId ? "/share/".concat(brew.shareId) : '') + "&amp;size=100x100) {width:100px;mix-blend-mode:multiply}";
    }
  }, {
    name: 'Link to page',
    icon: 'fas fa-link',
    gen: '[Click here](#p3) to go to page 3\n'
  }, {
    name: 'Add Comment',
    icon: 'fas fa-code',
    gen: '<!-- This is a comment that will not be rendered into your brew. Hotkey (Ctrl/Cmd + /). -->'
  }, {
    name: 'Homebrewery Credit',
    icon: 'fas fa-dice-d20',
    gen: function gen() {
      return dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t\t{{homebreweryCredits\n\t\t\t\t\t\tMade With\n\t\t\t\t\t\t\n\t\t\t\t\t\t{{homebreweryIcon}}\n\t\t\t\t\t\t\n\t\t\t\t\t\tThe Homebrewery  \n\t\t\t\t\t\t[Homebrewery.Naturalcrit.com](https://homebrewery.naturalcrit.com)\n\t\t\t\t\t\t}}\n\n"], ["\n\t\t\t\t\t\t{{homebreweryCredits\n\t\t\t\t\t\tMade With\n\t\t\t\t\t\t\n\t\t\t\t\t\t{{homebreweryIcon}}\n\t\t\t\t\t\t\n\t\t\t\t\t\tThe Homebrewery  \n\t\t\t\t\t\t[Homebrewery.Naturalcrit.com](https://homebrewery.naturalcrit.com)\n\t\t\t\t\t\t}}\\n\\n"])));
    }
  }, {
    name: 'Table of Contents',
    icon: 'fas fa-book',
    gen: TableOfContentsGen,
    experimental: true,
    subsnippets: [{
      name: 'Table of Contents',
      icon: 'fas fa-book',
      gen: TableOfContentsGen,
      experimental: true
    }, {
      name: 'Include in ToC up to H3',
      icon: 'fas fa-dice-three',
      gen: dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n{{tocDepthH3\n\t\t\t\t\t\t\t}}\n"], ["\\n{{tocDepthH3\n\t\t\t\t\t\t\t}}\\n"])))
    }, {
      name: 'Include in ToC up to H4',
      icon: 'fas fa-dice-four',
      gen: dedent(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n{{tocDepthH4\n\t\t\t\t\t\t\t}}\n"], ["\\n{{tocDepthH4\n\t\t\t\t\t\t\t}}\\n"])))
    }, {
      name: 'Include in ToC up to H5',
      icon: 'fas fa-dice-five',
      gen: dedent(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n{{tocDepthH5\n\t\t\t\t\t\t\t}}\n"], ["\\n{{tocDepthH5\n\t\t\t\t\t\t\t}}\\n"])))
    }, {
      name: 'Include in ToC up to H6',
      icon: 'fas fa-dice-six',
      gen: dedent(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n{{tocDepthH6\n\t\t\t\t\t\t\t}}\n"], ["\\n{{tocDepthH6\n\t\t\t\t\t\t\t}}\\n"])))
    }]
  }, {
    name: 'Index',
    icon: 'fas fa-bars',
    gen: indexGen,
    experimental: true
  }]
}, {
  groupName: 'Style Editor',
  icon: 'fas fa-pencil-alt',
  view: 'style',
  snippets: [{
    name: 'Add Comment',
    icon: 'fas fa-code',
    gen: '/* This is a comment that will not be rendered into your brew. */'
  }]
}, /*********************** IMAGES *******************/
{
  groupName: 'Images',
  icon: 'fas fa-images',
  view: 'text',
  snippets: [{
    name: 'Image',
    icon: 'fas fa-image',
    gen: dedent(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t![cat warrior](https://s-media-cache-ak0.pinimg.com/736x/4a/81/79/4a8179462cfdf39054a418efd4cb743e.jpg) {width:325px,mix-blend-mode:multiply}"])))
  }, {
    name: 'Image Wrap Left',
    icon: 'fac image-wrap-left',
    gen: dedent(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t![homebrewery_mug](http://i.imgur.com/hMna6G0.png) {width:280px,margin-right:-3cm,wrapLeft}"])))
  }, {
    name: 'Image Wrap Right',
    icon: 'fac image-wrap-right',
    gen: dedent(_templateObject9 || (_templateObject9 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t![homebrewery_mug](http://i.imgur.com/hMna6G0.png) {width:280px,margin-left:-3cm,wrapRight}"])))
  }, {
    name: 'Background Image',
    icon: 'fas fa-tree',
    gen: dedent(_templateObject0 || (_templateObject0 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t![homebrew mug](http://i.imgur.com/hMna6G0.png) {position:absolute,top:50px,right:30px,width:280px}"])))
  }, {
    name: 'Watercolor Splatter',
    icon: 'fas fa-fill-drip',
    gen: WatercolorGen
  }, {
    name: 'Watercolor Center',
    icon: 'fac mask-center',
    gen: ImageMaskGen.center,
    experimental: true
  }, {
    name: 'Watercolor Edge',
    icon: 'fac mask-edge',
    gen: ImageMaskGen.edge('bottom'),
    experimental: true,
    subsnippets: [{
      name: 'Top',
      icon: 'fac position-top',
      gen: ImageMaskGen.edge('top')
    }, {
      name: 'Right',
      icon: 'fac position-right',
      gen: ImageMaskGen.edge('right')
    }, {
      name: 'Bottom',
      icon: 'fac position-bottom',
      gen: ImageMaskGen.edge('bottom')
    }, {
      name: 'Left',
      icon: 'fac position-left',
      gen: ImageMaskGen.edge('left')
    }]
  }, {
    name: 'Watercolor Corner',
    icon: 'fac mask-corner',
    gen: ImageMaskGen.corner,
    experimental: true,
    subsnippets: [{
      name: 'Top-Left',
      icon: 'fac position-top-left',
      gen: ImageMaskGen.corner('top', 'left')
    }, {
      name: 'Top-Right',
      icon: 'fac position-top-right',
      gen: ImageMaskGen.corner('top', 'right')
    }, {
      name: 'Bottom-Left',
      icon: 'fac position-bottom-left',
      gen: ImageMaskGen.corner('bottom', 'left')
    }, {
      name: 'Bottom-Right',
      icon: 'fac position-bottom-right',
      gen: ImageMaskGen.corner('bottom', 'right')
    }]
  }, {
    name: 'Watermark',
    icon: 'fas fa-id-card',
    gen: dedent(_templateObject1 || (_templateObject1 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t{{watermark Homebrewery}}\n"], ["\n\t\t\t\t{{watermark Homebrewery}}\\n"])))
  }]
}, /*********************  TABLES *********************/

{
  groupName: 'Tables',
  icon: 'fas fa-table',
  view: 'text',
  snippets: [{
    name: 'Table',
    icon: 'fas fa-th-list',
    gen: function gen() {
      return dedent(_templateObject10 || (_templateObject10 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t\t##### Character Advancement\n\t\t\t\t\t\t| Experience Points | Level | Proficiency Bonus |\n\t\t\t\t\t\t|:------------------|:-----:|:-----------------:|\n\t\t\t\t\t\t| 0                 | 1     | +2                |\n\t\t\t\t\t\t| 300               | 2     | +2                |\n\t\t\t\t\t\t| 900               | 3     | +2                |\n\t\t\t\t\t\t| 2,700             | 4     | +2                |\n\t\t\t\t\t\t| 6,500             | 5     | +3                |\n\t\t\t\t\t\t| 14,000            | 6     | +3                |\n\t\t\t\t\t\t\n"], ["\n\t\t\t\t\t\t##### Character Advancement\n\t\t\t\t\t\t| Experience Points | Level | Proficiency Bonus |\n\t\t\t\t\t\t|:------------------|:-----:|:-----------------:|\n\t\t\t\t\t\t| 0                 | 1     | +2                |\n\t\t\t\t\t\t| 300               | 2     | +2                |\n\t\t\t\t\t\t| 900               | 3     | +2                |\n\t\t\t\t\t\t| 2,700             | 4     | +2                |\n\t\t\t\t\t\t| 6,500             | 5     | +3                |\n\t\t\t\t\t\t| 14,000            | 6     | +3                |\n\t\t\t\t\t\t\\n"])));
    }
  }, {
    name: 'Wide Table',
    icon: 'fas fa-list',
    gen: function gen() {
      return dedent(_templateObject11 || (_templateObject11 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t\t{{wide\n\t\t\t\t\t\t##### Weapons\n\t\t\t\t\t\t| Name                    | Cost  | Damage          | Weight  | Properties |\n\t\t\t\t\t\t|:------------------------|:-----:|:----------------|--------:|:-----------|\n\t\t\t\t\t\t| *Simple Melee Weapons*  |       |                 |         |            |\n\t\t\t\t\t\t| &emsp; Club             | 1 sp  | 1d4 bludgeoning | 2 lb.   | Light      |\n\t\t\t\t\t\t| &emsp; Dagger           | 2 gp  | 1d4 piercing    | 1 lb.   | Finesse    |\n\t\t\t\t\t\t| &emsp; Spear            | 1 gp  | 1d6 piercing    | 3 lb.   | Thrown     |\n\t\t\t\t\t\t| *Simple Ranged Weapons* |       |                 |         |            |\n\t\t\t\t\t\t| &emsp; Dart             | 5 cp  | 1d4 piercig     | 1/4 lb. | Finesse    |\n\t\t\t\t\t\t| &emsp; Shortbow         | 25 gp | 1d6 piercing    | 2 lb.   | Ammunition |\n\t\t\t\t\t\t| &emsp; Sling            | 1 sp  | 1d4 bludgeoning | &mdash; | Ammunition |\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n"], ["\n\t\t\t\t\t\t{{wide\n\t\t\t\t\t\t##### Weapons\n\t\t\t\t\t\t| Name                    | Cost  | Damage          | Weight  | Properties |\n\t\t\t\t\t\t|:------------------------|:-----:|:----------------|--------:|:-----------|\n\t\t\t\t\t\t| *Simple Melee Weapons*  |       |                 |         |            |\n\t\t\t\t\t\t| &emsp; Club             | 1 sp  | 1d4 bludgeoning | 2 lb.   | Light      |\n\t\t\t\t\t\t| &emsp; Dagger           | 2 gp  | 1d4 piercing    | 1 lb.   | Finesse    |\n\t\t\t\t\t\t| &emsp; Spear            | 1 gp  | 1d6 piercing    | 3 lb.   | Thrown     |\n\t\t\t\t\t\t| *Simple Ranged Weapons* |       |                 |         |            |\n\t\t\t\t\t\t| &emsp; Dart             | 5 cp  | 1d4 piercig     | 1/4 lb. | Finesse    |\n\t\t\t\t\t\t| &emsp; Shortbow         | 25 gp | 1d6 piercing    | 2 lb.   | Ammunition |\n\t\t\t\t\t\t| &emsp; Sling            | 1 sp  | 1d4 bludgeoning | &mdash; | Ammunition |\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\\n"])));
    }
  }, {
    name: 'Split Table',
    icon: 'fas fa-th-large',
    gen: function gen() {
      return dedent(_templateObject12 || (_templateObject12 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t\t##### Typical Difficulty Classes\n\t\t\t\t\t\t{{column-count:2\n\t\t\t\t\t\t| Task Difficulty | DC |\n\t\t\t\t\t\t|:----------------|:--:|\n\t\t\t\t\t\t| Very easy       | 5  |\n\t\t\t\t\t\t| Easy            | 10 |\n\t\t\t\t\t\t| Medium          | 15 |\n\n\t\t\t\t\t\t| Task Difficulty   | DC |\n\t\t\t\t\t\t|:------------------|:--:|\n\t\t\t\t\t\t| Hard              | 20 |\n\t\t\t\t\t\t| Very hard         | 25 |\n\t\t\t\t\t\t| Nearly impossible | 30 |\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n"], ["\n\t\t\t\t\t\t##### Typical Difficulty Classes\n\t\t\t\t\t\t{{column-count:2\n\t\t\t\t\t\t| Task Difficulty | DC |\n\t\t\t\t\t\t|:----------------|:--:|\n\t\t\t\t\t\t| Very easy       | 5  |\n\t\t\t\t\t\t| Easy            | 10 |\n\t\t\t\t\t\t| Medium          | 15 |\n\n\t\t\t\t\t\t| Task Difficulty   | DC |\n\t\t\t\t\t\t|:------------------|:--:|\n\t\t\t\t\t\t| Hard              | 20 |\n\t\t\t\t\t\t| Very hard         | 25 |\n\t\t\t\t\t\t| Nearly impossible | 30 |\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\\n"])));
    }
  }]
}, /**************** FONTS *************/
{
  groupName: 'Fonts',
  icon: 'fas fa-keyboard',
  view: 'text',
  snippets: [{
    name: 'Open Sans',
    icon: 'font OpenSans',
    gen: dedent(_templateObject13 || (_templateObject13 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:OpenSans Dummy Text}}"])))
  }, {
    name: 'Code Bold',
    icon: 'font CodeBold',
    gen: dedent(_templateObject14 || (_templateObject14 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:CodeBold Dummy Text}}"])))
  }, {
    name: 'Code Light',
    icon: 'font CodeLight',
    gen: dedent(_templateObject15 || (_templateObject15 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:CodeLight Dummy Text}}"])))
  }, {
    name: 'Scaly Sans',
    icon: 'font ScalySansRemake',
    gen: dedent(_templateObject16 || (_templateObject16 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:ScalySansRemake Dummy Text}}"])))
  }, {
    name: 'Book Insanity',
    icon: 'font BookInsanityRemake',
    gen: dedent(_templateObject17 || (_templateObject17 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:BookInsanityRemake Dummy Text}}"])))
  }, {
    name: 'Mr Eaves',
    icon: 'font MrEavesRemake',
    gen: dedent(_templateObject18 || (_templateObject18 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:MrEavesRemake Dummy Text}}"])))
  }, {
    name: 'Pagella',
    icon: 'font Pagella',
    gen: dedent(_templateObject19 || (_templateObject19 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:Pagella Dummy Text}}"])))
  }, {
    name: 'Solbera Imitation',
    icon: 'font SolberaImitationRemake',
    gen: dedent(_templateObject20 || (_templateObject20 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:SolberaImitationRemake Dummy Text}}"])))
  }, {
    name: 'Scaly Sans Small Caps',
    icon: 'font ScalySansSmallCapsRemake',
    gen: dedent(_templateObject21 || (_templateObject21 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:ScalySansSmallCapsRemake Dummy Text}}"])))
  }, {
    name: 'Walter Turncoat',
    icon: 'font WalterTurncoat',
    gen: dedent(_templateObject22 || (_templateObject22 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:WalterTurncoat Dummy Text}}"])))
  }, {
    name: 'Lato',
    icon: 'font Lato',
    gen: dedent(_templateObject23 || (_templateObject23 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:Lato Dummy Text}}"])))
  }, {
    name: 'Courier',
    icon: 'font Courier',
    gen: dedent(_templateObject24 || (_templateObject24 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:Courier Dummy Text}}"])))
  }, {
    name: 'Nodesto Caps Condensed',
    icon: 'font NodestoCapsCondensed',
    gen: dedent(_templateObject25 || (_templateObject25 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:NodestoCapsCondensed Dummy Text}}"])))
  }, {
    name: 'Overpass',
    icon: 'font Overpass',
    gen: dedent(_templateObject26 || (_templateObject26 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:Overpass Dummy Text}}"])))
  }, {
    name: 'Davek',
    icon: 'font Davek',
    gen: dedent(_templateObject27 || (_templateObject27 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:Davek Dummy Text}}"])))
  }, {
    name: 'Iokharic',
    icon: 'font Iokharic',
    gen: dedent(_templateObject28 || (_templateObject28 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:Iokharic Dummy Text}}"])))
  }, {
    name: 'Rellanic',
    icon: 'font Rellanic',
    gen: dedent(_templateObject29 || (_templateObject29 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:Rellanic Dummy Text}}"])))
  }, {
    name: 'Times New Roman',
    icon: 'font TimesNewRoman',
    gen: dedent(_templateObject30 || (_templateObject30 = (0, _taggedTemplateLiteral2["default"])(["{{font-family:\"Times New Roman\" Dummy Text}}"])))
  }]
}, /**************** LAYOUT *************/

{
  groupName: 'Print',
  icon: 'fas fa-print',
  view: 'style',
  snippets: [{
    name: 'US Letter Page Size',
    icon: 'far fa-file',
    gen: dedent(_templateObject31 || (_templateObject31 = (0, _taggedTemplateLiteral2["default"])(["/* US Letter Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 215.9mm; /* 8.5in */\n\t\t\t\t\t\theight : 279.4mm; /* 11in */\n\t\t\t\t\t}\n\n"], ["/* US Letter Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 215.9mm; /* 8.5in */\n\t\t\t\t\t\theight : 279.4mm; /* 11in */\n\t\t\t\t\t}\\n\\n"])))
  }, {
    name: 'A3 Page Size',
    icon: 'far fa-file',
    gen: dedent(_templateObject32 || (_templateObject32 = (0, _taggedTemplateLiteral2["default"])(["/* A3 Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 297mm;\n\t\t\t\t\t\theight : 420mm;\n\t\t\t\t\t}\n\n"], ["/* A3 Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 297mm;\n\t\t\t\t\t\theight : 420mm;\n\t\t\t\t\t}\\n\\n"])))
  }, {
    name: 'A4 Page Size',
    icon: 'far fa-file',
    gen: dedent(_templateObject33 || (_templateObject33 = (0, _taggedTemplateLiteral2["default"])(["/* A4 Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 210mm;\n\t\t\t\t\t\theight : 296.8mm;\n\t\t\t\t\t}\n\n"], ["/* A4 Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 210mm;\n\t\t\t\t\t\theight : 296.8mm;\n\t\t\t\t\t}\\n\\n"])))
  }, {
    name: 'A5 Page Size',
    icon: 'far fa-file',
    gen: dedent(_templateObject34 || (_templateObject34 = (0, _taggedTemplateLiteral2["default"])(["/* A5 Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 148mm;\n\t\t\t\t\t\theight : 210mm;\n\t\t\t\t}\n\n"], ["/* A5 Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth  : 148mm;\n\t\t\t\t\t\theight : 210mm;\n\t\t\t\t}\\n\\n"])))
  }, {
    name: 'Square Page Size',
    icon: 'far fa-file',
    gen: dedent(_templateObject35 || (_templateObject35 = (0, _taggedTemplateLiteral2["default"])(["/* Square Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth   : 125mm;\n\t\t\t\t\t\theight  : 125mm;\n\t\t\t\t\t\tpadding : 12.5mm;\n\t\t\t\t\t\tcolumns : unset;\n\t\t\t\t\t}\n\n"], ["/* Square Page Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth   : 125mm;\n\t\t\t\t\t\theight  : 125mm;\n\t\t\t\t\t\tpadding : 12.5mm;\n\t\t\t\t\t\tcolumns : unset;\n\t\t\t\t\t}\\n\\n"])))
  }, {
    name: 'Card Page Size',
    icon: 'far fa-file',
    gen: dedent(_templateObject36 || (_templateObject36 = (0, _taggedTemplateLiteral2["default"])(["/* Card Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth     : 63.5mm;\n\t\t\t\t\t\theight    : 88.9mm;\n\t\t\t\t\t\tpadding\t  : 5mm;\n\t\t\t\t\t\tcolumns\t  : unset;\n\t\t\t\t\t}\n\n"], ["/* Card Size */\n\t\t\t\t\t.page {\n\t\t\t\t\t\twidth     : 63.5mm;\n\t\t\t\t\t\theight    : 88.9mm;\n\t\t\t\t\t\tpadding\t  : 5mm;\n\t\t\t\t\t\tcolumns\t  : unset;\n\t\t\t\t\t}\\n\\n"])))
  }, {
    name: 'Ink Friendly',
    icon: 'fas fa-tint',
    gen: dedent(_templateObject37 || (_templateObject37 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t\t\t/* Ink Friendly */\n\t\t\t\t\t*:is(.page) {\n\t\t\t\t\t\tbackground : white !important;\n\t\t\t\t\t\tfilter : drop-shadow(0px 0px 3px #888) !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.page img {\n\t\t\t\t\t\tvisibility : hidden;\n\t\t\t\t\t}\n\n"], ["\n\t\t\t\t\t/* Ink Friendly */\n\t\t\t\t\t*:is(.page) {\n\t\t\t\t\t\tbackground : white !important;\n\t\t\t\t\t\tfilter : drop-shadow(0px 0px 3px #888) !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.page img {\n\t\t\t\t\t\tvisibility : hidden;\n\t\t\t\t\t}\\n\\n"])))
  }]
}];
},{"./snippets/footer.gen.js":300,"./snippets/imageMask.gen.js":301,"./snippets/index.gen.js":302,"./snippets/tableOfContents.gen.js":303,"./snippets/watercolor.gen.js":304,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190}],300:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _markdown = _interopRequireDefault(require("../../../../shared/naturalcrit/markdown.js"));
module.exports = {
  createFooterFunc: function createFooterFunc() {
    var headerSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
    return function (props) {
      var cursorPos = props.cursorPos;
      var markdownText = props.brew.text.split('\n').slice(0, cursorPos.line).join('\n');
      var markdownTokens = _markdown["default"].marked.lexer(markdownText);
      var headerToken = markdownTokens.findLast(function (lexerToken) {
        return lexerToken.type === 'heading' && lexerToken.depth === headerSize;
      });
      var headerText = headerToken === null || headerToken === void 0 ? void 0 : headerToken.tokens.map(function (token) {
        return token.text;
      }).join('');
      var outputText = headerText || 'PART 1 | SECTION NAME';
      return "\n{{footnote ".concat(outputText, "}}\n");
    };
  }
};
},{"../../../../shared/naturalcrit/markdown.js":279,"@babel/runtime/helpers/interopRequireDefault":86}],301:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject, _templateObject2, _templateObject3;
var _ = require('lodash');
var dedent = require('dedent-tabs')["default"];
module.exports = {
  center: function center() {
    return dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t{{imageMaskCenter", ",--offsetX:0%,--offsetY:0%,--rotation:0\n\t\t\t  ![](https://i.imgur.com/GZfjDWV.png){height:100%}\n\t\t\t}}\n\t\t\t<!-- Use --offsetX to shift the mask left or right (can use cm instead of %)\n\t\t\t     Use --offsetY to shift the mask up or down\n\t\t\t     Use --rotation to set rotation angle in degrees. -->\n\n"], ["\n\t\t\t{{imageMaskCenter", ",--offsetX:0%,--offsetY:0%,--rotation:0\n\t\t\t  ![](https://i.imgur.com/GZfjDWV.png){height:100%}\n\t\t\t}}\n\t\t\t<!-- Use --offsetX to shift the mask left or right (can use cm instead of %)\n\t\t\t     Use --offsetY to shift the mask up or down\n\t\t\t     Use --rotation to set rotation angle in degrees. -->\\n\\n"])), _.random(1, 16));
  },
  edge: function edge() {
    var side = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'bottom';
    var rotation = {
      'bottom': 0,
      'top': 180,
      'left': 90,
      'right': 270
    }[side];
    return dedent(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t{{imageMaskEdge", ",--offset:0%,--rotation:", "\n\t\t\t  ![](https://i.imgur.com/GZfjDWV.png){height:100%}\n\t\t\t}}\n\t\t\t<!-- Use --offset to shift the mask away from page center (can use cm instead of %)\n\t\t\t     Use --rotation to set rotation angle in degrees. -->\n\n"], ["\n\t\t\t{{imageMaskEdge", ",--offset:0%,--rotation:", "\n\t\t\t  ![](https://i.imgur.com/GZfjDWV.png){height:100%}\n\t\t\t}}\n\t\t\t<!-- Use --offset to shift the mask away from page center (can use cm instead of %)\n\t\t\t     Use --rotation to set rotation angle in degrees. -->\\n\\n"])), _.random(1, 8), rotation);
  },
  corner: function corner() {
    var y = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'top';
    var x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'left';
    var offsetX = x == 'left' ? '-50%' : '50%';
    var offsetY = y == 'top' ? '50%' : '-50%';
    return dedent(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n\t\t\t{{imageMaskCorner", ",--offsetX:", ",--offsetY:", ",--rotation:0\n\t\t\t  ![](https://i.imgur.com/GZfjDWV.png){height:100%}\n\t\t\t}}\n\t\t\t<!-- Use --offsetX to shift the mask left or right (can use cm instead of %)\n\t\t\t     Use --offsetY to shift the mask up or down\n\t\t\t     Use --rotation to set rotation angle in degrees. -->\n\n"], ["\n\t\t\t{{imageMaskCorner", ",--offsetX:", ",--offsetY:", ",--rotation:0\n\t\t\t  ![](https://i.imgur.com/GZfjDWV.png){height:100%}\n\t\t\t}}\n\t\t\t<!-- Use --offsetX to shift the mask left or right (can use cm instead of %)\n\t\t\t     Use --offsetY to shift the mask up or down\n\t\t\t     Use --rotation to set rotation angle in degrees. -->\\n\\n"])), _.random(1, 37), offsetX, offsetY);
  }
};
(function () {});
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190,"lodash":"lodash"}],302:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject;
var dedent = require('dedent-tabs')["default"];
module.exports = function () {
  return dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t{{index,wide,columns:5;\n\t##### Index\n\t- Ankhesh-Bort\n\t  - city map, 7\n\t  - city watch, 12\n\t  - guilds, 19\n\t- Cheese\n\t  - types of cheese, 8\n\t  - cheese-related magic, 14\n\t  - cheese-related quests, 26-27\n\t- Death\n\t  - appearance, 10\n\t  - personality, 13\n\t  - hobbies, 23\n\t- Elves\n\t  - types of elves, 15\n\t  - elvish magic, 24\n\t  - elvish curses, 28\n\t- Footnotes\n\t  - types of footnotes, 16-17\n\t  - footnote rules, 20-21\n\t  - footnote humor, 29-30\n\t- Gods\n\t  - types of gods, 12\n\t  - godly interventions, 25\n\t  - godly conflicts, 31\n\t- Heroes\n\t  - class features, 11-12\n\t  - heroic deeds, 26-27\n\t- Inns\n\t  - types of inns, 9\n\t  - inn amenities, 18\n\t- Jokes\n\t  - types of jokes, 11-12 \n\t  - joke delivery, 25 \n\t- Knives \n\t  - types of knives, 16-17 \n\t  - knife skills, 22-23 \n\t  - knife fights, 28-29 \n\t- Luggage \n\t  - appearance, 10 \n\t  - personality, 13 \n\t  - abilities, 23 \n\t- Magic \n\t  - types of magic, 15 \n\t  - magic rules, 24 \n\t  - magic mishaps, 28\n\t- Socks\n\t  - types of socks, 9\n\t  - sock-related magic (yes, really), 15\n\t  - sock-related quests (no, really), 26\n\t- Trolls\n\t  - appearance and biology, 11\n\t  - culture and language, 18\n\t  - troll rights and activism, 31\n\t- Unknown University\n\t  - history and architecture, 12\n\t  - faculty and staff, 20\n\t  - courses and exams, 33\n\t- Vampires\n\t  - types and origins, 13\n\t  - vampiric powers and weaknesses, 21\n\t  - vampiric etiquette and politics, 34\n\t- Witches\n\t  - types and traditions, 14\n\t  - witchcraft and headology, 22\n\t  - witch trials and tribulations, 35\n\t- Xylophones\n\t  - musical instruments or weapons?, 15\n\t  - xylophone-related magic and lore, 23\n\t  - xylophone-related quests and puzzles, 36\n\t- Yetis\n\t  - appearance and behavior, 16\n\t  - yeti philosophy and religion, 24\n\t  - yeti encounters and stories, 37\n\t- Zombies\n\t  - types and causes, 17\n\t  - zombie rights and duties, 25\n\t  - zombie survival and prevention, 38\n\t}}"])));
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190}],303:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _templateObject;
var dedent = require('dedent-tabs')["default"];

// Map each actual page to its footer label, accounting for skips or numbering resets
var mapPages = function mapPages(pages) {
  var actualPage = 0;
  var mappedPage = 0; // Number displayed in footer
  var pageMap = [];
  pages.forEach(function (page) {
    actualPage++;
    var doSkip = page.querySelector('.skipCounting');
    var doReset = page.querySelector('.resetCounting');
    if (doReset) mappedPage = 1;
    if (!doSkip && !doReset) mappedPage++;
    pageMap[actualPage] = {
      mappedPage: mappedPage,
      showPage: !doSkip
    };
  });
  return pageMap;
};
var getMarkdown = function getMarkdown(headings, pageMap) {
  var levelPad = ['- ###', '  - ####', '    -', '      -', '        -', '          -'];
  var allMarkdown = [];
  var depthChain = [0];
  headings.forEach(function (heading) {
    var _heading$closest$id;
    var page = parseInt((_heading$closest$id = heading.closest('.page').id) === null || _heading$closest$id === void 0 ? void 0 : _heading$closest$id.replace(/^p/, ''));
    var mappedPage = pageMap[page].mappedPage;
    var showPage = pageMap[page].showPage;
    var title = heading.textContent.trim();
    var ToCExclude = getComputedStyle(heading).getPropertyValue('--TOC');
    var depth = parseInt(heading.tagName.substring(1));
    if (!title || !showPage || ToCExclude == 'exclude') return;

    //If different header depth than last, remove indents until nearest higher-level header, then indent once
    if (depth !== depthChain[depthChain.length - 1]) {
      while (depth <= depthChain[depthChain.length - 1]) {
        depthChain.pop();
      }
      depthChain.push(depth);
    }
    var markdown = "".concat(levelPad[depthChain.length - 2], " [{{ ").concat(title, "}}{{ ").concat(mappedPage, "}}](#p").concat(page, ")");
    allMarkdown.push(markdown);
  });
  return allMarkdown.join('\n');
};
var getTOC = function getTOC() {
  var iframe = document.getElementById('BrewRenderer');
  var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
  var headings = iframeDocument.querySelectorAll('h1, h2, h3, h4, h5, h6');
  var pages = iframeDocument.querySelectorAll('.page');
  var pageMap = mapPages(pages);
  return getMarkdown(headings, pageMap);
};
module.exports = function (props) {
  var TOC = getTOC();
  return dedent(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n\t\t{{toc,wide\n\t\t# Contents\n\n\t\t", "\n\t\t}}\n\t\t\n"], ["\n\t\t{{toc,wide\n\t\t# Contents\n\n\t\t", "\n\t\t}}\n\t\t\\n"])), TOC);
};
},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/taggedTemplateLiteral":108,"dedent-tabs":190}],304:[function(require,module,exports){
"use strict";

var _ = require('lodash');
module.exports = function () {
  return "{{watercolor".concat(_.random(1, 12), ",top:20px,left:30px,width:300px,background-color:#BBAD82,opacity:80%}}\n\n");
};
},{"lodash":"lodash"}],305:[function(require,module,exports){
arguments[4][290][0].apply(exports,arguments)
},{"dup":290}],306:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var diceFont = {
  'df_f': 'df F',
  'df_f_minus': 'df F-minus',
  'df_f_plus': 'df F-plus',
  'df_f_zero': 'df F-zero',
  'df_d10': 'df d10',
  'df_d10_1': 'df d10-1',
  'df_d10_10': 'df d10-10',
  'df_d10_2': 'df d10-2',
  'df_d10_3': 'df d10-3',
  'df_d10_4': 'df d10-4',
  'df_d10_5': 'df d10-5',
  'df_d10_6': 'df d10-6',
  'df_d10_7': 'df d10-7',
  'df_d10_8': 'df d10-8',
  'df_d10_9': 'df d10-9',
  'df_d12': 'df d12',
  'df_d12_1': 'df d12-1',
  'df_d12_10': 'df d12-10',
  'df_d12_11': 'df d12-11',
  'df_d12_12': 'df d12-12',
  'df_d12_2': 'df d12-2',
  'df_d12_3': 'df d12-3',
  'df_d12_4': 'df d12-4',
  'df_d12_5': 'df d12-5',
  'df_d12_6': 'df d12-6',
  'df_d12_7': 'df d12-7',
  'df_d12_8': 'df d12-8',
  'df_d12_9': 'df d12-9',
  'df_d2': 'df d2',
  'df_d2_1': 'df d2-1',
  'df_d2_2': 'df d2-2',
  'df_d20': 'df d20',
  'df_d20_1': 'df d20-1',
  'df_d20_10': 'df d20-10',
  'df_d20_11': 'df d20-11',
  'df_d20_12': 'df d20-12',
  'df_d20_13': 'df d20-13',
  'df_d20_14': 'df d20-14',
  'df_d20_15': 'df d20-15',
  'df_d20_16': 'df d20-16',
  'df_d20_17': 'df d20-17',
  'df_d20_18': 'df d20-18',
  'df_d20_19': 'df d20-19',
  'df_d20_2': 'df d20-2',
  'df_d20_20': 'df d20-20',
  'df_d20_3': 'df d20-3',
  'df_d20_4': 'df d20-4',
  'df_d20_5': 'df d20-5',
  'df_d20_6': 'df d20-6',
  'df_d20_7': 'df d20-7',
  'df_d20_8': 'df d20-8',
  'df_d20_9': 'df d20-9',
  'df_d4': 'df d4',
  'df_d4_1': 'df d4-1',
  'df_d4_2': 'df d4-2',
  'df_d4_3': 'df d4-3',
  'df_d4_4': 'df d4-4',
  'df_d6': 'df d6',
  'df_d6_1': 'df d6-1',
  'df_d6_2': 'df d6-2',
  'df_d6_3': 'df d6-3',
  'df_d6_4': 'df d6-4',
  'df_d6_5': 'df d6-5',
  'df_d6_6': 'df d6-6',
  'df_d8': 'df d8',
  'df_d8_1': 'df d8-1',
  'df_d8_2': 'df d8-2',
  'df_d8_3': 'df d8-3',
  'df_d8_4': 'df d8-4',
  'df_d8_5': 'df d8-5',
  'df_d8_6': 'df d8-6',
  'df_d8_7': 'df d8-7',
  'df_d8_8': 'df d8-8',
  'df_dot_d6': 'df dot-d6',
  'df_dot_d6_1': 'df dot-d6-1',
  'df_dot_d6_2': 'df dot-d6-2',
  'df_dot_d6_3': 'df dot-d6-3',
  'df_dot_d6_4': 'df dot-d6-4',
  'df_dot_d6_5': 'df dot-d6-5',
  'df_dot_d6_6': 'df dot-d6-6',
  'df_small_dot_d6_1': 'df small-dot-d6-1',
  'df_small_dot_d6_2': 'df small-dot-d6-2',
  'df_small_dot_d6_3': 'df small-dot-d6-3',
  'df_small_dot_d6_4': 'df small-dot-d6-4',
  'df_small_dot_d6_5': 'df small-dot-d6-5',
  'df_small_dot_d6_6': 'df small-dot-d6-6',
  'df_solid_small_dot_d6_1': 'df solid-small-dot-d6-1',
  'df_solid_small_dot_d6_2': 'df solid-small-dot-d6-2',
  'df_solid_small_dot_d6_3': 'df solid-small-dot-d6-3',
  'df_solid_small_dot_d6_4': 'df solid-small-dot-d6-4',
  'df_solid_small_dot_d6_5': 'df solid-small-dot-d6-5',
  'df_solid_small_dot_d6_6': 'df solid-small-dot-d6-6'
};
var _default = exports["default"] = diceFont;
},{}],307:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _elderberryInn;
var elderberryInn = (_elderberryInn = {
  'ei_book': 'ei book',
  'ei_screen': 'ei screen',
  /* Spell levels */
  'ei_spell_0': 'ei spell-0',
  'ei_spell_1': 'ei spell-1',
  'ei_spell_2': 'ei spell-2',
  'ei_spell_3': 'ei spell-3',
  'ei_spell_4': 'ei spell-4',
  'ei_spell_5': 'ei spell-5',
  'ei_spell_6': 'ei spell-6',
  'ei_spell_7': 'ei spell-7',
  'ei_spell_8': 'ei spell-8',
  'ei_spell_9': 'ei spell-9',
  /* Damage types */
  'ei_acid': 'ei acid',
  'ei_bludgeoning': 'ei bludgeoning',
  'ei_cold': 'ei cold',
  'ei_fire': 'ei fire',
  'ei_force': 'ei force',
  'ei_lightning': 'ei lightning',
  'ei_necrotic': 'ei necrotic',
  'ei_piercing': 'ei piercing',
  'ei_poison': 'ei poison',
  'ei_psychic': 'ei psychic',
  'ei_radiant': 'ei radiant',
  'ei_slashing': 'ei slashing',
  'ei_thunder': 'ei thunder',
  /* DnD Conditions */
  'ei_blinded': 'ei blinded',
  'ei_charmed': 'ei charmed',
  'ei_deafened': 'ei deafened',
  'ei_exhaust1': 'ei exhaust-1'
}, (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, "ei_blinded", 'ei blinded'), 'ei_exhaust2', 'ei exhaust-2'), 'ei_exhaust3', 'ei exhaust-3'), 'ei_exhaust4', 'ei exhaust-4'), 'ei_exhaust5', 'ei exhaust-5'), 'ei_exhaust6', 'ei exhaust-6'), 'ei_frightened', 'ei frightened'), 'ei_grappled', 'ei grappled'), 'ei_incapacitated', 'ei incapacitated'), 'ei_invisible', 'ei invisible'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_paralyzed', 'ei paralyzed'), 'ei_petrified', 'ei petrified'), 'ei_poisoned', 'ei poisoned'), 'ei_prone', 'ei prone'), 'ei_restrained', 'ei restrained'), 'ei_stunned', 'ei stunned'), 'ei_unconscious', 'ei unconscious'), 'ei_barbarian_rage', 'ei barbarian-rage'), 'ei_barbarian_reckless_attack', 'ei barbarian-reckless-attack'), 'ei_bardic_inspiration', 'ei bardic-inspiration'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_cleric_channel_divinity', 'ei cleric-channel-divinity'), 'ei_druid_wild_shape', 'ei druid-wild-shape'), 'ei_fighter_action_surge', 'ei fighter-action-surge'), 'ei_fighter_second_wind', 'ei fighter-second-wind'), 'ei_monk_flurry_blows', 'ei monk-flurry-blows'), 'ei_monk_patient_defense', 'ei monk-patient-defense'), 'ei_monk_step_of_the_wind', 'ei monk-step-of-the-wind'), 'ei_monk_step_of_the_wind2', 'ei monk-step-of-the-wind-2'), 'ei_monk_step_of_the_wind3', 'ei monk-step-of-the-wind-3'), 'ei_monk_stunning_strike', 'ei monk-stunning-strike'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_monk_stunning_strike2', 'ei monk-stunning-strike-2'), 'ei_paladin_divine_smite', 'ei paladin-divine-smite'), 'ei_paladin_lay_on_hands', 'ei paladin-lay-on-hands'), 'ei_barbarian_abilities', 'ei barbarian-abilities'), 'ei_barbarian', 'ei barbarian'), 'ei_bard_abilities', 'ei bard-abilities'), 'ei_bard', 'ei bard'), 'ei_cleric_abilities', 'ei cleric-abilities'), 'ei_cleric', 'ei cleric'), 'ei_druid_abilities', 'ei druid-abilities'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_druid', 'ei druid'), 'ei_fighter_abilities', 'ei fighter-abilities'), 'ei_fighter', 'ei fighter'), 'ei_monk_abilities', 'ei monk-abilities'), 'ei_monk', 'ei monk'), 'ei_paladin_abilities', 'ei paladin-abilities'), 'ei_paladin', 'ei paladin'), 'ei_ranger_abilities', 'ei ranger-abilities'), 'ei_ranger', 'ei ranger'), 'ei_rogue_abilities', 'ei rogue-abilities'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_rogue', 'ei rogue'), 'ei_sorcerer_abilities', 'ei sorcerer-abilities'), 'ei_sorcerer', 'ei sorcerer'), 'ei_warlock_abilities', 'ei warlock-abilities'), 'ei_warlock', 'ei warlock'), 'ei_wizard_abilities', 'ei wizard-abilities'), 'ei_wizard', 'ei wizard'), 'ei_movement', 'ei movement'), 'ei_action', 'ei action'), 'ei_bonus_action', 'ei bonus-action'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_reaction', 'ei reaction'), 'ei_acid_arrow', 'ei acid-arrow'), 'ei_action1', 'ei action-1'), 'ei_alter_self', 'ei alter-self'), 'ei_alter_self2', 'ei alter-self-2'), 'ei_magic_beans', 'ei magic-beans'), 'ei_animal_friendship', 'ei animal-friendship'), 'ei_animate_dead', 'ei animate-dead'), 'ei_animate_objects', 'ei animate-objects'), 'ei_animate_objects2', 'ei animate-objects-2'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_bane', 'ei bane'), 'ei_bless', 'ei bless'), 'ei_blur', 'ei blur'), 'ei_bonus', 'ei bonus'), 'ei_branding_smite', 'ei branding-smite'), 'ei_burning_hands', 'ei burning-hands'), 'ei_charm_person', 'ei charm-person'), 'ei_chill_touch', 'ei chill-touch'), 'ei_cloudkill', 'ei cloudkill'), 'ei_comprehend_languages', 'ei comprehend-languages'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_cone_of_cold', 'ei cone-of-cold'), 'ei_conjure_elemental', 'ei conjure-elemental'), 'ei_conjure_minor_elemental', 'ei conjure-minor-elemental'), 'ei_control_water', 'ei control-water'), 'ei_counterspell', 'ei counterspell'), 'ei_cure_wounds', 'ei cure-wounds'), 'ei_dancing_lights', 'ei dancing-lights'), 'ei_darkness', 'ei darkness'), 'ei_detect_magic', 'ei detect-magic'), 'ei_disguise_self', 'ei disguise-self'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_disintegrate', 'ei disintegrate'), 'ei_dispel_evil_and_good', 'ei dispel-evil-and-good'), 'ei_dispel_magic', 'ei dispel-magic'), 'ei_dominate_monster', 'ei dominate-monster'), 'ei_dominate_person', 'ei dominate-person'), 'ei_eldritch_blast', 'ei eldritch-blast'), 'ei_enlarge_reduce', 'ei enlarge-reduce'), 'ei_entangle', 'ei entangle'), 'ei_faerie_fire', 'ei faerie-fire'), 'ei_faerie_fire2', 'ei faerie-fire2'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_feather_fall', 'ei feather-fall'), 'ei_find_familiar', 'ei find-familiar'), 'ei_finger_of_death', 'ei finger-of-death'), 'ei_fireball', 'ei fireball'), 'ei_floating_disk', 'ei floating-disk'), 'ei_fly', 'ei fly'), 'ei_fog_cloud', 'ei fog-cloud'), 'ei_gaseous_form', 'ei gaseous-form'), 'ei_gaseous_form2', 'ei gaseous-form2'), 'ei_gentle_repose', 'ei gentle-repose'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_gentle_repose2', 'ei gentle-repose2'), 'ei_globe_of_invulnerability', 'ei globe-of-invulnerability'), 'ei_guiding_bolt', 'ei guiding-bolt'), 'ei_healing_word', 'ei healing-word'), 'ei_heat_metal', 'ei heat-metal'), 'ei_hellish_rebuke', 'ei hellish-rebuke'), 'ei_heroes_feast', 'ei heroes-feast'), 'ei_heroism', 'ei heroism'), 'ei_hideous_laughter', 'ei hideous-laughter'), 'ei_identify', 'ei identify'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_illusory_script', 'ei illusory-script'), 'ei_inflict_wounds', 'ei inflict-wounds'), 'ei_light', 'ei light'), 'ei_longstrider', 'ei longstrider'), 'ei_mage_armor', 'ei mage-armor'), 'ei_mage_hand', 'ei mage-hand'), 'ei_magic_missile', 'ei magic-missile'), 'ei_mass_cure_wounds', 'ei mass-cure-wounds'), 'ei_mass_healing_word', 'ei mass-healing-word'), 'ei_mending', 'ei _mending'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_message', 'ei message'), 'ei_minor_illusion', 'ei _minor-illusion'), 'ei_movement1', 'ei movement1'), 'ei_polymorph', 'ei polymorph'), 'ei_power_word_kill', 'ei power-word-kill'), 'ei_power_word_stun', 'ei power-word-stun'), 'ei_prayer_of_healing', 'ei prayer-of-healing'), 'ei_prestidigitation', 'ei prestidigitation'), 'ei_protection_from_evil_and_good', 'ei protection-from-evil-and-good'), 'ei_raise_dead', 'ei raise-dead'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_raise_dead2', 'ei raise-dead2'), 'ei_reaction1', 'ei reaction1'), 'ei_resurrection', 'ei resurrection'), 'ei_resurrection2', 'ei resurrection2'), 'ei_revivify', 'ei revivify'), 'ei_revivify2', 'ei revivify2'), 'ei_sacred_flame', 'ei sacred-flame'), 'ei_sanctuary', 'ei sanctuary'), 'ei_scorching_ray', 'ei scorching-ray'), 'ei_sending', 'ei sending'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_shatter', 'ei shatter'), 'ei_shield', 'ei shield'), 'ei_silent_image', 'ei silent-image'), 'ei_sleep', 'ei sleep'), 'ei_speak_with_animals', 'ei speak-with-animals'), 'ei_telekinesis', 'ei telekinesis'), 'ei_true_strike', 'ei true-strike'), 'ei_vicious_mockery', 'ei vicious-mockery'), 'ei_wall_of_fire', 'ei wall-of-fire'), 'ei_wall_of_force', 'ei wall-of-force'), (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])(_elderberryInn, 'ei_wall_of_ice', 'ei wall-of-ice'), 'ei_wall_of_stone', 'ei wall-of-stone'), 'ei_wall_of_thorns', 'ei wall-of-thorns'), 'ei_wish', 'ei wish'));
var _default = exports["default"] = elderberryInn;
},{"@babel/runtime/helpers/defineProperty":82,"@babel/runtime/helpers/interopRequireDefault":86}],308:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
/* eslint-disable max-lines */

var fontAwesome = {
  // FONT-AWESOME SOLID
  'fas_0': 'fas fa-0',
  'fas_1': 'fas fa-1',
  'fas_2': 'fas fa-2',
  'fas_3': 'fas fa-3',
  'fas_4': 'fas fa-4',
  'fas_5': 'fas fa-5',
  'fas_6': 'fas fa-6',
  'fas_7': 'fas fa-7',
  'fas_8': 'fas fa-8',
  'fas_9': 'fas fa-9',
  'fas_a': 'fas fa-a',
  'fas_address_book': 'fas fa-address-book',
  'fas_address_card': 'fas fa-address-card',
  'fas_align_center': 'fas fa-align-center',
  'fas_align_justify': 'fas fa-align-justify',
  'fas_align_left': 'fas fa-align-left',
  'fas_align_right': 'fas fa-align-right',
  'fas_anchor_circle_check': 'fas fa-anchor-circle-check',
  'fas_anchor_circle_exclamation': 'fas fa-anchor-circle-exclamation',
  'fas_anchor_circle_xmark': 'fas fa-anchor-circle-xmark',
  'fas_anchor_lock': 'fas fa-anchor-lock',
  'fas_anchor': 'fas fa-anchor',
  'fas_angle_down': 'fas fa-angle-down',
  'fas_angle_left': 'fas fa-angle-left',
  'fas_angle_right': 'fas fa-angle-right',
  'fas_angle_up': 'fas fa-angle-up',
  'fas_angles_down': 'fas fa-angles-down',
  'fas_angles_left': 'fas fa-angles-left',
  'fas_angles_right': 'fas fa-angles-right',
  'fas_angles_up': 'fas fa-angles-up',
  'fas_ankh': 'fas fa-ankh',
  'fas_apple_whole': 'fas fa-apple-whole',
  'fas_archway': 'fas fa-archway',
  'fas_arrow_down_1_9': 'fas fa-arrow-down-1-9',
  'fas_arrow_down_9_1': 'fas fa-arrow-down-9-1',
  'fas_arrow_down_a_z': 'fas fa-arrow-down-a-z',
  'fas_arrow_down_long': 'fas fa-arrow-down-long',
  'fas_arrow_down_short_wide': 'fas fa-arrow-down-short-wide',
  'fas_arrow_down_up_across_line': 'fas fa-arrow-down-up-across-line',
  'fas_arrow_down_up_lock': 'fas fa-arrow-down-up-lock',
  'fas_arrow_down_wide_short': 'fas fa-arrow-down-wide-short',
  'fas_arrow_down_z_a': 'fas fa-arrow-down-z-a',
  'fas_arrow_down': 'fas fa-arrow-down',
  'fas_arrow_left_long': 'fas fa-arrow-left-long',
  'fas_arrow_left': 'fas fa-arrow-left',
  'fas_arrow_pointer': 'fas fa-arrow-pointer',
  'fas_arrow_right_arrow_left': 'fas fa-arrow-right-arrow-left',
  'fas_arrow_right_from_bracket': 'fas fa-arrow-right-from-bracket',
  'fas_arrow_right_long': 'fas fa-arrow-right-long',
  'fas_arrow_right_to_bracket': 'fas fa-arrow-right-to-bracket',
  'fas_arrow_right_to_city': 'fas fa-arrow-right-to-city',
  'fas_arrow_right': 'fas fa-arrow-right',
  'fas_arrow_rotate_left': 'fas fa-arrow-rotate-left',
  'fas_arrow_rotate_right': 'fas fa-arrow-rotate-right',
  'fas_arrow_trend_down': 'fas fa-arrow-trend-down',
  'fas_arrow_trend_up': 'fas fa-arrow-trend-up',
  'fas_arrow_turn_down': 'fas fa-arrow-turn-down',
  'fas_arrow_turn_up': 'fas fa-arrow-turn-up',
  'fas_arrow_up_1_9': 'fas fa-arrow-up-1-9',
  'fas_arrow_up_9_1': 'fas fa-arrow-up-9-1',
  'fas_arrow_up_a_z': 'fas fa-arrow-up-a-z',
  'fas_arrow_up_from_bracket': 'fas fa-arrow-up-from-bracket',
  'fas_arrow_up_from_ground_water': 'fas fa-arrow-up-from-ground-water',
  'fas_arrow_up_from_water_pump': 'fas fa-arrow-up-from-water-pump',
  'fas_arrow_up_long': 'fas fa-arrow-up-long',
  'fas_arrow_up_right_dots': 'fas fa-arrow-up-right-dots',
  'fas_arrow_up_right_from_square': 'fas fa-arrow-up-right-from-square',
  'fas_arrow_up_short_wide': 'fas fa-arrow-up-short-wide',
  'fas_arrow_up_wide_short': 'fas fa-arrow-up-wide-short',
  'fas_arrow_up_z_a': 'fas fa-arrow-up-z-a',
  'fas_arrow_up': 'fas fa-arrow-up',
  'fas_arrows_down_to_line': 'fas fa-arrows-down-to-line',
  'fas_arrows_down_to_people': 'fas fa-arrows-down-to-people',
  'fas_arrows_left_right_to_line': 'fas fa-arrows-left-right-to-line',
  'fas_arrows_left_right': 'fas fa-arrows-left-right',
  'fas_arrows_rotate': 'fas fa-arrows-rotate',
  'fas_arrows_spin': 'fas fa-arrows-spin',
  'fas_arrows_split_up_and_left': 'fas fa-arrows-split-up-and-left',
  'fas_arrows_to_circle': 'fas fa-arrows-to-circle',
  'fas_arrows_to_dot': 'fas fa-arrows-to-dot',
  'fas_arrows_to_eye': 'fas fa-arrows-to-eye',
  'fas_arrows_turn_right': 'fas fa-arrows-turn-right',
  'fas_arrows_turn_to_dots': 'fas fa-arrows-turn-to-dots',
  'fas_arrows_up_down_left_right': 'fas fa-arrows-up-down-left-right',
  'fas_arrows_up_down': 'fas fa-arrows-up-down',
  'fas_arrows_up_to_line': 'fas fa-arrows-up-to-line',
  'fas_asterisk': 'fas fa-asterisk',
  'fas_at': 'fas fa-at',
  'fas_atom': 'fas fa-atom',
  'fas_audio_description': 'fas fa-audio-description',
  'fas_austral_sign': 'fas fa-austral-sign',
  'fas_award': 'fas fa-award',
  'fas_b': 'fas fa-b',
  'fas_baby_carriage': 'fas fa-baby-carriage',
  'fas_baby': 'fas fa-baby',
  'fas_backward_fast': 'fas fa-backward-fast',
  'fas_backward_step': 'fas fa-backward-step',
  'fas_backward': 'fas fa-backward',
  'fas_bacon': 'fas fa-bacon',
  'fas_bacteria': 'fas fa-bacteria',
  'fas_bacterium': 'fas fa-bacterium',
  'fas_bag_shopping': 'fas fa-bag-shopping',
  'fas_bahai': 'fas fa-bahai',
  'fas_baht_sign': 'fas fa-baht-sign',
  'fas_ban_smoking': 'fas fa-ban-smoking',
  'fas_ban': 'fas fa-ban',
  'fas_bandage': 'fas fa-bandage',
  'fas_bangladeshi_taka_sign': 'fas fa-bangladeshi-taka-sign',
  'fas_barcode': 'fas fa-barcode',
  'fas_bars_progress': 'fas fa-bars-progress',
  'fas_bars_staggered': 'fas fa-bars-staggered',
  'fas_bars': 'fas fa-bars',
  'fas_baseball_bat_ball': 'fas fa-baseball-bat-ball',
  'fas_baseball': 'fas fa-baseball',
  'fas_basket_shopping': 'fas fa-basket-shopping',
  'fas_basketball': 'fas fa-basketball',
  'fas_bath': 'fas fa-bath',
  'fas_battery_empty': 'fas fa-battery-empty',
  'fas_battery_full': 'fas fa-battery-full',
  'fas_battery_half': 'fas fa-battery-half',
  'fas_battery_quarter': 'fas fa-battery-quarter',
  'fas_battery_three_quarters': 'fas fa-battery-three-quarters',
  'fas_bed_pulse': 'fas fa-bed-pulse',
  'fas_bed': 'fas fa-bed',
  'fas_beer_mug_empty': 'fas fa-beer-mug-empty',
  'fas_bell_concierge': 'fas fa-bell-concierge',
  'fas_bell_slash': 'fas fa-bell-slash',
  'fas_bell': 'fas fa-bell',
  'fas_bezier_curve': 'fas fa-bezier-curve',
  'fas_bicycle': 'fas fa-bicycle',
  'fas_binoculars': 'fas fa-binoculars',
  'fas_biohazard': 'fas fa-biohazard',
  'fas_bitcoin_sign': 'fas fa-bitcoin-sign',
  'fas_blender_phone': 'fas fa-blender-phone',
  'fas_blender': 'fas fa-blender',
  'fas_blog': 'fas fa-blog',
  'fas_bold': 'fas fa-bold',
  'fas_bolt_lightning': 'fas fa-bolt-lightning',
  'fas_bolt': 'fas fa-bolt',
  'fas_bomb': 'fas fa-bomb',
  'fas_bone': 'fas fa-bone',
  'fas_bong': 'fas fa-bong',
  'fas_book_atlas': 'fas fa-book-atlas',
  'fas_book_bible': 'fas fa-book-bible',
  'fas_book_bookmark': 'fas fa-book-bookmark',
  'fas_book_journal_whills': 'fas fa-book-journal-whills',
  'fas_book_medical': 'fas fa-book-medical',
  'fas_book_open_reader': 'fas fa-book-open-reader',
  'fas_book_open': 'fas fa-book-open',
  'fas_book_quran': 'fas fa-book-quran',
  'fas_book_skull': 'fas fa-book-skull',
  'fas_book_tanakh': 'fas fa-book-tanakh',
  'fas_book': 'fas fa-book',
  'fas_bookmark': 'fas fa-bookmark',
  'fas_border_all': 'fas fa-border-all',
  'fas_border_none': 'fas fa-border-none',
  'fas_border_top_left': 'fas fa-border-top-left',
  'fas_bore_hole': 'fas fa-bore-hole',
  'fas_bottle_droplet': 'fas fa-bottle-droplet',
  'fas_bottle_water': 'fas fa-bottle-water',
  'fas_bowl_food': 'fas fa-bowl-food',
  'fas_bowl_rice': 'fas fa-bowl-rice',
  'fas_bowling_ball': 'fas fa-bowling-ball',
  'fas_box_archive': 'fas fa-box-archive',
  'fas_box_open': 'fas fa-box-open',
  'fas_box_tissue': 'fas fa-box-tissue',
  'fas_box': 'fas fa-box',
  'fas_boxes_packing': 'fas fa-boxes-packing',
  'fas_boxes_stacked': 'fas fa-boxes-stacked',
  'fas_braille': 'fas fa-braille',
  'fas_brain': 'fas fa-brain',
  'fas_brazilian_real_sign': 'fas fa-brazilian-real-sign',
  'fas_bread_slice': 'fas fa-bread-slice',
  'fas_bridge_circle_check': 'fas fa-bridge-circle-check',
  'fas_bridge_circle_exclamation': 'fas fa-bridge-circle-exclamation',
  'fas_bridge_circle_xmark': 'fas fa-bridge-circle-xmark',
  'fas_bridge_lock': 'fas fa-bridge-lock',
  'fas_bridge_water': 'fas fa-bridge-water',
  'fas_bridge': 'fas fa-bridge',
  'fas_briefcase_medical': 'fas fa-briefcase-medical',
  'fas_briefcase': 'fas fa-briefcase',
  'fas_broom_ball': 'fas fa-broom-ball',
  'fas_broom': 'fas fa-broom',
  'fas_brush': 'fas fa-brush',
  'fas_bucket': 'fas fa-bucket',
  'fas_bug_slash': 'fas fa-bug-slash',
  'fas_bug': 'fas fa-bug',
  'fas_bugs': 'fas fa-bugs',
  'fas_building_circle_arrow_right': 'fas fa-building-circle-arrow-right',
  'fas_building_circle_check': 'fas fa-building-circle-check',
  'fas_building_circle_exclamation': 'fas fa-building-circle-exclamation',
  'fas_building_circle_xmark': 'fas fa-building-circle-xmark',
  'fas_building_columns': 'fas fa-building-columns',
  'fas_building_flag': 'fas fa-building-flag',
  'fas_building_lock': 'fas fa-building-lock',
  'fas_building_ngo': 'fas fa-building-ngo',
  'fas_building_shield': 'fas fa-building-shield',
  'fas_building_un': 'fas fa-building-un',
  'fas_building_user': 'fas fa-building-user',
  'fas_building_wheat': 'fas fa-building-wheat',
  'fas_building': 'fas fa-building',
  'fas_bullhorn': 'fas fa-bullhorn',
  'fas_bullseye': 'fas fa-bullseye',
  'fas_burger': 'fas fa-burger',
  'fas_burst': 'fas fa-burst',
  'fas_bus_simple': 'fas fa-bus-simple',
  'fas_bus': 'fas fa-bus',
  'fas_business_time': 'fas fa-business-time',
  'fas_c': 'fas fa-c',
  'fas_cable_car': 'fas fa-cable-car',
  'fas_cake_candles': 'fas fa-cake-candles',
  'fas_calculator': 'fas fa-calculator',
  'fas_calendar_check': 'fas fa-calendar-check',
  'fas_calendar_day': 'fas fa-calendar-day',
  'fas_calendar_days': 'fas fa-calendar-days',
  'fas_calendar_minus': 'fas fa-calendar-minus',
  'fas_calendar_plus': 'fas fa-calendar-plus',
  'fas_calendar_week': 'fas fa-calendar-week',
  'fas_calendar_xmark': 'fas fa-calendar-xmark',
  'fas_calendar': 'fas fa-calendar',
  'fas_camera_retro': 'fas fa-camera-retro',
  'fas_camera_rotate': 'fas fa-camera-rotate',
  'fas_camera': 'fas fa-camera',
  'fas_campground': 'fas fa-campground',
  'fas_candy_cane': 'fas fa-candy-cane',
  'fas_cannabis': 'fas fa-cannabis',
  'fas_capsules': 'fas fa-capsules',
  'fas_car_battery': 'fas fa-car-battery',
  'fas_car_burst': 'fas fa-car-burst',
  'fas_car_on': 'fas fa-car-on',
  'fas_car_rear': 'fas fa-car-rear',
  'fas_car_side': 'fas fa-car-side',
  'fas_car_tunnel': 'fas fa-car-tunnel',
  'fas_car': 'fas fa-car',
  'fas_caravan': 'fas fa-caravan',
  'fas_caret_down': 'fas fa-caret-down',
  'fas_caret_left': 'fas fa-caret-left',
  'fas_caret_right': 'fas fa-caret-right',
  'fas_caret_up': 'fas fa-caret-up',
  'fas_carrot': 'fas fa-carrot',
  'fas_cart_arrow_down': 'fas fa-cart-arrow-down',
  'fas_cart_flatbed_suitcase': 'fas fa-cart-flatbed-suitcase',
  'fas_cart_flatbed': 'fas fa-cart-flatbed',
  'fas_cart_plus': 'fas fa-cart-plus',
  'fas_cart_shopping': 'fas fa-cart-shopping',
  'fas_cash_register': 'fas fa-cash-register',
  'fas_cat': 'fas fa-cat',
  'fas_cedi_sign': 'fas fa-cedi-sign',
  'fas_cent_sign': 'fas fa-cent-sign',
  'fas_certificate': 'fas fa-certificate',
  'fas_chair': 'fas fa-chair',
  'fas_chalkboard_user': 'fas fa-chalkboard-user',
  'fas_chalkboard': 'fas fa-chalkboard',
  'fas_champagne_glasses': 'fas fa-champagne-glasses',
  'fas_charging_station': 'fas fa-charging-station',
  'fas_chart_area': 'fas fa-chart-area',
  'fas_chart_bar': 'fas fa-chart-bar',
  'fas_chart_column': 'fas fa-chart-column',
  'fas_chart_gantt': 'fas fa-chart-gantt',
  'fas_chart_line': 'fas fa-chart-line',
  'fas_chart_pie': 'fas fa-chart-pie',
  'fas_chart_simple': 'fas fa-chart-simple',
  'fas_check_double': 'fas fa-check-double',
  'fas_check_to_slot': 'fas fa-check-to-slot',
  'fas_check': 'fas fa-check',
  'fas_cheese': 'fas fa-cheese',
  'fas_chess_bishop': 'fas fa-chess-bishop',
  'fas_chess_board': 'fas fa-chess-board',
  'fas_chess_king': 'fas fa-chess-king',
  'fas_chess_knight': 'fas fa-chess-knight',
  'fas_chess_pawn': 'fas fa-chess-pawn',
  'fas_chess_queen': 'fas fa-chess-queen',
  'fas_chess_rook': 'fas fa-chess-rook',
  'fas_chess': 'fas fa-chess',
  'fas_chevron_down': 'fas fa-chevron-down',
  'fas_chevron_left': 'fas fa-chevron-left',
  'fas_chevron_right': 'fas fa-chevron-right',
  'fas_chevron_up': 'fas fa-chevron-up',
  'fas_child_combatant': 'fas fa-child-combatant',
  'fas_child_dress': 'fas fa-child-dress',
  'fas_child_reaching': 'fas fa-child-reaching',
  'fas_child': 'fas fa-child',
  'fas_children': 'fas fa-children',
  'fas_church': 'fas fa-church',
  'fas_circle_arrow_down': 'fas fa-circle-arrow-down',
  'fas_circle_arrow_left': 'fas fa-circle-arrow-left',
  'fas_circle_arrow_right': 'fas fa-circle-arrow-right',
  'fas_circle_arrow_up': 'fas fa-circle-arrow-up',
  'fas_circle_check': 'fas fa-circle-check',
  'fas_circle_chevron_down': 'fas fa-circle-chevron-down',
  'fas_circle_chevron_left': 'fas fa-circle-chevron-left',
  'fas_circle_chevron_right': 'fas fa-circle-chevron-right',
  'fas_circle_chevron_up': 'fas fa-circle-chevron-up',
  'fas_circle_dollar_to_slot': 'fas fa-circle-dollar-to-slot',
  'fas_circle_dot': 'fas fa-circle-dot',
  'fas_circle_down': 'fas fa-circle-down',
  'fas_circle_exclamation': 'fas fa-circle-exclamation',
  'fas_circle_h': 'fas fa-circle-h',
  'fas_circle_half_stroke': 'fas fa-circle-half-stroke',
  'fas_circle_info': 'fas fa-circle-info',
  'fas_circle_left': 'fas fa-circle-left',
  'fas_circle_minus': 'fas fa-circle-minus',
  'fas_circle_nodes': 'fas fa-circle-nodes',
  'fas_circle_notch': 'fas fa-circle-notch',
  'fas_circle_pause': 'fas fa-circle-pause',
  'fas_circle_play': 'fas fa-circle-play',
  'fas_circle_plus': 'fas fa-circle-plus',
  'fas_circle_question': 'fas fa-circle-question',
  'fas_circle_radiation': 'fas fa-circle-radiation',
  'fas_circle_right': 'fas fa-circle-right',
  'fas_circle_stop': 'fas fa-circle-stop',
  'fas_circle_up': 'fas fa-circle-up',
  'fas_circle_user': 'fas fa-circle-user',
  'fas_circle_xmark': 'fas fa-circle-xmark',
  'fas_circle': 'fas fa-circle',
  'fas_city': 'fas fa-city',
  'fas_clapperboard': 'fas fa-clapperboard',
  'fas_clipboard_check': 'fas fa-clipboard-check',
  'fas_clipboard_list': 'fas fa-clipboard-list',
  'fas_clipboard_question': 'fas fa-clipboard-question',
  'fas_clipboard_user': 'fas fa-clipboard-user',
  'fas_clipboard': 'fas fa-clipboard',
  'fas_clock_rotate_left': 'fas fa-clock-rotate-left',
  'fas_clock': 'fas fa-clock',
  'fas_clone': 'fas fa-clone',
  'fas_closed_captioning': 'fas fa-closed-captioning',
  'fas_cloud_arrow_down': 'fas fa-cloud-arrow-down',
  'fas_cloud_arrow_up': 'fas fa-cloud-arrow-up',
  'fas_cloud_bolt': 'fas fa-cloud-bolt',
  'fas_cloud_meatball': 'fas fa-cloud-meatball',
  'fas_cloud_moon_rain': 'fas fa-cloud-moon-rain',
  'fas_cloud_moon': 'fas fa-cloud-moon',
  'fas_cloud_rain': 'fas fa-cloud-rain',
  'fas_cloud_showers_heavy': 'fas fa-cloud-showers-heavy',
  'fas_cloud_showers_water': 'fas fa-cloud-showers-water',
  'fas_cloud_sun_rain': 'fas fa-cloud-sun-rain',
  'fas_cloud_sun': 'fas fa-cloud-sun',
  'fas_cloud': 'fas fa-cloud',
  'fas_clover': 'fas fa-clover',
  'fas_code_branch': 'fas fa-code-branch',
  'fas_code_commit': 'fas fa-code-commit',
  'fas_code_compare': 'fas fa-code-compare',
  'fas_code_fork': 'fas fa-code-fork',
  'fas_code_merge': 'fas fa-code-merge',
  'fas_code_pull_request': 'fas fa-code-pull-request',
  'fas_code': 'fas fa-code',
  'fas_coins': 'fas fa-coins',
  'fas_colon_sign': 'fas fa-colon-sign',
  'fas_comment_dollar': 'fas fa-comment-dollar',
  'fas_comment_dots': 'fas fa-comment-dots',
  'fas_comment_medical': 'fas fa-comment-medical',
  'fas_comment_slash': 'fas fa-comment-slash',
  'fas_comment_sms': 'fas fa-comment-sms',
  'fas_comment': 'fas fa-comment',
  'fas_comments_dollar': 'fas fa-comments-dollar',
  'fas_comments': 'fas fa-comments',
  'fas_compact_disc': 'fas fa-compact-disc',
  'fas_compass_drafting': 'fas fa-compass-drafting',
  'fas_compass': 'fas fa-compass',
  'fas_compress': 'fas fa-compress',
  'fas_computer_mouse': 'fas fa-computer-mouse',
  'fas_computer': 'fas fa-computer',
  'fas_cookie_bite': 'fas fa-cookie-bite',
  'fas_cookie': 'fas fa-cookie',
  'fas_copy': 'fas fa-copy',
  'fas_copyright': 'fas fa-copyright',
  'fas_couch': 'fas fa-couch',
  'fas_cow': 'fas fa-cow',
  'fas_credit_card': 'fas fa-credit-card',
  'fas_crop_simple': 'fas fa-crop-simple',
  'fas_crop': 'fas fa-crop',
  'fas_cross': 'fas fa-cross',
  'fas_crosshairs': 'fas fa-crosshairs',
  'fas_crow': 'fas fa-crow',
  'fas_crown': 'fas fa-crown',
  'fas_crutch': 'fas fa-crutch',
  'fas_cruzeiro_sign': 'fas fa-cruzeiro-sign',
  'fas_cube': 'fas fa-cube',
  'fas_cubes_stacked': 'fas fa-cubes-stacked',
  'fas_cubes': 'fas fa-cubes',
  'fas_d': 'fas fa-d',
  'fas_database': 'fas fa-database',
  'fas_delete_left': 'fas fa-delete-left',
  'fas_democrat': 'fas fa-democrat',
  'fas_desktop': 'fas fa-desktop',
  'fas_dharmachakra': 'fas fa-dharmachakra',
  'fas_diagram_next': 'fas fa-diagram-next',
  'fas_diagram_predecessor': 'fas fa-diagram-predecessor',
  'fas_diagram_project': 'fas fa-diagram-project',
  'fas_diagram_successor': 'fas fa-diagram-successor',
  'fas_diamond_turn_right': 'fas fa-diamond-turn-right',
  'fas_diamond': 'fas fa-diamond',
  'fas_dice_d20': 'fas fa-dice-d20',
  'fas_dice_d6': 'fas fa-dice-d6',
  'fas_dice_five': 'fas fa-dice-five',
  'fas_dice_four': 'fas fa-dice-four',
  'fas_dice_one': 'fas fa-dice-one',
  'fas_dice_six': 'fas fa-dice-six',
  'fas_dice_three': 'fas fa-dice-three',
  'fas_dice_two': 'fas fa-dice-two',
  'fas_dice': 'fas fa-dice',
  'fas_disease': 'fas fa-disease',
  'fas_display': 'fas fa-display',
  'fas_divide': 'fas fa-divide',
  'fas_dna': 'fas fa-dna',
  'fas_dog': 'fas fa-dog',
  'fas_dollar_sign': 'fas fa-dollar-sign',
  'fas_dolly': 'fas fa-dolly',
  'fas_dong_sign': 'fas fa-dong-sign',
  'fas_door_closed': 'fas fa-door-closed',
  'fas_door_open': 'fas fa-door-open',
  'fas_dove': 'fas fa-dove',
  'fas_down_left_and_up_right_to_center': 'fas fa-down-left-and-up-right-to-center',
  'fas_down_long': 'fas fa-down-long',
  'fas_download': 'fas fa-download',
  'fas_dragon': 'fas fa-dragon',
  'fas_draw_polygon': 'fas fa-draw-polygon',
  'fas_droplet_slash': 'fas fa-droplet-slash',
  'fas_droplet': 'fas fa-droplet',
  'fas_drum_steelpan': 'fas fa-drum-steelpan',
  'fas_drum': 'fas fa-drum',
  'fas_drumstick_bite': 'fas fa-drumstick-bite',
  'fas_dumbbell': 'fas fa-dumbbell',
  'fas_dumpster_fire': 'fas fa-dumpster-fire',
  'fas_dumpster': 'fas fa-dumpster',
  'fas_dungeon': 'fas fa-dungeon',
  'fas_e': 'fas fa-e',
  'fas_ear_deaf': 'fas fa-ear-deaf',
  'fas_ear_listen': 'fas fa-ear-listen',
  'fas_earth_africa': 'fas fa-earth-africa',
  'fas_earth_americas': 'fas fa-earth-americas',
  'fas_earth_asia': 'fas fa-earth-asia',
  'fas_earth_europe': 'fas fa-earth-europe',
  'fas_earth_oceania': 'fas fa-earth-oceania',
  'fas_egg': 'fas fa-egg',
  'fas_eject': 'fas fa-eject',
  'fas_elevator': 'fas fa-elevator',
  'fas_ellipsis_vertical': 'fas fa-ellipsis-vertical',
  'fas_ellipsis': 'fas fa-ellipsis',
  'fas_envelope_circle_check': 'fas fa-envelope-circle-check',
  'fas_envelope_open_text': 'fas fa-envelope-open-text',
  'fas_envelope_open': 'fas fa-envelope-open',
  'fas_envelope': 'fas fa-envelope',
  'fas_envelopes_bulk': 'fas fa-envelopes-bulk',
  'fas_equals': 'fas fa-equals',
  'fas_eraser': 'fas fa-eraser',
  'fas_ethernet': 'fas fa-ethernet',
  'fas_euro_sign': 'fas fa-euro-sign',
  'fas_exclamation': 'fas fa-exclamation',
  'fas_expand': 'fas fa-expand',
  'fas_explosion': 'fas fa-explosion',
  'fas_eye_dropper': 'fas fa-eye-dropper',
  'fas_eye_low_vision': 'fas fa-eye-low-vision',
  'fas_eye_slash': 'fas fa-eye-slash',
  'fas_eye': 'fas fa-eye',
  'fas_f': 'fas fa-f',
  'fas_face_angry': 'fas fa-face-angry',
  'fas_face_dizzy': 'fas fa-face-dizzy',
  'fas_face_flushed': 'fas fa-face-flushed',
  'fas_face_frown_open': 'fas fa-face-frown-open',
  'fas_face_frown': 'fas fa-face-frown',
  'fas_face_grimace': 'fas fa-face-grimace',
  'fas_face_grin_beam_sweat': 'fas fa-face-grin-beam-sweat',
  'fas_face_grin_beam': 'fas fa-face-grin-beam',
  'fas_face_grin_hearts': 'fas fa-face-grin-hearts',
  'fas_face_grin_squint_tears': 'fas fa-face-grin-squint-tears',
  'fas_face_grin_squint': 'fas fa-face-grin-squint',
  'fas_face_grin_stars': 'fas fa-face-grin-stars',
  'fas_face_grin_tears': 'fas fa-face-grin-tears',
  'fas_face_grin_tongue_squint': 'fas fa-face-grin-tongue-squint',
  'fas_face_grin_tongue_wink': 'fas fa-face-grin-tongue-wink',
  'fas_face_grin_tongue': 'fas fa-face-grin-tongue',
  'fas_face_grin_wide': 'fas fa-face-grin-wide',
  'fas_face_grin_wink': 'fas fa-face-grin-wink',
  'fas_face_grin': 'fas fa-face-grin',
  'fas_face_kiss_beam': 'fas fa-face-kiss-beam',
  'fas_face_kiss_wink_heart': 'fas fa-face-kiss-wink-heart',
  'fas_face_kiss': 'fas fa-face-kiss',
  'fas_face_laugh_beam': 'fas fa-face-laugh-beam',
  'fas_face_laugh_squint': 'fas fa-face-laugh-squint',
  'fas_face_laugh_wink': 'fas fa-face-laugh-wink',
  'fas_face_laugh': 'fas fa-face-laugh',
  'fas_face_meh_blank': 'fas fa-face-meh-blank',
  'fas_face_meh': 'fas fa-face-meh',
  'fas_face_rolling_eyes': 'fas fa-face-rolling-eyes',
  'fas_face_sad_cry': 'fas fa-face-sad-cry',
  'fas_face_sad_tear': 'fas fa-face-sad-tear',
  'fas_face_smile_beam': 'fas fa-face-smile-beam',
  'fas_face_smile_wink': 'fas fa-face-smile-wink',
  'fas_face_smile': 'fas fa-face-smile',
  'fas_face_surprise': 'fas fa-face-surprise',
  'fas_face_tired': 'fas fa-face-tired',
  'fas_fan': 'fas fa-fan',
  'fas_faucet_drip': 'fas fa-faucet-drip',
  'fas_faucet': 'fas fa-faucet',
  'fas_fax': 'fas fa-fax',
  'fas_feather_pointed': 'fas fa-feather-pointed',
  'fas_feather': 'fas fa-feather',
  'fas_ferry': 'fas fa-ferry',
  'fas_file_arrow_down': 'fas fa-file-arrow-down',
  'fas_file_arrow_up': 'fas fa-file-arrow-up',
  'fas_file_audio': 'fas fa-file-audio',
  'fas_file_circle_check': 'fas fa-file-circle-check',
  'fas_file_circle_exclamation': 'fas fa-file-circle-exclamation',
  'fas_file_circle_minus': 'fas fa-file-circle-minus',
  'fas_file_circle_plus': 'fas fa-file-circle-plus',
  'fas_file_circle_question': 'fas fa-file-circle-question',
  'fas_file_circle_xmark': 'fas fa-file-circle-xmark',
  'fas_file_code': 'fas fa-file-code',
  'fas_file_contract': 'fas fa-file-contract',
  'fas_file_csv': 'fas fa-file-csv',
  'fas_file_excel': 'fas fa-file-excel',
  'fas_file_export': 'fas fa-file-export',
  'fas_file_image': 'fas fa-file-image',
  'fas_file_import': 'fas fa-file-import',
  'fas_file_invoice_dollar': 'fas fa-file-invoice-dollar',
  'fas_file_invoice': 'fas fa-file-invoice',
  'fas_file_lines': 'fas fa-file-lines',
  'fas_file_medical': 'fas fa-file-medical',
  'fas_file_pdf': 'fas fa-file-pdf',
  'fas_file_pen': 'fas fa-file-pen',
  'fas_file_powerpoint': 'fas fa-file-powerpoint',
  'fas_file_prescription': 'fas fa-file-prescription',
  'fas_file_shield': 'fas fa-file-shield',
  'fas_file_signature': 'fas fa-file-signature',
  'fas_file_video': 'fas fa-file-video',
  'fas_file_waveform': 'fas fa-file-waveform',
  'fas_file_word': 'fas fa-file-word',
  'fas_file_zipper': 'fas fa-file-zipper',
  'fas_file': 'fas fa-file',
  'fas_fill_drip': 'fas fa-fill-drip',
  'fas_fill': 'fas fa-fill',
  'fas_film': 'fas fa-film',
  'fas_filter_circle_dollar': 'fas fa-filter-circle-dollar',
  'fas_filter_circle_xmark': 'fas fa-filter-circle-xmark',
  'fas_filter': 'fas fa-filter',
  'fas_fingerprint': 'fas fa-fingerprint',
  'fas_fire_burner': 'fas fa-fire-burner',
  'fas_fire_extinguisher': 'fas fa-fire-extinguisher',
  'fas_fire_flame_curved': 'fas fa-fire-flame-curved',
  'fas_fire_flame_simple': 'fas fa-fire-flame-simple',
  'fas_fire': 'fas fa-fire',
  'fas_fish_fins': 'fas fa-fish-fins',
  'fas_fish': 'fas fa-fish',
  'fas_flag_checkered': 'fas fa-flag-checkered',
  'fas_flag_usa': 'fas fa-flag-usa',
  'fas_flag': 'fas fa-flag',
  'fas_flask_vial': 'fas fa-flask-vial',
  'fas_flask': 'fas fa-flask',
  'fas_floppy_disk': 'fas fa-floppy-disk',
  'fas_florin_sign': 'fas fa-florin-sign',
  'fas_folder_closed': 'fas fa-folder-closed',
  'fas_folder_minus': 'fas fa-folder-minus',
  'fas_folder_open': 'fas fa-folder-open',
  'fas_folder_plus': 'fas fa-folder-plus',
  'fas_folder_tree': 'fas fa-folder-tree',
  'fas_folder': 'fas fa-folder',
  'fas_font_awesome': 'fas fa-font-awesome',
  'fas_font': 'fas fa-font',
  'fas_football': 'fas fa-football',
  'fas_forward_fast': 'fas fa-forward-fast',
  'fas_forward_step': 'fas fa-forward-step',
  'fas_forward': 'fas fa-forward',
  'fas_franc_sign': 'fas fa-franc-sign',
  'fas_frog': 'fas fa-frog',
  'fas_futbol': 'fas fa-futbol',
  'fas_g': 'fas fa-g',
  'fas_gamepad': 'fas fa-gamepad',
  'fas_gas_pump': 'fas fa-gas-pump',
  'fas_gauge_high': 'fas fa-gauge-high',
  'fas_gauge_simple_high': 'fas fa-gauge-simple-high',
  'fas_gauge_simple': 'fas fa-gauge-simple',
  'fas_gauge': 'fas fa-gauge',
  'fas_gavel': 'fas fa-gavel',
  'fas_gear': 'fas fa-gear',
  'fas_gears': 'fas fa-gears',
  'fas_gem': 'fas fa-gem',
  'fas_genderless': 'fas fa-genderless',
  'fas_ghost': 'fas fa-ghost',
  'fas_gift': 'fas fa-gift',
  'fas_gifts': 'fas fa-gifts',
  'fas_glass_water_droplet': 'fas fa-glass-water-droplet',
  'fas_glass_water': 'fas fa-glass-water',
  'fas_glasses': 'fas fa-glasses',
  'fas_globe': 'fas fa-globe',
  'fas_golf_ball_tee': 'fas fa-golf-ball-tee',
  'fas_gopuram': 'fas fa-gopuram',
  'fas_graduation_cap': 'fas fa-graduation-cap',
  'fas_greater_than_equal': 'fas fa-greater-than-equal',
  'fas_greater_than': 'fas fa-greater-than',
  'fas_grip_lines_vertical': 'fas fa-grip-lines-vertical',
  'fas_grip_lines': 'fas fa-grip-lines',
  'fas_grip_vertical': 'fas fa-grip-vertical',
  'fas_grip': 'fas fa-grip',
  'fas_group_arrows_rotate': 'fas fa-group-arrows-rotate',
  'fas_guarani_sign': 'fas fa-guarani-sign',
  'fas_guitar': 'fas fa-guitar',
  'fas_gun': 'fas fa-gun',
  'fas_h': 'fas fa-h',
  'fas_hammer': 'fas fa-hammer',
  'fas_hamsa': 'fas fa-hamsa',
  'fas_hand_back_fist': 'fas fa-hand-back-fist',
  'fas_hand_dots': 'fas fa-hand-dots',
  'fas_hand_fist': 'fas fa-hand-fist',
  'fas_hand_holding_dollar': 'fas fa-hand-holding-dollar',
  'fas_hand_holding_droplet': 'fas fa-hand-holding-droplet',
  'fas_hand_holding_hand': 'fas fa-hand-holding-hand',
  'fas_hand_holding_heart': 'fas fa-hand-holding-heart',
  'fas_hand_holding_medical': 'fas fa-hand-holding-medical',
  'fas_hand_holding': 'fas fa-hand-holding',
  'fas_hand_lizard': 'fas fa-hand-lizard',
  'fas_hand_middle_finger': 'fas fa-hand-middle-finger',
  'fas_hand_peace': 'fas fa-hand-peace',
  'fas_hand_point_down': 'fas fa-hand-point-down',
  'fas_hand_point_left': 'fas fa-hand-point-left',
  'fas_hand_point_right': 'fas fa-hand-point-right',
  'fas_hand_point_up': 'fas fa-hand-point-up',
  'fas_hand_pointer': 'fas fa-hand-pointer',
  'fas_hand_scissors': 'fas fa-hand-scissors',
  'fas_hand_sparkles': 'fas fa-hand-sparkles',
  'fas_hand_spock': 'fas fa-hand-spock',
  'fas_hand': 'fas fa-hand',
  'fas_handcuffs': 'fas fa-handcuffs',
  'fas_hands_asl_interpreting': 'fas fa-hands-asl-interpreting',
  'fas_hands_bound': 'fas fa-hands-bound',
  'fas_hands_bubbles': 'fas fa-hands-bubbles',
  'fas_hands_clapping': 'fas fa-hands-clapping',
  'fas_hands_holding_child': 'fas fa-hands-holding-child',
  'fas_hands_holding_circle': 'fas fa-hands-holding-circle',
  'fas_hands_holding': 'fas fa-hands-holding',
  'fas_hands_praying': 'fas fa-hands-praying',
  'fas_hands': 'fas fa-hands',
  'fas_handshake_angle': 'fas fa-handshake-angle',
  'fas_handshake_simple_slash': 'fas fa-handshake-simple-slash',
  'fas_handshake_simple': 'fas fa-handshake-simple',
  'fas_handshake_slash': 'fas fa-handshake-slash',
  'fas_handshake': 'fas fa-handshake',
  'fas_hanukiah': 'fas fa-hanukiah',
  'fas_hard_drive': 'fas fa-hard-drive',
  'fas_hashtag': 'fas fa-hashtag',
  'fas_hat_cowboy_side': 'fas fa-hat-cowboy-side',
  'fas_hat_cowboy': 'fas fa-hat-cowboy',
  'fas_hat_wizard': 'fas fa-hat-wizard',
  'fas_head_side_cough_slash': 'fas fa-head-side-cough-slash',
  'fas_head_side_cough': 'fas fa-head-side-cough',
  'fas_head_side_mask': 'fas fa-head-side-mask',
  'fas_head_side_virus': 'fas fa-head-side-virus',
  'fas_heading': 'fas fa-heading',
  'fas_headphones_simple': 'fas fa-headphones-simple',
  'fas_headphones': 'fas fa-headphones',
  'fas_headset': 'fas fa-headset',
  'fas_heart_circle_bolt': 'fas fa-heart-circle-bolt',
  'fas_heart_circle_check': 'fas fa-heart-circle-check',
  'fas_heart_circle_exclamation': 'fas fa-heart-circle-exclamation',
  'fas_heart_circle_minus': 'fas fa-heart-circle-minus',
  'fas_heart_circle_plus': 'fas fa-heart-circle-plus',
  'fas_heart_circle_xmark': 'fas fa-heart-circle-xmark',
  'fas_heart_crack': 'fas fa-heart-crack',
  'fas_heart_pulse': 'fas fa-heart-pulse',
  'fas_heart': 'fas fa-heart',
  'fas_helicopter_symbol': 'fas fa-helicopter-symbol',
  'fas_helicopter': 'fas fa-helicopter',
  'fas_helmet_safety': 'fas fa-helmet-safety',
  'fas_helmet_un': 'fas fa-helmet-un',
  'fas_highlighter': 'fas fa-highlighter',
  'fas_hill_avalanche': 'fas fa-hill-avalanche',
  'fas_hill_rockslide': 'fas fa-hill-rockslide',
  'fas_hippo': 'fas fa-hippo',
  'fas_hockey_puck': 'fas fa-hockey-puck',
  'fas_holly_berry': 'fas fa-holly-berry',
  'fas_horse_head': 'fas fa-horse-head',
  'fas_horse': 'fas fa-horse',
  'fas_hospital_user': 'fas fa-hospital-user',
  'fas_hospital': 'fas fa-hospital',
  'fas_hot_tub_person': 'fas fa-hot-tub-person',
  'fas_hotdog': 'fas fa-hotdog',
  'fas_hotel': 'fas fa-hotel',
  'fas_hourglass_end': 'fas fa-hourglass-end',
  'fas_hourglass_half': 'fas fa-hourglass-half',
  'fas_hourglass_start': 'fas fa-hourglass-start',
  'fas_hourglass': 'fas fa-hourglass',
  'fas_house_chimney_crack': 'fas fa-house-chimney-crack',
  'fas_house_chimney_medical': 'fas fa-house-chimney-medical',
  'fas_house_chimney_user': 'fas fa-house-chimney-user',
  'fas_house_chimney_window': 'fas fa-house-chimney-window',
  'fas_house_chimney': 'fas fa-house-chimney',
  'fas_house_circle_check': 'fas fa-house-circle-check',
  'fas_house_circle_exclamation': 'fas fa-house-circle-exclamation',
  'fas_house_circle_xmark': 'fas fa-house-circle-xmark',
  'fas_house_crack': 'fas fa-house-crack',
  'fas_house_fire': 'fas fa-house-fire',
  'fas_house_flag': 'fas fa-house-flag',
  'fas_house_flood_water_circle_arrow_right': 'fas fa-house-flood-water-circle-arrow-right',
  'fas_house_flood_water': 'fas fa-house-flood-water',
  'fas_house_laptop': 'fas fa-house-laptop',
  'fas_house_lock': 'fas fa-house-lock',
  'fas_house_medical_circle_check': 'fas fa-house-medical-circle-check',
  'fas_house_medical_circle_exclamation': 'fas fa-house-medical-circle-exclamation',
  'fas_house_medical_circle_xmark': 'fas fa-house-medical-circle-xmark',
  'fas_house_medical_flag': 'fas fa-house-medical-flag',
  'fas_house_medical': 'fas fa-house-medical',
  'fas_house_signal': 'fas fa-house-signal',
  'fas_house_tsunami': 'fas fa-house-tsunami',
  'fas_house_user': 'fas fa-house-user',
  'fas_house': 'fas fa-house',
  'fas_hryvnia_sign': 'fas fa-hryvnia-sign',
  'fas_hurricane': 'fas fa-hurricane',
  'fas_i_cursor': 'fas fa-i-cursor',
  'fas_i': 'fas fa-i',
  'fas_ice_cream': 'fas fa-ice-cream',
  'fas_icicles': 'fas fa-icicles',
  'fas_icons': 'fas fa-icons',
  'fas_id_badge': 'fas fa-id-badge',
  'fas_id_card_clip': 'fas fa-id-card-clip',
  'fas_id_card': 'fas fa-id-card',
  'fas_igloo': 'fas fa-igloo',
  'fas_image_portrait': 'fas fa-image-portrait',
  'fas_image': 'fas fa-image',
  'fas_images': 'fas fa-images',
  'fas_inbox': 'fas fa-inbox',
  'fas_indent': 'fas fa-indent',
  'fas_indian_rupee_sign': 'fas fa-indian-rupee-sign',
  'fas_industry': 'fas fa-industry',
  'fas_infinity': 'fas fa-infinity',
  'fas_info': 'fas fa-info',
  'fas_italic': 'fas fa-italic',
  'fas_j': 'fas fa-j',
  'fas_jar_wheat': 'fas fa-jar-wheat',
  'fas_jar': 'fas fa-jar',
  'fas_jedi': 'fas fa-jedi',
  'fas_jet_fighter_up': 'fas fa-jet-fighter-up',
  'fas_jet_fighter': 'fas fa-jet-fighter',
  'fas_joint': 'fas fa-joint',
  'fas_jug_detergent': 'fas fa-jug-detergent',
  'fas_k': 'fas fa-k',
  'fas_kaaba': 'fas fa-kaaba',
  'fas_key': 'fas fa-key',
  'fas_keyboard': 'fas fa-keyboard',
  'fas_khanda': 'fas fa-khanda',
  'fas_kip_sign': 'fas fa-kip-sign',
  'fas_kit_medical': 'fas fa-kit-medical',
  'fas_kitchen_set': 'fas fa-kitchen-set',
  'fas_kiwi_bird': 'fas fa-kiwi-bird',
  'fas_l': 'fas fa-l',
  'fas_land_mine_on': 'fas fa-land-mine-on',
  'fas_landmark_dome': 'fas fa-landmark-dome',
  'fas_landmark_flag': 'fas fa-landmark-flag',
  'fas_landmark': 'fas fa-landmark',
  'fas_language': 'fas fa-language',
  'fas_laptop_code': 'fas fa-laptop-code',
  'fas_laptop_file': 'fas fa-laptop-file',
  'fas_laptop_medical': 'fas fa-laptop-medical',
  'fas_laptop': 'fas fa-laptop',
  'fas_lari_sign': 'fas fa-lari-sign',
  'fas_layer_group': 'fas fa-layer-group',
  'fas_leaf': 'fas fa-leaf',
  'fas_left_long': 'fas fa-left-long',
  'fas_left_right': 'fas fa-left-right',
  'fas_lemon': 'fas fa-lemon',
  'fas_less_than_equal': 'fas fa-less-than-equal',
  'fas_less_than': 'fas fa-less-than',
  'fas_life_ring': 'fas fa-life-ring',
  'fas_lightbulb': 'fas fa-lightbulb',
  'fas_lines_leaning': 'fas fa-lines-leaning',
  'fas_link_slash': 'fas fa-link-slash',
  'fas_link': 'fas fa-link',
  'fas_lira_sign': 'fas fa-lira-sign',
  'fas_list_check': 'fas fa-list-check',
  'fas_list_ol': 'fas fa-list-ol',
  'fas_list_ul': 'fas fa-list-ul',
  'fas_list': 'fas fa-list',
  'fas_litecoin_sign': 'fas fa-litecoin-sign',
  'fas_location_arrow': 'fas fa-location-arrow',
  'fas_location_crosshairs': 'fas fa-location-crosshairs',
  'fas_location_dot': 'fas fa-location-dot',
  'fas_location_pin_lock': 'fas fa-location-pin-lock',
  'fas_location_pin': 'fas fa-location-pin',
  'fas_lock_open': 'fas fa-lock-open',
  'fas_lock': 'fas fa-lock',
  'fas_locust': 'fas fa-locust',
  'fas_lungs_virus': 'fas fa-lungs-virus',
  'fas_lungs': 'fas fa-lungs',
  'fas_m': 'fas fa-m',
  'fas_magnet': 'fas fa-magnet',
  'fas_magnifying_glass_arrow_right': 'fas fa-magnifying-glass-arrow-right',
  'fas_magnifying_glass_chart': 'fas fa-magnifying-glass-chart',
  'fas_magnifying_glass_dollar': 'fas fa-magnifying-glass-dollar',
  'fas_magnifying_glass_location': 'fas fa-magnifying-glass-location',
  'fas_magnifying_glass_minus': 'fas fa-magnifying-glass-minus',
  'fas_magnifying_glass_plus': 'fas fa-magnifying-glass-plus',
  'fas_magnifying_glass': 'fas fa-magnifying-glass',
  'fas_manat_sign': 'fas fa-manat-sign',
  'fas_map_location_dot': 'fas fa-map-location-dot',
  'fas_map_location': 'fas fa-map-location',
  'fas_map_pin': 'fas fa-map-pin',
  'fas_map': 'fas fa-map',
  'fas_marker': 'fas fa-marker',
  'fas_mars_and_venus_burst': 'fas fa-mars-and-venus-burst',
  'fas_mars_and_venus': 'fas fa-mars-and-venus',
  'fas_mars_double': 'fas fa-mars-double',
  'fas_mars_stroke_right': 'fas fa-mars-stroke-right',
  'fas_mars_stroke_up': 'fas fa-mars-stroke-up',
  'fas_mars_stroke': 'fas fa-mars-stroke',
  'fas_mars': 'fas fa-mars',
  'fas_martini_glass_citrus': 'fas fa-martini-glass-citrus',
  'fas_martini_glass_empty': 'fas fa-martini-glass-empty',
  'fas_martini_glass': 'fas fa-martini-glass',
  'fas_mask_face': 'fas fa-mask-face',
  'fas_mask_ventilator': 'fas fa-mask-ventilator',
  'fas_mask': 'fas fa-mask',
  'fas_masks_theater': 'fas fa-masks-theater',
  'fas_mattress_pillow': 'fas fa-mattress-pillow',
  'fas_maximize': 'fas fa-maximize',
  'fas_medal': 'fas fa-medal',
  'fas_memory': 'fas fa-memory',
  'fas_menorah': 'fas fa-menorah',
  'fas_mercury': 'fas fa-mercury',
  'fas_message': 'fas fa-message',
  'fas_meteor': 'fas fa-meteor',
  'fas_microchip': 'fas fa-microchip',
  'fas_microphone_lines_slash': 'fas fa-microphone-lines-slash',
  'fas_microphone_lines': 'fas fa-microphone-lines',
  'fas_microphone_slash': 'fas fa-microphone-slash',
  'fas_microphone': 'fas fa-microphone',
  'fas_microscope': 'fas fa-microscope',
  'fas_mill_sign': 'fas fa-mill-sign',
  'fas_minimize': 'fas fa-minimize',
  'fas_minus': 'fas fa-minus',
  'fas_mitten': 'fas fa-mitten',
  'fas_mobile_button': 'fas fa-mobile-button',
  'fas_mobile_retro': 'fas fa-mobile-retro',
  'fas_mobile_screen_button': 'fas fa-mobile-screen-button',
  'fas_mobile_screen': 'fas fa-mobile-screen',
  'fas_mobile': 'fas fa-mobile',
  'fas_money_bill_1_wave': 'fas fa-money-bill-1-wave',
  'fas_money_bill_1': 'fas fa-money-bill-1',
  'fas_money_bill_transfer': 'fas fa-money-bill-transfer',
  'fas_money_bill_trend_up': 'fas fa-money-bill-trend-up',
  'fas_money_bill_wave': 'fas fa-money-bill-wave',
  'fas_money_bill_wheat': 'fas fa-money-bill-wheat',
  'fas_money_bill': 'fas fa-money-bill',
  'fas_money_bills': 'fas fa-money-bills',
  'fas_money_check_dollar': 'fas fa-money-check-dollar',
  'fas_money_check': 'fas fa-money-check',
  'fas_monument': 'fas fa-monument',
  'fas_moon': 'fas fa-moon',
  'fas_mortar_pestle': 'fas fa-mortar-pestle',
  'fas_mosque': 'fas fa-mosque',
  'fas_mosquito_net': 'fas fa-mosquito-net',
  'fas_mosquito': 'fas fa-mosquito',
  'fas_motorcycle': 'fas fa-motorcycle',
  'fas_mound': 'fas fa-mound',
  'fas_mountain_city': 'fas fa-mountain-city',
  'fas_mountain_sun': 'fas fa-mountain-sun',
  'fas_mountain': 'fas fa-mountain',
  'fas_mug_hot': 'fas fa-mug-hot',
  'fas_mug_saucer': 'fas fa-mug-saucer',
  'fas_music': 'fas fa-music',
  'fas_n': 'fas fa-n',
  'fas_naira_sign': 'fas fa-naira-sign',
  'fas_network_wired': 'fas fa-network-wired',
  'fas_neuter': 'fas fa-neuter',
  'fas_newspaper': 'fas fa-newspaper',
  'fas_not_equal': 'fas fa-not-equal',
  'fas_notdef': 'fas fa-notdef',
  'fas_note_sticky': 'fas fa-note-sticky',
  'fas_notes_medical': 'fas fa-notes-medical',
  'fas_o': 'fas fa-o',
  'fas_object_group': 'fas fa-object-group',
  'fas_object_ungroup': 'fas fa-object-ungroup',
  'fas_oil_can': 'fas fa-oil-can',
  'fas_oil_well': 'fas fa-oil-well',
  'fas_om': 'fas fa-om',
  'fas_otter': 'fas fa-otter',
  'fas_outdent': 'fas fa-outdent',
  'fas_p': 'fas fa-p',
  'fas_pager': 'fas fa-pager',
  'fas_paint_roller': 'fas fa-paint-roller',
  'fas_paintbrush': 'fas fa-paintbrush',
  'fas_palette': 'fas fa-palette',
  'fas_pallet': 'fas fa-pallet',
  'fas_panorama': 'fas fa-panorama',
  'fas_paper_plane': 'fas fa-paper-plane',
  'fas_paperclip': 'fas fa-paperclip',
  'fas_parachute_box': 'fas fa-parachute-box',
  'fas_paragraph': 'fas fa-paragraph',
  'fas_passport': 'fas fa-passport',
  'fas_paste': 'fas fa-paste',
  'fas_pause': 'fas fa-pause',
  'fas_paw': 'fas fa-paw',
  'fas_peace': 'fas fa-peace',
  'fas_pen_clip': 'fas fa-pen-clip',
  'fas_pen_fancy': 'fas fa-pen-fancy',
  'fas_pen_nib': 'fas fa-pen-nib',
  'fas_pen_ruler': 'fas fa-pen-ruler',
  'fas_pen_to_square': 'fas fa-pen-to-square',
  'fas_pen': 'fas fa-pen',
  'fas_pencil': 'fas fa-pencil',
  'fas_people_arrows': 'fas fa-people-arrows',
  'fas_people_carry_box': 'fas fa-people-carry-box',
  'fas_people_group': 'fas fa-people-group',
  'fas_people_line': 'fas fa-people-line',
  'fas_people_pulling': 'fas fa-people-pulling',
  'fas_people_robbery': 'fas fa-people-robbery',
  'fas_people_roof': 'fas fa-people-roof',
  'fas_pepper_hot': 'fas fa-pepper-hot',
  'fas_percent': 'fas fa-percent',
  'fas_person_arrow_down_to_line': 'fas fa-person-arrow-down-to-line',
  'fas_person_arrow_up_from_line': 'fas fa-person-arrow-up-from-line',
  'fas_person_biking': 'fas fa-person-biking',
  'fas_person_booth': 'fas fa-person-booth',
  'fas_person_breastfeeding': 'fas fa-person-breastfeeding',
  'fas_person_burst': 'fas fa-person-burst',
  'fas_person_cane': 'fas fa-person-cane',
  'fas_person_chalkboard': 'fas fa-person-chalkboard',
  'fas_person_circle_check': 'fas fa-person-circle-check',
  'fas_person_circle_exclamation': 'fas fa-person-circle-exclamation',
  'fas_person_circle_minus': 'fas fa-person-circle-minus',
  'fas_person_circle_plus': 'fas fa-person-circle-plus',
  'fas_person_circle_question': 'fas fa-person-circle-question',
  'fas_person_circle_xmark': 'fas fa-person-circle-xmark',
  'fas_person_digging': 'fas fa-person-digging',
  'fas_person_dots_from_line': 'fas fa-person-dots-from-line',
  'fas_person_dress_burst': 'fas fa-person-dress-burst',
  'fas_person_dress': 'fas fa-person-dress',
  'fas_person_drowning': 'fas fa-person-drowning',
  'fas_person_falling_burst': 'fas fa-person-falling-burst',
  'fas_person_falling': 'fas fa-person-falling',
  'fas_person_half_dress': 'fas fa-person-half-dress',
  'fas_person_harassing': 'fas fa-person-harassing',
  'fas_person_hiking': 'fas fa-person-hiking',
  'fas_person_military_pointing': 'fas fa-person-military-pointing',
  'fas_person_military_rifle': 'fas fa-person-military-rifle',
  'fas_person_military_to_person': 'fas fa-person-military-to-person',
  'fas_person_praying': 'fas fa-person-praying',
  'fas_person_pregnant': 'fas fa-person-pregnant',
  'fas_person_rays': 'fas fa-person-rays',
  'fas_person_rifle': 'fas fa-person-rifle',
  'fas_person_running': 'fas fa-person-running',
  'fas_person_shelter': 'fas fa-person-shelter',
  'fas_person_skating': 'fas fa-person-skating',
  'fas_person_skiing_nordic': 'fas fa-person-skiing-nordic',
  'fas_person_skiing': 'fas fa-person-skiing',
  'fas_person_snowboarding': 'fas fa-person-snowboarding',
  'fas_person_swimming': 'fas fa-person-swimming',
  'fas_person_through_window': 'fas fa-person-through-window',
  'fas_person_walking_arrow_loop_left': 'fas fa-person-walking-arrow-loop-left',
  'fas_person_walking_arrow_right': 'fas fa-person-walking-arrow-right',
  'fas_person_walking_dashed_line_arrow_right': 'fas fa-person-walking-dashed-line-arrow-right',
  'fas_person_walking_luggage': 'fas fa-person-walking-luggage',
  'fas_person_walking_with_cane': 'fas fa-person-walking-with-cane',
  'fas_person_walking': 'fas fa-person-walking',
  'fas_person': 'fas fa-person',
  'fas_peseta_sign': 'fas fa-peseta-sign',
  'fas_peso_sign': 'fas fa-peso-sign',
  'fas_phone_flip': 'fas fa-phone-flip',
  'fas_phone_slash': 'fas fa-phone-slash',
  'fas_phone_volume': 'fas fa-phone-volume',
  'fas_phone': 'fas fa-phone',
  'fas_photo_film': 'fas fa-photo-film',
  'fas_piggy_bank': 'fas fa-piggy-bank',
  'fas_pills': 'fas fa-pills',
  'fas_pizza_slice': 'fas fa-pizza-slice',
  'fas_place_of_worship': 'fas fa-place-of-worship',
  'fas_plane_arrival': 'fas fa-plane-arrival',
  'fas_plane_circle_check': 'fas fa-plane-circle-check',
  'fas_plane_circle_exclamation': 'fas fa-plane-circle-exclamation',
  'fas_plane_circle_xmark': 'fas fa-plane-circle-xmark',
  'fas_plane_departure': 'fas fa-plane-departure',
  'fas_plane_lock': 'fas fa-plane-lock',
  'fas_plane_slash': 'fas fa-plane-slash',
  'fas_plane_up': 'fas fa-plane-up',
  'fas_plane': 'fas fa-plane',
  'fas_plant_wilt': 'fas fa-plant-wilt',
  'fas_plate_wheat': 'fas fa-plate-wheat',
  'fas_play': 'fas fa-play',
  'fas_plug_circle_bolt': 'fas fa-plug-circle-bolt',
  'fas_plug_circle_check': 'fas fa-plug-circle-check',
  'fas_plug_circle_exclamation': 'fas fa-plug-circle-exclamation',
  'fas_plug_circle_minus': 'fas fa-plug-circle-minus',
  'fas_plug_circle_plus': 'fas fa-plug-circle-plus',
  'fas_plug_circle_xmark': 'fas fa-plug-circle-xmark',
  'fas_plug': 'fas fa-plug',
  'fas_plus_minus': 'fas fa-plus-minus',
  'fas_plus': 'fas fa-plus',
  'fas_podcast': 'fas fa-podcast',
  'fas_poo_storm': 'fas fa-poo-storm',
  'fas_poo': 'fas fa-poo',
  'fas_poop': 'fas fa-poop',
  'fas_power_off': 'fas fa-power-off',
  'fas_prescription_bottle_medical': 'fas fa-prescription-bottle-medical',
  'fas_prescription_bottle': 'fas fa-prescription-bottle',
  'fas_prescription': 'fas fa-prescription',
  'fas_print': 'fas fa-print',
  'fas_pump_medical': 'fas fa-pump-medical',
  'fas_pump_soap': 'fas fa-pump-soap',
  'fas_puzzle_piece': 'fas fa-puzzle-piece',
  'fas_q': 'fas fa-q',
  'fas_qrcode': 'fas fa-qrcode',
  'fas_question': 'fas fa-question',
  'fas_quote_left': 'fas fa-quote-left',
  'fas_quote_right': 'fas fa-quote-right',
  'fas_r': 'fas fa-r',
  'fas_radiation': 'fas fa-radiation',
  'fas_radio': 'fas fa-radio',
  'fas_rainbow': 'fas fa-rainbow',
  'fas_ranking_star': 'fas fa-ranking-star',
  'fas_receipt': 'fas fa-receipt',
  'fas_record_vinyl': 'fas fa-record-vinyl',
  'fas_rectangle_ad': 'fas fa-rectangle-ad',
  'fas_rectangle_list': 'fas fa-rectangle-list',
  'fas_rectangle_xmark': 'fas fa-rectangle-xmark',
  'fas_recycle': 'fas fa-recycle',
  'fas_registered': 'fas fa-registered',
  'fas_repeat': 'fas fa-repeat',
  'fas_reply_all': 'fas fa-reply-all',
  'fas_reply': 'fas fa-reply',
  'fas_republican': 'fas fa-republican',
  'fas_restroom': 'fas fa-restroom',
  'fas_retweet': 'fas fa-retweet',
  'fas_ribbon': 'fas fa-ribbon',
  'fas_right_from_bracket': 'fas fa-right-from-bracket',
  'fas_right_left': 'fas fa-right-left',
  'fas_right_long': 'fas fa-right-long',
  'fas_right_to_bracket': 'fas fa-right-to-bracket',
  'fas_ring': 'fas fa-ring',
  'fas_road_barrier': 'fas fa-road-barrier',
  'fas_road_bridge': 'fas fa-road-bridge',
  'fas_road_circle_check': 'fas fa-road-circle-check',
  'fas_road_circle_exclamation': 'fas fa-road-circle-exclamation',
  'fas_road_circle_xmark': 'fas fa-road-circle-xmark',
  'fas_road_lock': 'fas fa-road-lock',
  'fas_road_spikes': 'fas fa-road-spikes',
  'fas_road': 'fas fa-road',
  'fas_robot': 'fas fa-robot',
  'fas_rocket': 'fas fa-rocket',
  'fas_rotate_left': 'fas fa-rotate-left',
  'fas_rotate_right': 'fas fa-rotate-right',
  'fas_rotate': 'fas fa-rotate',
  'fas_route': 'fas fa-route',
  'fas_rss': 'fas fa-rss',
  'fas_ruble_sign': 'fas fa-ruble-sign',
  'fas_rug': 'fas fa-rug',
  'fas_ruler_combined': 'fas fa-ruler-combined',
  'fas_ruler_horizontal': 'fas fa-ruler-horizontal',
  'fas_ruler_vertical': 'fas fa-ruler-vertical',
  'fas_ruler': 'fas fa-ruler',
  'fas_rupee_sign': 'fas fa-rupee-sign',
  'fas_rupiah_sign': 'fas fa-rupiah-sign',
  'fas_s': 'fas fa-s',
  'fas_sack_dollar': 'fas fa-sack-dollar',
  'fas_sack_xmark': 'fas fa-sack-xmark',
  'fas_sailboat': 'fas fa-sailboat',
  'fas_satellite_dish': 'fas fa-satellite-dish',
  'fas_satellite': 'fas fa-satellite',
  'fas_scale_balanced': 'fas fa-scale-balanced',
  'fas_scale_unbalanced_flip': 'fas fa-scale-unbalanced-flip',
  'fas_scale_unbalanced': 'fas fa-scale-unbalanced',
  'fas_school_circle_check': 'fas fa-school-circle-check',
  'fas_school_circle_exclamation': 'fas fa-school-circle-exclamation',
  'fas_school_circle_xmark': 'fas fa-school-circle-xmark',
  'fas_school_flag': 'fas fa-school-flag',
  'fas_school_lock': 'fas fa-school-lock',
  'fas_school': 'fas fa-school',
  'fas_scissors': 'fas fa-scissors',
  'fas_screwdriver_wrench': 'fas fa-screwdriver-wrench',
  'fas_screwdriver': 'fas fa-screwdriver',
  'fas_scroll_torah': 'fas fa-scroll-torah',
  'fas_scroll': 'fas fa-scroll',
  'fas_sd_card': 'fas fa-sd-card',
  'fas_section': 'fas fa-section',
  'fas_seedling': 'fas fa-seedling',
  'fas_server': 'fas fa-server',
  'fas_shapes': 'fas fa-shapes',
  'fas_share_from_square': 'fas fa-share-from-square',
  'fas_share_nodes': 'fas fa-share-nodes',
  'fas_share': 'fas fa-share',
  'fas_sheet_plastic': 'fas fa-sheet-plastic',
  'fas_shekel_sign': 'fas fa-shekel-sign',
  'fas_shield_cat': 'fas fa-shield-cat',
  'fas_shield_dog': 'fas fa-shield-dog',
  'fas_shield_halved': 'fas fa-shield-halved',
  'fas_shield_heart': 'fas fa-shield-heart',
  'fas_shield_virus': 'fas fa-shield-virus',
  'fas_shield': 'fas fa-shield',
  'fas_ship': 'fas fa-ship',
  'fas_shirt': 'fas fa-shirt',
  'fas_shoe_prints': 'fas fa-shoe-prints',
  'fas_shop_lock': 'fas fa-shop-lock',
  'fas_shop_slash': 'fas fa-shop-slash',
  'fas_shop': 'fas fa-shop',
  'fas_shower': 'fas fa-shower',
  'fas_shrimp': 'fas fa-shrimp',
  'fas_shuffle': 'fas fa-shuffle',
  'fas_shuttle_space': 'fas fa-shuttle-space',
  'fas_sign_hanging': 'fas fa-sign-hanging',
  'fas_signal': 'fas fa-signal',
  'fas_signature': 'fas fa-signature',
  'fas_signs_post': 'fas fa-signs-post',
  'fas_sim_card': 'fas fa-sim-card',
  'fas_sink': 'fas fa-sink',
  'fas_sitemap': 'fas fa-sitemap',
  'fas_skull_crossbones': 'fas fa-skull-crossbones',
  'fas_skull': 'fas fa-skull',
  'fas_slash': 'fas fa-slash',
  'fas_sleigh': 'fas fa-sleigh',
  'fas_sliders': 'fas fa-sliders',
  'fas_smog': 'fas fa-smog',
  'fas_smoking': 'fas fa-smoking',
  'fas_snowflake': 'fas fa-snowflake',
  'fas_snowman': 'fas fa-snowman',
  'fas_snowplow': 'fas fa-snowplow',
  'fas_soap': 'fas fa-soap',
  'fas_socks': 'fas fa-socks',
  'fas_solar_panel': 'fas fa-solar-panel',
  'fas_sort_down': 'fas fa-sort-down',
  'fas_sort_up': 'fas fa-sort-up',
  'fas_sort': 'fas fa-sort',
  'fas_spa': 'fas fa-spa',
  'fas_spaghetti_monster_flying': 'fas fa-spaghetti-monster-flying',
  'fas_spell_check': 'fas fa-spell-check',
  'fas_spider': 'fas fa-spider',
  'fas_spinner': 'fas fa-spinner',
  'fas_splotch': 'fas fa-splotch',
  'fas_spoon': 'fas fa-spoon',
  'fas_spray_can_sparkles': 'fas fa-spray-can-sparkles',
  'fas_spray_can': 'fas fa-spray-can',
  'fas_square_arrow_up_right': 'fas fa-square-arrow-up-right',
  'fas_square_caret_down': 'fas fa-square-caret-down',
  'fas_square_caret_left': 'fas fa-square-caret-left',
  'fas_square_caret_right': 'fas fa-square-caret-right',
  'fas_square_caret_up': 'fas fa-square-caret-up',
  'fas_square_check': 'fas fa-square-check',
  'fas_square_envelope': 'fas fa-square-envelope',
  'fas_square_full': 'fas fa-square-full',
  'fas_square_h': 'fas fa-square-h',
  'fas_square_minus': 'fas fa-square-minus',
  'fas_square_nfi': 'fas fa-square-nfi',
  'fas_square_parking': 'fas fa-square-parking',
  'fas_square_pen': 'fas fa-square-pen',
  'fas_square_person_confined': 'fas fa-square-person-confined',
  'fas_square_phone_flip': 'fas fa-square-phone-flip',
  'fas_square_phone': 'fas fa-square-phone',
  'fas_square_plus': 'fas fa-square-plus',
  'fas_square_poll_horizontal': 'fas fa-square-poll-horizontal',
  'fas_square_poll_vertical': 'fas fa-square-poll-vertical',
  'fas_square_root_variable': 'fas fa-square-root-variable',
  'fas_square_rss': 'fas fa-square-rss',
  'fas_square_share_nodes': 'fas fa-square-share-nodes',
  'fas_square_up_right': 'fas fa-square-up-right',
  'fas_square_virus': 'fas fa-square-virus',
  'fas_square_xmark': 'fas fa-square-xmark',
  'fas_square': 'fas fa-square',
  'fas_staff_snake': 'fas fa-staff-snake',
  'fas_stairs': 'fas fa-stairs',
  'fas_stamp': 'fas fa-stamp',
  'fas_stapler': 'fas fa-stapler',
  'fas_star_and_crescent': 'fas fa-star-and-crescent',
  'fas_star_half_stroke': 'fas fa-star-half-stroke',
  'fas_star_half': 'fas fa-star-half',
  'fas_star_of_david': 'fas fa-star-of-david',
  'fas_star_of_life': 'fas fa-star-of-life',
  'fas_star': 'fas fa-star',
  'fas_sterling_sign': 'fas fa-sterling-sign',
  'fas_stethoscope': 'fas fa-stethoscope',
  'fas_stop': 'fas fa-stop',
  'fas_stopwatch_20': 'fas fa-stopwatch-20',
  'fas_stopwatch': 'fas fa-stopwatch',
  'fas_store_slash': 'fas fa-store-slash',
  'fas_store': 'fas fa-store',
  'fas_street_view': 'fas fa-street-view',
  'fas_strikethrough': 'fas fa-strikethrough',
  'fas_stroopwafel': 'fas fa-stroopwafel',
  'fas_subscript': 'fas fa-subscript',
  'fas_suitcase_medical': 'fas fa-suitcase-medical',
  'fas_suitcase_rolling': 'fas fa-suitcase-rolling',
  'fas_suitcase': 'fas fa-suitcase',
  'fas_sun_plant_wilt': 'fas fa-sun-plant-wilt',
  'fas_sun': 'fas fa-sun',
  'fas_superscript': 'fas fa-superscript',
  'fas_swatchbook': 'fas fa-swatchbook',
  'fas_synagogue': 'fas fa-synagogue',
  'fas_syringe': 'fas fa-syringe',
  'fas_t': 'fas fa-t',
  'fas_table_cells_column_lock': 'fas fa-table-cells-column-lock',
  'fas_table_cells_large': 'fas fa-table-cells-large',
  'fas_table_cells_row_lock': 'fas fa-table-cells-row-lock',
  'fas_table_cells': 'fas fa-table-cells',
  'fas_table_columns': 'fas fa-table-columns',
  'fas_table_list': 'fas fa-table-list',
  'fas_table_tennis_paddle_ball': 'fas fa-table-tennis-paddle-ball',
  'fas_table': 'fas fa-table',
  'fas_tablet_button': 'fas fa-tablet-button',
  'fas_tablet_screen_button': 'fas fa-tablet-screen-button',
  'fas_tablet': 'fas fa-tablet',
  'fas_tablets': 'fas fa-tablets',
  'fas_tachograph_digital': 'fas fa-tachograph-digital',
  'fas_tag': 'fas fa-tag',
  'fas_tags': 'fas fa-tags',
  'fas_tape': 'fas fa-tape',
  'fas_tarp_droplet': 'fas fa-tarp-droplet',
  'fas_tarp': 'fas fa-tarp',
  'fas_taxi': 'fas fa-taxi',
  'fas_teeth_open': 'fas fa-teeth-open',
  'fas_teeth': 'fas fa-teeth',
  'fas_temperature_arrow_down': 'fas fa-temperature-arrow-down',
  'fas_temperature_arrow_up': 'fas fa-temperature-arrow-up',
  'fas_temperature_empty': 'fas fa-temperature-empty',
  'fas_temperature_full': 'fas fa-temperature-full',
  'fas_temperature_half': 'fas fa-temperature-half',
  'fas_temperature_high': 'fas fa-temperature-high',
  'fas_temperature_low': 'fas fa-temperature-low',
  'fas_temperature_quarter': 'fas fa-temperature-quarter',
  'fas_temperature_three_quarters': 'fas fa-temperature-three-quarters',
  'fas_tenge_sign': 'fas fa-tenge-sign',
  'fas_tent_arrow_down_to_line': 'fas fa-tent-arrow-down-to-line',
  'fas_tent_arrow_left_right': 'fas fa-tent-arrow-left-right',
  'fas_tent_arrow_turn_left': 'fas fa-tent-arrow-turn-left',
  'fas_tent_arrows_down': 'fas fa-tent-arrows-down',
  'fas_tent': 'fas fa-tent',
  'fas_tents': 'fas fa-tents',
  'fas_terminal': 'fas fa-terminal',
  'fas_text_height': 'fas fa-text-height',
  'fas_text_slash': 'fas fa-text-slash',
  'fas_text_width': 'fas fa-text-width',
  'fas_thermometer': 'fas fa-thermometer',
  'fas_thumbs_down': 'fas fa-thumbs-down',
  'fas_thumbs_up': 'fas fa-thumbs-up',
  'fas_thumbtack': 'fas fa-thumbtack',
  'fas_ticket_simple': 'fas fa-ticket-simple',
  'fas_ticket': 'fas fa-ticket',
  'fas_timeline': 'fas fa-timeline',
  'fas_toggle_off': 'fas fa-toggle-off',
  'fas_toggle_on': 'fas fa-toggle-on',
  'fas_toilet_paper_slash': 'fas fa-toilet-paper-slash',
  'fas_toilet_paper': 'fas fa-toilet-paper',
  'fas_toilet_portable': 'fas fa-toilet-portable',
  'fas_toilet': 'fas fa-toilet',
  'fas_toilets_portable': 'fas fa-toilets-portable',
  'fas_toolbox': 'fas fa-toolbox',
  'fas_tooth': 'fas fa-tooth',
  'fas_torii_gate': 'fas fa-torii-gate',
  'fas_tornado': 'fas fa-tornado',
  'fas_tower_broadcast': 'fas fa-tower-broadcast',
  'fas_tower_cell': 'fas fa-tower-cell',
  'fas_tower_observation': 'fas fa-tower-observation',
  'fas_tractor': 'fas fa-tractor',
  'fas_trademark': 'fas fa-trademark',
  'fas_traffic_light': 'fas fa-traffic-light',
  'fas_trailer': 'fas fa-trailer',
  'fas_train_subway': 'fas fa-train-subway',
  'fas_train_tram': 'fas fa-train-tram',
  'fas_train': 'fas fa-train',
  'fas_transgender': 'fas fa-transgender',
  'fas_trash_arrow_up': 'fas fa-trash-arrow-up',
  'fas_trash_can_arrow_up': 'fas fa-trash-can-arrow-up',
  'fas_trash_can': 'fas fa-trash-can',
  'fas_trash': 'fas fa-trash',
  'fas_tree_city': 'fas fa-tree-city',
  'fas_tree': 'fas fa-tree',
  'fas_triangle_exclamation': 'fas fa-triangle-exclamation',
  'fas_trophy': 'fas fa-trophy',
  'fas_trowel_bricks': 'fas fa-trowel-bricks',
  'fas_trowel': 'fas fa-trowel',
  'fas_truck_arrow_right': 'fas fa-truck-arrow-right',
  'fas_truck_droplet': 'fas fa-truck-droplet',
  'fas_truck_fast': 'fas fa-truck-fast',
  'fas_truck_field_un': 'fas fa-truck-field-un',
  'fas_truck_field': 'fas fa-truck-field',
  'fas_truck_front': 'fas fa-truck-front',
  'fas_truck_medical': 'fas fa-truck-medical',
  'fas_truck_monster': 'fas fa-truck-monster',
  'fas_truck_moving': 'fas fa-truck-moving',
  'fas_truck_pickup': 'fas fa-truck-pickup',
  'fas_truck_plane': 'fas fa-truck-plane',
  'fas_truck_ramp_box': 'fas fa-truck-ramp-box',
  'fas_truck': 'fas fa-truck',
  'fas_tty': 'fas fa-tty',
  'fas_turkish_lira_sign': 'fas fa-turkish-lira-sign',
  'fas_turn_down': 'fas fa-turn-down',
  'fas_turn_up': 'fas fa-turn-up',
  'fas_tv': 'fas fa-tv',
  'fas_u': 'fas fa-u',
  'fas_umbrella_beach': 'fas fa-umbrella-beach',
  'fas_umbrella': 'fas fa-umbrella',
  'fas_underline': 'fas fa-underline',
  'fas_universal_access': 'fas fa-universal-access',
  'fas_unlock_keyhole': 'fas fa-unlock-keyhole',
  'fas_unlock': 'fas fa-unlock',
  'fas_up_down_left_right': 'fas fa-up-down-left-right',
  'fas_up_down': 'fas fa-up-down',
  'fas_up_long': 'fas fa-up-long',
  'fas_up_right_and_down_left_from_center': 'fas fa-up-right-and-down-left-from-center',
  'fas_up_right_from_square': 'fas fa-up-right-from-square',
  'fas_upload': 'fas fa-upload',
  'fas_user_astronaut': 'fas fa-user-astronaut',
  'fas_user_check': 'fas fa-user-check',
  'fas_user_clock': 'fas fa-user-clock',
  'fas_user_doctor': 'fas fa-user-doctor',
  'fas_user_gear': 'fas fa-user-gear',
  'fas_user_graduate': 'fas fa-user-graduate',
  'fas_user_group': 'fas fa-user-group',
  'fas_user_injured': 'fas fa-user-injured',
  'fas_user_large_slash': 'fas fa-user-large-slash',
  'fas_user_large': 'fas fa-user-large',
  'fas_user_lock': 'fas fa-user-lock',
  'fas_user_minus': 'fas fa-user-minus',
  'fas_user_ninja': 'fas fa-user-ninja',
  'fas_user_nurse': 'fas fa-user-nurse',
  'fas_user_pen': 'fas fa-user-pen',
  'fas_user_plus': 'fas fa-user-plus',
  'fas_user_secret': 'fas fa-user-secret',
  'fas_user_shield': 'fas fa-user-shield',
  'fas_user_slash': 'fas fa-user-slash',
  'fas_user_tag': 'fas fa-user-tag',
  'fas_user_tie': 'fas fa-user-tie',
  'fas_user_xmark': 'fas fa-user-xmark',
  'fas_user': 'fas fa-user',
  'fas_users_between_lines': 'fas fa-users-between-lines',
  'fas_users_gear': 'fas fa-users-gear',
  'fas_users_line': 'fas fa-users-line',
  'fas_users_rays': 'fas fa-users-rays',
  'fas_users_rectangle': 'fas fa-users-rectangle',
  'fas_users_slash': 'fas fa-users-slash',
  'fas_users_viewfinder': 'fas fa-users-viewfinder',
  'fas_users': 'fas fa-users',
  'fas_utensils': 'fas fa-utensils',
  'fas_v': 'fas fa-v',
  'fas_van_shuttle': 'fas fa-van-shuttle',
  'fas_vault': 'fas fa-vault',
  'fas_vector_square': 'fas fa-vector-square',
  'fas_venus_double': 'fas fa-venus-double',
  'fas_venus_mars': 'fas fa-venus-mars',
  'fas_venus': 'fas fa-venus',
  'fas_vest_patches': 'fas fa-vest-patches',
  'fas_vest': 'fas fa-vest',
  'fas_vial_circle_check': 'fas fa-vial-circle-check',
  'fas_vial_virus': 'fas fa-vial-virus',
  'fas_vial': 'fas fa-vial',
  'fas_vials': 'fas fa-vials',
  'fas_video_slash': 'fas fa-video-slash',
  'fas_video': 'fas fa-video',
  'fas_vihara': 'fas fa-vihara',
  'fas_virus_covid_slash': 'fas fa-virus-covid-slash',
  'fas_virus_covid': 'fas fa-virus-covid',
  'fas_virus_slash': 'fas fa-virus-slash',
  'fas_virus': 'fas fa-virus',
  'fas_viruses': 'fas fa-viruses',
  'fas_voicemail': 'fas fa-voicemail',
  'fas_volcano': 'fas fa-volcano',
  'fas_volleyball': 'fas fa-volleyball',
  'fas_volume_high': 'fas fa-volume-high',
  'fas_volume_low': 'fas fa-volume-low',
  'fas_volume_off': 'fas fa-volume-off',
  'fas_volume_xmark': 'fas fa-volume-xmark',
  'fas_vr_cardboard': 'fas fa-vr-cardboard',
  'fas_w': 'fas fa-w',
  'fas_walkie_talkie': 'fas fa-walkie-talkie',
  'fas_wallet': 'fas fa-wallet',
  'fas_wand_magic_sparkles': 'fas fa-wand-magic-sparkles',
  'fas_wand_magic': 'fas fa-wand-magic',
  'fas_wand_sparkles': 'fas fa-wand-sparkles',
  'fas_warehouse': 'fas fa-warehouse',
  'fas_water_ladder': 'fas fa-water-ladder',
  'fas_water': 'fas fa-water',
  'fas_wave_square': 'fas fa-wave-square',
  'fas_weight_hanging': 'fas fa-weight-hanging',
  'fas_weight_scale': 'fas fa-weight-scale',
  'fas_wheat_awn_circle_exclamation': 'fas fa-wheat-awn-circle-exclamation',
  'fas_wheat_awn': 'fas fa-wheat-awn',
  'fas_wheelchair_move': 'fas fa-wheelchair-move',
  'fas_wheelchair': 'fas fa-wheelchair',
  'fas_whiskey_glass': 'fas fa-whiskey-glass',
  'fas_wifi': 'fas fa-wifi',
  'fas_wind': 'fas fa-wind',
  'fas_window_maximize': 'fas fa-window-maximize',
  'fas_window_minimize': 'fas fa-window-minimize',
  'fas_window_restore': 'fas fa-window-restore',
  'fas_wine_bottle': 'fas fa-wine-bottle',
  'fas_wine_glass_empty': 'fas fa-wine-glass-empty',
  'fas_wine_glass': 'fas fa-wine-glass',
  'fas_won_sign': 'fas fa-won-sign',
  'fas_worm': 'fas fa-worm',
  'fas_wrench': 'fas fa-wrench',
  'fas_x_ray': 'fas fa-x-ray',
  'fas_x': 'fas fa-x',
  'fas_xmark': 'fas fa-xmark',
  'fas_xmarks_lines': 'fas fa-xmarks-lines',
  'fas_y': 'fas fa-y',
  'fas_yen_sign': 'fas fa-yen-sign',
  'fas_yin_yang': 'fas fa-yin-yang',
  'fas_z': 'fas fa-z',
  //FONT-AWESOME REGULAR
  'far_address_book': 'far fa-address-book',
  'far_address_card': 'far fa-address-card',
  'far_bell_slash': 'far fa-bell-slash',
  'far_bell': 'far fa-bell',
  'far_bookmark': 'far fa-bookmark',
  'far_building': 'far fa-building',
  'far_calendar_check': 'far fa-calendar-check',
  'far_calendar_days': 'far fa-calendar-days',
  'far_calendar_minus': 'far fa-calendar-minus',
  'far_calendar_plus': 'far fa-calendar-plus',
  'far_calendar_xmark': 'far fa-calendar-xmark',
  'far_calendar': 'far fa-calendar',
  'far_chart_bar': 'far fa-chart-bar',
  'far_chess_bishop': 'far fa-chess-bishop',
  'far_chess_king': 'far fa-chess-king',
  'far_chess_knight': 'far fa-chess-knight',
  'far_chess_pawn': 'far fa-chess-pawn',
  'far_chess_queen': 'far fa-chess-queen',
  'far_chess_rook': 'far fa-chess-rook',
  'far_circle_check': 'far fa-circle-check',
  'far_circle_dot': 'far fa-circle-dot',
  'far_circle_down': 'far fa-circle-down',
  'far_circle_left': 'far fa-circle-left',
  'far_circle_pause': 'far fa-circle-pause',
  'far_circle_play': 'far fa-circle-play',
  'far_circle_question': 'far fa-circle-question',
  'far_circle_right': 'far fa-circle-right',
  'far_circle_stop': 'far fa-circle-stop',
  'far_circle_up': 'far fa-circle-up',
  'far_circle_user': 'far fa-circle-user',
  'far_circle_xmark': 'far fa-circle-xmark',
  'far_circle': 'far fa-circle',
  'far_clipboard': 'far fa-clipboard',
  'far_clock': 'far fa-clock',
  'far_clone': 'far fa-clone',
  'far_closed_captioning': 'far fa-closed-captioning',
  'far_comment_dots': 'far fa-comment-dots',
  'far_comment': 'far fa-comment',
  'far_comments': 'far fa-comments',
  'far_compass': 'far fa-compass',
  'far_copy': 'far fa-copy',
  'far_copyright': 'far fa-copyright',
  'far_credit_card': 'far fa-credit-card',
  'far_envelope_open': 'far fa-envelope-open',
  'far_envelope': 'far fa-envelope',
  'far_eye_slash': 'far fa-eye-slash',
  'far_eye': 'far fa-eye',
  'far_face_angry': 'far fa-face-angry',
  'far_face_dizzy': 'far fa-face-dizzy',
  'far_face_flushed': 'far fa-face-flushed',
  'far_face_frown_open': 'far fa-face-frown-open',
  'far_face_frown': 'far fa-face-frown',
  'far_face_grimace': 'far fa-face-grimace',
  'far_face_grin_beam_sweat': 'far fa-face-grin-beam-sweat',
  'far_face_grin_beam': 'far fa-face-grin-beam',
  'far_face_grin_hearts': 'far fa-face-grin-hearts',
  'far_face_grin_squint_tears': 'far fa-face-grin-squint-tears',
  'far_face_grin_squint': 'far fa-face-grin-squint',
  'far_face_grin_stars': 'far fa-face-grin-stars',
  'far_face_grin_tears': 'far fa-face-grin-tears',
  'far_face_grin_tongue_squint': 'far fa-face-grin-tongue-squint',
  'far_face_grin_tongue_wink': 'far fa-face-grin-tongue-wink',
  'far_face_grin_tongue': 'far fa-face-grin-tongue',
  'far_face_grin_wide': 'far fa-face-grin-wide',
  'far_face_grin_wink': 'far fa-face-grin-wink',
  'far_face_grin': 'far fa-face-grin',
  'far_face_kiss_beam': 'far fa-face-kiss-beam',
  'far_face_kiss_wink_heart': 'far fa-face-kiss-wink-heart',
  'far_face_kiss': 'far fa-face-kiss',
  'far_face_laugh_beam': 'far fa-face-laugh-beam',
  'far_face_laugh_squint': 'far fa-face-laugh-squint',
  'far_face_laugh_wink': 'far fa-face-laugh-wink',
  'far_face_laugh': 'far fa-face-laugh',
  'far_face_meh_blank': 'far fa-face-meh-blank',
  'far_face_meh': 'far fa-face-meh',
  'far_face_rolling_eyes': 'far fa-face-rolling-eyes',
  'far_face_sad_cry': 'far fa-face-sad-cry',
  'far_face_sad_tear': 'far fa-face-sad-tear',
  'far_face_smile_beam': 'far fa-face-smile-beam',
  'far_face_smile_wink': 'far fa-face-smile-wink',
  'far_face_smile': 'far fa-face-smile',
  'far_face_surprise': 'far fa-face-surprise',
  'far_face_tired': 'far fa-face-tired',
  'far_file_audio': 'far fa-file-audio',
  'far_file_code': 'far fa-file-code',
  'far_file_excel': 'far fa-file-excel',
  'far_file_image': 'far fa-file-image',
  'far_file_lines': 'far fa-file-lines',
  'far_file_pdf': 'far fa-file-pdf',
  'far_file_powerpoint': 'far fa-file-powerpoint',
  'far_file_video': 'far fa-file-video',
  'far_file_word': 'far fa-file-word',
  'far_file_zipper': 'far fa-file-zipper',
  'far_file': 'far fa-file',
  'far_flag': 'far fa-flag',
  'far_floppy_disk': 'far fa-floppy-disk',
  'far_folder_closed': 'far fa-folder-closed',
  'far_folder_open': 'far fa-folder-open',
  'far_folder': 'far fa-folder',
  'far_font_awesome': 'far fa-font-awesome',
  'far_futbol': 'far fa-futbol',
  'far_gem': 'far fa-gem',
  'far_hand_back_fist': 'far fa-hand-back-fist',
  'far_hand_lizard': 'far fa-hand-lizard',
  'far_hand_peace': 'far fa-hand-peace',
  'far_hand_point_down': 'far fa-hand-point-down',
  'far_hand_point_left': 'far fa-hand-point-left',
  'far_hand_point_right': 'far fa-hand-point-right',
  'far_hand_point_up': 'far fa-hand-point-up',
  'far_hand_pointer': 'far fa-hand-pointer',
  'far_hand_scissors': 'far fa-hand-scissors',
  'far_hand_spock': 'far fa-hand-spock',
  'far_hand': 'far fa-hand',
  'far_handshake': 'far fa-handshake',
  'far_hard_drive': 'far fa-hard-drive',
  'far_heart': 'far fa-heart',
  'far_hospital': 'far fa-hospital',
  'far_hourglass_half': 'far fa-hourglass-half',
  'far_hourglass': 'far fa-hourglass',
  'far_id_badge': 'far fa-id-badge',
  'far_id_card': 'far fa-id-card',
  'far_image': 'far fa-image',
  'far_images': 'far fa-images',
  'far_keyboard': 'far fa-keyboard',
  'far_lemon': 'far fa-lemon',
  'far_life_ring': 'far fa-life-ring',
  'far_lightbulb': 'far fa-lightbulb',
  'far_map': 'far fa-map',
  'far_message': 'far fa-message',
  'far_money_bill_1': 'far fa-money-bill-1',
  'far_moon': 'far fa-moon',
  'far_newspaper': 'far fa-newspaper',
  'far_note_sticky': 'far fa-note-sticky',
  'far_object_group': 'far fa-object-group',
  'far_object_ungroup': 'far fa-object-ungroup',
  'far_paper_plane': 'far fa-paper-plane',
  'far_paste': 'far fa-paste',
  'far_pen_to_square': 'far fa-pen-to-square',
  'far_rectangle_list': 'far fa-rectangle-list',
  'far_rectangle_xmark': 'far fa-rectangle-xmark',
  'far_registered': 'far fa-registered',
  'far_share_from_square': 'far fa-share-from-square',
  'far_snowflake': 'far fa-snowflake',
  'far_square_caret_down': 'far fa-square-caret-down',
  'far_square_caret_left': 'far fa-square-caret-left',
  'far_square_caret_right': 'far fa-square-caret-right',
  'far_square_caret_up': 'far fa-square-caret-up',
  'far_square_check': 'far fa-square-check',
  'far_square_full': 'far fa-square-full',
  'far_square_minus': 'far fa-square-minus',
  'far_square_plus': 'far fa-square-plus',
  'far_square': 'far fa-square',
  'far_star_half_stroke': 'far fa-star-half-stroke',
  'far_star_half': 'far fa-star-half',
  'far_star': 'far fa-star',
  'far_sun': 'far fa-sun',
  'far_thumbs_down': 'far fa-thumbs-down',
  'far_thumbs_up': 'far fa-thumbs-up',
  'far_trash_can': 'far fa-trash-can',
  'far_user': 'far fa-user',
  'far_window_maximize': 'far fa-window-maximize',
  'far_window_minimize': 'far fa-window-minimize',
  'far_window_restore': 'far fa-window-restore',
  //FONT-AWESOME BRANDS
  'fab_42_group': 'fab fa-42-group',
  'fab_500px': 'fab fa-500px',
  'fab_accessible_icon': 'fab fa-accessible-icon',
  'fab_accusoft': 'fab fa-accusoft',
  'fab_adn': 'fab fa-adn',
  'fab_adversal': 'fab fa-adversal',
  'fab_affiliatetheme': 'fab fa-affiliatetheme',
  'fab_airbnb': 'fab fa-airbnb',
  'fab_algolia': 'fab fa-algolia',
  'fab_alipay': 'fab fa-alipay',
  'fab_amazon_pay': 'fab fa-amazon-pay',
  'fab_amazon': 'fab fa-amazon',
  'fab_amilia': 'fab fa-amilia',
  'fab_android': 'fab fa-android',
  'fab_angellist': 'fab fa-angellist',
  'fab_angrycreative': 'fab fa-angrycreative',
  'fab_angular': 'fab fa-angular',
  'fab_app_store_ios': 'fab fa-app-store-ios',
  'fab_app_store': 'fab fa-app-store',
  'fab_apper': 'fab fa-apper',
  'fab_apple_pay': 'fab fa-apple-pay',
  'fab_apple': 'fab fa-apple',
  'fab_artstation': 'fab fa-artstation',
  'fab_asymmetrik': 'fab fa-asymmetrik',
  'fab_atlassian': 'fab fa-atlassian',
  'fab_audible': 'fab fa-audible',
  'fab_autoprefixer': 'fab fa-autoprefixer',
  'fab_avianex': 'fab fa-avianex',
  'fab_aviato': 'fab fa-aviato',
  'fab_aws': 'fab fa-aws',
  'fab_bandcamp': 'fab fa-bandcamp',
  'fab_battle_net': 'fab fa-battle-net',
  'fab_behance': 'fab fa-behance',
  'fab_bilibili': 'fab fa-bilibili',
  'fab_bimobject': 'fab fa-bimobject',
  'fab_bitbucket': 'fab fa-bitbucket',
  'fab_bitcoin': 'fab fa-bitcoin',
  'fab_bity': 'fab fa-bity',
  'fab_black_tie': 'fab fa-black-tie',
  'fab_blackberry': 'fab fa-blackberry',
  'fab_blogger_b': 'fab fa-blogger-b',
  'fab_blogger': 'fab fa-blogger',
  'fab_bluesky': 'fab fa-bluesky',
  'fab_bluetooth_b': 'fab fa-bluetooth-b',
  'fab_bluetooth': 'fab fa-bluetooth',
  'fab_bootstrap': 'fab fa-bootstrap',
  'fab_bots': 'fab fa-bots',
  'fab_brave_reverse': 'fab fa-brave-reverse',
  'fab_brave': 'fab fa-brave',
  'fab_btc': 'fab fa-btc',
  'fab_buffer': 'fab fa-buffer',
  'fab_buromobelexperte': 'fab fa-buromobelexperte',
  'fab_buy_n_large': 'fab fa-buy-n-large',
  'fab_buysellads': 'fab fa-buysellads',
  'fab_canadian_maple_leaf': 'fab fa-canadian-maple-leaf',
  'fab_cc_amazon_pay': 'fab fa-cc-amazon-pay',
  'fab_cc_amex': 'fab fa-cc-amex',
  'fab_cc_apple_pay': 'fab fa-cc-apple-pay',
  'fab_cc_diners_club': 'fab fa-cc-diners-club',
  'fab_cc_discover': 'fab fa-cc-discover',
  'fab_cc_jcb': 'fab fa-cc-jcb',
  'fab_cc_mastercard': 'fab fa-cc-mastercard',
  'fab_cc_paypal': 'fab fa-cc-paypal',
  'fab_cc_stripe': 'fab fa-cc-stripe',
  'fab_cc_visa': 'fab fa-cc-visa',
  'fab_centercode': 'fab fa-centercode',
  'fab_centos': 'fab fa-centos',
  'fab_chrome': 'fab fa-chrome',
  'fab_chromecast': 'fab fa-chromecast',
  'fab_cloudflare': 'fab fa-cloudflare',
  'fab_cloudscale': 'fab fa-cloudscale',
  'fab_cloudsmith': 'fab fa-cloudsmith',
  'fab_cloudversify': 'fab fa-cloudversify',
  'fab_cmplid': 'fab fa-cmplid',
  'fab_codepen': 'fab fa-codepen',
  'fab_codiepie': 'fab fa-codiepie',
  'fab_confluence': 'fab fa-confluence',
  'fab_connectdevelop': 'fab fa-connectdevelop',
  'fab_contao': 'fab fa-contao',
  'fab_cotton_bureau': 'fab fa-cotton-bureau',
  'fab_cpanel': 'fab fa-cpanel',
  'fab_creative_commons_by': 'fab fa-creative-commons-by',
  'fab_creative_commons_nc_eu': 'fab fa-creative-commons-nc-eu',
  'fab_creative_commons_nc_jp': 'fab fa-creative-commons-nc-jp',
  'fab_creative_commons_nc': 'fab fa-creative-commons-nc',
  'fab_creative_commons_nd': 'fab fa-creative-commons-nd',
  'fab_creative_commons_pd_alt': 'fab fa-creative-commons-pd-alt',
  'fab_creative_commons_pd': 'fab fa-creative-commons-pd',
  'fab_creative_commons_remix': 'fab fa-creative-commons-remix',
  'fab_creative_commons_sa': 'fab fa-creative-commons-sa',
  'fab_creative_commons_sampling_plus': 'fab fa-creative-commons-sampling-plus',
  'fab_creative_commons_sampling': 'fab fa-creative-commons-sampling',
  'fab_creative_commons_share': 'fab fa-creative-commons-share',
  'fab_creative_commons_zero': 'fab fa-creative-commons-zero',
  'fab_creative_commons': 'fab fa-creative-commons',
  'fab_critical_role': 'fab fa-critical-role',
  'fab_css3_alt': 'fab fa-css3-alt',
  'fab_css3': 'fab fa-css3',
  'fab_cuttlefish': 'fab fa-cuttlefish',
  'fab_d_and_d_beyond': 'fab fa-d-and-d-beyond',
  'fab_d_and_d': 'fab fa-d-and-d',
  'fab_dailymotion': 'fab fa-dailymotion',
  'fab_dashcube': 'fab fa-dashcube',
  'fab_debian': 'fab fa-debian',
  'fab_deezer': 'fab fa-deezer',
  'fab_delicious': 'fab fa-delicious',
  'fab_deploydog': 'fab fa-deploydog',
  'fab_deskpro': 'fab fa-deskpro',
  'fab_dev': 'fab fa-dev',
  'fab_deviantart': 'fab fa-deviantart',
  'fab_dhl': 'fab fa-dhl',
  'fab_diaspora': 'fab fa-diaspora',
  'fab_digg': 'fab fa-digg',
  'fab_digital_ocean': 'fab fa-digital-ocean',
  'fab_discord': 'fab fa-discord',
  'fab_discourse': 'fab fa-discourse',
  'fab_dochub': 'fab fa-dochub',
  'fab_docker': 'fab fa-docker',
  'fab_draft2digital': 'fab fa-draft2digital',
  'fab_dribbble': 'fab fa-dribbble',
  'fab_dropbox': 'fab fa-dropbox',
  'fab_drupal': 'fab fa-drupal',
  'fab_dyalog': 'fab fa-dyalog',
  'fab_earlybirds': 'fab fa-earlybirds',
  'fab_ebay': 'fab fa-ebay',
  'fab_edge_legacy': 'fab fa-edge-legacy',
  'fab_edge': 'fab fa-edge',
  'fab_elementor': 'fab fa-elementor',
  'fab_ello': 'fab fa-ello',
  'fab_ember': 'fab fa-ember',
  'fab_empire': 'fab fa-empire',
  'fab_envira': 'fab fa-envira',
  'fab_erlang': 'fab fa-erlang',
  'fab_ethereum': 'fab fa-ethereum',
  'fab_etsy': 'fab fa-etsy',
  'fab_evernote': 'fab fa-evernote',
  'fab_expeditedssl': 'fab fa-expeditedssl',
  'fab_facebook_f': 'fab fa-facebook-f',
  'fab_facebook_messenger': 'fab fa-facebook-messenger',
  'fab_facebook': 'fab fa-facebook',
  'fab_fantasy_flight_games': 'fab fa-fantasy-flight-games',
  'fab_fedex': 'fab fa-fedex',
  'fab_fedora': 'fab fa-fedora',
  'fab_figma': 'fab fa-figma',
  'fab_firefox_browser': 'fab fa-firefox-browser',
  'fab_firefox': 'fab fa-firefox',
  'fab_first_order_alt': 'fab fa-first-order-alt',
  'fab_first_order': 'fab fa-first-order',
  'fab_firstdraft': 'fab fa-firstdraft',
  'fab_flickr': 'fab fa-flickr',
  'fab_flipboard': 'fab fa-flipboard',
  'fab_fly': 'fab fa-fly',
  'fab_font_awesome': 'fab fa-font-awesome',
  'fab_fonticons_fi': 'fab fa-fonticons-fi',
  'fab_fonticons': 'fab fa-fonticons',
  'fab_fort_awesome_alt': 'fab fa-fort-awesome-alt',
  'fab_fort_awesome': 'fab fa-fort-awesome',
  'fab_forumbee': 'fab fa-forumbee',
  'fab_foursquare': 'fab fa-foursquare',
  'fab_free_code_camp': 'fab fa-free-code-camp',
  'fab_freebsd': 'fab fa-freebsd',
  'fab_fulcrum': 'fab fa-fulcrum',
  'fab_galactic_republic': 'fab fa-galactic-republic',
  'fab_galactic_senate': 'fab fa-galactic-senate',
  'fab_get_pocket': 'fab fa-get-pocket',
  'fab_gg_circle': 'fab fa-gg-circle',
  'fab_gg': 'fab fa-gg',
  'fab_git_alt': 'fab fa-git-alt',
  'fab_git': 'fab fa-git',
  'fab_github_alt': 'fab fa-github-alt',
  'fab_github': 'fab fa-github',
  'fab_gitkraken': 'fab fa-gitkraken',
  'fab_gitlab': 'fab fa-gitlab',
  'fab_gitter': 'fab fa-gitter',
  'fab_glide_g': 'fab fa-glide-g',
  'fab_glide': 'fab fa-glide',
  'fab_gofore': 'fab fa-gofore',
  'fab_golang': 'fab fa-golang',
  'fab_goodreads_g': 'fab fa-goodreads-g',
  'fab_goodreads': 'fab fa-goodreads',
  'fab_google_drive': 'fab fa-google-drive',
  'fab_google_pay': 'fab fa-google-pay',
  'fab_google_play': 'fab fa-google-play',
  'fab_google_plus_g': 'fab fa-google-plus-g',
  'fab_google_plus': 'fab fa-google-plus',
  'fab_google_scholar': 'fab fa-google-scholar',
  'fab_google_wallet': 'fab fa-google-wallet',
  'fab_google': 'fab fa-google',
  'fab_gratipay': 'fab fa-gratipay',
  'fab_grav': 'fab fa-grav',
  'fab_gripfire': 'fab fa-gripfire',
  'fab_grunt': 'fab fa-grunt',
  'fab_guilded': 'fab fa-guilded',
  'fab_gulp': 'fab fa-gulp',
  'fab_hacker_news': 'fab fa-hacker-news',
  'fab_hackerrank': 'fab fa-hackerrank',
  'fab_hashnode': 'fab fa-hashnode',
  'fab_hips': 'fab fa-hips',
  'fab_hire_a_helper': 'fab fa-hire-a-helper',
  'fab_hive': 'fab fa-hive',
  'fab_hooli': 'fab fa-hooli',
  'fab_hornbill': 'fab fa-hornbill',
  'fab_hotjar': 'fab fa-hotjar',
  'fab_houzz': 'fab fa-houzz',
  'fab_html5': 'fab fa-html5',
  'fab_hubspot': 'fab fa-hubspot',
  'fab_ideal': 'fab fa-ideal',
  'fab_imdb': 'fab fa-imdb',
  'fab_instagram': 'fab fa-instagram',
  'fab_instalod': 'fab fa-instalod',
  'fab_intercom': 'fab fa-intercom',
  'fab_internet_explorer': 'fab fa-internet-explorer',
  'fab_invision': 'fab fa-invision',
  'fab_ioxhost': 'fab fa-ioxhost',
  'fab_itch_io': 'fab fa-itch-io',
  'fab_itunes_note': 'fab fa-itunes-note',
  'fab_itunes': 'fab fa-itunes',
  'fab_java': 'fab fa-java',
  'fab_jedi_order': 'fab fa-jedi-order',
  'fab_jenkins': 'fab fa-jenkins',
  'fab_jira': 'fab fa-jira',
  'fab_joget': 'fab fa-joget',
  'fab_joomla': 'fab fa-joomla',
  'fab_js': 'fab fa-js',
  'fab_jsfiddle': 'fab fa-jsfiddle',
  'fab_jxl': 'fab fa-jxl',
  'fab_kaggle': 'fab fa-kaggle',
  'fab_keybase': 'fab fa-keybase',
  'fab_keycdn': 'fab fa-keycdn',
  'fab_kickstarter_k': 'fab fa-kickstarter-k',
  'fab_kickstarter': 'fab fa-kickstarter',
  'fab_korvue': 'fab fa-korvue',
  'fab_laravel': 'fab fa-laravel',
  'fab_lastfm': 'fab fa-lastfm',
  'fab_leanpub': 'fab fa-leanpub',
  'fab_less': 'fab fa-less',
  'fab_letterboxd': 'fab fa-letterboxd',
  'fab_line': 'fab fa-line',
  'fab_linkedin_in': 'fab fa-linkedin-in',
  'fab_linkedin': 'fab fa-linkedin',
  'fab_linode': 'fab fa-linode',
  'fab_linux': 'fab fa-linux',
  'fab_lyft': 'fab fa-lyft',
  'fab_magento': 'fab fa-magento',
  'fab_mailchimp': 'fab fa-mailchimp',
  'fab_mandalorian': 'fab fa-mandalorian',
  'fab_markdown': 'fab fa-markdown',
  'fab_mastodon': 'fab fa-mastodon',
  'fab_maxcdn': 'fab fa-maxcdn',
  'fab_mdb': 'fab fa-mdb',
  'fab_medapps': 'fab fa-medapps',
  'fab_medium': 'fab fa-medium',
  'fab_medrt': 'fab fa-medrt',
  'fab_meetup': 'fab fa-meetup',
  'fab_megaport': 'fab fa-megaport',
  'fab_mendeley': 'fab fa-mendeley',
  'fab_meta': 'fab fa-meta',
  'fab_microblog': 'fab fa-microblog',
  'fab_microsoft': 'fab fa-microsoft',
  'fab_mintbit': 'fab fa-mintbit',
  'fab_mix': 'fab fa-mix',
  'fab_mixcloud': 'fab fa-mixcloud',
  'fab_mixer': 'fab fa-mixer',
  'fab_mizuni': 'fab fa-mizuni',
  'fab_modx': 'fab fa-modx',
  'fab_monero': 'fab fa-monero',
  'fab_napster': 'fab fa-napster',
  'fab_neos': 'fab fa-neos',
  'fab_nfc_directional': 'fab fa-nfc-directional',
  'fab_nfc_symbol': 'fab fa-nfc-symbol',
  'fab_nimblr': 'fab fa-nimblr',
  'fab_node_js': 'fab fa-node-js',
  'fab_node': 'fab fa-node',
  'fab_npm': 'fab fa-npm',
  'fab_ns8': 'fab fa-ns8',
  'fab_nutritionix': 'fab fa-nutritionix',
  'fab_octopus_deploy': 'fab fa-octopus-deploy',
  'fab_odnoklassniki': 'fab fa-odnoklassniki',
  'fab_odysee': 'fab fa-odysee',
  'fab_old_republic': 'fab fa-old-republic',
  'fab_opencart': 'fab fa-opencart',
  'fab_openid': 'fab fa-openid',
  'fab_opensuse': 'fab fa-opensuse',
  'fab_opera': 'fab fa-opera',
  'fab_optin_monster': 'fab fa-optin-monster',
  'fab_orcid': 'fab fa-orcid',
  'fab_osi': 'fab fa-osi',
  'fab_padlet': 'fab fa-padlet',
  'fab_page4': 'fab fa-page4',
  'fab_pagelines': 'fab fa-pagelines',
  'fab_palfed': 'fab fa-palfed',
  'fab_patreon': 'fab fa-patreon',
  'fab_paypal': 'fab fa-paypal',
  'fab_perbyte': 'fab fa-perbyte',
  'fab_periscope': 'fab fa-periscope',
  'fab_phabricator': 'fab fa-phabricator',
  'fab_phoenix_framework': 'fab fa-phoenix-framework',
  'fab_phoenix_squadron': 'fab fa-phoenix-squadron',
  'fab_php': 'fab fa-php',
  'fab_pied_piper_alt': 'fab fa-pied-piper-alt',
  'fab_pied_piper_hat': 'fab fa-pied-piper-hat',
  'fab_pied_piper_pp': 'fab fa-pied-piper-pp',
  'fab_pied_piper': 'fab fa-pied-piper',
  'fab_pinterest_p': 'fab fa-pinterest-p',
  'fab_pinterest': 'fab fa-pinterest',
  'fab_pix': 'fab fa-pix',
  'fab_pixiv': 'fab fa-pixiv',
  'fab_playstation': 'fab fa-playstation',
  'fab_product_hunt': 'fab fa-product-hunt',
  'fab_pushed': 'fab fa-pushed',
  'fab_python': 'fab fa-python',
  'fab_qq': 'fab fa-qq',
  'fab_quinscape': 'fab fa-quinscape',
  'fab_quora': 'fab fa-quora',
  'fab_r_project': 'fab fa-r-project',
  'fab_raspberry_pi': 'fab fa-raspberry-pi',
  'fab_ravelry': 'fab fa-ravelry',
  'fab_react': 'fab fa-react',
  'fab_reacteurope': 'fab fa-reacteurope',
  'fab_readme': 'fab fa-readme',
  'fab_rebel': 'fab fa-rebel',
  'fab_red_river': 'fab fa-red-river',
  'fab_reddit_alien': 'fab fa-reddit-alien',
  'fab_reddit': 'fab fa-reddit',
  'fab_redhat': 'fab fa-redhat',
  'fab_renren': 'fab fa-renren',
  'fab_replyd': 'fab fa-replyd',
  'fab_researchgate': 'fab fa-researchgate',
  'fab_resolving': 'fab fa-resolving',
  'fab_rev': 'fab fa-rev',
  'fab_rocketchat': 'fab fa-rocketchat',
  'fab_rockrms': 'fab fa-rockrms',
  'fab_rust': 'fab fa-rust',
  'fab_safari': 'fab fa-safari',
  'fab_salesforce': 'fab fa-salesforce',
  'fab_sass': 'fab fa-sass',
  'fab_schlix': 'fab fa-schlix',
  'fab_screenpal': 'fab fa-screenpal',
  'fab_scribd': 'fab fa-scribd',
  'fab_searchengin': 'fab fa-searchengin',
  'fab_sellcast': 'fab fa-sellcast',
  'fab_sellsy': 'fab fa-sellsy',
  'fab_servicestack': 'fab fa-servicestack',
  'fab_shirtsinbulk': 'fab fa-shirtsinbulk',
  'fab_shoelace': 'fab fa-shoelace',
  'fab_shopify': 'fab fa-shopify',
  'fab_shopware': 'fab fa-shopware',
  'fab_signal_messenger': 'fab fa-signal-messenger',
  'fab_simplybuilt': 'fab fa-simplybuilt',
  'fab_sistrix': 'fab fa-sistrix',
  'fab_sith': 'fab fa-sith',
  'fab_sitrox': 'fab fa-sitrox',
  'fab_sketch': 'fab fa-sketch',
  'fab_skyatlas': 'fab fa-skyatlas',
  'fab_skype': 'fab fa-skype',
  'fab_slack': 'fab fa-slack',
  'fab_slideshare': 'fab fa-slideshare',
  'fab_snapchat': 'fab fa-snapchat',
  'fab_soundcloud': 'fab fa-soundcloud',
  'fab_sourcetree': 'fab fa-sourcetree',
  'fab_space_awesome': 'fab fa-space-awesome',
  'fab_speakap': 'fab fa-speakap',
  'fab_speaker_deck': 'fab fa-speaker-deck',
  'fab_spotify': 'fab fa-spotify',
  'fab_square_behance': 'fab fa-square-behance',
  'fab_square_dribbble': 'fab fa-square-dribbble',
  'fab_square_facebook': 'fab fa-square-facebook',
  'fab_square_font_awesome_stroke': 'fab fa-square-font-awesome-stroke',
  'fab_square_font_awesome': 'fab fa-square-font-awesome',
  'fab_square_git': 'fab fa-square-git',
  'fab_square_github': 'fab fa-square-github',
  'fab_square_gitlab': 'fab fa-square-gitlab',
  'fab_square_google_plus': 'fab fa-square-google-plus',
  'fab_square_hacker_news': 'fab fa-square-hacker-news',
  'fab_square_instagram': 'fab fa-square-instagram',
  'fab_square_js': 'fab fa-square-js',
  'fab_square_lastfm': 'fab fa-square-lastfm',
  'fab_square_letterboxd': 'fab fa-square-letterboxd',
  'fab_square_odnoklassniki': 'fab fa-square-odnoklassniki',
  'fab_square_pied_piper': 'fab fa-square-pied-piper',
  'fab_square_pinterest': 'fab fa-square-pinterest',
  'fab_square_reddit': 'fab fa-square-reddit',
  'fab_square_snapchat': 'fab fa-square-snapchat',
  'fab_square_steam': 'fab fa-square-steam',
  'fab_square_threads': 'fab fa-square-threads',
  'fab_square_tumblr': 'fab fa-square-tumblr',
  'fab_square_twitter': 'fab fa-square-twitter',
  'fab_square_upwork': 'fab fa-square-upwork',
  'fab_square_viadeo': 'fab fa-square-viadeo',
  'fab_square_vimeo': 'fab fa-square-vimeo',
  'fab_square_web_awesome_stroke': 'fab fa-square-web-awesome-stroke',
  'fab_square_web_awesome': 'fab fa-square-web-awesome',
  'fab_square_whatsapp': 'fab fa-square-whatsapp',
  'fab_square_x_twitter': 'fab fa-square-x-twitter',
  'fab_square_xing': 'fab fa-square-xing',
  'fab_square_youtube': 'fab fa-square-youtube',
  'fab_squarespace': 'fab fa-squarespace',
  'fab_stack_exchange': 'fab fa-stack-exchange',
  'fab_stack_overflow': 'fab fa-stack-overflow',
  'fab_stackpath': 'fab fa-stackpath',
  'fab_staylinked': 'fab fa-staylinked',
  'fab_steam_symbol': 'fab fa-steam-symbol',
  'fab_steam': 'fab fa-steam',
  'fab_sticker_mule': 'fab fa-sticker-mule',
  'fab_strava': 'fab fa-strava',
  'fab_stripe_s': 'fab fa-stripe-s',
  'fab_stripe': 'fab fa-stripe',
  'fab_stubber': 'fab fa-stubber',
  'fab_studiovinari': 'fab fa-studiovinari',
  'fab_stumbleupon_circle': 'fab fa-stumbleupon-circle',
  'fab_stumbleupon': 'fab fa-stumbleupon',
  'fab_superpowers': 'fab fa-superpowers',
  'fab_supple': 'fab fa-supple',
  'fab_suse': 'fab fa-suse',
  'fab_swift': 'fab fa-swift',
  'fab_symfony': 'fab fa-symfony',
  'fab_teamspeak': 'fab fa-teamspeak',
  'fab_telegram': 'fab fa-telegram',
  'fab_tencent_weibo': 'fab fa-tencent-weibo',
  'fab_the_red_yeti': 'fab fa-the-red-yeti',
  'fab_themeco': 'fab fa-themeco',
  'fab_themeisle': 'fab fa-themeisle',
  'fab_think_peaks': 'fab fa-think-peaks',
  'fab_threads': 'fab fa-threads',
  'fab_tiktok': 'fab fa-tiktok',
  'fab_trade_federation': 'fab fa-trade-federation',
  'fab_trello': 'fab fa-trello',
  'fab_tumblr': 'fab fa-tumblr',
  'fab_twitch': 'fab fa-twitch',
  'fab_twitter': 'fab fa-twitter',
  'fab_typo3': 'fab fa-typo3',
  'fab_uber': 'fab fa-uber',
  'fab_ubuntu': 'fab fa-ubuntu',
  'fab_uikit': 'fab fa-uikit',
  'fab_umbraco': 'fab fa-umbraco',
  'fab_uncharted': 'fab fa-uncharted',
  'fab_uniregistry': 'fab fa-uniregistry',
  'fab_unity': 'fab fa-unity',
  'fab_unsplash': 'fab fa-unsplash',
  'fab_untappd': 'fab fa-untappd',
  'fab_ups': 'fab fa-ups',
  'fab_upwork': 'fab fa-upwork',
  'fab_usb': 'fab fa-usb',
  'fab_usps': 'fab fa-usps',
  'fab_ussunnah': 'fab fa-ussunnah',
  'fab_vaadin': 'fab fa-vaadin',
  'fab_viacoin': 'fab fa-viacoin',
  'fab_viadeo': 'fab fa-viadeo',
  'fab_viber': 'fab fa-viber',
  'fab_vimeo_v': 'fab fa-vimeo-v',
  'fab_vimeo': 'fab fa-vimeo',
  'fab_vine': 'fab fa-vine',
  'fab_vk': 'fab fa-vk',
  'fab_vnv': 'fab fa-vnv',
  'fab_vuejs': 'fab fa-vuejs',
  'fab_watchman_monitoring': 'fab fa-watchman-monitoring',
  'fab_waze': 'fab fa-waze',
  'fab_web_awesome': 'fab fa-web-awesome',
  'fab_webflow': 'fab fa-webflow',
  'fab_weebly': 'fab fa-weebly',
  'fab_weibo': 'fab fa-weibo',
  'fab_weixin': 'fab fa-weixin',
  'fab_whatsapp': 'fab fa-whatsapp',
  'fab_whmcs': 'fab fa-whmcs',
  'fab_wikipedia_w': 'fab fa-wikipedia-w',
  'fab_windows': 'fab fa-windows',
  'fab_wirsindhandwerk': 'fab fa-wirsindhandwerk',
  'fab_wix': 'fab fa-wix',
  'fab_wizards_of_the_coast': 'fab fa-wizards-of-the-coast',
  'fab_wodu': 'fab fa-wodu',
  'fab_wolf_pack_battalion': 'fab fa-wolf-pack-battalion',
  'fab_wordpress_simple': 'fab fa-wordpress-simple',
  'fab_wordpress': 'fab fa-wordpress',
  'fab_wpbeginner': 'fab fa-wpbeginner',
  'fab_wpexplorer': 'fab fa-wpexplorer',
  'fab_wpforms': 'fab fa-wpforms',
  'fab_wpressr': 'fab fa-wpressr',
  'fab_x_twitter': 'fab fa-x-twitter',
  'fab_xbox': 'fab fa-xbox',
  'fab_xing': 'fab fa-xing',
  'fab_y_combinator': 'fab fa-y-combinator',
  'fab_yahoo': 'fab fa-yahoo',
  'fab_yammer': 'fab fa-yammer',
  'fab_yandex_international': 'fab fa-yandex-international',
  'fab_yandex': 'fab fa-yandex',
  'fab_yarn': 'fab fa-yarn',
  'fab_yelp': 'fab fa-yelp',
  'fab_yoast': 'fab fa-yoast',
  'fab_youtube': 'fab fa-youtube',
  'fab_zhihu': 'fab fa-zhihu'
};
var _default = exports["default"] = fontAwesome;
},{}],309:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
/* eslint-disable max-lines */

// This is a subset of the library of icons at game-icons.net -- the subset is from RPG-Awesome repo

// The entire font can be downloaded as svg from game-icons.net,
// and then loaded through icomoon.io to create webfont from svg,
// and the css font file can be turned into below list using regex
// regex used: \.([^:-]*)-([^:]*)(.*)
// substitution: "$1$2" : "$1-$2",

var gameIcons = {
  'gi_zigzag_leaf': 'gi zigzag-leaf',
  'gi_zebra_shield': 'gi zebra-shield',
  'gi_x_mark': 'gi x-mark',
  'gi_wyvern': 'gi wyvern',
  'gi_wrench': 'gi wrench',
  'gi_wooden_sign': 'gi wooden-sign',
  'gi_wolf_howl': 'gi wolf-howl',
  'gi_wolf_head': 'gi wolf-head',
  'gi_wireless_signal': 'gi wireless-signal',
  'gi_wifi': 'gi wifi',
  'gi_water_drop': 'gi water-drop',
  'gi_virgo': 'gi virgo',
  'gi_vine_whip': 'gi vine-whip',
  'gi_vial': 'gi vial',
  'gi_vest': 'gi vest',
  'gi_venomous_snake': 'gi venomous-snake',
  'gi_vase': 'gi vase',
  'gi_unplugged': 'gi unplugged',
  'gi_underhand': 'gi underhand',
  'gi_uncertainty': 'gi uncertainty',
  'gi_two_hearts': 'gi two-hearts',
  'gi_two_dragons': 'gi two-dragons',
  'gi_turd': 'gi turd',
  'gi_trophy': 'gi trophy',
  'gi_triforce': 'gi triforce',
  'gi_trident': 'gi trident',
  'gi_trefoil_lily': 'gi trefoil-lily',
  'gi_trail': 'gi trail',
  'gi_tower': 'gi tower',
  'gi_torch': 'gi torch',
  'gi_tooth': 'gi tooth',
  'gi_tombstone': 'gi tombstone',
  'gi_toast': 'gi toast',
  'gi_tic_tac_toe': 'gi tic-tac-toe',
  'gi_three_keys': 'gi three-keys',
  'gi_thorny_vine': 'gi thorny-vine',
  'gi_thorn_arrow': 'gi thorn-arrow',
  'gi_tesla': 'gi tesla',
  'gi_tentacle': 'gi tentacle',
  'gi_telescope': 'gi telescope',
  'gi_taurus': 'gi taurus',
  'gi_targeted': 'gi targeted',
  'gi_target_laser': 'gi target-laser',
  'gi_target_arrows': 'gi target-arrows',
  'gi_syringe': 'gi syringe',
  'gi_surveillance_camera': 'gi surveillance-camera',
  'gi_supersonic_arrow': 'gi supersonic-arrow',
  'gi_super_mushroom': 'gi super-mushroom',
  'gi_sunbeams': 'gi sunbeams',
  'gi_sun': 'gi sun',
  'gi_sun_symbol': 'gi sun-symbol',
  'gi_suits': 'gi suits',
  'gi_suckered_tentacle': 'gi suckered-tentacle',
  'gi_stopwatch': 'gi stopwatch',
  'gi_sprout': 'gi sprout',
  'gi_sprout_emblem': 'gi sprout-emblem',
  'gi_spray_can': 'gi spray-can',
  'gi_splash': 'gi splash',
  'gi_spiral_shell': 'gi spiral-shell',
  'gi_spinning_sword': 'gi spinning-sword',
  'gi_spiked_tentacle': 'gi spiked-tentacle',
  'gi_spiked_mace': 'gi spiked-mace',
  'gi_spikeball': 'gi spikeball',
  'gi_spider_face': 'gi spider-face',
  'gi_speech_bubbles': 'gi speech-bubbles',
  'gi_speech_bubble': 'gi speech-bubble',
  'gi_spear_head': 'gi spear-head',
  'gi_spawn_node': 'gi spawn-node',
  'gi_spades': 'gi spades',
  'gi_spades_card': 'gi spades-card',
  'gi_soccer_ball': 'gi soccer-ball',
  'gi_snowflake': 'gi snowflake',
  'gi_snorkel': 'gi snorkel',
  'gi_snake': 'gi snake',
  'gi_snail': 'gi snail',
  'gi_small_fire': 'gi small-fire',
  'gi_slash_ring': 'gi slash-ring',
  'gi_skull': 'gi skull',
  'gi_skull_trophy': 'gi skull-trophy',
  'gi_site': 'gi site',
  'gi_sideswipe': 'gi sideswipe',
  'gi_sickle': 'gi sickle',
  'gi_shuriken': 'gi shuriken',
  'gi_shovel': 'gi shovel',
  'gi_shotgun_shell': 'gi shotgun-shell',
  'gi_shot_through_the_heart': 'gi shot-through-the-heart',
  'gi_shoe_prints': 'gi shoe-prints',
  'gi_ship_emblem': 'gi ship-emblem',
  'gi_shield': 'gi shield',
  'gi_sheriff': 'gi sheriff',
  'gi_sheep': 'gi sheep',
  'gi_shark': 'gi shark',
  'gi_seagull': 'gi seagull',
  'gi_sea_serpent': 'gi sea-serpent',
  'gi_scythe': 'gi scythe',
  'gi_scroll_unfurled': 'gi scroll-unfurled',
  'gi_scorpio': 'gi scorpio',
  'gi_save': 'gi save',
  'gi_satellite': 'gi satellite',
  'gi_sapphire': 'gi sapphire',
  'gi_sagittarius': 'gi sagittarius',
  'gi_rune_stone': 'gi rune-stone',
  'gi_rss': 'gi rss',
  'gi_round_shield': 'gi round-shield',
  'gi_round_bottom_flask': 'gi round-bottom-flask',
  'gi_robot_arm': 'gi robot-arm',
  'gi_roast_chicken': 'gi roast-chicken',
  'gi_ringing_bell': 'gi ringing-bell',
  'gi_rifle': 'gi rifle',
  'gi_revolver': 'gi revolver',
  'gi_reverse': 'gi reverse',
  'gi_repair': 'gi repair',
  'gi_relic_blade': 'gi relic-blade',
  'gi_regeneration': 'gi regeneration',
  'gi_recycle': 'gi recycle',
  'gi_reactor': 'gi reactor',
  'gi_raven': 'gi raven',
  'gi_radioactive': 'gi radioactive',
  'gi_radial_balance': 'gi radial-balance',
  'gi_radar_dish': 'gi radar-dish',
  'gi_rabbit': 'gi rabbit',
  'gi_quill_ink': 'gi quill-ink',
  'gi_queen_crown': 'gi queen-crown',
  'gi_pyramids': 'gi pyramids',
  'gi_potion': 'gi potion',
  'gi_poison_cloud': 'gi poison-cloud',
  'gi_podium': 'gi podium',
  'gi_player': 'gi player',
  'gi_player_thunder_struck': 'gi player-thunder-struck',
  'gi_player_teleport': 'gi player-teleport',
  'gi_player_shot': 'gi player-shot',
  'gi_player_pyromaniac': 'gi player-pyromaniac',
  'gi_player_pain': 'gi player-pain',
  'gi_player_lift': 'gi player-lift',
  'gi_player_king': 'gi player-king',
  'gi_player_dodge': 'gi player-dodge',
  'gi_player_despair': 'gi player-despair',
  'gi_plain_dagger': 'gi plain-dagger',
  'gi_pisces': 'gi pisces',
  'gi_ping_pong': 'gi ping-pong',
  'gi_pine_tree': 'gi pine-tree',
  'gi_pills': 'gi pills',
  'gi_pill': 'gi pill',
  'gi_perspective_dice_three': 'gi perspective-dice-three',
  'gi_perspective_dice_six': 'gi perspective-dice-six',
  'gi_perspective_dice_six_two': 'gi perspective-dice-six-two',
  'gi_perspective_dice_random': 'gi perspective-dice-random',
  'gi_perspective_dice_one': 'gi perspective-dice-one',
  'gi_perspective_dice_four': 'gi perspective-dice-four',
  'gi_perspective_dice_five': 'gi perspective-dice-five',
  'gi_pawprint': 'gi pawprint',
  'gi_pawn': 'gi pawn',
  'gi_palm_tree': 'gi palm-tree',
  'gi_overmind': 'gi overmind',
  'gi_overhead': 'gi overhead',
  'gi_ophiuchus': 'gi ophiuchus',
  'gi_on_target': 'gi on-target',
  'gi_omega': 'gi omega',
  'gi_octopus': 'gi octopus',
  'gi_ocean_emblem': 'gi ocean-emblem',
  'gi_ocarina': 'gi ocarina',
  'gi_nuclear': 'gi nuclear',
  'gi_noose': 'gi noose',
  'gi_nodular': 'gi nodular',
  'gi_nails': 'gi nails',
  'gi_musket': 'gi musket',
  'gi_muscle_up': 'gi muscle-up',
  'gi_muscle_fat': 'gi muscle-fat',
  'gi_mp5': 'gi mp5',
  'gi_moon_sun': 'gi moon-sun',
  'gi_montains': 'gi montains',
  'gi_monster_skull': 'gi monster-skull',
  'gi_mirror': 'gi mirror',
  'gi_mining_diamonds': 'gi mining-diamonds',
  'gi_mine_wagon': 'gi mine-wagon',
  'gi_microphone': 'gi microphone',
  'gi_metal_gate': 'gi metal-gate',
  'gi_medical_pack': 'gi medical-pack',
  'gi_meat': 'gi meat',
  'gi_meat_hook': 'gi meat-hook',
  'gi_match': 'gi match',
  'gi_mass_driver': 'gi mass-driver',
  'gi_magnet': 'gi magnet',
  'gi_maggot': 'gi maggot',
  'gi_love_howl': 'gi love-howl',
  'gi_locked_fortress': 'gi locked-fortress',
  'gi_load': 'gi load',
  'gi_lit_candelabra': 'gi lit-candelabra',
  'gi_lion': 'gi lion',
  'gi_lightning': 'gi lightning',
  'gi_lightning_trio': 'gi lightning-trio',
  'gi_lightning_sword': 'gi lightning-sword',
  'gi_lightning_storm': 'gi lightning-storm',
  'gi_lightning_bolt': 'gi lightning-bolt',
  'gi_lighthouse': 'gi lighthouse',
  'gi_light_bulb': 'gi light-bulb',
  'gi_libra': 'gi libra',
  'gi_lever': 'gi lever',
  'gi_level_two': 'gi level-two',
  'gi_level_two_advanced': 'gi level-two-advanced',
  'gi_level_three': 'gi level-three',
  'gi_level_three_advanced': 'gi level-three-advanced',
  'gi_level_four': 'gi level-four',
  'gi_level_four_advanced': 'gi level-four-advanced',
  'gi_leo': 'gi leo',
  'gi_leaf': 'gi leaf',
  'gi_lava': 'gi lava',
  'gi_laser_site': 'gi laser-site',
  'gi_laser_blast': 'gi laser-blast',
  'gi_large_hammer': 'gi large-hammer',
  'gi_lantern_flame': 'gi lantern-flame',
  'gi_kunai': 'gi kunai',
  'gi_knight_helmet': 'gi knight-helmet',
  'gi_knife': 'gi knife',
  'gi_knife_fork': 'gi knife-fork',
  'gi_kitchen_knives': 'gi kitchen-knives',
  'gi_key': 'gi key',
  'gi_key_basic': 'gi key-basic',
  'gi_kettlebell': 'gi kettlebell',
  'gi_kaleidoscope': 'gi kaleidoscope',
  'gi_jigsaw_piece': 'gi jigsaw-piece',
  'gi_jetpack': 'gi jetpack',
  'gi_interdiction': 'gi interdiction',
  'gi_insect_jaws': 'gi insect-jaws',
  'gi_incense': 'gi incense',
  'gi_implosion': 'gi implosion',
  'gi_ice_cube': 'gi ice-cube',
  'gi_hydra': 'gi hydra',
  'gi_hydra_shot': 'gi hydra-shot',
  'gi_hourglass': 'gi hourglass',
  'gi_hot_surface': 'gi hot-surface',
  'gi_hospital_cross': 'gi hospital-cross',
  'gi_horseshoe': 'gi horseshoe',
  'gi_horns': 'gi horns',
  'gi_horn_call': 'gi horn-call',
  'gi_hood': 'gi hood',
  'gi_honeycomb': 'gi honeycomb',
  'gi_hole_ladder': 'gi hole-ladder',
  'gi_hive_emblem': 'gi hive-emblem',
  'gi_help': 'gi help',
  'gi_helmet': 'gi helmet',
  'gi_heavy_shield': 'gi heavy-shield',
  'gi_heavy_fall': 'gi heavy-fall',
  'gi_heat_haze': 'gi heat-haze',
  'gi_hearts': 'gi hearts',
  'gi_hearts_card': 'gi hearts-card',
  'gi_heartburn': 'gi heartburn',
  'gi_heart_tower': 'gi heart-tower',
  'gi_heart_bottle': 'gi heart-bottle',
  'gi_health': 'gi health',
  'gi_health_increase': 'gi health-increase',
  'gi_health_decrease': 'gi health-decrease',
  'gi_harpoon_trident': 'gi harpoon-trident',
  'gi_hand': 'gi hand',
  'gi_hand_saw': 'gi hand-saw',
  'gi_hand_emblem': 'gi hand-emblem',
  'gi_hammer': 'gi hammer',
  'gi_hammer_drop': 'gi hammer-drop',
  'gi_halberd': 'gi halberd',
  'gi_guillotine': 'gi guillotine',
  'gi_guarded_tower': 'gi guarded-tower',
  'gi_groundbreaker': 'gi groundbreaker',
  'gi_grenade': 'gi grenade',
  'gi_grass': 'gi grass',
  'gi_grass_patch': 'gi grass-patch',
  'gi_grappling_hook': 'gi grappling-hook',
  'gi_gold_bar': 'gi gold-bar',
  'gi_gloop': 'gi gloop',
  'gi_glass_heart': 'gi glass-heart',
  'gi_gemini': 'gi gemini',
  'gi_gem': 'gi gem',
  'gi_gem_pendant': 'gi gem-pendant',
  'gi_gecko': 'gi gecko',
  'gi_gears': 'gi gears',
  'gi_gear_heart': 'gi gear-heart',
  'gi_gear_hammer': 'gi gear-hammer',
  'gi_gavel': 'gi gavel',
  'gi_gamepad_cross': 'gi gamepad-cross',
  'gi_frozen_arrow': 'gi frozen-arrow',
  'gi_frostfire': 'gi frostfire',
  'gi_frost_emblem': 'gi frost-emblem',
  'gi_fox': 'gi fox',
  'gi_forward': 'gi forward',
  'gi_forging': 'gi forging',
  'gi_footprint': 'gi footprint',
  'gi_food_chain': 'gi food-chain',
  'gi_focused_lightning': 'gi focused-lightning',
  'gi_fluffy_swirl': 'gi fluffy-swirl',
  'gi_flowers': 'gi flowers',
  'gi_flower': 'gi flower',
  'gi_flat_hammer': 'gi flat-hammer',
  'gi_flask': 'gi flask',
  'gi_flaming_trident': 'gi flaming-trident',
  'gi_flaming_claw': 'gi flaming-claw',
  'gi_flaming_arrow': 'gi flaming-arrow',
  'gi_flame_symbol': 'gi flame-symbol',
  'gi_fizzing_flask': 'gi fizzing-flask',
  'gi_fish': 'gi fish',
  'gi_fireball_sword': 'gi fireball-sword',
  'gi_fire': 'gi fire',
  'gi_fire_symbol': 'gi fire-symbol',
  'gi_fire_shield': 'gi fire-shield',
  'gi_fire_ring': 'gi fire-ring',
  'gi_fire_breath': 'gi fire-breath',
  'gi_fire_bomb': 'gi fire-bomb',
  'gi_fedora': 'gi fedora',
  'gi_feathered_wing': 'gi feathered-wing',
  'gi_feather_wing': 'gi feather-wing',
  'gi_fast_ship': 'gi fast-ship',
  'gi_falling': 'gi falling',
  'gi_fall_down': 'gi fall-down',
  'gi_fairy': 'gi fairy',
  'gi_fairy_wand': 'gi fairy-wand',
  'gi_eyeball': 'gi eyeball',
  'gi_eye_shield': 'gi eye-shield',
  'gi_eye_monster': 'gi eye-monster',
  'gi_explosive_materials': 'gi explosive-materials',
  'gi_explosion': 'gi explosion',
  'gi_energise': 'gi energise',
  'gi_emerald': 'gi emerald',
  'gi_eggplant': 'gi eggplant',
  'gi_egg': 'gi egg',
  'gi_egg_pod': 'gi egg-pod',
  'gi_duel': 'gi duel',
  'gi_droplets': 'gi droplets',
  'gi_droplet': 'gi droplet',
  'gi_droplet_splash': 'gi droplet-splash',
  'gi_dripping_sword': 'gi dripping-sword',
  'gi_dripping_knife': 'gi dripping-knife',
  'gi_dripping_blade': 'gi dripping-blade',
  'gi_drill': 'gi drill',
  'gi_dragonfly': 'gi dragonfly',
  'gi_dragon': 'gi dragon',
  'gi_dragon_wing': 'gi dragon-wing',
  'gi_dragon_breath': 'gi dragon-breath',
  'gi_doubled': 'gi doubled',
  'gi_double_team': 'gi double-team',
  'gi_diving_dagger': 'gi diving-dagger',
  'gi_divert': 'gi divert',
  'gi_dinosaur': 'gi dinosaur',
  'gi_dice_two': 'gi dice-two',
  'gi_dice_three': 'gi dice-three',
  'gi_dice_six': 'gi dice-six',
  'gi_dice_one': 'gi dice-one',
  'gi_dice_four': 'gi dice-four',
  'gi_dice_five': 'gi dice-five',
  'gi_diamonds': 'gi diamonds',
  'gi_diamonds_card': 'gi diamonds-card',
  'gi_diamond': 'gi diamond',
  'gi_desert_skull': 'gi desert-skull',
  'gi_dervish_swords': 'gi dervish-swords',
  'gi_demolish': 'gi demolish',
  'gi_defibrillate': 'gi defibrillate',
  'gi_decapitation': 'gi decapitation',
  'gi_death_skull': 'gi death-skull',
  'gi_dead_tree': 'gi dead-tree',
  'gi_daisy': 'gi daisy',
  'gi_daggers': 'gi daggers',
  'gi_cycle': 'gi cycle',
  'gi_cut_palm': 'gi cut-palm',
  'gi_cubes': 'gi cubes',
  'gi_crystals': 'gi crystals',
  'gi_crystal_wand': 'gi crystal-wand',
  'gi_crystal_cluster': 'gi crystal-cluster',
  'gi_crystal_ball': 'gi crystal-ball',
  'gi_crush': 'gi crush',
  'gi_crowned_heart': 'gi crowned-heart',
  'gi_crown': 'gi crown',
  'gi_crown_of_thorns': 'gi crown-of-thorns',
  'gi_crossed_swords': 'gi crossed-swords',
  'gi_crossed_sabres': 'gi crossed-sabres',
  'gi_crossed_pistols': 'gi crossed-pistols',
  'gi_crossed_bones': 'gi crossed-bones',
  'gi_crossed_axes': 'gi crossed-axes',
  'gi_crossbow': 'gi crossbow',
  'gi_croc_sword': 'gi croc-sword',
  'gi_cracked_shield': 'gi cracked-shield',
  'gi_cracked_helm': 'gi cracked-helm',
  'gi_crab_claw': 'gi crab-claw',
  'gi_corked_tube': 'gi corked-tube',
  'gi_compass': 'gi compass',
  'gi_cold_heart': 'gi cold-heart',
  'gi_cog': 'gi cog',
  'gi_cog_wheel': 'gi cog-wheel',
  'gi_coffee_mug': 'gi coffee-mug',
  'gi_cluster_bomb': 'gi cluster-bomb',
  'gi_clovers': 'gi clovers',
  'gi_clovers_card': 'gi clovers-card',
  'gi_clover': 'gi clover',
  'gi_clockwork': 'gi clockwork',
  'gi_cloak_and_dagger': 'gi cloak-and-dagger',
  'gi_circular_shield': 'gi circular-shield',
  'gi_circular_saw': 'gi circular-saw',
  'gi_circle_of_circles': 'gi circle-of-circles',
  'gi_chicken_leg': 'gi chicken-leg',
  'gi_chessboard': 'gi chessboard',
  'gi_chemical_arrow': 'gi chemical-arrow',
  'gi_cheese': 'gi cheese',
  'gi_chain': 'gi chain',
  'gi_cat': 'gi cat',
  'gi_castle_flag': 'gi castle-flag',
  'gi_castle_emblem': 'gi castle-emblem',
  'gi_carrot': 'gi carrot',
  'gi_capricorn': 'gi capricorn',
  'gi_capitol': 'gi capitol',
  'gi_cannon_shot': 'gi cannon-shot',
  'gi_candle': 'gi candle',
  'gi_candle_fire': 'gi candle-fire',
  'gi_cancer': 'gi cancer',
  'gi_cancel': 'gi cancel',
  'gi_campfire': 'gi campfire',
  'gi_butterfly': 'gi butterfly',
  'gi_burst_blob': 'gi burst-blob',
  'gi_burning_meteor': 'gi burning-meteor',
  'gi_burning_eye': 'gi burning-eye',
  'gi_burning_embers': 'gi burning-embers',
  'gi_burning_book': 'gi burning-book',
  'gi_bullets': 'gi bullets',
  'gi_bubbling_potion': 'gi bubbling-potion',
  'gi_broken_skull': 'gi broken-skull',
  'gi_broken_shield': 'gi broken-shield',
  'gi_broken_heart': 'gi broken-heart',
  'gi_broken_bottle': 'gi broken-bottle',
  'gi_broken_bone': 'gi broken-bone',
  'gi_broadsword': 'gi broadsword',
  'gi_broadhead_arrow': 'gi broadhead-arrow',
  'gi_bridge': 'gi bridge',
  'gi_brandy_bottle': 'gi brandy-bottle',
  'gi_brain_freeze': 'gi brain-freeze',
  'gi_bowling_pin': 'gi bowling-pin',
  'gi_bowie_knife': 'gi bowie-knife',
  'gi_bottom_right': 'gi bottom-right',
  'gi_bottled_bolt': 'gi bottled-bolt',
  'gi_bottle_vapors': 'gi bottle-vapors',
  'gi_boot_stomp': 'gi boot-stomp',
  'gi_boomerang': 'gi boomerang',
  'gi_book': 'gi book',
  'gi_bone_knife': 'gi bone-knife',
  'gi_bone_bite': 'gi bone-bite',
  'gi_bombs': 'gi bombs',
  'gi_bomb_explosion': 'gi bomb-explosion',
  'gi_bolt_shield': 'gi bolt-shield',
  'gi_bleeding_hearts': 'gi bleeding-hearts',
  'gi_bleeding_eye': 'gi bleeding-eye',
  'gi_blaster': 'gi blaster',
  'gi_blast': 'gi blast',
  'gi_blade_bite': 'gi blade-bite',
  'gi_bird_mask': 'gi bird-mask',
  'gi_bird_claw': 'gi bird-claw',
  'gi_biohazard': 'gi biohazard',
  'gi_bell': 'gi bell',
  'gi_beetle': 'gi beetle',
  'gi_beer': 'gi beer',
  'gi_bear_trap': 'gi bear-trap',
  'gi_beam_wake': 'gi beam-wake',
  'gi_batwings': 'gi batwings',
  'gi_battery_white': 'gi battery-white',
  'gi_battery_positive': 'gi battery-positive',
  'gi_battery_negative': 'gi battery-negative',
  'gi_battery_black': 'gi battery-black',
  'gi_battery_75': 'gi battery-75',
  'gi_battery_50': 'gi battery-50',
  'gi_battery_25': 'gi battery-25',
  'gi_battery_100': 'gi battery-100',
  'gi_battery_0': 'gi battery-0',
  'gi_batteries': 'gi batteries',
  'gi_battered_axe': 'gi battered-axe',
  'gi_bat_sword': 'gi bat-sword',
  'gi_barrier': 'gi barrier',
  'gi_barbed_arrow': 'gi barbed-arrow',
  'gi_ball': 'gi ball',
  'gi_axe': 'gi axe',
  'gi_axe_swing': 'gi axe-swing',
  'gi_aware': 'gi aware',
  'gi_aura': 'gi aura',
  'gi_arson': 'gi arson',
  'gi_arrow_flights': 'gi arrow-flights',
  'gi_arrow_cluster': 'gi arrow-cluster',
  'gi_aries': 'gi aries',
  'gi_arena': 'gi arena',
  'gi_archery_target': 'gi archery-target',
  'gi_archer': 'gi archer',
  'gi_arcane_mask': 'gi arcane-mask',
  'gi_aquarius': 'gi aquarius',
  'gi_apple': 'gi apple',
  'gi_anvil': 'gi anvil',
  'gi_ankh': 'gi ankh',
  'gi_angel_wings': 'gi angel-wings',
  'gi_anchor': 'gi anchor',
  'gi_ammo_bag': 'gi ammo-bag',
  'gi_alligator_clip': 'gi alligator-clip',
  'gi_all_for_one': 'gi all-for-one',
  'gi_alien_fire': 'gi alien-fire',
  'gi_acorn': 'gi acorn',
  'gi_acid': 'gi acid'
};
var _default = exports["default"] = gameIcons;
},{}],310:[function(require,module,exports){
module.exports=module.exports={
  "Legacy": {
    "5ePHB": {
      "name": "5e PHB",
      "renderer": "legacy",
      "baseTheme": false,
      "path": "5ePHB"
    }
  },
  "V3": {
    "5eDMG": {
      "name": "5e DMG",
      "renderer": "V3",
      "baseTheme": "5ePHB",
      "baseSnippets": "5ePHB",
      "path": "5eDMG"
    },
    "5ePHB": {
      "name": "5e PHB",
      "renderer": "V3",
      "baseTheme": "Blank",
      "baseSnippets": false,
      "path": "5ePHB"
    },
    "Blank": {
      "name": "Blank",
      "renderer": "V3",
      "baseTheme": false,
      "baseSnippets": false,
      "path": "Blank"
    },
    "Journal": {
      "name": "Journal",
      "renderer": "V3",
      "baseTheme": "Blank",
      "baseSnippets": "5ePHB",
      "path": "Journal"
    },
    "UnearthedArcana": {
      "name": "UnearthedArcana",
      "renderer": "V3",
      "baseTheme": false,
      "baseSnippets": false,
      "path": "UnearthedArcana"
    }
  }
};
},{}]},{},[30])(30)
});
;const comp=module.exports;;module.exports=(props)=>require('react-dom/server').renderToString(require('react').createElement(comp, props))